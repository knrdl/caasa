var kr=Object.defineProperty;var Er=(o,e,t)=>e in o?kr(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var xe=(o,e,t)=>(Er(o,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))s(h);new MutationObserver(h=>{for(const v of h)if(v.type==="childList")for(const _ of v.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&s(_)}).observe(document,{childList:!0,subtree:!0});function t(h){const v={};return h.integrity&&(v.integrity=h.integrity),h.referrerPolicy&&(v.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?v.credentials="include":h.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function s(h){if(h.ep)return;h.ep=!0;const v=t(h);fetch(h.href,v)}})();function se(){}const Zs=o=>o;function Lr(o,e){for(const t in e)o[t]=e[t];return o}function Ys(o){return o()}function Ai(){return Object.create(null)}function ze(o){o.forEach(Ys)}function qt(o){return typeof o=="function"}function Te(o,e){return o!=o?e==e:o!==e||o&&typeof o=="object"||typeof o=="function"}function Rr(o){return Object.keys(o).length===0}function Dr(o,...e){if(o==null)return se;const t=o.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ei(o){let e;return Dr(o,t=>e=t)(),e}function zt(o,e,t,s){if(o){const h=Js(o,e,t,s);return o[0](h)}}function Js(o,e,t,s){return o[1]&&s?Lr(t.ctx.slice(),o[1](s(e))):t.ctx}function Nt(o,e,t,s){if(o[2]&&s){const h=o[2](s(t));if(e.dirty===void 0)return h;if(typeof h=="object"){const v=[],_=Math.max(e.dirty.length,h.length);for(let i=0;i<_;i+=1)v[i]=e.dirty[i]|h[i];return v}return e.dirty|h}return e.dirty}function Ut(o,e,t,s,h,v){if(h){const _=Js(e,t,s,v);o.p(_,h)}}function Wt(o){if(o.ctx.length>32){const e=[],t=o.ctx.length/32;for(let s=0;s<t;s++)e[s]=-1;return e}return-1}function ii(o){const e=typeof o=="string"&&o.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[o,"px"]}const Qs=typeof window<"u";let er=Qs?()=>window.performance.now():()=>Date.now(),ci=Qs?o=>requestAnimationFrame(o):se;const ot=new Set;function tr(o){ot.forEach(e=>{e.c(o)||(ot.delete(e),e.f())}),ot.size!==0&&ci(tr)}function ir(o){let e;return ot.size===0&&ci(tr),{promise:new Promise(t=>{ot.add(e={c:o,f:t})}),abort(){ot.delete(e)}}}const Ar=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function A(o,e){o.appendChild(e)}function sr(o){if(!o)return document;const e=o.getRootNode?o.getRootNode():o.ownerDocument;return e&&e.host?e:o.ownerDocument}function Tr(o){const e=x("style");return Br(sr(o),e),e.sheet}function Br(o,e){return A(o.head||o,e),e.sheet}function W(o,e,t){o.insertBefore(e,t||null)}function U(o){o.parentNode&&o.parentNode.removeChild(o)}function $e(o,e){for(let t=0;t<o.length;t+=1)o[t]&&o[t].d(e)}function x(o){return document.createElement(o)}function ye(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function ee(o){return document.createTextNode(o)}function q(){return ee(" ")}function qe(){return ee("")}function _e(o,e,t,s){return o.addEventListener(e,t,s),()=>o.removeEventListener(e,t,s)}function Gt(o){return function(e){return e.preventDefault(),o.call(this,e)}}function D(o,e,t){t==null?o.removeAttribute(e):o.getAttribute(e)!==t&&o.setAttribute(e,t)}function hi(o,e,t){o.setAttributeNS("http://www.w3.org/1999/xlink",e,t)}function Mr(o){return Array.from(o.childNodes)}function ce(o,e){e=""+e,o.data!==e&&(o.data=e)}function Je(o,e){o.value=e??""}function ge(o,e,t,s){t==null?o.style.removeProperty(e):o.style.setProperty(e,t,s?"important":"")}function Ti(o,e,t){for(let s=0;s<o.options.length;s+=1){const h=o.options[s];if(h.__value===e){h.selected=!0;return}}(!t||e!==void 0)&&(o.selectedIndex=-1)}function xr(o){const e=o.querySelector(":checked");return e&&e.__value}function he(o,e,t){o.classList[t?"add":"remove"](e)}function rr(o,e,{bubbles:t=!1,cancelable:s=!1}={}){const h=document.createEvent("CustomEvent");return h.initCustomEvent(o,t,s,e),h}const jt=new Map;let Kt=0;function Or(o){let e=5381,t=o.length;for(;t--;)e=(e<<5)-e^o.charCodeAt(t);return e>>>0}function Ir(o,e){const t={stylesheet:Tr(e),rules:{}};return jt.set(o,t),t}function si(o,e,t,s,h,v,_,i=0){const n=16.666/s;let l=`{
`;for(let r=0;r<=1;r+=n){const d=e+(t-e)*v(r);l+=r*100+`%{${_(d,1-d)}}
`}const f=l+`100% {${_(t,1-t)}}
}`,c=`__svelte_${Or(f)}_${i}`,u=sr(o),{stylesheet:b,rules:w}=jt.get(u)||Ir(u,o);w[c]||(w[c]=!0,b.insertRule(`@keyframes ${c} ${f}`,b.cssRules.length));const g=o.style.animation||"";return o.style.animation=`${g?`${g}, `:""}${c} ${s}ms linear ${h}ms 1 both`,Kt+=1,c}function ri(o,e){const t=(o.style.animation||"").split(", "),s=t.filter(e?v=>v.indexOf(e)<0:v=>v.indexOf("__svelte")===-1),h=t.length-s.length;h&&(o.style.animation=s.join(", "),Kt-=h,Kt||Pr())}function Pr(){ci(()=>{Kt||(jt.forEach(o=>{const{ownerNode:e}=o.stylesheet;e&&U(e)}),jt.clear())})}let wt;function St(o){wt=o}function Xt(){if(!wt)throw new Error("Function called outside component initialization");return wt}function Lt(o){Xt().$$.before_update.push(o)}function Ne(o){Xt().$$.on_mount.push(o)}function Qe(o){Xt().$$.on_destroy.push(o)}function nr(){const o=Xt();return(e,t,{cancelable:s=!1}={})=>{const h=o.$$.callbacks[e];if(h){const v=rr(e,t,{cancelable:s});return h.slice().forEach(_=>{_.call(o,v)}),!v.defaultPrevented}return!0}}function Hr(o,e){const t=o.$$.callbacks[e.type];t&&t.slice().forEach(s=>s.call(this,e))}const nt=[],et=[];let lt=[];const ni=[],or=Promise.resolve();let oi=!1;function lr(){oi||(oi=!0,or.then(cr))}function ar(){return lr(),or}function Ae(o){lt.push(o)}function Bi(o){ni.push(o)}const ti=new Set;let st=0;function cr(){if(st!==0)return;const o=wt;do{try{for(;st<nt.length;){const e=nt[st];st++,St(e),$r(e.$$)}}catch(e){throw nt.length=0,st=0,e}for(St(null),nt.length=0,st=0;et.length;)et.pop()();for(let e=0;e<lt.length;e+=1){const t=lt[e];ti.has(t)||(ti.add(t),t())}lt.length=0}while(nt.length);for(;ni.length;)ni.pop()();oi=!1,ti.clear(),St(o)}function $r(o){if(o.fragment!==null){o.update(),ze(o.before_update);const e=o.dirty;o.dirty=[-1],o.fragment&&o.fragment.p(o.ctx,e),o.after_update.forEach(Ae)}}function Fr(o){const e=[],t=[];lt.forEach(s=>o.indexOf(s)===-1?e.push(s):t.push(s)),t.forEach(s=>s()),lt=e}let bt;function hr(){return bt||(bt=Promise.resolve(),bt.then(()=>{bt=null})),bt}function Ct(o,e,t){o.dispatchEvent(rr(`${e?"intro":"outro"}${t}`))}const Ft=new Set;let Xe;function pe(){Xe={r:0,c:[],p:Xe}}function me(){Xe.r||ze(Xe.c),Xe=Xe.p}function N(o,e){o&&o.i&&(Ft.delete(o),o.i(e))}function V(o,e,t,s){if(o&&o.o){if(Ft.has(o))return;Ft.add(o),Xe.c.push(()=>{Ft.delete(o),s&&(t&&o.d(1),s())}),o.o(e)}else s&&s()}const fr={duration:0};function at(o,e,t){const s={direction:"in"};let h=e(o,t,s),v=!1,_,i,n=0;function l(){_&&ri(o,_)}function f(){const{delay:u=0,duration:b=300,easing:w=Zs,tick:g=se,css:r}=h||fr;r&&(_=si(o,0,1,b,u,w,r,n++)),g(0,1);const d=er()+u,m=d+b;i&&i.abort(),v=!0,Ae(()=>Ct(o,!0,"start")),i=ir(a=>{if(v){if(a>=m)return g(1,0),Ct(o,!0,"end"),l(),v=!1;if(a>=d){const p=w((a-d)/b);g(p,1-p)}}return v})}let c=!1;return{start(){c||(c=!0,ri(o),qt(h)?(h=h(s),hr().then(f)):f())},invalidate(){c=!1},end(){v&&(l(),v=!1)}}}function Fe(o,e,t,s){const h={direction:"both"};let v=e(o,t,h),_=s?0:1,i=null,n=null,l=null;function f(){l&&ri(o,l)}function c(b,w){const g=b.b-_;return w*=Math.abs(g),{a:_,b:b.b,d:g,duration:w,start:b.start,end:b.start+w,group:b.group}}function u(b){const{delay:w=0,duration:g=300,easing:r=Zs,tick:d=se,css:m}=v||fr,a={start:er()+w,b};b||(a.group=Xe,Xe.r+=1),i||n?n=a:(m&&(f(),l=si(o,_,b,g,w,r,m)),b&&d(0,1),i=c(a,g),Ae(()=>Ct(o,b,"start")),ir(p=>{if(n&&p>n.start&&(i=c(n,g),n=null,Ct(o,i.b,"start"),m&&(f(),l=si(o,_,i.b,i.duration,0,r,v.css))),i){if(p>=i.end)d(_=i.b,1-_),Ct(o,i.b,"end"),n||(i.b?f():--i.group.r||ze(i.group.c)),i=null;else if(p>=i.start){const C=p-i.start;_=i.a+i.d*r(C/i.duration),d(_,1-_)}}return!!(i||n)}))}return{run(b){qt(v)?hr().then(()=>{v=v(h),u(b)}):u(b)},end(){f(),i=n=null}}}function Mi(o,e,t){const s=o.$$.props[e];s!==void 0&&(o.$$.bound[s]=t,t(o.$$.ctx[s]))}function le(o){o&&o.c()}function ne(o,e,t,s){const{fragment:h,after_update:v}=o.$$;h&&h.m(e,t),s||Ae(()=>{const _=o.$$.on_mount.map(Ys).filter(qt);o.$$.on_destroy?o.$$.on_destroy.push(..._):ze(_),o.$$.on_mount=[]}),v.forEach(Ae)}function oe(o,e){const t=o.$$;t.fragment!==null&&(Fr(t.after_update),ze(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function zr(o,e){o.$$.dirty[0]===-1&&(nt.push(o),lr(),o.$$.dirty.fill(0)),o.$$.dirty[e/31|0]|=1<<e%31}function Be(o,e,t,s,h,v,_,i=[-1]){const n=wt;St(o);const l=o.$$={fragment:null,ctx:[],props:v,update:se,not_equal:h,bound:Ai(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(n?n.$$.context:[])),callbacks:Ai(),dirty:i,skip_bound:!1,root:e.target||n.$$.root};_&&_(l.root);let f=!1;if(l.ctx=t?t(o,e.props||{},(c,u,...b)=>{const w=b.length?b[0]:u;return l.ctx&&h(l.ctx[c],l.ctx[c]=w)&&(!l.skip_bound&&l.bound[c]&&l.bound[c](w),f&&zr(o,c)),u}):[],l.update(),f=!0,ze(l.before_update),l.fragment=s?s(l.ctx):!1,e.target){if(e.hydrate){const c=Mr(e.target);l.fragment&&l.fragment.l(c),c.forEach(U)}else l.fragment&&l.fragment.c();e.intro&&N(o.$$.fragment),ne(o,e.target,e.anchor,e.customElement),cr()}St(n)}class Me{$destroy(){oe(this,1),this.$destroy=se}$on(e,t){if(!qt(t))return se;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const h=s.indexOf(t);h!==-1&&s.splice(h,1)}}$set(e){this.$$set&&!Rr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const rt=[];function Nr(o,e=se){let t;const s=new Set;function h(i){if(Te(o,i)&&(o=i,t)){const n=!rt.length;for(const l of s)l[1](),rt.push(l,o);if(n){for(let l=0;l<rt.length;l+=2)rt[l][0](rt[l+1]);rt.length=0}}}function v(i){h(i(o))}function _(i,n=se){const l=[i,n];return s.add(l),s.size===1&&(t=e(h)||se),i(o),()=>{s.delete(l),s.size===0&&t&&(t(),t=null)}}return{set:h,update:v,subscribe:_}}const Ur=10,Wr=function(){let o=Nr([]);return setInterval(()=>{let e=ei(o);const t=Math.floor(new Date().getTime()/1e3),s=e.filter(h=>h.created_at+Ur>t);s.length!==e.length&&o.set(s)},1e3),{add(e){let t=ei(o);t.push({...e,created_at:Math.floor(new Date().getTime()/1e3)}),o.set(t)},remove(e){let t=ei(o);o.set(t.filter(s=>!["created_at","type","text"].every(h=>s[h]===e[h])))},subscribe:o.subscribe}},Ce=Wr();function jr(o){return o<.5?4*o*o*o:.5*Math.pow(2*o-2,3)+1}function dr(o){const e=o-1;return e*e*e+1}function Kr(o,{delay:e=0,duration:t=400,easing:s=jr,amount:h=5,opacity:v=0}={}){const _=getComputedStyle(o),i=+_.opacity,n=_.filter==="none"?"":_.filter,l=i*(1-v),[f,c]=ii(h);return{delay:e,duration:t,easing:s,css:(u,b)=>`opacity: ${i-l*b}; filter: ${n} blur(${b*f}${c});`}}function Vt(o,{delay:e=0,duration:t=400,easing:s=dr,x:h=0,y:v=0,opacity:_=0}={}){const i=getComputedStyle(o),n=+i.opacity,l=i.transform==="none"?"":i.transform,f=n*(1-_),[c,u]=ii(h),[b,w]=ii(v);return{delay:e,duration:t,easing:s,css:(g,r)=>`
			transform: ${l} translate(${(1-g)*c}${u}, ${(1-g)*b}${w});
			opacity: ${n-f*r}`}}function Ie(o,{delay:e=0,duration:t=400,easing:s=dr,axis:h="y"}={}){const v=getComputedStyle(o),_=+v.opacity,i=h==="y"?"height":"width",n=parseFloat(v[i]),l=h==="y"?["top","bottom"]:["left","right"],f=l.map(d=>`${d[0].toUpperCase()}${d.slice(1)}`),c=parseFloat(v[`padding${f[0]}`]),u=parseFloat(v[`padding${f[1]}`]),b=parseFloat(v[`margin${f[0]}`]),w=parseFloat(v[`margin${f[1]}`]),g=parseFloat(v[`border${f[0]}Width`]),r=parseFloat(v[`border${f[1]}Width`]);return{delay:e,duration:t,easing:s,css:d=>`overflow: hidden;opacity: ${Math.min(d*20,1)*_};${i}: ${d*n}px;padding-${l[0]}: ${d*c}px;padding-${l[1]}: ${d*u}px;margin-${l[0]}: ${d*b}px;margin-${l[1]}: ${d*w}px;border-${l[0]}-width: ${d*g}px;border-${l[1]}-width: ${d*r}px;`}}function xi(o,e,t){const s=o.slice();return s[2]=e[t],s}function Oi(o){let e,t,s,h=o[2].text+"",v,_,i,n,l,f,c,u;function b(){return o[1](o[2])}return{c(){e=x("div"),t=x("div"),s=x("div"),v=ee(h),_=q(),i=x("button"),n=q(),D(s,"class","toast-body"),D(i,"type","button"),D(i,"class","btn-close btn-close-white me-2 m-auto"),D(t,"class","d-flex"),D(e,"class","toast show align-items-center text-white border-0 mb-2"),he(e,"bg-danger",o[2].type==="error"),he(e,"bg-warning",o[2].type==="warning"),he(e,"bg-success",o[2].type==="success"),he(e,"bg-primary",o[2].type==="info")},m(w,g){W(w,e,g),A(e,t),A(t,s),A(s,v),A(t,_),A(t,i),A(e,n),f=!0,c||(u=_e(i,"click",b),c=!0)},p(w,g){o=w,(!f||g&1)&&h!==(h=o[2].text+"")&&ce(v,h),(!f||g&1)&&he(e,"bg-danger",o[2].type==="error"),(!f||g&1)&&he(e,"bg-warning",o[2].type==="warning"),(!f||g&1)&&he(e,"bg-success",o[2].type==="success"),(!f||g&1)&&he(e,"bg-primary",o[2].type==="info")},i(w){f||(w&&Ae(()=>{f&&(l||(l=Fe(e,Ie,{},!0)),l.run(1))}),f=!0)},o(w){w&&(l||(l=Fe(e,Ie,{},!1)),l.run(0)),f=!1},d(w){w&&U(e),w&&l&&l.end(),c=!1,u()}}}function Vr(o){let e,t,s=o[0],h=[];for(let _=0;_<s.length;_+=1)h[_]=Oi(xi(o,s,_));const v=_=>V(h[_],1,1,()=>{h[_]=null});return{c(){e=x("div");for(let _=0;_<h.length;_+=1)h[_].c();D(e,"class","position-fixed bottom-0 end-0 p-3"),ge(e,"z-index","470")},m(_,i){W(_,e,i);for(let n=0;n<h.length;n+=1)h[n]&&h[n].m(e,null);t=!0},p(_,[i]){if(i&1){s=_[0];let n;for(n=0;n<s.length;n+=1){const l=xi(_,s,n);h[n]?(h[n].p(l,i),N(h[n],1)):(h[n]=Oi(l),h[n].c(),N(h[n],1),h[n].m(e,null))}for(pe(),n=s.length;n<h.length;n+=1)v(n);me()}},i(_){if(!t){for(let i=0;i<s.length;i+=1)N(h[i]);t=!0}},o(_){h=h.filter(Boolean);for(let i=0;i<h.length;i+=1)V(h[i]);t=!1},d(_){_&&U(e),$e(h,_)}}}function qr(o,e,t){let s=[];return Ne(()=>{Ce.subscribe(v=>t(0,s=v))}),[s,v=>Ce.remove(v)]}class Gr extends Me{constructor(e){super(),Be(this,e,qr,Vr,Te,{})}}const Ht=parseFloat;function li(o,e=";"){let t;if(Array.isArray(o))t=o.filter(s=>s);else{t=[];for(const s in o)o[s]&&t.push(`${s}:${o[s]}`)}return t.join(e)}function Xr(o,e,t,s){let h,v;const _="1em";let i,n,l,f="-.125em";const c="visible";return s&&(l="center",v="1.25em"),t&&(h=t),e&&(e=="lg"?(n="1.33333em",i=".75em",f="-.225em"):e=="xs"?n=".75em":e=="sm"?n=".875em":n=e.replace("x","em")),li([li({float:h,width:v,height:_,"line-height":i,"font-size":n,"text-align":l,"vertical-align":f,"transform-origin":"center",overflow:c}),o])}function Zr(o,e,t,s,h,v=1,_="",i=""){let n=1,l=1;return h&&(h=="horizontal"?n=-1:h=="vertical"?l=-1:n=l=-1),li([`translate(${Ht(e)*v}${_},${Ht(t)*v}${_})`,`scale(${n*Ht(o)},${l*Ht(o)})`,s&&`rotate(${s}${i})`]," ")}function Ii(o){let e,t,s,h,v,_,i,n;function l(u,b){return typeof u[10][4]=="string"?Jr:Yr}let f=l(o),c=f(o);return{c(){e=ye("svg"),t=ye("g"),s=ye("g"),c.c(),D(s,"transform",o[12]),D(t,"transform",h="translate("+o[10][0]/2+" "+o[10][1]/2+")"),D(t,"transform-origin",v=o[10][0]/4+" 0"),D(e,"id",_=o[1]||void 0),D(e,"class",i="svelte-fa "+o[0]+" svelte-1cj2gr0"),D(e,"style",o[11]),D(e,"viewBox",n="0 0 "+o[10][0]+" "+o[10][1]),D(e,"aria-hidden","true"),D(e,"role","img"),D(e,"xmlns","http://www.w3.org/2000/svg"),he(e,"pulse",o[4]),he(e,"spin",o[3])},m(u,b){W(u,e,b),A(e,t),A(t,s),c.m(s,null)},p(u,b){f===(f=l(u))&&c?c.p(u,b):(c.d(1),c=f(u),c&&(c.c(),c.m(s,null))),b&4096&&D(s,"transform",u[12]),b&1024&&h!==(h="translate("+u[10][0]/2+" "+u[10][1]/2+")")&&D(t,"transform",h),b&1024&&v!==(v=u[10][0]/4+" 0")&&D(t,"transform-origin",v),b&2&&_!==(_=u[1]||void 0)&&D(e,"id",_),b&1&&i!==(i="svelte-fa "+u[0]+" svelte-1cj2gr0")&&D(e,"class",i),b&2048&&D(e,"style",u[11]),b&1024&&n!==(n="0 0 "+u[10][0]+" "+u[10][1])&&D(e,"viewBox",n),b&17&&he(e,"pulse",u[4]),b&9&&he(e,"spin",u[3])},d(u){u&&U(e),c.d()}}}function Yr(o){let e,t,s,h,v,_,i,n,l,f;return{c(){e=ye("path"),_=ye("path"),D(e,"d",t=o[10][4][0]),D(e,"fill",s=o[6]||o[2]||"currentColor"),D(e,"fill-opacity",h=o[9]!=!1?o[7]:o[8]),D(e,"transform",v="translate("+o[10][0]/-2+" "+o[10][1]/-2+")"),D(_,"d",i=o[10][4][1]),D(_,"fill",n=o[5]||o[2]||"currentColor"),D(_,"fill-opacity",l=o[9]!=!1?o[8]:o[7]),D(_,"transform",f="translate("+o[10][0]/-2+" "+o[10][1]/-2+")")},m(c,u){W(c,e,u),W(c,_,u)},p(c,u){u&1024&&t!==(t=c[10][4][0])&&D(e,"d",t),u&68&&s!==(s=c[6]||c[2]||"currentColor")&&D(e,"fill",s),u&896&&h!==(h=c[9]!=!1?c[7]:c[8])&&D(e,"fill-opacity",h),u&1024&&v!==(v="translate("+c[10][0]/-2+" "+c[10][1]/-2+")")&&D(e,"transform",v),u&1024&&i!==(i=c[10][4][1])&&D(_,"d",i),u&36&&n!==(n=c[5]||c[2]||"currentColor")&&D(_,"fill",n),u&896&&l!==(l=c[9]!=!1?c[8]:c[7])&&D(_,"fill-opacity",l),u&1024&&f!==(f="translate("+c[10][0]/-2+" "+c[10][1]/-2+")")&&D(_,"transform",f)},d(c){c&&U(e),c&&U(_)}}}function Jr(o){let e,t,s,h;return{c(){e=ye("path"),D(e,"d",t=o[10][4]),D(e,"fill",s=o[2]||o[5]||"currentColor"),D(e,"transform",h="translate("+o[10][0]/-2+" "+o[10][1]/-2+")")},m(v,_){W(v,e,_)},p(v,_){_&1024&&t!==(t=v[10][4])&&D(e,"d",t),_&36&&s!==(s=v[2]||v[5]||"currentColor")&&D(e,"fill",s),_&1024&&h!==(h="translate("+v[10][0]/-2+" "+v[10][1]/-2+")")&&D(e,"transform",h)},d(v){v&&U(e)}}}function Qr(o){let e,t=o[10][4]&&Ii(o);return{c(){t&&t.c(),e=qe()},m(s,h){t&&t.m(s,h),W(s,e,h)},p(s,[h]){s[10][4]?t?t.p(s,h):(t=Ii(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:se,o:se,d(s){t&&t.d(s),s&&U(e)}}}function en(o,e,t){let{class:s=""}=e,{id:h=""}=e,{style:v=""}=e,{icon:_}=e,{size:i=""}=e,{color:n=""}=e,{fw:l=!1}=e,{pull:f=""}=e,{scale:c=1}=e,{translateX:u=0}=e,{translateY:b=0}=e,{rotate:w=""}=e,{flip:g=!1}=e,{spin:r=!1}=e,{pulse:d=!1}=e,{primaryColor:m=""}=e,{secondaryColor:a=""}=e,{primaryOpacity:p=1}=e,{secondaryOpacity:C=.4}=e,{swapOpacity:y=!1}=e,E,S,k;return o.$$set=L=>{"class"in L&&t(0,s=L.class),"id"in L&&t(1,h=L.id),"style"in L&&t(13,v=L.style),"icon"in L&&t(14,_=L.icon),"size"in L&&t(15,i=L.size),"color"in L&&t(2,n=L.color),"fw"in L&&t(16,l=L.fw),"pull"in L&&t(17,f=L.pull),"scale"in L&&t(18,c=L.scale),"translateX"in L&&t(19,u=L.translateX),"translateY"in L&&t(20,b=L.translateY),"rotate"in L&&t(21,w=L.rotate),"flip"in L&&t(22,g=L.flip),"spin"in L&&t(3,r=L.spin),"pulse"in L&&t(4,d=L.pulse),"primaryColor"in L&&t(5,m=L.primaryColor),"secondaryColor"in L&&t(6,a=L.secondaryColor),"primaryOpacity"in L&&t(7,p=L.primaryOpacity),"secondaryOpacity"in L&&t(8,C=L.secondaryOpacity),"swapOpacity"in L&&t(9,y=L.swapOpacity)},o.$$.update=()=>{o.$$.dirty&16384&&t(10,E=_&&_.icon||[0,0,"",[],""]),o.$$.dirty&237568&&t(11,S=Xr(v,i,f,l)),o.$$.dirty&8126464&&t(12,k=Zr(c,u,b,w,g,512))},[s,h,n,r,d,m,a,p,C,y,E,S,k,v,_,i,l,f,c,u,b,w,g]}class ue extends Me{constructor(e){super(),Be(this,e,en,Qr,Te,{class:0,id:1,style:13,icon:14,size:15,color:2,fw:16,pull:17,scale:18,translateX:19,translateY:20,rotate:21,flip:22,spin:3,pulse:4,primaryColor:5,secondaryColor:6,primaryOpacity:7,secondaryOpacity:8,swapOpacity:9})}}var tn={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"]},sn=tn,rn={prefix:"fas",iconName:"laptop-code",icon:[640,512,[],"f5fc","M64 96c0-35.3 28.7-64 64-64H512c35.3 0 64 28.7 64 64V352H512V96H128V352H64V96zM0 403.2C0 392.6 8.6 384 19.2 384H620.8c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"]},nn={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},on={prefix:"fas",iconName:"square-up-right",icon:[448,512,[8599,"external-link-square-alt"],"f360","M384 32c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96C0 60.7 28.7 32 64 32H384zM320 313.4V176c0-8.8-7.2-16-16-16H166.6c-12.5 0-22.6 10.1-22.6 22.6c0 6 2.4 11.8 6.6 16L184 232l-66.3 66.3C114 302 112 306.9 112 312s2 10 5.7 13.7l36.7 36.7c3.6 3.6 8.5 5.7 13.7 5.7s10-2 13.7-5.7L248 296l33.4 33.4c4.2 4.2 10 6.6 16 6.6c12.5 0 22.6-10.1 22.6-22.6z"]},ln=on,an={prefix:"fas",iconName:"circle-chevron-down",icon:[512,512,["chevron-circle-down"],"f13a","M256 0a256 256 0 1 0 0 512A256 256 0 1 0 256 0zM135 241c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l87 87 87-87c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9L273 345c-9.4 9.4-24.6 9.4-33.9 0L135 241z"]},cn=an,ur={prefix:"fas",iconName:"memory",icon:[576,512,[],"f538","M64 64C28.7 64 0 92.7 0 128v7.4c0 6.8 4.4 12.6 10.1 16.3C23.3 160.3 32 175.1 32 192s-8.7 31.7-21.9 40.3C4.4 236 0 241.8 0 248.6V320H576V248.6c0-6.8-4.4-12.6-10.1-16.3C552.7 223.7 544 208.9 544 192s8.7-31.7 21.9-40.3c5.7-3.7 10.1-9.5 10.1-16.3V128c0-35.3-28.7-64-64-64H64zM576 352H0v64c0 17.7 14.3 32 32 32H80V416c0-8.8 7.2-16 16-16s16 7.2 16 16v32h96V416c0-8.8 7.2-16 16-16s16 7.2 16 16v32h96V416c0-8.8 7.2-16 16-16s16 7.2 16 16v32h96V416c0-8.8 7.2-16 16-16s16 7.2 16 16v32h48c17.7 0 32-14.3 32-32V352zM192 160v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V160c0-17.7 14.3-32 32-32s32 14.3 32 32zm128 0v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V160c0-17.7 14.3-32 32-32s32 14.3 32 32zm128 0v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V160c0-17.7 14.3-32 32-32s32 14.3 32 32z"]},hn={prefix:"fas",iconName:"folder",icon:[512,512,[128193,128447,61716,"folder-blank"],"f07b","M64 480H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H288c-10.1 0-19.6-4.7-25.6-12.8L243.2 57.6C231.1 41.5 212.1 32 192 32H64C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64z"]},fn={prefix:"fas",iconName:"box",icon:[448,512,[128230],"f466","M50.7 58.5L0 160H208V32H93.7C75.5 32 58.9 42.3 50.7 58.5zM240 160H448L397.3 58.5C389.1 42.3 372.5 32 354.3 32H240V160zm208 32H0V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192z"]},dn={prefix:"fas",iconName:"maximize",icon:[512,512,["expand-arrows-alt"],"f31e","M200 32H56C42.7 32 32 42.7 32 56V200c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2l40-40 79 79-79 79L73 295c-6.9-6.9-17.2-8.9-26.2-5.2S32 302.3 32 312V456c0 13.3 10.7 24 24 24H200c9.7 0 18.5-5.8 22.2-14.8s1.7-19.3-5.2-26.2l-40-40 79-79 79 79-40 40c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H456c13.3 0 24-10.7 24-24V312c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2l-40 40-79-79 79-79 40 40c6.9 6.9 17.2 8.9 26.2 5.2s14.8-12.5 14.8-22.2V56c0-13.3-10.7-24-24-24H312c-9.7 0-18.5 5.8-22.2 14.8s-1.7 19.3 5.2 26.2l40 40-79 79-79-79 40-40c6.9-6.9 8.9-17.2 5.2-26.2S209.7 32 200 32z"]},_r=dn,un={prefix:"fas",iconName:"server",icon:[512,512,[],"f233","M64 32C28.7 32 0 60.7 0 96v64c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm280 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm48 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zM64 288c-35.3 0-64 28.7-64 64v64c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V352c0-35.3-28.7-64-64-64H64zm280 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm56 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0z"]},pr={prefix:"fas",iconName:"microchip",icon:[512,512,[],"f2db","M176 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64c-35.3 0-64 28.7-64 64H24c-13.3 0-24 10.7-24 24s10.7 24 24 24H64v56H24c-13.3 0-24 10.7-24 24s10.7 24 24 24H64v56H24c-13.3 0-24 10.7-24 24s10.7 24 24 24H64c0 35.3 28.7 64 64 64v40c0 13.3 10.7 24 24 24s24-10.7 24-24V448h56v40c0 13.3 10.7 24 24 24s24-10.7 24-24V448h56v40c0 13.3 10.7 24 24 24s24-10.7 24-24V448c35.3 0 64-28.7 64-64h40c13.3 0 24-10.7 24-24s-10.7-24-24-24H448V280h40c13.3 0 24-10.7 24-24s-10.7-24-24-24H448V176h40c13.3 0 24-10.7 24-24s-10.7-24-24-24H448c0-35.3-28.7-64-64-64V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H280V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H176V24zM160 128H352c17.7 0 32 14.3 32 32V352c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32zm192 32H160V352H352V160z"]},_n={prefix:"fas",iconName:"circle-chevron-up",icon:[512,512,["chevron-circle-up"],"f139","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM377 271c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-87-87-87 87c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9L239 167c9.4-9.4 24.6-9.4 33.9 0L377 271z"]},pn=_n,mr={prefix:"fas",iconName:"box-open",icon:[640,512,[],"f49e","M58.9 42.1c3-6.1 9.6-9.6 16.3-8.7L320 64 564.8 33.4c6.7-.8 13.3 2.7 16.3 8.7l41.7 83.4c9 17.9-.6 39.6-19.8 45.1L439.6 217.3c-13.9 4-28.8-1.9-36.2-14.3L320 64 236.6 203c-7.4 12.4-22.3 18.3-36.2 14.3L37.1 170.6c-19.3-5.5-28.8-27.2-19.8-45.1L58.9 42.1zM321.1 128l54.9 91.4c14.9 24.8 44.6 36.6 72.5 28.6L576 211.6v167c0 22-15 41.2-36.4 46.6l-204.1 51c-10.2 2.6-20.9 2.6-31 0l-204.1-51C79 419.7 64 400.5 64 378.5v-167L191.6 248c27.8 8 57.6-3.8 72.5-28.6L318.9 128h2.2z"]},mn={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H463.5c0 0 0 0 0 0h.4c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1V448c0 17.7 14.3 32 32 32s32-14.3 32-32V396.9l17.6 17.5 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352H176c17.7 0 32-14.3 32-32s-14.3-32-32-32H48.4c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"]},vr=mn,vn={prefix:"fas",iconName:"house-user",icon:[576,512,["home-user"],"e1b0","M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c.2 35.5-28.5 64.3-64 64.3H128.1c-35.3 0-64-28.7-64-64V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24zM352 224a64 64 0 1 0 -128 0 64 64 0 1 0 128 0zm-96 96c-44.2 0-80 35.8-80 80c0 8.8 7.2 16 16 16H384c8.8 0 16-7.2 16-16c0-44.2-35.8-80-80-80H256z"]},gn={prefix:"fas",iconName:"tags",icon:[512,512,[],"f02c","M345 39.1L472.8 168.4c52.4 53 52.4 138.2 0 191.2L360.8 472.9c-9.3 9.4-24.5 9.5-33.9 .2s-9.5-24.5-.2-33.9L438.6 325.9c33.9-34.3 33.9-89.4 0-123.7L310.9 72.9c-9.3-9.4-9.2-24.6 .2-33.9s24.6-9.2 33.9 .2zM0 229.5V80C0 53.5 21.5 32 48 32H197.5c17 0 33.3 6.7 45.3 18.7l168 168c25 25 25 65.5 0 90.5L277.3 442.7c-25 25-65.5 25-90.5 0l-168-168C6.7 262.7 0 246.5 0 229.5zM144 144a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},bn={prefix:"fas",iconName:"terminal",icon:[576,512,[],"f120","M9.4 86.6C-3.1 74.1-3.1 53.9 9.4 41.4s32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L178.7 256 9.4 86.6zM256 416H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H256c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},Sn={prefix:"fas",iconName:"tag",icon:[448,512,[127991],"f02b","M0 80V229.5c0 17 6.7 33.3 18.7 45.3l176 176c25 25 65.5 25 90.5 0L418.7 317.3c25-25 25-65.5 0-90.5l-176-176c-12-12-28.3-18.7-45.3-18.7H48C21.5 32 0 53.5 0 80zm112 32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},Cn={prefix:"fas",iconName:"hard-drive",icon:[512,512,[128436,"hdd"],"f0a0","M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V280.4c-17-15.2-39.4-24.4-64-24.4H64c-24.6 0-47 9.2-64 24.4V96zM64 288H448c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V352c0-35.3 28.7-64 64-64zM320 416a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm128-32a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},wn=Cn,yn={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},kn=yn,En={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},Ln={prefix:"fas",iconName:"network-wired",icon:[640,512,[],"f6ff","M256 64H384v64H256V64zM240 0c-26.5 0-48 21.5-48 48v96c0 26.5 21.5 48 48 48h48v32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96v32H80c-26.5 0-48 21.5-48 48v96c0 26.5 21.5 48 48 48H240c26.5 0 48-21.5 48-48V368c0-26.5-21.5-48-48-48H192V288H448v32H400c-26.5 0-48 21.5-48 48v96c0 26.5 21.5 48 48 48H560c26.5 0 48-21.5 48-48V368c0-26.5-21.5-48-48-48H512V288h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H352V192h48c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48H240zM96 448V384H224v64H96zm320-64H544v64H416V384z"]},Rn={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},Dn=Rn,An={prefix:"fas",iconName:"stop",icon:[384,512,[9209],"f04d","M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128z"]},Tn={prefix:"fas",iconName:"sun",icon:[512,512,[9728],"f185","M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"]},Bn={prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z"]},Mn={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"]},xn={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},On={prefix:"fas",iconName:"moon",icon:[384,512,[127769,9214],"f186","M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"]},In={prefix:"fas",iconName:"rectangle-xmark",icon:[512,512,[62164,"rectangle-times","times-rectangle","window-close"],"f410","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]},Pn=In,Hn={prefix:"fas",iconName:"turn-up",icon:[384,512,[10548,"level-up-alt"],"f3bf","M350 177.5c3.8-8.8 2-19-4.6-26l-136-144C204.9 2.7 198.6 0 192 0s-12.9 2.7-17.4 7.5l-136 144c-6.6 7-8.4 17.2-4.6 26s12.5 14.5 22 14.5h88l0 192c0 17.7-14.3 32-32 32H32c-17.7 0-32 14.3-32 32v32c0 17.7 14.3 32 32 32l80 0c70.7 0 128-57.3 128-128l0-192h88c9.6 0 18.2-5.7 22-14.5z"]},$n=Hn;function Fn(o){let e,t;return e=new ue({props:{icon:Tn,color:"#333",size:"2x"}}),{c(){le(e.$$.fragment)},m(s,h){ne(e,s,h),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){oe(e,s)}}}function zn(o){let e,t;return e=new ue({props:{icon:On,color:"#333",size:"2x"}}),{c(){le(e.$$.fragment)},m(s,h){ne(e,s,h),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){oe(e,s)}}}function Nn(o){let e,t,s,h,v,_;const i=[zn,Fn],n=[];function l(f,c){return f[0]==="dark"?0:1}return t=l(o),s=n[t]=i[t](o),{c(){e=x("button"),s.c(),D(e,"type","button"),D(e,"class","btn mx-2"),D(e,"title","Switch Theme")},m(f,c){W(f,e,c),n[t].m(e,null),h=!0,v||(_=_e(e,"click",o[1]),v=!0)},p(f,[c]){let u=t;t=l(f),t===u?n[t].p(f,c):(pe(),V(n[u],1,1,()=>{n[u]=null}),me(),s=n[t],s?s.p(f,c):(s=n[t]=i[t](f),s.c()),N(s,1),s.m(e,null))},i(f){h||(N(s),h=!0)},o(f){V(s),h=!1},d(f){f&&U(e),n[t].d(),v=!1,_()}}}function Un(o,e,t){let s;function h(){s==="light"?(t(0,s="dark"),document.querySelector("html").classList.add("dark")):(t(0,s="light"),document.querySelector("html").classList.remove("dark"))}return Ne(()=>{t(0,s="dark"),s==="dark"&&document.querySelector("html").classList.add("dark")}),[s,h]}class Wn extends Me{constructor(e){super(),Be(this,e,Un,Nn,Te,{})}}function Pi(o){let e,t,s,h,v,_,i;function n(g,r){if(g[0]==="error"||g[0]==="warning")return Vn;if(g[0]==="success")return Kn;if(g[0]==="info")return jn}let l=n(o),f=l&&l(o),c=o[0]==="error"&&Hi();const u=o[4].default,b=zt(u,o,o[3],null);let w=o[1]&&$i(o);return{c(){e=x("div"),f&&f.c(),t=q(),s=x("div"),c&&c.c(),h=q(),b&&b.c(),v=q(),w&&w.c(),D(e,"class","alert d-flex align-items-center"),D(e,"role","alert"),he(e,"alert-danger",o[0]==="error"),he(e,"alert-warning",o[0]==="warning"),he(e,"alert-success",o[0]==="success"),he(e,"alert-info",o[0]==="info"),he(e,"alert-dismissible",o[1])},m(g,r){W(g,e,r),f&&f.m(e,null),A(e,t),A(e,s),c&&c.m(s,null),A(s,h),b&&b.m(s,null),A(s,v),w&&w.m(s,null),i=!0},p(g,r){l!==(l=n(g))&&(f&&f.d(1),f=l&&l(g),f&&(f.c(),f.m(e,t))),g[0]==="error"?c||(c=Hi(),c.c(),c.m(s,h)):c&&(c.d(1),c=null),b&&b.p&&(!i||r&8)&&Ut(b,u,g,g[3],i?Nt(u,g[3],r,null):Wt(g[3]),null),g[1]?w?w.p(g,r):(w=$i(g),w.c(),w.m(s,null)):w&&(w.d(1),w=null),(!i||r&1)&&he(e,"alert-danger",g[0]==="error"),(!i||r&1)&&he(e,"alert-warning",g[0]==="warning"),(!i||r&1)&&he(e,"alert-success",g[0]==="success"),(!i||r&1)&&he(e,"alert-info",g[0]==="info"),(!i||r&2)&&he(e,"alert-dismissible",g[1])},i(g){i||(N(b,g),g&&Ae(()=>{i&&(_||(_=Fe(e,Ie,{},!0)),_.run(1))}),i=!0)},o(g){V(b,g),g&&(_||(_=Fe(e,Ie,{},!1)),_.run(0)),i=!1},d(g){g&&U(e),f&&f.d(),c&&c.d(),b&&b.d(g),w&&w.d(),g&&_&&_.end()}}}function jn(o){let e,t;return{c(){e=ye("svg"),t=ye("use"),hi(t,"xlink:href","#info-fill"),D(e,"class","bi flex-shrink-0 me-2"),D(e,"width","24"),D(e,"height","24"),D(e,"role","img"),D(e,"aria-label","Info:")},m(s,h){W(s,e,h),A(e,t)},d(s){s&&U(e)}}}function Kn(o){let e,t;return{c(){e=ye("svg"),t=ye("use"),hi(t,"xlink:href","#check-circle-fill"),D(e,"class","bi flex-shrink-0 me-2"),D(e,"width","24"),D(e,"height","24"),D(e,"role","img"),D(e,"aria-label","Success:")},m(s,h){W(s,e,h),A(e,t)},d(s){s&&U(e)}}}function Vn(o){let e,t;return{c(){e=ye("svg"),t=ye("use"),hi(t,"xlink:href","#exclamation-triangle-fill"),D(e,"class","bi flex-shrink-0 me-2"),D(e,"width","24"),D(e,"height","24"),D(e,"role","img"),D(e,"aria-label","Danger:")},m(s,h){W(s,e,h),A(e,t)},d(s){s&&U(e)}}}function Hi(o){let e;return{c(){e=x("strong"),e.textContent="Error:"},m(t,s){W(t,e,s)},d(t){t&&U(e)}}}function $i(o){let e,t,s;return{c(){e=x("button"),D(e,"type","button"),D(e,"class","btn-close"),D(e,"data-bs-dismiss","alert"),D(e,"aria-label","Close")},m(h,v){W(h,e,v),t||(s=_e(e,"click",o[5]),t=!0)},p:se,d(h){h&&U(e),t=!1,s()}}}function qn(o){let e,t,s,h,v,_,i,n,l,f,c=!o[2]&&Pi(o);return{c(){e=ye("svg"),t=ye("symbol"),s=ye("path"),h=ye("symbol"),v=ye("path"),_=ye("symbol"),i=ye("path"),n=q(),c&&c.c(),l=qe(),D(s,"d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"),D(t,"id","check-circle-fill"),D(t,"fill","currentColor"),D(t,"viewBox","0 0 16 16"),D(v,"d","M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"),D(h,"id","info-fill"),D(h,"fill","currentColor"),D(h,"viewBox","0 0 16 16"),D(i,"d","M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"),D(_,"id","exclamation-triangle-fill"),D(_,"fill","currentColor"),D(_,"viewBox","0 0 16 16"),D(e,"xmlns","http://www.w3.org/2000/svg"),ge(e,"display","none")},m(u,b){W(u,e,b),A(e,t),A(t,s),A(e,h),A(h,v),A(e,_),A(_,i),W(u,n,b),c&&c.m(u,b),W(u,l,b),f=!0},p(u,[b]){u[2]?c&&(pe(),V(c,1,1,()=>{c=null}),me()):c?(c.p(u,b),b&4&&N(c,1)):(c=Pi(u),c.c(),N(c,1),c.m(l.parentNode,l))},i(u){f||(N(c),f=!0)},o(u){V(c),f=!1},d(u){u&&U(e),u&&U(n),c&&c.d(u),u&&U(l)}}}function Gn(o,e,t){let{$$slots:s={},$$scope:h}=e,{type:v}=e,{dismissible:_=!1}=e,i=!1;const n=()=>t(2,i=!0);return o.$$set=l=>{"type"in l&&t(0,v=l.type),"dismissible"in l&&t(1,_=l.dismissible),"$$scope"in l&&t(3,h=l.$$scope)},[v,_,i,h,s,n]}class Xn extends Me{constructor(e){super(),Be(this,e,Gn,qn,Te,{type:0,dismissible:1})}}function Zn(o){switch(o.request){case"login":return`{"response": "login", "payload": {"username": "${o.payload.username}"}}`;case"get_system_info":return'{"response": "get_system_info", "payload": {"engine_version": "Docker 20.10.7", "containers": {"total": 178, "running": 170, "stopped": 0}, "os": "Ubuntu 20.04.3 LTS", "cpus": 24, "mem": 31277850624}}';case"get_container_list":return`{"response": "get_container_list", "payload": [
                {"id": "2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8586", "name": "CaaSa Demo", "namespace": null, "status": "running", "permissions": ["info", "info-annotations", "procs", "files-read", "files-write", "files", "logs", "state", "term"]},
                {"id": "2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8587", "name": "Backend", "namespace": "Cool Web App", "status": "running", "permissions": ["info", "info-annotations", "procs", "files-read", "files-write", "files", "logs", "state", "term"]},
                {"id": "2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8588", "name": "Gateway", "namespace": "Cool Web App", "status": "running", "permissions": ["info", "info-annotations", "procs", "files-read", "files-write", "files", "logs", "state", "term"]}
               ]}`;case"get_processes":return'{"response": "get_processes", "payload": [{"pid": "45756", "ppid": "45733", "%cpu": "0.0", "%mem": "0.0", "user": "root", "stime": "16:24", "command": "nginx: master process nginx -g daemon off;", "level": 0}, {"pid": "45822", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45823", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45824", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45825", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45826", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45827", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45828", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45829", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45830", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45831", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45832", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45833", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "46825", "ppid": "45733", "%cpu": "0.0", "%mem": "0.0", "user": "root", "stime": "16:34", "command": "sh", "level": 0}]}';case"get_container_info":const e={"2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8586":"/caasa_demo","2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8587":"/cool_web_app_backend_1","2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8588":"/cool_web_app_gateway_1"};return`{"response": "get_container_info", "payload": {"id": "${o.payload.container_id}", "name": "${e[o.payload.container_id]}", "status": "running", "command": "/docker-entrypoint.sh nginx -g daemon off;", "created_at": "2021-12-02T10:33:16.628618832Z", "started_at": "2021-12-02T10:33:17.015866729Z", "finished_at": "0001-01-01T00:00:00Z", "crashes": 0, "env": {"PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin", "NGINX_VERSION": "1.21.1", "NJS_VERSION": "0.6.1", "PKG_RELEASE": "1"}, "labels": {"caasa.admin.full": "user1,user2", "maintainer": "NGINX Docker Maintainers <docker-maint@nginx.com>"}, "image": {"name": "nginx:alpine", "hash": "sha256:b9e2356ea1be9452f3777a587b0b6a30bc16c295fe6190eda6a0776522f27439"}, "mem": {"used": 10452992, "max_used": 19345408, "total": 52428800}, "cpu": {"perc": ${Math.random()*10}}, "net": {"rx_bytes": 18201, "tx_bytes": 0}, "ports": ["80/tcp"]}}`;case"get_container_logs":return o.payload.onlynew?'{"response": "get_container_logs", "payload":[]}':'{"response": "get_container_logs", "payload": ["2021-12-02T10:33:17.021946340Z /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration","2021-12-02T10:33:17.021988550Z /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/","2021-12-02T10:33:17.023417432Z /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh","2021-12-02T10:33:17.031231257Z 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf","2021-12-02T10:33:17.055742664Z 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf","2021-12-02T10:33:17.056041305Z /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh","2021-12-02T10:33:17.059979717Z /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh","2021-12-02T10:33:17.062059371Z /docker-entrypoint.sh: Configuration complete; ready for start up","2021-12-02T10:33:17.074027144Z 2021/12/02 10:33:17 [notice] 1#1: using the \\"epoll\\" event method","2021-12-02T10:33:17.074056600Z 2021/12/02 10:33:17 [notice] 1#1: nginx/1.21.1","2021-12-02T10:33:17.074063653Z 2021/12/02 10:33:17 [notice] 1#1: built by gcc 10.3.1 20210424 (Alpine 10.3.1_git20210424) ","2021-12-02T10:33:17.074069845Z 2021/12/02 10:33:17 [notice] 1#1: OS: Linux 5.11.0-40-generic","2021-12-02T10:33:17.074075475Z 2021/12/02 10:33:17 [notice] 1#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576","2021-12-02T10:33:17.074245905Z 2021/12/02 10:33:17 [notice] 1#1: start worker processes","2021-12-02T10:33:17.074276953Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 32","2021-12-02T10:33:17.074379486Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 33","2021-12-02T10:33:17.074401427Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 34","2021-12-02T10:33:17.074513127Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 35","2021-12-02T10:33:17.074601242Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 36","2021-12-02T10:33:17.074666745Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 37","2021-12-02T10:33:17.074817979Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 38","2021-12-02T10:33:17.074873423Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 39","2021-12-02T10:33:17.075007344Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 40","2021-12-02T10:33:17.075141746Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 41","2021-12-02T10:33:17.075279715Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 42","2021-12-02T10:33:17.075393118Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 43"]}';case"get_filesystem_info":return'{"response": "get_filesystem_info", "payload": {"workdir": "", "mounts": [{"type": "bind", "destination": "/etc/ssl/certs", "readonly": true, "source": "/etc/ssl/certs"}]}}';case"get_directory_list":return o.payload.path===""||o.payload.path==="/"?'{"response": "get_directory_list", "payload": {"entries": [{"type": "f", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "0B", "modtime": "2021-12-02 16:19:13", "name": ".dockerenv"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "bin"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "360B", "modtime": "2021-12-02 16:19:13", "name": "dev"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-07-06 19:40:27", "name": "docker-entrypoint.d"}, {"type": "f", "permissions": "rwxrwxr-x", "owner": "root", "group": "root", "filesize": "1.2KB", "modtime": "2021-07-06 19:40:16", "name": "docker-entrypoint.sh"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-12-02 16:19:13", "name": "etc"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "home"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "lib"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "media"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "mnt"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "opt"}, {"type": "d", "permissions": "r-xr-xr-x", "owner": "root", "group": "root", "filesize": "0B", "modtime": "2021-12-02 16:19:13", "name": "proc"}, {"type": "d", "permissions": "rwx------", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "root"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-12-02 16:19:13", "name": "run"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "sbin"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "srv"}, {"type": "d", "permissions": "r-xr-xr-x", "owner": "root", "group": "root", "filesize": "0B", "modtime": "2021-12-02 16:19:13", "name": "sys"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "usr"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "var"}], "path": "/"}}':!1;case"spawn_terminal":return'{"response": "spawn_terminal", "payload": {"execId": "2680be7b4aa3c0b6599edf3521f5813a770ccec7966a59c57cfdac5b4e3b7e9a"}}';case"resize_terminal":return!0;case"transmit_terminal_input":return o.payload.data==="\r"?`56!{"response": "receive_terminal_output", "payload": null}\r
This is just a demo`:'56!{"response": "receive_terminal_output", "payload": null}'+o.payload.data;default:return!1}}class Yn{constructor(e){xe(this,"binaryType");xe(this,"bufferedAmount");xe(this,"extensions");xe(this,"onclose");xe(this,"onerror");xe(this,"onmessage");xe(this,"onopen");xe(this,"protocol");xe(this,"readyState");xe(this,"url");xe(this,"CLOSED");xe(this,"CLOSING");xe(this,"CONNECTING");xe(this,"OPEN")}close(e,t){}addEventListener(e,t,s){throw new Error("Method not implemented.")}removeEventListener(e,t,s){throw new Error("Method not implemented.")}dispatchEvent(e){throw new Error("Method not implemented.")}send(e){const t=JSON.parse(e),s=Zn(t),h={data:void 0,...new Event("api-mock")};if(s===!1?h.data=`{"response": "${t.request}", "error": "Sorry, command not mocked in demo"}`:s===!0||(s[0]!=="{"?h.data=new Blob([s]):h.data=s),h.data&&(setTimeout(()=>this.onmessage(h),200),typeof h.data=="string"&&h.data.includes("spawn_terminal"))){console.log("extra response for terminal");const v={data:void 0,...new Event("api-mock")};v.data=new Blob(['56!{"response": "receive_terminal_output", "payload": null}/ # ']),setTimeout(()=>this.onmessage(v),300)}}}let Ge,yt={},kt={};function Fi(o,e){o in yt?yt[o](e):console.error("WS-API Unknown websocket event:",o)}function $t(o,e){o in kt?kt[o](e):console.error("WS-API Unknown websocket event:",o)}function zi(){yt={},kt={}}const ae={init(){try{Ge&&Ge.close(1e3),Ge=new Yn(`${window.location.protocol.replace("http","ws")}//${window.location.host}/ws`),Ge.binaryType="blob",Ge.onclose=o=>{$t("ws-close",o.reason||"Connection closed"),zi()},Ge.onmessage=async o=>{if(o.data instanceof Blob){const e=parseInt(await o.data.slice(0,10).text()),t=e.toString().length+1,s=await o.data.slice(t,t+e).text(),h=JSON.parse(s);h.error?$t(h.response,h.error):Fi(h.response,{payload:h.payload,blob:o.data.slice(t+e)})}else{const e=JSON.parse(o.data);e.error?$t(e.response,e.error):Fi(e.response,e.payload)}},Ge.onerror=o=>{$t("ws-error","Connection error")}}catch(o){alert(o)}},register(o,e,t){e&&(yt[o]=e),t&&(kt[o]=t)},unregister(...o){o.forEach(e=>{delete kt[e],delete yt[e]})},send(o,e){Ge.send(JSON.stringify({request:o,payload:e}))},close(){zi(),Ge.close()}};function Jn(o,e,t){const s=o.slice();return s[2]=e[t],s}function Ni(o){let e,t,s,h,v,_=[1,2,3],i=[];for(let l=0;l<3;l+=1)i[l]=Qn(Jn(o,_,l));let n=o[0]&&Ui(o);return{c(){e=x("div"),t=x("div"),s=x("div");for(let l=0;l<3;l+=1)i[l].c();h=q(),n&&n.c(),D(s,"class","d-flex justify-content-center align-items-center"),D(t,"class","bg-inner d-flex flex-column rounded p-3 svelte-om3sp1"),D(e,"class","bg-outer position-fixed d-flex justify-content-center align-items-center top-0 start-0 end-0 bottom-0 svelte-om3sp1")},m(l,f){W(l,e,f),A(e,t),A(t,s);for(let c=0;c<3;c+=1)i[c]&&i[c].m(s,null);A(t,h),n&&n.m(t,null)},p(l,f){l[0]?n?n.p(l,f):(n=Ui(l),n.c(),n.m(t,null)):n&&(n.d(1),n=null)},i(l){v||Ae(()=>{v=at(e,Kr,{}),v.start()})},o:se,d(l){l&&U(e),$e(i,l),n&&n.d()}}}function Qn(o){let e;return{c(){e=x("div"),e.innerHTML=`<span class="visually-hidden">Loading...</span> 
                    `,D(e,"class","spinner-grow mx-2 text-light"),D(e,"role","status")},m(t,s){W(t,e,s)},p:se,d(t){t&&U(e)}}}function Ui(o){let e,t;return{c(){e=x("div"),t=ee(o[0]),D(e,"class","mt-4 text-light")},m(s,h){W(s,e,h),A(e,t)},p(s,h){h&1&&ce(t,s[0])},d(s){s&&U(e)}}}function eo(o){let e,t=o[1]&&Ni(o);return{c(){t&&t.c(),e=qe()},m(s,h){t&&t.m(s,h),W(s,e,h)},p(s,[h]){s[1]?t?(t.p(s,h),h&2&&N(t,1)):(t=Ni(s),t.c(),N(t,1),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i(s){N(t)},o:se,d(s){t&&t.d(s),s&&U(e)}}}function to(o,e,t){let{text:s=""}=e,h=!1;return Ne(()=>{setTimeout(()=>t(1,h=!0),250)}),o.$$set=v=>{"text"in v&&t(0,s=v.text)},[s,h]}class gr extends Me{constructor(e){super(),Be(this,e,to,eo,Te,{text:0})}}function Wi(o){let e,t;return e=new gr({}),{c(){le(e.$$.fragment)},m(s,h){ne(e,s,h),t=!0},i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){oe(e,s)}}}function ji(o){let e,t;return e=new Xn({props:{type:"error",dismissible:!0,$$slots:{default:[io]},$$scope:{ctx:o}}}),{c(){le(e.$$.fragment)},m(s,h){ne(e,s,h),t=!0},p(s,h){const v={};h&1032&&(v.$$scope={dirty:h,ctx:s}),e.$set(v)},i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){oe(e,s)}}}function io(o){let e;return{c(){e=ee(o[3])},m(t,s){W(t,e,s)},p(t,s){s&8&&ce(e,t[3])},d(t){t&&U(e)}}}function so(o){let e,t,s,h,v,_,i,n,l,f,c,u,b,w,g,r,d,m,a,p=o[2]&&Wi(),C=o[3]&&ji(o);return{c(){p&&p.c(),e=q(),t=x("div"),C&&C.c(),s=q(),h=x("form"),v=x("div"),_=x("input"),i=q(),n=x("label"),n.textContent="Username",l=q(),f=x("div"),c=x("input"),u=q(),b=x("label"),b.textContent="Password",w=q(),g=x("div"),g.innerHTML='<button type="submit" class="btn btn-primary w-100">Login</button>',D(_,"type","text"),D(_,"class","form-control"),D(_,"id","loginName"),D(_,"placeholder"," "),_.required=!0,D(_,"autocomplete","username"),D(n,"for","loginName"),D(v,"class","form-floating mb-2"),D(c,"type","password"),D(c,"class","form-control"),D(c,"id","loginPw"),D(c,"placeholder"," "),c.required=!0,D(c,"autocomplete","current-password"),D(b,"for","loginPw"),D(f,"class","form-floating mb-2"),D(g,"class","col-12"),D(h,"class","container login-form svelte-16lqpzh"),D(t,"class","container pt-5")},m(y,E){p&&p.m(y,E),W(y,e,E),W(y,t,E),C&&C.m(t,null),A(t,s),A(t,h),A(h,v),A(v,_),Je(_,o[0]),A(v,i),A(v,n),A(h,l),A(h,f),A(f,c),Je(c,o[1]),A(f,u),A(f,b),A(h,w),A(h,g),d=!0,m||(a=[_e(_,"input",o[5]),_e(_,"input",o[6]),_e(c,"input",o[7]),_e(h,"submit",Gt(o[8]))],m=!0)},p(y,[E]){y[2]?p?E&4&&N(p,1):(p=Wi(),p.c(),N(p,1),p.m(e.parentNode,e)):p&&(pe(),V(p,1,1,()=>{p=null}),me()),y[3]?C?(C.p(y,E),E&8&&N(C,1)):(C=ji(y),C.c(),N(C,1),C.m(t,s)):C&&(pe(),V(C,1,1,()=>{C=null}),me()),E&1&&_.value!==y[0]&&Je(_,y[0]),E&2&&c.value!==y[1]&&Je(c,y[1])},i(y){d||(N(p),N(C),y&&Ae(()=>{d&&(r||(r=Fe(h,Ie,{},!0)),r.run(1))}),d=!0)},o(y){V(p),V(C),y&&(r||(r=Fe(h,Ie,{},!1)),r.run(0)),d=!1},d(y){p&&p.d(y),y&&U(e),y&&U(t),C&&C.d(),y&&r&&r.end(),m=!1,ze(a)}}}function ro(o,e,t){let{username:s="admin"}=e,h="123456",v=!1,_="";const i=nr();Ne(()=>{ae.register("login",({username:b})=>{i("login",{username:b})},b=>{t(2,v=!1),Ce.add({text:b,type:"error"})})}),Qe(()=>{ae.unregister("login")});async function n(){t(2,v=!0),ae.send("login",{username:s,password:h}),t(3,_=""),t(1,h="")}function l(){s=this.value,t(0,s)}const f=()=>{t(0,s=s.toLowerCase().trim())};function c(){h=this.value,t(1,h)}const u=()=>n();return o.$$set=b=>{"username"in b&&t(0,s=b.username)},[s,h,v,_,n,l,f,c,u]}class no extends Me{constructor(e){super(),Be(this,e,ro,so,Te,{username:0})}}function Et(o,e=0){return Math.round(o*10**e)/10**e}function He(o){const e=["","Ki","Mi","Gi","Ti"];let t=0;for(;o>=1024;)o/=1024,t++;const s=Math.max(Math.floor(Math.log10(Math.floor(o))),0);return Et(o,2-s)+" "+e[t]+"B"}function Ve(o){return new Date(o).toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function oo(o,e){var t;if((t=window==null?void 0:window.navigator)!=null&&t.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(o,e);else{const s=document.createElement("a");document.body.appendChild(s);const h=window.URL.createObjectURL(o);s.href=h,s.download=e,s.click(),setTimeout(()=>{window.URL.revokeObjectURL(h),document.body.removeChild(s)},0)}}function Ki(o,e,t){const s=o.slice();return s[15]=e[t][0],s[16]=e[t][1],s}function Vi(o,e,t){const s=o.slice();return s[15]=e[t][0],s[16]=e[t][1],s}function qi(o,e,t){const s=o.slice();return s[21]=e[t],s}function lo(o){var yi,ki,Ei;let e,t,s,h,v,_,i,n,l,f,c,u,b=o[1].id.substring(0,12)+"",w,g,r,d,m=o[1].name.replace(/^\//,"")+"",a,p,C,y,E,S,k,L=o[1].command+"",T,O,I,K,z,X,R,B,M,H,j,Y,re,J,ie,$,P,F,G,Z,de,te,be,we,Se,ve,Ze,fi,tt,Rt,di,Pe,ct,it,Dt,ui,At=Ve(o[1].created_at)+"",Zt,_i,ht,ft,Tt,Bt=o[1].crashes+"",Yt,pi,mi,dt,ut,vi,_t,pt,gi,mt,vt,bi,Mt,xt=o[1].status.charAt(0).toUpperCase()+o[1].status.slice(1).toLowerCase()+"",Jt,Qt,gt,Ue;s=new ue({props:{icon:mr,size:"2x"}});let ke=o[0]&&Gi(o);E=new ue({props:{icon:bn}}),z=new ue({props:{icon:fn,size:"2x"}});let Oe=((yi=o[1].image)==null?void 0:yi.hash)!==((Ei=(ki=o[1])==null?void 0:ki.image)==null?void 0:Ei.name)&&Yi(o);function Si(Q,fe){return fe&32&&(J=null),fe&32&&(ie=null),J==null&&(J=!Q[5].includes("/")),J?So:(ie==null&&(ie=!!Q[5].match(/^\w+\/\w+$/)),ie?bo:go)}let Ot=Si(o,-1),We=Ot(o);F=new ue({props:{icon:Sn}});let Ee=o[1].cpu&&Ji(o),Le=o[1].mem&&Qi(o),Re=o[1].net&&ns(o);Ze=new ue({props:{icon:En,size:"2x"}});function Ci(Q,fe){return Q[1].finished_at<Q[1].started_at?wo:Co}let It=Ci(o),je=It(o);function wi(Q,fe){return Q[1].finished_at>Q[1].started_at?Lo:Eo}let Pt=wi(o),Ke=Pt(o),De=(o[1].env||o[1].labels)&&as(o);return{c(){e=x("div"),t=x("div"),le(s.$$.fragment),h=q(),v=x("div"),_=x("div"),i=x("div"),n=x("div"),l=x("span"),l.textContent="Container",f=q(),c=x("span"),u=ee("#"),w=ee(b),g=q(),r=x("div"),d=x("h6"),a=ee(m),p=q(),ke&&ke.c(),C=q(),y=x("div"),le(E.$$.fragment),S=q(),k=x("code"),T=ee(L),O=q(),I=x("div"),K=x("div"),le(z.$$.fragment),X=q(),R=x("div"),B=x("div"),M=x("span"),M.textContent="Image",H=q(),Oe&&Oe.c(),j=q(),Y=x("div"),re=x("h6"),We.c(),$=q(),P=x("span"),le(F.$$.fragment),G=q(),Z=ee(o[4]),de=q(),Ee&&Ee.c(),te=q(),Le&&Le.c(),be=q(),Re&&Re.c(),we=q(),Se=x("div"),ve=x("div"),le(Ze.$$.fragment),fi=q(),tt=x("div"),Rt=x("div"),Rt.textContent="Timeline",di=q(),Pe=x("div"),ct=x("div"),it=x("div"),Dt=x("div"),Dt.textContent="Created",ui=q(),Zt=ee(At),_i=q(),ht=x("div"),ft=x("div"),Tt=x("div"),Yt=ee(Bt),pi=ee(`
                            Crashes`),mi=q(),dt=x("div"),ut=x("div"),je.c(),vi=q(),_t=x("div"),pt=x("div"),Ke.c(),gi=q(),mt=x("div"),vt=x("div"),bi=ee(`Currently
                            `),Mt=x("div"),Jt=ee(xt),Qt=q(),De&&De.c(),gt=qe(),D(t,"class","icon-left ms-1 me-3 svelte-djo6mi"),D(l,"class","me-2"),D(c,"class","text-muted font-monospace"),D(n,"class","mb-1"),D(i,"class","flex-grow-1"),D(_,"class","flex-grow-1 d-flex align-items-center justify-content-between"),D(v,"class","d-flex flex-column flex-grow-1"),D(e,"class","d-flex mb-3"),D(K,"class","icon-left ms-1 me-3 svelte-djo6mi"),D(M,"class","me-2"),D(B,"class","mb-1"),D(P,"class","ms-1"),D(R,"class","flex-grow-1"),D(I,"class","d-flex mb-3"),D(ve,"class","icon-left ms-1 me-3 svelte-djo6mi"),D(Rt,"class","mb-1"),D(Dt,"class","fw-bold"),D(it,"class","popup svelte-djo6mi"),D(ct,"class","tl-container svelte-djo6mi"),ge(ct,"margin-left","5%"),D(Tt,"class","fw-bold"),D(ft,"class","popup svelte-djo6mi"),D(ht,"class","tl-container svelte-djo6mi"),ge(ht,"margin-left","27%"),D(ut,"class","popup svelte-djo6mi"),D(dt,"class","tl-container svelte-djo6mi"),ge(dt,"margin-left","49%"),D(pt,"class","popup svelte-djo6mi"),D(_t,"class","tl-container svelte-djo6mi"),ge(_t,"margin-left","71%"),D(Mt,"class","fw-bold"),D(vt,"class","popup svelte-djo6mi"),D(mt,"class","tl-container svelte-djo6mi"),ge(mt,"margin-left","93%"),D(Pe,"class","timeline mt-2 svelte-djo6mi"),D(tt,"class","flex-grow-1 pb-5 mb-5"),D(Se,"class","d-flex mb-3")},m(Q,fe){W(Q,e,fe),A(e,t),ne(s,t,null),A(e,h),A(e,v),A(v,_),A(_,i),A(i,n),A(n,l),A(n,f),A(n,c),A(c,u),A(c,w),A(i,g),A(i,r),A(r,d),A(d,a),A(_,p),ke&&ke.m(_,null),A(v,C),A(v,y),ne(E,y,null),A(y,S),A(y,k),A(k,T),W(Q,O,fe),W(Q,I,fe),A(I,K),ne(z,K,null),A(I,X),A(I,R),A(R,B),A(B,M),A(B,H),Oe&&Oe.m(B,null),A(R,j),A(R,Y),A(Y,re),We.m(re,null),A(re,$),A(re,P),ne(F,P,null),A(P,G),A(P,Z),W(Q,de,fe),Ee&&Ee.m(Q,fe),W(Q,te,fe),Le&&Le.m(Q,fe),W(Q,be,fe),Re&&Re.m(Q,fe),W(Q,we,fe),W(Q,Se,fe),A(Se,ve),ne(Ze,ve,null),A(Se,fi),A(Se,tt),A(tt,Rt),A(tt,di),A(tt,Pe),A(Pe,ct),A(ct,it),A(it,Dt),A(it,ui),A(it,Zt),A(Pe,_i),A(Pe,ht),A(ht,ft),A(ft,Tt),A(Tt,Yt),A(ft,pi),A(Pe,mi),A(Pe,dt),A(dt,ut),je.m(ut,null),A(Pe,vi),A(Pe,_t),A(_t,pt),Ke.m(pt,null),A(Pe,gi),A(Pe,mt),A(mt,vt),A(vt,bi),A(vt,Mt),A(Mt,Jt),W(Q,Qt,fe),De&&De.m(Q,fe),W(Q,gt,fe),Ue=!0},p(Q,fe){var Li,Ri,Di;(!Ue||fe&2)&&b!==(b=Q[1].id.substring(0,12)+"")&&ce(w,b),(!Ue||fe&2)&&m!==(m=Q[1].name.replace(/^\//,"")+"")&&ce(a,m),Q[0]?ke?(ke.p(Q,fe),fe&1&&N(ke,1)):(ke=Gi(Q),ke.c(),N(ke,1),ke.m(_,null)):ke&&(pe(),V(ke,1,1,()=>{ke=null}),me()),(!Ue||fe&2)&&L!==(L=Q[1].command+"")&&ce(T,L),((Li=Q[1].image)==null?void 0:Li.hash)!==((Di=(Ri=Q[1])==null?void 0:Ri.image)==null?void 0:Di.name)?Oe?Oe.p(Q,fe):(Oe=Yi(Q),Oe.c(),Oe.m(B,null)):Oe&&(Oe.d(1),Oe=null),Ot===(Ot=Si(Q,fe))&&We?We.p(Q,fe):(We.d(1),We=Ot(Q),We&&(We.c(),We.m(re,$))),(!Ue||fe&16)&&ce(Z,Q[4]),Q[1].cpu?Ee?(Ee.p(Q,fe),fe&2&&N(Ee,1)):(Ee=Ji(Q),Ee.c(),N(Ee,1),Ee.m(te.parentNode,te)):Ee&&(pe(),V(Ee,1,1,()=>{Ee=null}),me()),Q[1].mem?Le?(Le.p(Q,fe),fe&2&&N(Le,1)):(Le=Qi(Q),Le.c(),N(Le,1),Le.m(be.parentNode,be)):Le&&(pe(),V(Le,1,1,()=>{Le=null}),me()),Q[1].net?Re?(Re.p(Q,fe),fe&2&&N(Re,1)):(Re=ns(Q),Re.c(),N(Re,1),Re.m(we.parentNode,we)):Re&&(pe(),V(Re,1,1,()=>{Re=null}),me()),(!Ue||fe&2)&&At!==(At=Ve(Q[1].created_at)+"")&&ce(Zt,At),(!Ue||fe&2)&&Bt!==(Bt=Q[1].crashes+"")&&ce(Yt,Bt),It===(It=Ci(Q))&&je?je.p(Q,fe):(je.d(1),je=It(Q),je&&(je.c(),je.m(ut,null))),Pt===(Pt=wi(Q))&&Ke?Ke.p(Q,fe):(Ke.d(1),Ke=Pt(Q),Ke&&(Ke.c(),Ke.m(pt,null))),(!Ue||fe&2)&&xt!==(xt=Q[1].status.charAt(0).toUpperCase()+Q[1].status.slice(1).toLowerCase()+"")&&ce(Jt,xt),Q[1].env||Q[1].labels?De?(De.p(Q,fe),fe&2&&N(De,1)):(De=as(Q),De.c(),N(De,1),De.m(gt.parentNode,gt)):De&&(pe(),V(De,1,1,()=>{De=null}),me())},i(Q){Ue||(N(s.$$.fragment,Q),N(ke),N(E.$$.fragment,Q),N(z.$$.fragment,Q),N(F.$$.fragment,Q),N(Ee),N(Le),N(Re),N(Ze.$$.fragment,Q),N(De),Ue=!0)},o(Q){V(s.$$.fragment,Q),V(ke),V(E.$$.fragment,Q),V(z.$$.fragment,Q),V(F.$$.fragment,Q),V(Ee),V(Le),V(Re),V(Ze.$$.fragment,Q),V(De),Ue=!1},d(Q){Q&&U(e),oe(s),ke&&ke.d(),oe(E),Q&&U(O),Q&&U(I),oe(z),Oe&&Oe.d(),We.d(),oe(F),Q&&U(de),Ee&&Ee.d(Q),Q&&U(te),Le&&Le.d(Q),Q&&U(be),Re&&Re.d(Q),Q&&U(we),Q&&U(Se),oe(Ze),je.d(),Ke.d(),Q&&U(Qt),De&&De.d(Q),Q&&U(gt)}}}function ao(o){let e;return{c(){e=x("div"),e.innerHTML=`<strong>Loading...</strong> 
            <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div>`,D(e,"class","d-flex align-items-center")},m(t,s){W(t,e,s)},p:se,i:se,o:se,d(t){t&&U(e)}}}function Gi(o){let e,t,s,h;const v=[ho,co],_=[];function i(n,l){return n[1].status==="running"?0:!n[3]||n[3]==="start"?1:-1}return~(t=i(o))&&(s=_[t]=v[t](o)),{c(){e=x("div"),s&&s.c(),D(e,"class","ms-4")},m(n,l){W(n,e,l),~t&&_[t].m(e,null),h=!0},p(n,l){let f=t;t=i(n),t===f?~t&&_[t].p(n,l):(s&&(pe(),V(_[f],1,1,()=>{_[f]=null}),me()),~t?(s=_[t],s?s.p(n,l):(s=_[t]=v[t](n),s.c()),N(s,1),s.m(e,null)):s=null)},i(n){h||(N(s),h=!0)},o(n){V(s),h=!1},d(n){n&&U(e),~t&&_[t].d()}}}function co(o){let e,t,s,h,v,_,i,n;const l=[uo,fo],f=[];function c(u,b){return u[3]?1:0}return t=c(o),s=f[t]=l[t](o),{c(){e=x("button"),s.c(),h=ee(`
                                        Start`),D(e,"type","button"),D(e,"class","btn btn-outline-success"),e.disabled=v=!!o[3]},m(u,b){W(u,e,b),f[t].m(e,null),A(e,h),_=!0,i||(n=_e(e,"click",o[12]),i=!0)},p(u,b){let w=t;t=c(u),t===w?f[t].p(u,b):(pe(),V(f[w],1,1,()=>{f[w]=null}),me(),s=f[t],s?s.p(u,b):(s=f[t]=l[t](u),s.c()),N(s,1),s.m(e,h)),(!_||b&8&&v!==(v=!!u[3]))&&(e.disabled=v)},i(u){_||(N(s),_=!0)},o(u){V(s),_=!1},d(u){u&&U(e),f[t].d(),i=!1,n()}}}function ho(o){let e,t,s,h=(!o[3]||o[3]==="restart")&&Xi(o),v=(!o[3]||o[3]==="stop")&&Zi(o);return{c(){h&&h.c(),e=q(),v&&v.c(),t=qe()},m(_,i){h&&h.m(_,i),W(_,e,i),v&&v.m(_,i),W(_,t,i),s=!0},p(_,i){!_[3]||_[3]==="restart"?h?(h.p(_,i),i&8&&N(h,1)):(h=Xi(_),h.c(),N(h,1),h.m(e.parentNode,e)):h&&(pe(),V(h,1,1,()=>{h=null}),me()),!_[3]||_[3]==="stop"?v?(v.p(_,i),i&8&&N(v,1)):(v=Zi(_),v.c(),N(v,1),v.m(t.parentNode,t)):v&&(pe(),V(v,1,1,()=>{v=null}),me())},i(_){s||(N(h),N(v),s=!0)},o(_){V(h),V(v),s=!1},d(_){h&&h.d(_),_&&U(e),v&&v.d(_),_&&U(t)}}}function fo(o){let e;return{c(){e=x("span"),D(e,"class","spinner-grow spinner-grow-sm"),D(e,"role","status"),D(e,"aria-hidden","true")},m(t,s){W(t,e,s)},p:se,i:se,o:se,d(t){t&&U(e)}}}function uo(o){let e,t;return e=new ue({props:{icon:Mn}}),{c(){le(e.$$.fragment)},m(s,h){ne(e,s,h),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){oe(e,s)}}}function Xi(o){let e,t,s,h,v,_,i,n;const l=[po,_o],f=[];function c(u,b){return u[3]?1:0}return t=c(o),s=f[t]=l[t](o),{c(){e=x("button"),s.c(),h=ee(`
                                        Restart`),D(e,"type","button"),D(e,"class","btn btn-outline-warning"),e.disabled=v=!!o[3]},m(u,b){W(u,e,b),f[t].m(e,null),A(e,h),_=!0,i||(n=_e(e,"click",o[10]),i=!0)},p(u,b){let w=t;t=c(u),t===w?f[t].p(u,b):(pe(),V(f[w],1,1,()=>{f[w]=null}),me(),s=f[t],s?s.p(u,b):(s=f[t]=l[t](u),s.c()),N(s,1),s.m(e,h)),(!_||b&8&&v!==(v=!!u[3]))&&(e.disabled=v)},i(u){_||(N(s),_=!0)},o(u){V(s),_=!1},d(u){u&&U(e),f[t].d(),i=!1,n()}}}function _o(o){let e;return{c(){e=x("span"),D(e,"class","spinner-grow spinner-grow-sm"),D(e,"role","status"),D(e,"aria-hidden","true")},m(t,s){W(t,e,s)},p:se,i:se,o:se,d(t){t&&U(e)}}}function po(o){let e,t;return e=new ue({props:{icon:vr}}),{c(){le(e.$$.fragment)},m(s,h){ne(e,s,h),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){oe(e,s)}}}function Zi(o){let e,t,s,h,v,_,i,n;const l=[vo,mo],f=[];function c(u,b){return u[3]?1:0}return t=c(o),s=f[t]=l[t](o),{c(){e=x("button"),s.c(),h=ee(`
                                        Stop`),D(e,"type","button"),D(e,"class","btn btn-outline-danger"),e.disabled=v=!!o[3]},m(u,b){W(u,e,b),f[t].m(e,null),A(e,h),_=!0,i||(n=_e(e,"click",o[11]),i=!0)},p(u,b){let w=t;t=c(u),t===w?f[t].p(u,b):(pe(),V(f[w],1,1,()=>{f[w]=null}),me(),s=f[t],s?s.p(u,b):(s=f[t]=l[t](u),s.c()),N(s,1),s.m(e,h)),(!_||b&8&&v!==(v=!!u[3]))&&(e.disabled=v)},i(u){_||(N(s),_=!0)},o(u){V(s),_=!1},d(u){u&&U(e),f[t].d(),i=!1,n()}}}function mo(o){let e;return{c(){e=x("span"),D(e,"class","spinner-grow spinner-grow-sm"),D(e,"role","status"),D(e,"aria-hidden","true")},m(t,s){W(t,e,s)},p:se,i:se,o:se,d(t){t&&U(e)}}}function vo(o){let e,t;return e=new ue({props:{icon:An}}),{c(){le(e.$$.fragment)},m(s,h){ne(e,s,h),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){oe(e,s)}}}function Yi(o){let e,t=o[1].image.hash.substring(0,19)+"",s;return{c(){e=x("span"),s=ee(t),D(e,"class","text-muted font-monospace")},m(h,v){W(h,e,v),A(e,s)},p(h,v){v&2&&t!==(t=h[1].image.hash.substring(0,12+7)+"")&&ce(s,t)},d(h){h&&U(e)}}}function go(o){let e;return{c(){e=ee(o[5])},m(t,s){W(t,e,s)},p(t,s){s&32&&ce(e,t[5])},d(t){t&&U(e)}}}function bo(o){let e,t,s;return{c(){e=x("a"),t=ee(o[5]),D(e,"href",s="https://hub.docker.com/r/"+o[5]),D(e,"target","_blank"),D(e,"rel","noopener noreferrer"),D(e,"class","text-decoration-none")},m(h,v){W(h,e,v),A(e,t)},p(h,v){v&32&&ce(t,h[5]),v&32&&s!==(s="https://hub.docker.com/r/"+h[5])&&D(e,"href",s)},d(h){h&&U(e)}}}function So(o){let e,t,s;return{c(){e=x("a"),t=ee(o[5]),D(e,"href",s="https://hub.docker.com/_/"+o[5]),D(e,"target","_blank"),D(e,"rel","noopener noreferrer"),D(e,"class","text-decoration-none")},m(h,v){W(h,e,v),A(e,t)},p(h,v){v&32&&ce(t,h[5]),v&32&&s!==(s="https://hub.docker.com/_/"+h[5])&&D(e,"href",s)},d(h){h&&U(e)}}}function Ji(o){let e,t,s,h,v,_,i,n,l,f=Et(o[1].cpu.perc)+"",c,u,b;return s=new ue({props:{icon:pr,size:"2x"}}),{c(){e=x("div"),t=x("div"),le(s.$$.fragment),h=q(),v=x("div"),_=x("div"),_.textContent="Processor",i=q(),n=x("div"),l=x("div"),c=ee(f),u=ee("%"),D(t,"class","icon-left ms-1 me-3 svelte-djo6mi"),D(_,"class","mb-1"),D(l,"class","progress-bar text-white overflow-visible ps-1"),ge(l,"width",o[1].cpu.perc+"%"),D(n,"class","progress"),D(v,"class","flex-grow-1"),D(e,"class","d-flex mb-3")},m(w,g){W(w,e,g),A(e,t),ne(s,t,null),A(e,h),A(e,v),A(v,_),A(v,i),A(v,n),A(n,l),A(l,c),A(l,u),b=!0},p(w,g){(!b||g&2)&&f!==(f=Et(w[1].cpu.perc)+"")&&ce(c,f),(!b||g&2)&&ge(l,"width",w[1].cpu.perc+"%")},i(w){b||(N(s.$$.fragment,w),b=!0)},o(w){V(s.$$.fragment,w),b=!1},d(w){w&&U(e),oe(s)}}}function Qi(o){let e,t,s,h,v,_,i,n,l,f,c,u;s=new ue({props:{icon:ur,size:"2x"}});let b=o[1].mem.used!==null&&es(o),w=o[1].mem.max_used!==null&&ts(o),g=o[1].mem.total!==null&&is(o),r=o[1].mem.used!==null&&o[1].mem.total!==null&&ss(o);return{c(){e=x("div"),t=x("div"),le(s.$$.fragment),h=q(),v=x("div"),_=x("div"),i=x("span"),i.textContent="Memory",n=q(),b&&b.c(),l=q(),w&&w.c(),f=q(),g&&g.c(),c=q(),r&&r.c(),D(t,"class","icon-left ms-1 me-3 svelte-djo6mi"),D(i,"class","me-2"),D(_,"class","mb-1"),D(v,"class","flex-grow-1"),D(e,"class","d-flex mb-3")},m(d,m){W(d,e,m),A(e,t),ne(s,t,null),A(e,h),A(e,v),A(v,_),A(_,i),A(_,n),b&&b.m(_,null),A(_,l),w&&w.m(_,null),A(_,f),g&&g.m(_,null),A(v,c),r&&r.m(v,null),u=!0},p(d,m){d[1].mem.used!==null?b?b.p(d,m):(b=es(d),b.c(),b.m(_,l)):b&&(b.d(1),b=null),d[1].mem.max_used!==null?w?w.p(d,m):(w=ts(d),w.c(),w.m(_,f)):w&&(w.d(1),w=null),d[1].mem.total!==null?g?g.p(d,m):(g=is(d),g.c(),g.m(_,null)):g&&(g.d(1),g=null),d[1].mem.used!==null&&d[1].mem.total!==null?r?r.p(d,m):(r=ss(d),r.c(),r.m(v,null)):r&&(r.d(1),r=null)},i(d){u||(N(s.$$.fragment,d),u=!0)},o(d){V(s.$$.fragment,d),u=!1},d(d){d&&U(e),oe(s),b&&b.d(),w&&w.d(),g&&g.d(),r&&r.d()}}}function es(o){let e,t,s=He(o[1].mem.used)+"",h;return{c(){e=x("span"),t=ee("Now "),h=ee(s),D(e,"class","badge rounded-pill bg-primary ms-2")},m(v,_){W(v,e,_),A(e,t),A(e,h)},p(v,_){_&2&&s!==(s=He(v[1].mem.used)+"")&&ce(h,s)},d(v){v&&U(e)}}}function ts(o){let e,t,s=He(o[1].mem.max_used)+"",h;return{c(){e=x("span"),t=ee("Max "),h=ee(s),D(e,"class","badge rounded-pill bg-warning ms-2")},m(v,_){W(v,e,_),A(e,t),A(e,h)},p(v,_){_&2&&s!==(s=He(v[1].mem.max_used)+"")&&ce(h,s)},d(v){v&&U(e)}}}function is(o){let e,t,s=He(o[1].mem.total)+"",h;return{c(){e=x("span"),t=ee("Limit "),h=ee(s),D(e,"class","badge rounded-pill bg-info ms-2")},m(v,_){W(v,e,_),A(e,t),A(e,h)},p(v,_){_&2&&s!==(s=He(v[1].mem.total)+"")&&ce(h,s)},d(v){v&&U(e)}}}function ss(o){let e,t,s=Et(o[7])+"",h,v,_,i=o[1].mem.max_used!==null&&rs(o);return{c(){e=x("div"),t=x("div"),h=ee(s),v=ee("%"),_=q(),i&&i.c(),D(t,"class","progress-bar text-white overflow-visible ps-1"),ge(t,"width",o[7]+"%"),ge(t,"z-index","2"),D(e,"class","progress")},m(n,l){W(n,e,l),A(e,t),A(t,h),A(t,v),A(e,_),i&&i.m(e,null)},p(n,l){l&128&&s!==(s=Et(n[7])+"")&&ce(h,s),l&128&&ge(t,"width",n[7]+"%"),n[1].mem.max_used!==null?i?i.p(n,l):(i=rs(n),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(n){n&&U(e),i&&i.d()}}}function rs(o){let e;return{c(){e=x("div"),D(e,"class","progress-bar progress-bar-striped bg-warning"),ge(e,"width",o[6]-o[7]+"%")},m(t,s){W(t,e,s)},p(t,s){s&192&&ge(e,"width",t[6]-t[7]+"%")},d(t){t&&U(e)}}}function ns(o){var p;let e,t,s,h,v,_,i,n,l,f=He(o[1].net.rx_bytes)+"",c,u,b,w,g=He(o[1].net.tx_bytes)+"",r,d,m;s=new ue({props:{icon:Ln,size:"2x"}});let a=((p=o[1].ports)==null?void 0:p.length)>0&&os(o);return{c(){e=x("div"),t=x("div"),le(s.$$.fragment),h=q(),v=x("div"),_=x("div"),_.textContent="Network",i=q(),n=x("span"),l=ee("▼ "),c=ee(f),u=q(),b=x("span"),w=ee("▲ "),r=ee(g),d=q(),a&&a.c(),D(t,"class","icon-left ms-1 me-3 svelte-djo6mi"),D(_,"class","mb-1"),D(n,"title","Received Traffic"),D(n,"class","me-3"),D(b,"title","Sent Traffic"),D(v,"class","me-5"),D(e,"class","d-flex mb-3")},m(C,y){W(C,e,y),A(e,t),ne(s,t,null),A(e,h),A(e,v),A(v,_),A(v,i),A(v,n),A(n,l),A(n,c),A(v,u),A(v,b),A(b,w),A(b,r),A(e,d),a&&a.m(e,null),m=!0},p(C,y){var E;(!m||y&2)&&f!==(f=He(C[1].net.rx_bytes)+"")&&ce(c,f),(!m||y&2)&&g!==(g=He(C[1].net.tx_bytes)+"")&&ce(r,g),((E=C[1].ports)==null?void 0:E.length)>0?a?a.p(C,y):(a=os(C),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(C){m||(N(s.$$.fragment,C),m=!0)},o(C){V(s.$$.fragment,C),m=!1},d(C){C&&U(e),oe(s),a&&a.d()}}}function os(o){let e,t,s,h=o[1].ports,v=[];for(let _=0;_<h.length;_+=1)v[_]=ls(qi(o,h,_));return{c(){e=x("div"),t=x("div"),t.textContent="Ports",s=q();for(let _=0;_<v.length;_+=1)v[_].c();D(t,"class","mb-1"),D(e,"class","flex-grow-1")},m(_,i){W(_,e,i),A(e,t),A(e,s);for(let n=0;n<v.length;n+=1)v[n]&&v[n].m(e,null)},p(_,i){if(i&2){h=_[1].ports;let n;for(n=0;n<h.length;n+=1){const l=qi(_,h,n);v[n]?v[n].p(l,i):(v[n]=ls(l),v[n].c(),v[n].m(e,null))}for(;n<v.length;n+=1)v[n].d(1);v.length=h.length}},d(_){_&&U(e),$e(v,_)}}}function ls(o){let e,t=o[21]+"",s;return{c(){e=x("span"),s=ee(t),D(e,"class","badge bg-dark me-2")},m(h,v){W(h,e,v),A(e,s)},p(h,v){v&2&&t!==(t=h[21]+"")&&ce(s,t)},d(h){h&&U(e)}}}function Co(o){let e,t,s=Ve(o[1].started_at)+"",h;return{c(){e=x("div"),e.textContent="Started",t=q(),h=ee(s),D(e,"class","fw-bold")},m(v,_){W(v,e,_),W(v,t,_),W(v,h,_)},p(v,_){_&2&&s!==(s=Ve(v[1].started_at)+"")&&ce(h,s)},d(v){v&&U(e),v&&U(t),v&&U(h)}}}function wo(o){let e,t,s;function h(i,n){return i[1].finished_at<i[1].created_at?ko:yo}let v=h(o),_=v(o);return{c(){e=x("div"),e.textContent="Stopped",t=q(),_.c(),s=qe(),D(e,"class","fw-bold")},m(i,n){W(i,e,n),W(i,t,n),_.m(i,n),W(i,s,n)},p(i,n){v===(v=h(i))&&_?_.p(i,n):(_.d(1),_=v(i),_&&(_.c(),_.m(s.parentNode,s)))},d(i){i&&U(e),i&&U(t),_.d(i),i&&U(s)}}}function yo(o){let e=Ve(o[1].finished_at)+"",t;return{c(){t=ee(e)},m(s,h){W(s,t,h)},p(s,h){h&2&&e!==(e=Ve(s[1].finished_at)+"")&&ce(t,e)},d(s){s&&U(t)}}}function ko(o){let e;return{c(){e=ee("Never")},m(t,s){W(t,e,s)},p:se,d(t){t&&U(e)}}}function Eo(o){let e,t,s=Ve(o[1].started_at)+"",h;return{c(){e=x("div"),e.textContent="Started",t=q(),h=ee(s),D(e,"class","fw-bold")},m(v,_){W(v,e,_),W(v,t,_),W(v,h,_)},p(v,_){_&2&&s!==(s=Ve(v[1].started_at)+"")&&ce(h,s)},d(v){v&&U(e),v&&U(t),v&&U(h)}}}function Lo(o){let e,t,s=Ve(o[1].finished_at)+"",h;return{c(){e=x("div"),e.textContent="Stopped",t=q(),h=ee(s),D(e,"class","fw-bold")},m(v,_){W(v,e,_),W(v,t,_),W(v,h,_)},p(v,_){_&2&&s!==(s=Ve(v[1].finished_at)+"")&&ce(h,s)},d(v){v&&U(e),v&&U(t),v&&U(h)}}}function as(o){let e,t,s,h,v,_,i,n,l,f,c,u,b,w,g,r,d;s=new ue({props:{icon:gn,size:"2x"}});let m=Object.entries(o[1].env).sort(fs),a=[];for(let y=0;y<m.length;y+=1)a[y]=cs(Vi(o,m,y));let p=Object.entries(o[1].labels).sort(ds),C=[];for(let y=0;y<p.length;y+=1)C[y]=hs(Ki(o,p,y));return{c(){e=x("div"),t=x("div"),le(s.$$.fragment),h=q(),v=x("div"),_=x("div"),i=x("table"),n=x("thead"),n.innerHTML='<tr><th scope="col" colspan="2" style="font-weight: normal">Environment Variables</th></tr>',l=q(),f=x("tbody");for(let y=0;y<a.length;y+=1)a[y].c();c=q(),u=x("div"),b=x("table"),w=x("thead"),w.innerHTML='<tr><th scope="col" colspan="2" style="font-weight: normal">Labels</th></tr>',g=q(),r=x("tbody");for(let y=0;y<C.length;y+=1)C[y].c();D(t,"class","icon-left ms-1 me-3 svelte-djo6mi"),D(i,"class","table table-striped border"),D(b,"class","table table-striped border"),D(v,"class","flex-grow-1 d-lg-flex"),ge(v,"font-size","small"),D(e,"class","d-flex mb-3")},m(y,E){W(y,e,E),A(e,t),ne(s,t,null),A(e,h),A(e,v),A(v,_),A(_,i),A(i,n),A(i,l),A(i,f);for(let S=0;S<a.length;S+=1)a[S]&&a[S].m(f,null);A(v,c),A(v,u),A(u,b),A(b,w),A(b,g),A(b,r);for(let S=0;S<C.length;S+=1)C[S]&&C[S].m(r,null);d=!0},p(y,E){if(E&2){m=Object.entries(y[1].env).sort(fs);let S;for(S=0;S<m.length;S+=1){const k=Vi(y,m,S);a[S]?a[S].p(k,E):(a[S]=cs(k),a[S].c(),a[S].m(f,null))}for(;S<a.length;S+=1)a[S].d(1);a.length=m.length}if(E&2){p=Object.entries(y[1].labels).sort(ds);let S;for(S=0;S<p.length;S+=1){const k=Ki(y,p,S);C[S]?C[S].p(k,E):(C[S]=hs(k),C[S].c(),C[S].m(r,null))}for(;S<C.length;S+=1)C[S].d(1);C.length=p.length}},i(y){d||(N(s.$$.fragment,y),d=!0)},o(y){V(s.$$.fragment,y),d=!1},d(y){y&&U(e),oe(s),$e(a,y),$e(C,y)}}}function cs(o){let e,t,s=o[15]+"",h,v,_,i=o[16]+"",n,l;return{c(){e=x("tr"),t=x("td"),h=ee(s),v=q(),_=x("td"),n=ee(i),l=q(),D(t,"class","text-end border-end text-break"),D(_,"class","text-break")},m(f,c){W(f,e,c),A(e,t),A(t,h),A(e,v),A(e,_),A(_,n),A(e,l)},p(f,c){c&2&&s!==(s=f[15]+"")&&ce(h,s),c&2&&i!==(i=f[16]+"")&&ce(n,i)},d(f){f&&U(e)}}}function hs(o){let e,t,s=o[15]+"",h,v,_,i=o[16]+"",n,l;return{c(){e=x("tr"),t=x("td"),h=ee(s),v=q(),_=x("td"),n=ee(i),l=q(),D(t,"class","text-end border-end text-break"),D(_,"class","text-break")},m(f,c){W(f,e,c),A(e,t),A(t,h),A(e,v),A(e,_),A(_,n),A(e,l)},p(f,c){c&2&&s!==(s=f[15]+"")&&ce(h,s),c&2&&i!==(i=f[16]+"")&&ce(n,i)},d(f){f&&U(e)}}}function Ro(o){let e,t,s,h;const v=[ao,lo],_=[];function i(n,l){return n[2]?0:1}return t=i(o),s=_[t]=v[t](o),{c(){e=x("div"),s.c()},m(n,l){W(n,e,l),_[t].m(e,null),h=!0},p(n,[l]){let f=t;t=i(n),t===f?_[t].p(n,l):(pe(),V(_[f],1,1,()=>{_[f]=null}),me(),s=_[t],s?s.p(n,l):(s=_[t]=v[t](n),s.c()),N(s,1),s.m(e,null))},i(n){h||(N(s),h=!0)},o(n){V(s),h=!1},d(n){n&&U(e),_[t].d()}}}const fs=([o],[e])=>o.localeCompare(e),ds=([o],[e])=>o.localeCompare(e);function Do(o,e,t){let s,h,v,_,{enable_actions:i}=e,{container_id:n}=e,l,f,c=!0,u=null,b;Lt(()=>{n!==l&&(l=n,t(2,c=!0),t(3,u=null),n&&ae.send("get_container_info",{container_id:n}))}),Ne(()=>{window.scrollTo({top:0,behavior:"smooth"}),ae.register("get_container_info",m=>{m.id===n&&(t(1,b=m),t(2,c=!1))},m=>Ce.add({text:m,type:"error"})),ae.register("set_container_state",()=>{t(3,u=null)},m=>Ce.add({text:m,type:"error"})),f=setInterval(()=>{ae.send("get_container_info",{container_id:n})},3e3)}),Qe(()=>{clearInterval(f),ae.unregister("get_container_info"),ae.unregister("set_container_state")});function w(m){switch(ae.send("set_container_state",{container_id:n,action:m}),t(3,u=m),m){case"start":Ce.add({text:"Starting container ...",type:"success"});break;case"restart":Ce.add({text:"Restarting container ...",type:"info"});break;case"stop":Ce.add({text:"Stopping container ...",type:"info"});break}}const g=()=>w("restart"),r=()=>w("stop"),d=()=>w("start");return o.$$set=m=>{"enable_actions"in m&&t(0,i=m.enable_actions),"container_id"in m&&t(9,n=m.container_id)},o.$$.update=()=>{var m,a,p,C;o.$$.dirty&2&&t(7,s=((m=b==null?void 0:b.mem)==null?void 0:m.used)*100/((a=b==null?void 0:b.mem)==null?void 0:a.total)),o.$$.dirty&2&&t(6,h=((p=b==null?void 0:b.mem)==null?void 0:p.max_used)*100/((C=b==null?void 0:b.mem)==null?void 0:C.total)),o.$$.dirty&2&&t(5,v=b!=null&&b.image.name.includes(":")?b==null?void 0:b.image.name.slice(0,b==null?void 0:b.image.name.lastIndexOf(":")):b==null?void 0:b.image.name),o.$$.dirty&2&&t(4,_=b!=null&&b.image.name.includes(":")?b==null?void 0:b.image.name.split(":").pop():"latest")},[i,b,c,u,_,v,h,s,w,n,g,r,d]}class Ao extends Me{constructor(e){super(),Be(this,e,Do,Ro,Te,{enable_actions:0,container_id:9})}}function To({onlyFirst:o=!1}={}){const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,o?void 0:"g")}const Bo=To();function Mo(o){if(typeof o!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof o}\``);return o.replace(Bo,"")}function us(o,e,t){const s=o.slice();s[12]=e[t];const h=s[12].substring(0,s[12].indexOf(" "));s[13]=h;const v=s[12].substring(s[12].indexOf(" ")+1);return s[14]=v,s}function xo(o){let e,t,s,h,v,_,i,n,l,f,c,u,b,w,g,r,d,m,a,p,C;f=new ue({props:{icon:pn,size:"lg",color:"#666"}}),b=new ue({props:{icon:cn,size:"lg",color:"#666"}}),r=new ue({props:{icon:_r,size:"lg",color:"#666"}});let y=o[2],E=[];for(let S=0;S<y.length;S+=1)E[S]=ps(us(o,y,S));return{c(){e=x("div"),t=x("div"),s=x("select"),h=x("option"),h.textContent="hide timestamps",v=x("option"),v.textContent="local timestamps",_=x("option"),_.textContent="raw timestamps",i=q(),n=x("div"),l=x("button"),le(f.$$.fragment),c=q(),u=x("button"),le(b.$$.fragment),w=q(),g=x("button"),le(r.$$.fragment),d=q(),m=x("pre");for(let S=0;S<E.length;S+=1)E[S].c();h.__value="off",h.value=h.__value,v.__value="local",v.value=v.__value,_.__value="raw",_.value=_.__value,D(s,"class","form-select"),o[3]===void 0&&Ae(()=>o[6].call(s)),D(l,"type","button"),D(l,"class","btn mx-1"),D(l,"title","Scroll to Top"),D(u,"type","button"),D(u,"class","btn mx-1"),D(u,"title","Scroll to Bottom"),D(g,"type","button"),D(g,"class","btn mx-1"),D(g,"title","Fullscreen"),D(e,"class","d-flex justify-content-between align-items-center mb-2"),D(m,"class","mb-0 svelte-1k30cnf")},m(S,k){W(S,e,k),A(e,t),A(t,s),A(s,h),A(s,v),A(s,_),Ti(s,o[3],!0),A(e,i),A(e,n),A(n,l),ne(f,l,null),A(n,c),A(n,u),ne(b,u,null),A(n,w),A(n,g),ne(r,g,null),W(S,d,k),W(S,m,k);for(let L=0;L<E.length;L+=1)E[L]&&E[L].m(m,null);o[9](m),a=!0,p||(C=[_e(s,"change",o[6]),_e(l,"click",o[7]),_e(u,"click",o[8]),_e(g,"click",o[4])],p=!0)},p(S,k){if(k&8&&Ti(s,S[3]),k&12){y=S[2];let L;for(L=0;L<y.length;L+=1){const T=us(S,y,L);E[L]?E[L].p(T,k):(E[L]=ps(T),E[L].c(),E[L].m(m,null))}for(;L<E.length;L+=1)E[L].d(1);E.length=y.length}},i(S){a||(N(f.$$.fragment,S),N(b.$$.fragment,S),N(r.$$.fragment,S),a=!0)},o(S){V(f.$$.fragment,S),V(b.$$.fragment,S),V(r.$$.fragment,S),a=!1},d(S){S&&U(e),oe(f),oe(b),oe(r),S&&U(d),S&&U(m),$e(E,S),o[9](null),p=!1,ze(C)}}}function Oo(o){let e;return{c(){e=x("p"),e.textContent="No Log Output yet ..."},m(t,s){W(t,e,s)},p:se,i:se,o:se,d(t){t&&U(e)}}}function Io(o){let e;return{c(){e=x("div"),e.innerHTML=`<strong>Loading...</strong> 
            <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div>`,D(e,"class","d-flex align-items-center")},m(t,s){W(t,e,s)},p:se,i:se,o:se,d(t){t&&U(e)}}}function _s(o){let e,t;function s(_,i){return _[3]==="local"?Ho:Po}let h=s(o),v=h(o);return{c(){e=x("time"),v.c(),D(e,"datetime",t=o[13]),D(e,"class","me-1 px-1 svelte-1k30cnf")},m(_,i){W(_,e,i),v.m(e,null)},p(_,i){h===(h=s(_))&&v?v.p(_,i):(v.d(1),v=h(_),v&&(v.c(),v.m(e,null))),i&4&&t!==(t=_[13])&&D(e,"datetime",t)},d(_){_&&U(e),v.d()}}}function Po(o){let e=o[13]+"",t;return{c(){t=ee(e)},m(s,h){W(s,t,h)},p(s,h){h&4&&e!==(e=s[13]+"")&&ce(t,e)},d(s){s&&U(t)}}}function Ho(o){let e=ms(o[13])+"",t;return{c(){t=ee(e)},m(s,h){W(s,t,h)},p(s,h){h&4&&e!==(e=ms(s[13])+"")&&ce(t,e)},d(s){s&&U(t)}}}function ps(o){let e,t,s=o[14]+"",h,v=o[3]!=="off"&&_s(o);return{c(){e=x("span"),v&&v.c(),t=x("span"),h=ee(s),D(t,"class","pe-3"),D(e,"class","pe-3 svelte-1k30cnf")},m(_,i){W(_,e,i),v&&v.m(e,null),A(e,t),A(t,h)},p(_,i){_[3]!=="off"?v?v.p(_,i):(v=_s(_),v.c(),v.m(e,t)):v&&(v.d(1),v=null),i&4&&s!==(s=_[14]+"")&&ce(h,s)},d(_){_&&U(e),v&&v.d()}}}function $o(o){let e,t,s,h;const v=[Io,Oo,xo],_=[];function i(n,l){return n[1]?0:n[2].length===0?1:2}return t=i(o),s=_[t]=v[t](o),{c(){e=x("div"),s.c()},m(n,l){W(n,e,l),_[t].m(e,null),h=!0},p(n,[l]){let f=t;t=i(n),t===f?_[t].p(n,l):(pe(),V(_[f],1,1,()=>{_[f]=null}),me(),s=_[t],s?s.p(n,l):(s=_[t]=v[t](n),s.c()),N(s,1),s.m(e,null))},i(n){h||(N(s),h=!0)},o(n){V(s),h=!1},d(n){n&&U(e),_[t].d()}}}function ms(o){return new Date(o).toLocaleDateString(void 0,{weekday:"short",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function Fo(o,e,t){let{container_id:s}=e,h,v,_,i=!0,n=[],l="local";Lt(()=>{s!==h&&(h=s,t(1,i=!0),t(2,n=[]),s&&ae.send("get_container_logs",{container_id:s}))}),Ne(()=>{ae.register("get_container_logs",g=>{if(t(1,i=!1),(g==null?void 0:g.length)>0){let r=!n||v&&v.scrollTop>=v.scrollHeight-v.clientHeight;const d=n.length+g.length;d>5e3&&n.slice(d-5e3),n.push(...g.map(m=>Mo(m))),r&&ar().then(()=>t(0,v.scrollTop=v.scrollHeight,v))}},g=>Ce.add({text:g,type:"error"})),_=setInterval(()=>{ae.send("get_container_logs",{container_id:s,onlynew:!0})},3e3)}),Qe(()=>{clearInterval(_),ae.unregister("get_container_logs")});function f(){v!=null&&v.requestFullscreen&&v.requestFullscreen({navigationUI:"show"})}function c(){l=xr(this),t(3,l)}const u=()=>t(0,v.scrollTop=0,v),b=()=>t(0,v.scrollTop=v.scrollHeight,v);function w(g){et[g?"unshift":"push"](()=>{v=g,t(0,v)})}return o.$$set=g=>{"container_id"in g&&t(5,s=g.container_id)},[v,i,n,l,f,s,c,u,b,w]}class zo extends Me{constructor(e){super(),Be(this,e,Fo,$o,Te,{container_id:5})}}const No=o=>({}),vs=o=>({});function Uo(o){let e,t;return e=new ue({props:{icon:kn}}),{c(){le(e.$$.fragment)},m(s,h){ne(e,s,h),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){oe(e,s)}}}function Wo(o){let e,t,s,h,v,_;const i=o[2].button,n=zt(i,o,o[1],vs),l=n||Uo(),f=o[2].default,c=zt(f,o,o[1],null);return{c(){e=x("div"),t=x("button"),l&&l.c(),h=q(),v=x("ul"),c&&c.c(),D(t,"class",s="btn btn-"+o[0]+" dropdown-toggle svelte-1ogcpxv"),D(t,"type","button"),D(v,"class","dropdown-menu svelte-1ogcpxv"),D(e,"class","dropdown")},m(u,b){W(u,e,b),A(e,t),l&&l.m(t,null),A(e,h),A(e,v),c&&c.m(v,null),_=!0},p(u,[b]){n&&n.p&&(!_||b&2)&&Ut(n,i,u,u[1],_?Nt(i,u[1],b,No):Wt(u[1]),vs),(!_||b&1&&s!==(s="btn btn-"+u[0]+" dropdown-toggle svelte-1ogcpxv"))&&D(t,"class",s),c&&c.p&&(!_||b&2)&&Ut(c,f,u,u[1],_?Nt(f,u[1],b,null):Wt(u[1]),null)},i(u){_||(N(l,u),N(c,u),_=!0)},o(u){V(l,u),V(c,u),_=!1},d(u){u&&U(e),l&&l.d(u),c&&c.d(u)}}}function jo(o,e,t){let{$$slots:s={},$$scope:h}=e,{btnClass:v="secondary"}=e;return o.$$set=_=>{"btnClass"in _&&t(0,v=_.btnClass),"$$scope"in _&&t(1,h=_.$$scope)},[v,h,s]}class br extends Me{constructor(e){super(),Be(this,e,jo,Wo,Te,{btnClass:0})}}function Ko(o){let e,t,s,h,v;const _=o[2].default,i=zt(_,o,o[1],null);return{c(){e=x("li"),t=x("button"),i&&i.c(),D(t,"class","dropdown-item"),D(t,"type","button"),he(t,"active",o[0])},m(n,l){W(n,e,l),A(e,t),i&&i.m(t,null),s=!0,h||(v=_e(t,"click",o[3]),h=!0)},p(n,[l]){i&&i.p&&(!s||l&2)&&Ut(i,_,n,n[1],s?Nt(_,n[1],l,null):Wt(n[1]),null),(!s||l&1)&&he(t,"active",n[0])},i(n){s||(N(i,n),s=!0)},o(n){V(i,n),s=!1},d(n){n&&U(e),i&&i.d(n),h=!1,v()}}}function Vo(o,e,t){let{$$slots:s={},$$scope:h}=e,{active:v=!1}=e;function _(i){Hr.call(this,o,i)}return o.$$set=i=>{"active"in i&&t(0,v=i.active),"$$scope"in i&&t(1,h=i.$$scope)},[v,h,s,_]}class ai extends Me{constructor(e){super(),Be(this,e,Vo,Ko,Te,{active:0})}}function gs(o,e,t){const s=o.slice();return s[22]=e[t],s}function bs(o,e,t){const s=o.slice();return s[25]=e[t],s}function Ss(o,e,t){const s=o.slice();return s[28]=e[t],s}function qo(o){var I,K;let e,t,s,h,v,_,i,n,l,f,c,u,b,w,g,r,d,m,a,p,C;v=new ue({props:{icon:Dn}}),n=new ue({props:{icon:vr}});let y=o[7](),E=[];for(let z=0;z<y.length;z+=1)E[z]=Cs(Ss(o,y,z));let S=o[1]&&ws(o),k=((K=(I=o[6])==null?void 0:I.mounts)==null?void 0:K.length)>0&&ys(o),L=o[5]||[],T=[];for(let z=0;z<L.length;z+=1)T[z]=Rs(gs(o,L,z));const O=z=>V(T[z],1,1,()=>{T[z]=null});return{c(){e=x("div"),t=x("div"),s=x("div"),h=x("button"),le(v.$$.fragment),_=q(),i=x("button"),le(n.$$.fragment),l=q(),f=x("div");for(let z=0;z<E.length;z+=1)E[z].c();c=q(),u=x("div"),S&&S.c(),b=q(),k&&k.c(),w=q(),g=x("table"),r=x("thead"),r.innerHTML=`<tr><th scope="col">Name</th> 
                <th scope="col" class="text-end">Size</th> 
                <th scope="col" class="text-center">Owner</th> 
                <th scope="col" class="text-center">Modified</th> 
                <th scope="col" class="text-center">Permissions</th></tr>`,d=q(),m=x("tbody");for(let z=0;z<T.length;z+=1)T[z].c();D(h,"type","button"),D(h,"class","btn btn-outline-primary"),D(i,"type","button"),D(i,"class","btn btn-outline-primary"),D(s,"class","btn-group me-1"),D(f,"class","btn-group mx-2"),D(f,"role","group"),D(t,"class","d-flex"),D(u,"class","d-flex"),D(e,"class","d-flex justify-content-between align-items-center"),D(g,"class","table table-hover")},m(z,X){W(z,e,X),A(e,t),A(t,s),A(s,h),ne(v,h,null),A(s,_),A(s,i),ne(n,i,null),A(t,l),A(t,f);for(let R=0;R<E.length;R+=1)E[R]&&E[R].m(f,null);A(e,c),A(e,u),S&&S.m(u,null),A(u,b),k&&k.m(u,null),W(z,w,X),W(z,g,X),A(g,r),A(g,d),A(g,m);for(let R=0;R<T.length;R+=1)T[R]&&T[R].m(m,null);a=!0,p||(C=[_e(h,"click",o[14]),_e(i,"click",o[15])],p=!0)},p(z,X){var R,B;if(X[0]&640){y=z[7]();let M;for(M=0;M<y.length;M+=1){const H=Ss(z,y,M);E[M]?E[M].p(H,X):(E[M]=Cs(H),E[M].c(),E[M].m(f,null))}for(;M<E.length;M+=1)E[M].d(1);E.length=y.length}if(z[1]?S?(S.p(z,X),X[0]&2&&N(S,1)):(S=ws(z),S.c(),N(S,1),S.m(u,b)):S&&(pe(),V(S,1,1,()=>{S=null}),me()),((B=(R=z[6])==null?void 0:R.mounts)==null?void 0:B.length)>0?k?(k.p(z,X),X[0]&64&&N(k,1)):(k=ys(z),k.c(),N(k,1),k.m(u,null)):k&&(pe(),V(k,1,1,()=>{k=null}),me()),X[0]&1313){L=z[5]||[];let M;for(M=0;M<L.length;M+=1){const H=gs(z,L,M);T[M]?(T[M].p(H,X),N(T[M],1)):(T[M]=Rs(H),T[M].c(),N(T[M],1),T[M].m(m,null))}for(pe(),M=L.length;M<T.length;M+=1)O(M);me()}},i(z){if(!a){N(v.$$.fragment,z),N(n.$$.fragment,z),N(S),N(k);for(let X=0;X<L.length;X+=1)N(T[X]);a=!0}},o(z){V(v.$$.fragment,z),V(n.$$.fragment,z),V(S),V(k),T=T.filter(Boolean);for(let X=0;X<T.length;X+=1)V(T[X]);a=!1},d(z){z&&U(e),oe(v),oe(n),$e(E,z),S&&S.d(),k&&k.d(),z&&U(w),z&&U(g),$e(T,z),p=!1,ze(C)}}}function Go(o){let e;return{c(){e=x("div"),e.innerHTML=`<strong>Loading...</strong> 
            <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div>`,D(e,"class","d-flex align-items-center")},m(t,s){W(t,e,s)},p:se,i:se,o:se,d(t){t&&U(e)}}}function Cs(o){let e,t=(o[28].segment||"/")+"",s,h,v;function _(){return o[16](o[28])}return{c(){e=x("button"),s=ee(t),D(e,"type","button"),D(e,"class","btn btn-secondary border-dark")},m(i,n){W(i,e,n),A(e,s),h||(v=_e(e,"click",_),h=!0)},p(i,n){o=i,n[0]&128&&t!==(t=(o[28].segment||"/")+"")&&ce(s,t)},d(i){i&&U(e),h=!1,v()}}}function ws(o){let e,t,s,h,v,_;return e=new br({props:{btnClass:"outline-primary",$$slots:{button:[Jo],default:[Yo]},$$scope:{ctx:o}}}),{c(){le(e.$$.fragment),t=q(),s=x("input"),D(s,"type","file"),ge(s,"display","none")},m(i,n){ne(e,i,n),W(i,t,n),W(i,s,n),o[18](s),h=!0,v||(_=_e(s,"change",o[12]),v=!0)},p(i,n){const l={};n[0]&8|n[1]&1&&(l.$$scope={dirty:n,ctx:i}),e.$set(l)},i(i){h||(N(e.$$.fragment,i),h=!0)},o(i){V(e.$$.fragment,i),h=!1},d(i){oe(e,i),i&&U(t),i&&U(s),o[18](null),v=!1,_()}}}function Xo(o){let e;return{c(){e=ee("Add Folder")},m(t,s){W(t,e,s)},d(t){t&&U(e)}}}function Zo(o){let e;return{c(){e=ee("Upload File")},m(t,s){W(t,e,s)},d(t){t&&U(e)}}}function Yo(o){let e,t,s,h;return e=new ai({props:{$$slots:{default:[Xo]},$$scope:{ctx:o}}}),e.$on("click",o[11]),s=new ai({props:{$$slots:{default:[Zo]},$$scope:{ctx:o}}}),s.$on("click",o[17]),{c(){le(e.$$.fragment),t=q(),le(s.$$.fragment)},m(v,_){ne(e,v,_),W(v,t,_),ne(s,v,_),h=!0},p(v,_){const i={};_[1]&1&&(i.$$scope={dirty:_,ctx:v}),e.$set(i);const n={};_[1]&1&&(n.$$scope={dirty:_,ctx:v}),s.$set(n)},i(v){h||(N(e.$$.fragment,v),N(s.$$.fragment,v),h=!0)},o(v){V(e.$$.fragment,v),V(s.$$.fragment,v),h=!1},d(v){oe(e,v),v&&U(t),oe(s,v)}}}function Jo(o){let e,t,s,h;return t=new ue({props:{icon:xn}}),{c(){e=x("span"),le(t.$$.fragment),s=ee(" Add"),D(e,"slot","button"),D(e,"class","me-1")},m(v,_){W(v,e,_),ne(t,e,null),A(e,s),h=!0},p:se,i(v){h||(N(t.$$.fragment,v),h=!0)},o(v){V(t.$$.fragment,v),h=!1},d(v){v&&U(e),oe(t)}}}function ys(o){let e,t,s;return t=new br({props:{$$slots:{button:[tl],default:[el]},$$scope:{ctx:o}}}),{c(){e=x("div"),le(t.$$.fragment),D(e,"class","ms-4")},m(h,v){W(h,e,v),ne(t,e,null),s=!0},p(h,v){const _={};v[0]&64|v[1]&1&&(_.$$scope={dirty:v,ctx:h}),t.$set(_)},i(h){s||(N(t.$$.fragment,h),s=!0)},o(h){V(t.$$.fragment,h),s=!1},d(h){h&&U(e),oe(t)}}}function ks(o){let e;return{c(){e=x("span"),e.textContent="readonly",D(e,"class","badge bg-warning ms-2")},m(t,s){W(t,e,s)},d(t){t&&U(e)}}}function Qo(o){let e,t,s=o[25].destination+"",h,v,_,i,n,l=o[25].type+"",f,c,u=o[25].readonly&&ks();return{c(){e=x("div"),t=x("span"),h=ee(s),v=q(),_=x("span"),u&&u.c(),i=q(),n=x("span"),f=ee(l),c=q(),D(n,"class","badge bg-secondary ms-2"),D(e,"class","d-flex justify-content-between align-items-center")},m(b,w){W(b,e,w),A(e,t),A(t,h),A(e,v),A(e,_),u&&u.m(_,null),A(_,i),A(_,n),A(n,f),W(b,c,w)},p(b,w){w[0]&64&&s!==(s=b[25].destination+"")&&ce(h,s),b[25].readonly?u||(u=ks(),u.c(),u.m(_,i)):u&&(u.d(1),u=null),w[0]&64&&l!==(l=b[25].type+"")&&ce(f,l)},d(b){b&&U(e),u&&u.d(),b&&U(c)}}}function Es(o){let e,t;function s(){return o[19](o[25])}return e=new ai({props:{$$slots:{default:[Qo]},$$scope:{ctx:o}}}),e.$on("click",s),{c(){le(e.$$.fragment)},m(h,v){ne(e,h,v),t=!0},p(h,v){o=h;const _={};v[0]&64|v[1]&1&&(_.$$scope={dirty:v,ctx:o}),e.$set(_)},i(h){t||(N(e.$$.fragment,h),t=!0)},o(h){V(e.$$.fragment,h),t=!1},d(h){oe(e,h)}}}function el(o){let e,t,s=o[6].mounts,h=[];for(let _=0;_<s.length;_+=1)h[_]=Es(bs(o,s,_));const v=_=>V(h[_],1,1,()=>{h[_]=null});return{c(){for(let _=0;_<h.length;_+=1)h[_].c();e=qe()},m(_,i){for(let n=0;n<h.length;n+=1)h[n]&&h[n].m(_,i);W(_,e,i),t=!0},p(_,i){if(i[0]&576){s=_[6].mounts;let n;for(n=0;n<s.length;n+=1){const l=bs(_,s,n);h[n]?(h[n].p(l,i),N(h[n],1)):(h[n]=Es(l),h[n].c(),N(h[n],1),h[n].m(e.parentNode,e))}for(pe(),n=s.length;n<h.length;n+=1)v(n);me()}},i(_){if(!t){for(let i=0;i<s.length;i+=1)N(h[i]);t=!0}},o(_){h=h.filter(Boolean);for(let i=0;i<h.length;i+=1)V(h[i]);t=!1},d(_){$e(h,_),_&&U(e)}}}function tl(o){let e,t,s,h;return t=new ue({props:{icon:wn}}),{c(){e=x("span"),le(t.$$.fragment),s=ee(" Volumes"),D(e,"slot","button"),D(e,"class","me-1")},m(v,_){W(v,e,_),ne(t,e,null),A(e,s),h=!0},p:se,i(v){h||(N(t.$$.fragment,v),h=!0)},o(v){V(t.$$.fragment,v),h=!1},d(v){v&&U(e),oe(t)}}}function il(o){let e=o[22].type+"",t;return{c(){t=ee(e)},m(s,h){W(s,t,h)},p(s,h){h[0]&32&&e!==(e=s[22].type+"")&&ce(t,e)},i:se,o:se,d(s){s&&U(t)}}}function sl(o){let e,t;return e=new ue({props:{icon:ln,size:"lg",color:"#B36"}}),{c(){le(e.$$.fragment)},m(s,h){ne(e,s,h),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){oe(e,s)}}}function rl(o){let e,t;return e=new ue({props:{icon:Bn,size:"lg",color:"#36B"}}),{c(){le(e.$$.fragment)},m(s,h){ne(e,s,h),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){oe(e,s)}}}function nl(o){let e,t;return e=new ue({props:{icon:hn,size:"lg",color:"#3B6"}}),{c(){le(e.$$.fragment)},m(s,h){ne(e,s,h),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){oe(e,s)}}}function Ls(o){let e=o[22].filesize+"",t;return{c(){t=ee(e)},m(s,h){W(s,t,h)},p(s,h){h[0]&32&&e!==(e=s[22].filesize+"")&&ce(t,e)},d(s){s&&U(t)}}}function Rs(o){let e,t,s,h,v,_,i,n=o[22].name+"",l,f,c,u,b,w=o[22].owner+"",g,r,d,m=o[22].group+"",a,p,C,y=o[22].modtime+"",E,S,k,L=o[22].permissions+"",T,O,I,K,z;const X=[nl,rl,sl,il],R=[];function B(j,Y){return j[22].type==="d"?0:j[22].type==="f"?1:j[22].type==="l"?2:3}s=B(o),h=R[s]=X[s](o);let M=o[22].type==="f"&&Ls(o);function H(){return o[20](o[22])}return{c(){e=x("tr"),t=x("td"),h.c(),v=q(),_=x("wbr"),i=q(),l=ee(n),f=q(),c=x("td"),M&&M.c(),u=q(),b=x("td"),g=ee(w),r=q(),d=x("wbr"),a=ee(m),p=q(),C=x("td"),E=ee(y),S=q(),k=x("td"),T=ee(L),O=q(),D(c,"class","text-end"),ge(c,"word-break","break-all"),D(b,"class","text-center"),D(C,"class","text-center"),D(k,"class","text-center font-monospace"),ge(k,"word-break","break-all"),D(e,"class","svelte-s66s5j"),he(e,"clickable",o[22].type==="d"||o[0])},m(j,Y){W(j,e,Y),A(e,t),R[s].m(t,null),A(t,v),A(t,_),A(t,i),A(t,l),A(e,f),A(e,c),M&&M.m(c,null),A(e,u),A(e,b),A(b,g),A(b,r),A(b,d),A(b,a),A(e,p),A(e,C),A(C,E),A(e,S),A(e,k),A(k,T),A(e,O),I=!0,K||(z=_e(e,"click",H),K=!0)},p(j,Y){o=j;let re=s;s=B(o),s===re?R[s].p(o,Y):(pe(),V(R[re],1,1,()=>{R[re]=null}),me(),h=R[s],h?h.p(o,Y):(h=R[s]=X[s](o),h.c()),N(h,1),h.m(t,v)),(!I||Y[0]&32)&&n!==(n=o[22].name+"")&&ce(l,n),o[22].type==="f"?M?M.p(o,Y):(M=Ls(o),M.c(),M.m(c,null)):M&&(M.d(1),M=null),(!I||Y[0]&32)&&w!==(w=o[22].owner+"")&&ce(g,w),(!I||Y[0]&32)&&m!==(m=o[22].group+"")&&ce(a,m),(!I||Y[0]&32)&&y!==(y=o[22].modtime+"")&&ce(E,y),(!I||Y[0]&32)&&L!==(L=o[22].permissions+"")&&ce(T,L),(!I||Y[0]&33)&&he(e,"clickable",o[22].type==="d"||o[0])},i(j){I||(N(h),I=!0)},o(j){V(h),I=!1},d(j){j&&U(e),R[s].d(),M&&M.d(),K=!1,z()}}}function ol(o){let e,t,s,h;const v=[Go,qo],_=[];function i(n,l){return n[4]?0:1}return t=i(o),s=_[t]=v[t](o),{c(){e=x("div"),s.c(),ge(e,"overflow-x","auto")},m(n,l){W(n,e,l),_[t].m(e,null),h=!0},p(n,l){let f=t;t=i(n),t===f?_[t].p(n,l):(pe(),V(_[f],1,1,()=>{_[f]=null}),me(),s=_[t],s?s.p(n,l):(s=_[t]=v[t](n),s.c()),N(s,1),s.m(e,null))},i(n){h||(N(s),h=!0)},o(n){V(s),h=!1},d(n){n&&U(e),_[t].d()}}}function ll(o,e,t){let s,{container_id:h}=e,{allow_download:v}=e,{allow_upload:_}=e,i,n=!0,l,f="/",c=null,u=null;Lt(()=>{h!==l&&(l=h,t(4,n=!0),t(2,f="/"),t(5,c=null),t(6,u=null),h&&ae.send("get_filesystem_info",{container_id:h}))}),Ne(()=>{ae.register("get_filesystem_info",k=>{w(k.workdir),t(6,u=k)},k=>Ce.add({text:k,type:"error"})),ae.register("get_directory_list",k=>{window.scrollTo({top:0,behavior:"smooth"}),t(5,c=k.entries),t(2,f=k.path),t(4,n=!1)},k=>{Ce.add({text:k,type:"error"}),t(5,c=null),t(4,n=!1)}),ae.register("download_file",k=>{oo(k.blob,k.payload.path.split("/").pop())},k=>Ce.add({text:k,type:"error"})),ae.register("create_folder",()=>{w(f)},k=>Ce.add({text:k,type:"error"})),ae.register("upload_file",()=>{w(f)},k=>Ce.add({text:k,type:"error"}))}),Qe(()=>{ae.unregister("get_filesystem_info"),ae.unregister("get_directory_list"),ae.unregister("create_folder"),ae.unregister("upload_file"),ae.unregister("download_file")});function b(k){let L=f;L.endsWith("/")||(L+="/"),L+=k,w(L)}function w(k){t(2,f=k),ae.send("get_directory_list",{container_id:h,path:k}),t(4,n=!0),t(5,c=null)}function g(k){v&&ae.send("download_file",{container_id:h,path:`${f}/${k}`})}function r(){const k=prompt("Folder name:");k&&ae.send("create_folder",{container_id:h,path:`${f}/${k}`})}async function d(){const k=T=>new Promise((O,I)=>{const K=new FileReader;K.readAsDataURL(T),K.onload=()=>O(K.result.split(",")[1]),K.onerror=z=>I(z)}),L=i.files[0];confirm(`Upload file "${L.name}"?`)&&ae.send("upload_file",{container_id:h,path:`${f}/${L.name}`,content:await k(L)})}const m=()=>w(u.workdir),a=()=>w(f),p=k=>w(k.totalPath),C=()=>i.click();function y(k){et[k?"unshift":"push"](()=>{i=k,t(3,i)})}const E=k=>w(k.destination),S=k=>k.type==="d"?b(k.name):g(k.name);return o.$$set=k=>{"container_id"in k&&t(13,h=k.container_id),"allow_download"in k&&t(0,v=k.allow_download),"allow_upload"in k&&t(1,_=k.allow_upload)},o.$$.update=()=>{o.$$.dirty[0]&4&&t(7,s=()=>{const k=[],L=f.split("/");let T="";for(const O of L)O&&(T+="/"+O,k.push({segment:O,totalPath:T}));return k.unshift({segment:"/",totalPath:"/"}),k})},[v,_,f,i,n,c,u,s,b,w,g,r,d,h,m,a,p,C,y,E,S]}class al extends Me{constructor(e){super(),Be(this,e,ll,ol,Te,{container_id:13,allow_download:0,allow_upload:1},null,[-1,-1])}}function Ds(o,e,t){const s=o.slice();return s[7]=e[t],s}function As(o,e,t){const s=o.slice();return s[10]=e[t],s[12]=t,s}function cl(o){let e,t,s,h,v,_=o[1]||[],i=[];for(let l=0;l<_.length;l+=1)i[l]=Os(Ds(o,_,l));const n=l=>V(i[l],1,1,()=>{i[l]=null});return{c(){e=x("table"),t=x("thead"),t.innerHTML=`<tr><th scope="col" class="text-end" title="Process ID">PID</th> 
                <th scope="col" class="text-end" title="Processor Usage">CPU</th> 
                <th scope="col" class="text-end">Memory</th> 
                <th scope="col" class="text-center">Started At</th> 
                <th scope="col" class="text-center">User</th> 
                <th scope="col" class="text-start">Command</th></tr>`,s=q(),h=x("tbody");for(let l=0;l<i.length;l+=1)i[l].c();D(e,"class","table table-striped")},m(l,f){W(l,e,f),A(e,t),A(e,s),A(e,h);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(h,null);v=!0},p(l,f){if(f&2){_=l[1]||[];let c;for(c=0;c<_.length;c+=1){const u=Ds(l,_,c);i[c]?(i[c].p(u,f),N(i[c],1)):(i[c]=Os(u),i[c].c(),N(i[c],1),i[c].m(h,null))}for(pe(),c=_.length;c<i.length;c+=1)n(c);me()}},i(l){if(!v){for(let f=0;f<_.length;f+=1)N(i[f]);v=!0}},o(l){i=i.filter(Boolean);for(let f=0;f<i.length;f+=1)V(i[f]);v=!1},d(l){l&&U(e),$e(i,l)}}}function hl(o){let e;return{c(){e=x("div"),e.innerHTML=`<strong>Loading...</strong> 
            <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div>`,D(e,"class","d-flex align-items-center")},m(t,s){W(t,e,s)},p:se,i:se,o:se,d(t){t&&U(e)}}}function Ts(o){let e=o[7]["%cpu"]+"",t,s;return{c(){t=ee(e),s=ee("%")},m(h,v){W(h,t,v),W(h,s,v)},p(h,v){v&2&&e!==(e=h[7]["%cpu"]+"")&&ce(t,e)},d(h){h&&U(t),h&&U(s)}}}function Bs(o){let e=o[7]["%mem"]+"",t,s;return{c(){t=ee(e),s=ee("%")},m(h,v){W(h,t,v),W(h,s,v)},p(h,v){v&2&&e!==(e=h[7]["%mem"]+"")&&ce(t,e)},d(h){h&&U(t),h&&U(s)}}}function Ms(o){let e,t;return e=new ue({props:{icon:$n,rotate:90}}),{c(){le(e.$$.fragment)},m(s,h){ne(e,s,h),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){oe(e,s)}}}function xs(o){let e,t,s=o[7].level===o[12]+1&&Ms();return{c(){e=x("div"),s&&s.c(),ge(e,"width","2rem"),D(e,"class","me-2 d-flex justify-content-end align-items-center")},m(h,v){W(h,e,v),s&&s.m(e,null),t=!0},p(h,v){h[7].level===h[12]+1?s?(s.p(h,v),v&2&&N(s,1)):(s=Ms(),s.c(),N(s,1),s.m(e,null)):s&&(pe(),V(s,1,1,()=>{s=null}),me())},i(h){t||(N(s),t=!0)},o(h){V(s),t=!1},d(h){h&&U(e),s&&s.d()}}}function Os(o){let e,t,s=o[7].pid+"",h,v,_,i=Ye(o[7]["%cpu"],null),n,l,f=Ye(o[7]["%mem"],null),c,u,b=Ye(o[7].stime,"")+"",w,g,r,d=Ye(o[7].user,"")+"",m,a,p,C,y,E,S=o[7].command+"",k,L,T,O=i&&Ts(o),I=f&&Bs(o),K=Array(o[7].level),z=[];for(let R=0;R<K.length;R+=1)z[R]=xs(As(o,K,R));const X=R=>V(z[R],1,1,()=>{z[R]=null});return{c(){e=x("tr"),t=x("td"),h=ee(s),v=q(),_=x("td"),O&&O.c(),n=q(),l=x("td"),I&&I.c(),c=q(),u=x("td"),w=ee(b),g=q(),r=x("td"),m=ee(d),a=q(),p=x("td"),C=x("div");for(let R=0;R<z.length;R+=1)z[R].c();y=q(),E=x("div"),k=ee(S),L=q(),D(t,"class","text-end"),D(_,"class","text-end"),D(l,"class","text-end"),D(u,"class","text-center"),D(r,"class","text-center"),D(E,"class","font-monospace"),D(C,"class","d-flex"),D(p,"class","text-start")},m(R,B){W(R,e,B),A(e,t),A(t,h),A(e,v),A(e,_),O&&O.m(_,null),A(e,n),A(e,l),I&&I.m(l,null),A(e,c),A(e,u),A(u,w),A(e,g),A(e,r),A(r,m),A(e,a),A(e,p),A(p,C);for(let M=0;M<z.length;M+=1)z[M]&&z[M].m(C,null);A(C,y),A(C,E),A(E,k),A(e,L),T=!0},p(R,B){if((!T||B&2)&&s!==(s=R[7].pid+"")&&ce(h,s),B&2&&(i=Ye(R[7]["%cpu"],null)),i?O?O.p(R,B):(O=Ts(R),O.c(),O.m(_,null)):O&&(O.d(1),O=null),B&2&&(f=Ye(R[7]["%mem"],null)),f?I?I.p(R,B):(I=Bs(R),I.c(),I.m(l,null)):I&&(I.d(1),I=null),(!T||B&2)&&b!==(b=Ye(R[7].stime,"")+"")&&ce(w,b),(!T||B&2)&&d!==(d=Ye(R[7].user,"")+"")&&ce(m,d),B&2){K=Array(R[7].level);let M;for(M=0;M<K.length;M+=1){const H=As(R,K,M);z[M]?(z[M].p(H,B),N(z[M],1)):(z[M]=xs(H),z[M].c(),N(z[M],1),z[M].m(C,y))}for(pe(),M=K.length;M<z.length;M+=1)X(M);me()}(!T||B&2)&&S!==(S=R[7].command+"")&&ce(k,S)},i(R){if(!T){for(let B=0;B<K.length;B+=1)N(z[B]);T=!0}},o(R){z=z.filter(Boolean);for(let B=0;B<z.length;B+=1)V(z[B]);T=!1},d(R){R&&U(e),O&&O.d(),I&&I.d(),$e(z,R)}}}function fl(o){let e,t,s,h;const v=[hl,cl],_=[];function i(n,l){return n[0]?0:1}return t=i(o),s=_[t]=v[t](o),{c(){e=x("div"),s.c(),ge(e,"overflow-x","auto")},m(n,l){W(n,e,l),_[t].m(e,null),h=!0},p(n,[l]){let f=t;t=i(n),t===f?_[t].p(n,l):(pe(),V(_[f],1,1,()=>{_[f]=null}),me(),s=_[t],s?s.p(n,l):(s=_[t]=v[t](n),s.c()),N(s,1),s.m(e,null))},i(n){h||(N(s),h=!0)},o(n){V(s),h=!1},d(n){n&&U(e),_[t].d()}}}function Ye(o,e){return o??e}function dl(o,e,t){let{container_id:s}=e,h,v,_=!0,i=null;return Lt(()=>{s!==h&&(h=s,t(0,_=!0),t(1,i=null),s&&ae.send("get_processes",{container_id:s}))}),Ne(()=>{ae.register("get_processes",n=>{t(1,i=n),t(0,_=!1)},n=>Ce.add({text:n,type:"error"})),v=setInterval(()=>{ae.send("get_processes",{container_id:s})},3e3)}),Qe(()=>{clearInterval(v),ae.unregister("get_processes")}),o.$$set=n=>{"container_id"in n&&t(2,s=n.container_id)},[_,i,s]}class ul extends Me{constructor(e){super(),Be(this,e,dl,fl,Te,{container_id:2})}}var Sr={exports:{}};(function(o,e){(function(t,s){o.exports=s()})(self,function(){return(()=>{var t={4567:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.AccessibilityManager=void 0;const l=n(9042),f=n(6114),c=n(9924),u=n(3656),b=n(844),w=n(5596),g=n(9631);class r extends b.Disposable{constructor(m,a){super(),this._terminal=m,this._renderService=a,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityTreeRoot=document.createElement("div"),this._accessibilityTreeRoot.classList.add("xterm-accessibility"),this._accessibilityTreeRoot.tabIndex=0,this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let p=0;p<this._terminal.rows;p++)this._rowElements[p]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[p]);if(this._topBoundaryFocusListener=p=>this._handleBoundaryFocus(p,0),this._bottomBoundaryFocusListener=p=>this._handleBoundaryFocus(p,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityTreeRoot.appendChild(this._rowContainer),this._renderRowsDebouncer=new c.TimeBasedDebouncer(this._renderRows.bind(this)),this._refreshRows(),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityTreeRoot.appendChild(this._liveRegion),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityTreeRoot),this.register(this._renderRowsDebouncer),this.register(this._terminal.onResize(p=>this._handleResize(p.rows))),this.register(this._terminal.onRender(p=>this._refreshRows(p.start,p.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(p=>this._handleChar(p))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(p=>this._handleTab(p))),this.register(this._terminal.onKey(p=>this._handleKey(p.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new w.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,u.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this.register((0,b.toDisposable)(()=>{(0,g.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0}))}_handleBoundaryFocus(m,a){const p=m.target,C=this._rowElements[a===0?1:this._rowElements.length-2];if(p.getAttribute("aria-posinset")===(a===0?"1":`${this._terminal.buffer.lines.length}`)||m.relatedTarget!==C)return;let y,E;if(a===0?(y=p,E=this._rowElements.pop(),this._rowContainer.removeChild(E)):(y=this._rowElements.shift(),E=p,this._rowContainer.removeChild(y)),y.removeEventListener("focus",this._topBoundaryFocusListener),E.removeEventListener("focus",this._bottomBoundaryFocusListener),a===0){const S=this._createAccessibilityTreeNode();this._rowElements.unshift(S),this._rowContainer.insertAdjacentElement("afterbegin",S)}else{const S=this._createAccessibilityTreeNode();this._rowElements.push(S),this._rowContainer.appendChild(S)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(a===0?-1:1),this._rowElements[a===0?1:this._rowElements.length-2].focus(),m.preventDefault(),m.stopImmediatePropagation()}_handleResize(m){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let a=this._rowContainer.children.length;a<this._terminal.rows;a++)this._rowElements[a]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[a]);for(;this._rowElements.length>m;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const m=document.createElement("div");return m.setAttribute("role","listitem"),m.tabIndex=-1,this._refreshRowDimensions(m),m}_handleTab(m){for(let a=0;a<m;a++)this._handleChar(" ")}_handleChar(m){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==m&&(this._charsToAnnounce+=m):this._charsToAnnounce+=m,m===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=l.tooMuchOutput)),f.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityTreeRoot.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,f.isMac&&(0,g.removeElementFromParent)(this._liveRegion)}_handleKey(m){this._clearLiveRegion(),/\p{Control}/u.test(m)||this._charsToConsume.push(m)}_refreshRows(m,a){this._renderRowsDebouncer.refresh(m,a,this._terminal.rows)}_renderRows(m,a){const p=this._terminal.buffer,C=p.lines.length.toString();for(let y=m;y<=a;y++){const E=p.translateBufferLineToString(p.ydisp+y,!0),S=(p.ydisp+y+1).toString(),k=this._rowElements[y];k&&(E.length===0?k.innerText=" ":k.textContent=E,k.setAttribute("aria-posinset",S),k.setAttribute("aria-setsize",C))}this._announceCharacters()}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityTreeRoot.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let m=0;m<this._terminal.rows;m++)this._refreshRowDimensions(this._rowElements[m])}}_refreshRowDimensions(m){m.style.height=`${this._renderService.dimensions.css.cell.height}px`}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}}i.AccessibilityManager=r},3614:(_,i)=>{function n(u){return u.replace(/\r?\n/g,"\r")}function l(u,b){return b?"\x1B[200~"+u+"\x1B[201~":u}function f(u,b,w){u=l(u=n(u),w.decPrivateModes.bracketedPasteMode),w.triggerDataEvent(u,!0),b.value=""}function c(u,b,w){const g=w.getBoundingClientRect(),r=u.clientX-g.left-10,d=u.clientY-g.top-10;b.style.width="20px",b.style.height="20px",b.style.left=`${r}px`,b.style.top=`${d}px`,b.style.zIndex="1000",b.focus()}Object.defineProperty(i,"__esModule",{value:!0}),i.rightClickHandler=i.moveTextAreaUnderMouseCursor=i.paste=i.handlePasteEvent=i.copyHandler=i.bracketTextForPaste=i.prepareTextForTerminal=void 0,i.prepareTextForTerminal=n,i.bracketTextForPaste=l,i.copyHandler=function(u,b){u.clipboardData&&u.clipboardData.setData("text/plain",b.selectionText),u.preventDefault()},i.handlePasteEvent=function(u,b,w){u.stopPropagation(),u.clipboardData&&f(u.clipboardData.getData("text/plain"),b,w)},i.paste=f,i.moveTextAreaUnderMouseCursor=c,i.rightClickHandler=function(u,b,w,g,r){c(u,b,w),r&&g.rightClickSelect(u),b.value=g.selectionText,b.select()}},7239:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorContrastCache=void 0;const l=n(1505);i.ColorContrastCache=class{constructor(){this._color=new l.TwoKeyMap,this._css=new l.TwoKeyMap}setCss(f,c,u){this._css.set(f,c,u)}getCss(f,c){return this._css.get(f,c)}setColor(f,c,u){this._color.set(f,c,u)}getColor(f,c){return this._color.get(f,c)}clear(){this._color.clear(),this._css.clear()}}},9631:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.removeElementFromParent=void 0,i.removeElementFromParent=function(...n){var l;for(const f of n)(l=f==null?void 0:f.parentElement)===null||l===void 0||l.removeChild(f)}},3656:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.addDisposableDomListener=void 0,i.addDisposableDomListener=function(n,l,f,c){n.addEventListener(l,f,c);let u=!1;return{dispose:()=>{u||(u=!0,n.removeEventListener(l,f,c))}}}},6465:function(_,i,n){var l=this&&this.__decorate||function(r,d,m,a){var p,C=arguments.length,y=C<3?d:a===null?a=Object.getOwnPropertyDescriptor(d,m):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(r,d,m,a);else for(var E=r.length-1;E>=0;E--)(p=r[E])&&(y=(C<3?p(y):C>3?p(d,m,y):p(d,m))||y);return C>3&&y&&Object.defineProperty(d,m,y),y},f=this&&this.__param||function(r,d){return function(m,a){d(m,a,r)}};Object.defineProperty(i,"__esModule",{value:!0}),i.Linkifier2=void 0;const c=n(2585),u=n(8460),b=n(844),w=n(3656);let g=class extends b.Disposable{constructor(r){super(),this._bufferService=r,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._activeLine=-1,this._onShowLinkUnderline=this.register(new u.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new u.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,b.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,b.toDisposable)(()=>{this._lastMouseEvent=void 0}))}get currentLink(){return this._currentLink}registerLinkProvider(r){return this._linkProviders.push(r),{dispose:()=>{const d=this._linkProviders.indexOf(r);d!==-1&&this._linkProviders.splice(d,1)}}}attachToDom(r,d,m){this._element=r,this._mouseService=d,this._renderService=m,this.register((0,w.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,w.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,w.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,w.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(r){if(this._lastMouseEvent=r,!this._element||!this._mouseService)return;const d=this._positionFromMouseEvent(r,this._element,this._mouseService);if(!d)return;this._isMouseOut=!1;const m=r.composedPath();for(let a=0;a<m.length;a++){const p=m[a];if(p.classList.contains("xterm"))break;if(p.classList.contains("xterm-hover"))return}this._lastBufferCell&&d.x===this._lastBufferCell.x&&d.y===this._lastBufferCell.y||(this._handleHover(d),this._lastBufferCell=d)}_handleHover(r){if(this._activeLine!==r.y)return this._clearCurrentLink(),void this._askForLink(r,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,r)||(this._clearCurrentLink(),this._askForLink(r,!0))}_askForLink(r,d){var m,a;this._activeProviderReplies&&d||((m=this._activeProviderReplies)===null||m===void 0||m.forEach(C=>{C==null||C.forEach(y=>{y.link.dispose&&y.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=r.y);let p=!1;for(const[C,y]of this._linkProviders.entries())d?!((a=this._activeProviderReplies)===null||a===void 0)&&a.get(C)&&(p=this._checkLinkProviderResult(C,r,p)):y.provideLinks(r.y,E=>{var S,k;if(this._isMouseOut)return;const L=E==null?void 0:E.map(T=>({link:T}));(S=this._activeProviderReplies)===null||S===void 0||S.set(C,L),p=this._checkLinkProviderResult(C,r,p),((k=this._activeProviderReplies)===null||k===void 0?void 0:k.size)===this._linkProviders.length&&this._removeIntersectingLinks(r.y,this._activeProviderReplies)})}_removeIntersectingLinks(r,d){const m=new Set;for(let a=0;a<d.size;a++){const p=d.get(a);if(p)for(let C=0;C<p.length;C++){const y=p[C],E=y.link.range.start.y<r?0:y.link.range.start.x,S=y.link.range.end.y>r?this._bufferService.cols:y.link.range.end.x;for(let k=E;k<=S;k++){if(m.has(k)){p.splice(C--,1);break}m.add(k)}}}}_checkLinkProviderResult(r,d,m){var a;if(!this._activeProviderReplies)return m;const p=this._activeProviderReplies.get(r);let C=!1;for(let y=0;y<r;y++)this._activeProviderReplies.has(y)&&!this._activeProviderReplies.get(y)||(C=!0);if(!C&&p){const y=p.find(E=>this._linkAtPosition(E.link,d));y&&(m=!0,this._handleNewLink(y))}if(this._activeProviderReplies.size===this._linkProviders.length&&!m)for(let y=0;y<this._activeProviderReplies.size;y++){const E=(a=this._activeProviderReplies.get(y))===null||a===void 0?void 0:a.find(S=>this._linkAtPosition(S.link,d));if(E){m=!0,this._handleNewLink(E);break}}return m}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(r){if(!this._element||!this._mouseService||!this._currentLink)return;const d=this._positionFromMouseEvent(r,this._element,this._mouseService);d&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,d)&&this._currentLink.link.activate(r,this._currentLink.link.text)}_clearCurrentLink(r,d){this._element&&this._currentLink&&this._lastMouseEvent&&(!r||!d||this._currentLink.link.range.start.y>=r&&this._currentLink.link.range.end.y<=d)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,b.disposeArray)(this._linkCacheDisposables))}_handleNewLink(r){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const d=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);d&&this._linkAtPosition(r.link,d)&&(this._currentLink=r,this._currentLink.state={decorations:{underline:r.link.decorations===void 0||r.link.decorations.underline,pointerCursor:r.link.decorations===void 0||r.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,r.link,this._lastMouseEvent),r.link.decorations={},Object.defineProperties(r.link.decorations,{pointerCursor:{get:()=>{var m,a;return(a=(m=this._currentLink)===null||m===void 0?void 0:m.state)===null||a===void 0?void 0:a.decorations.pointerCursor},set:m=>{var a,p;!((a=this._currentLink)===null||a===void 0)&&a.state&&this._currentLink.state.decorations.pointerCursor!==m&&(this._currentLink.state.decorations.pointerCursor=m,this._currentLink.state.isHovered&&((p=this._element)===null||p===void 0||p.classList.toggle("xterm-cursor-pointer",m)))}},underline:{get:()=>{var m,a;return(a=(m=this._currentLink)===null||m===void 0?void 0:m.state)===null||a===void 0?void 0:a.decorations.underline},set:m=>{var a,p,C;!((a=this._currentLink)===null||a===void 0)&&a.state&&((C=(p=this._currentLink)===null||p===void 0?void 0:p.state)===null||C===void 0?void 0:C.decorations.underline)!==m&&(this._currentLink.state.decorations.underline=m,this._currentLink.state.isHovered&&this._fireUnderlineEvent(r.link,m))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(m=>{const a=m.start===0?0:m.start+1+this._bufferService.buffer.ydisp,p=this._currentLink?this._lastMouseEvent:void 0;if(this._clearCurrentLink(a,m.end+1+this._bufferService.buffer.ydisp),p&&this._element){const C=this._positionFromMouseEvent(p,this._element,this._mouseService);C&&this._askForLink(C,!1)}})))}_linkHover(r,d,m){var a;!((a=this._currentLink)===null||a===void 0)&&a.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(d,!0),this._currentLink.state.decorations.pointerCursor&&r.classList.add("xterm-cursor-pointer")),d.hover&&d.hover(m,d.text)}_fireUnderlineEvent(r,d){const m=r.range,a=this._bufferService.buffer.ydisp,p=this._createLinkUnderlineEvent(m.start.x-1,m.start.y-a-1,m.end.x,m.end.y-a-1,void 0);(d?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(p)}_linkLeave(r,d,m){var a;!((a=this._currentLink)===null||a===void 0)&&a.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(d,!1),this._currentLink.state.decorations.pointerCursor&&r.classList.remove("xterm-cursor-pointer")),d.leave&&d.leave(m,d.text)}_linkAtPosition(r,d){const m=r.range.start.y*this._bufferService.cols+r.range.start.x,a=r.range.end.y*this._bufferService.cols+r.range.end.x,p=d.y*this._bufferService.cols+d.x;return m<=p&&p<=a}_positionFromMouseEvent(r,d,m){const a=m.getCoords(r,d,this._bufferService.cols,this._bufferService.rows);if(a)return{x:a[0],y:a[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(r,d,m,a,p){return{x1:r,y1:d,x2:m,y2:a,cols:this._bufferService.cols,fg:p}}};g=l([f(0,c.IBufferService)],g),i.Linkifier2=g},9042:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.tooMuchOutput=i.promptLabel=void 0,i.promptLabel="Terminal input",i.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(_,i,n){var l=this&&this.__decorate||function(g,r,d,m){var a,p=arguments.length,C=p<3?r:m===null?m=Object.getOwnPropertyDescriptor(r,d):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(g,r,d,m);else for(var y=g.length-1;y>=0;y--)(a=g[y])&&(C=(p<3?a(C):p>3?a(r,d,C):a(r,d))||C);return p>3&&C&&Object.defineProperty(r,d,C),C},f=this&&this.__param||function(g,r){return function(d,m){r(d,m,g)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OscLinkProvider=void 0;const c=n(511),u=n(2585);let b=class{constructor(g,r,d){this._bufferService=g,this._optionsService=r,this._oscLinkService=d}provideLinks(g,r){var d;const m=this._bufferService.buffer.lines.get(g-1);if(!m)return void r(void 0);const a=[],p=this._optionsService.rawOptions.linkHandler,C=new c.CellData,y=m.getTrimmedLength();let E=-1,S=-1,k=!1;for(let L=0;L<y;L++)if(S!==-1||m.hasContent(L)){if(m.loadCell(L,C),C.hasExtendedAttrs()&&C.extended.urlId){if(S===-1){S=L,E=C.extended.urlId;continue}k=C.extended.urlId!==E}else S!==-1&&(k=!0);if(k||S!==-1&&L===y-1){const T=(d=this._oscLinkService.getLinkData(E))===null||d===void 0?void 0:d.uri;if(T){const O={start:{x:S+1,y:g},end:{x:L+(k||L!==y-1?0:1),y:g}};let I=!1;if(!(p!=null&&p.allowNonHttpProtocols))try{const K=new URL(T);["http:","https:"].includes(K.protocol)||(I=!0)}catch{I=!0}I||a.push({text:T,range:O,activate:(K,z)=>p?p.activate(K,z,O):w(0,z),hover:(K,z)=>{var X;return(X=p==null?void 0:p.hover)===null||X===void 0?void 0:X.call(p,K,z,O)},leave:(K,z)=>{var X;return(X=p==null?void 0:p.leave)===null||X===void 0?void 0:X.call(p,K,z,O)}})}k=!1,C.hasExtendedAttrs()&&C.extended.urlId?(S=L,E=C.extended.urlId):(S=-1,E=-1)}}r(a)}};function w(g,r){if(confirm(`Do you want to navigate to ${r}?

WARNING: This link could potentially be dangerous`)){const d=window.open();if(d){try{d.opener=null}catch{}d.location.href=r}else console.warn("Opening link blocked as opener could not be cleared")}}b=l([f(0,u.IBufferService),f(1,u.IOptionsService),f(2,u.IOscLinkService)],b),i.OscLinkProvider=b},6193:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.RenderDebouncer=void 0,i.RenderDebouncer=class{constructor(n,l){this._parentWindow=n,this._renderCallback=l,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(n){return this._refreshCallbacks.push(n),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(n,l,f){this._rowCount=f,n=n!==void 0?n:0,l=l!==void 0?l:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,n):n,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,l):l,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const n=Math.max(this._rowStart,0),l=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(n,l),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const n of this._refreshCallbacks)n(0);this._refreshCallbacks=[]}}},5596:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ScreenDprMonitor=void 0;const l=n(844);class f extends l.Disposable{constructor(u){super(),this._parentWindow=u,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,l.toDisposable)(()=>{this.clearListener()}))}setListener(u){this._listener&&this.clearListener(),this._listener=u,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var u;this._outerListener&&((u=this._resolutionMediaMatchList)===null||u===void 0||u.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}i.ScreenDprMonitor=f},3236:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Terminal=void 0;const l=n(2950),f=n(1680),c=n(3614),u=n(2584),b=n(5435),w=n(9312),g=n(6114),r=n(3656),d=n(9042),m=n(4567),a=n(1296),p=n(7399),C=n(8460),y=n(8437),E=n(3230),S=n(4725),k=n(428),L=n(8934),T=n(6465),O=n(5114),I=n(8969),K=n(8055),z=n(4269),X=n(5941),R=n(3107),B=n(5744),M=n(9074),H=n(2585),j=n(3730),Y=n(844),re=n(6731),J=typeof window<"u"?window.document:null;class ie extends I.CoreTerminal{constructor(P={}){super(P),this.browser=g,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._onCursorMove=this.register(new C.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new C.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new C.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new C.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new C.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new C.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new C.EventEmitter),this._onBlur=this.register(new C.EventEmitter),this._onA11yCharEmitter=this.register(new C.EventEmitter),this._onA11yTabEmitter=this.register(new C.EventEmitter),this._onWillOpen=this.register(new C.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(T.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(j.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(M.DecorationService),this._instantiationService.setService(H.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((F,G)=>this.refresh(F,G))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(F=>this._reportWindowsOptions(F))),this.register(this._inputHandler.onColor(F=>this._handleColorEvent(F))),this.register((0,C.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,C.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,C.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,C.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(F=>this._afterResize(F.cols,F.rows))),this.register((0,Y.toDisposable)(()=>{var F,G;this._customKeyEventHandler=void 0,(G=(F=this.element)===null||F===void 0?void 0:F.parentNode)===null||G===void 0||G.removeChild(this.element)}))}get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}_handleColorEvent(P){if(this._themeService)for(const F of P){let G,Z="";switch(F.index){case 256:G="foreground",Z="10";break;case 257:G="background",Z="11";break;case 258:G="cursor",Z="12";break;default:G="ansi",Z="4;"+F.index}switch(F.type){case 0:const de=K.color.toColorRGB(G==="ansi"?this._themeService.colors.ansi[F.index]:this._themeService.colors[G]);this.coreService.triggerDataEvent(`${u.C0.ESC}]${Z};${(0,X.toRgbString)(de)}${u.C1_ESCAPED.ST}`);break;case 1:if(G==="ansi")this._themeService.modifyColors(te=>te.ansi[F.index]=K.rgba.toColor(...F.color));else{const te=G;this._themeService.modifyColors(be=>be[te]=K.rgba.toColor(...F.color))}break;case 2:this._themeService.restoreColor(F.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(P){var F;P?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new m.AccessibilityManager(this,this._renderService)):((F=this._accessibilityManager)===null||F===void 0||F.dispose(),this._accessibilityManager=void 0)}_handleTextAreaFocus(P){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(u.C0.ESC+"[I"),this.updateCursorStyle(P),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var P;return(P=this.textarea)===null||P===void 0?void 0:P.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(u.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const P=this.buffer.ybase+this.buffer.y,F=this.buffer.lines.get(P);if(!F)return;const G=Math.min(this.buffer.x,this.cols-1),Z=this._renderService.dimensions.css.cell.height,de=F.getWidth(G),te=this._renderService.dimensions.css.cell.width*de,be=this.buffer.y*this._renderService.dimensions.css.cell.height,we=G*this._renderService.dimensions.css.cell.width;this.textarea.style.left=we+"px",this.textarea.style.top=be+"px",this.textarea.style.width=te+"px",this.textarea.style.height=Z+"px",this.textarea.style.lineHeight=Z+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,r.addDisposableDomListener)(this.element,"copy",F=>{this.hasSelection()&&(0,c.copyHandler)(F,this._selectionService)}));const P=F=>(0,c.handlePasteEvent)(F,this.textarea,this.coreService);this.register((0,r.addDisposableDomListener)(this.textarea,"paste",P)),this.register((0,r.addDisposableDomListener)(this.element,"paste",P)),g.isFirefox?this.register((0,r.addDisposableDomListener)(this.element,"mousedown",F=>{F.button===2&&(0,c.rightClickHandler)(F,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,r.addDisposableDomListener)(this.element,"contextmenu",F=>{(0,c.rightClickHandler)(F,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),g.isLinux&&this.register((0,r.addDisposableDomListener)(this.element,"auxclick",F=>{F.button===1&&(0,c.moveTextAreaUnderMouseCursor)(F,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,r.addDisposableDomListener)(this.textarea,"keyup",P=>this._keyUp(P),!0)),this.register((0,r.addDisposableDomListener)(this.textarea,"keydown",P=>this._keyDown(P),!0)),this.register((0,r.addDisposableDomListener)(this.textarea,"keypress",P=>this._keyPress(P),!0)),this.register((0,r.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,r.addDisposableDomListener)(this.textarea,"compositionupdate",P=>this._compositionHelper.compositionupdate(P))),this.register((0,r.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,r.addDisposableDomListener)(this.textarea,"input",P=>this._inputEvent(P),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(P){var F;if(!P)throw new Error("Terminal requires a parent element.");P.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=P.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),P.appendChild(this.element);const G=J.createDocumentFragment();this._viewportElement=J.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),G.appendChild(this._viewportElement),this._viewportScrollArea=J.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=J.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=J.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),G.appendChild(this.screenElement),this.textarea=J.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",d.promptLabel),g.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(O.CoreBrowserService,this.textarea,(F=this._document.defaultView)!==null&&F!==void 0?F:window),this._instantiationService.setService(S.ICoreBrowserService,this._coreBrowserService),this.register((0,r.addDisposableDomListener)(this.textarea,"focus",Z=>this._handleTextAreaFocus(Z))),this.register((0,r.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(k.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(S.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(re.ThemeService),this._instantiationService.setService(S.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(z.CharacterJoinerService),this._instantiationService.setService(S.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(E.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(S.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(Z=>this._onRender.fire(Z))),this.onResize(Z=>this._renderService.resize(Z.cols,Z.rows)),this._compositionView=J.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(l.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(G);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(L.MouseService),this._instantiationService.setService(S.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(f.Viewport,Z=>this.scrollLines(Z,!0,1),this._viewportElement,this._viewportScrollArea),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(w.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(S.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(Z=>this.scrollLines(Z.amount,Z.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(Z=>this._renderService.handleSelectionChanged(Z.start,Z.end,Z.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(Z=>{this.textarea.value=Z,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(Z=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,r.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(R.BufferDecorationRenderer,this.screenElement)),this.register((0,r.addDisposableDomListener)(this.element,"mousedown",Z=>this._selectionService.handleMouseDown(Z))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new m.AccessibilityManager(this,this._renderService)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",Z=>this._handleScreenReaderModeOptionChange(Z))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(B.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",Z=>{!this._overviewRulerRenderer&&Z&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(B.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(a.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const P=this,F=this.element;function G(te){const be=P._mouseService.getMouseReportCoords(te,P.screenElement);if(!be)return!1;let we,Se;switch(te.overrideType||te.type){case"mousemove":Se=32,te.buttons===void 0?(we=3,te.button!==void 0&&(we=te.button<3?te.button:3)):we=1&te.buttons?0:4&te.buttons?1:2&te.buttons?2:3;break;case"mouseup":Se=0,we=te.button<3?te.button:3;break;case"mousedown":Se=1,we=te.button<3?te.button:3;break;case"wheel":if(P.viewport.getLinesScrolled(te)===0)return!1;Se=te.deltaY<0?0:1,we=4;break;default:return!1}return!(Se===void 0||we===void 0||we>4)&&P.coreMouseService.triggerMouseEvent({col:be.col,row:be.row,x:be.x,y:be.y,button:we,action:Se,ctrl:te.ctrlKey,alt:te.altKey,shift:te.shiftKey})}const Z={mouseup:null,wheel:null,mousedrag:null,mousemove:null},de={mouseup:te=>(G(te),te.buttons||(this._document.removeEventListener("mouseup",Z.mouseup),Z.mousedrag&&this._document.removeEventListener("mousemove",Z.mousedrag)),this.cancel(te)),wheel:te=>(G(te),this.cancel(te,!0)),mousedrag:te=>{te.buttons&&G(te)},mousemove:te=>{te.buttons||G(te)}};this.register(this.coreMouseService.onProtocolChange(te=>{te?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(te)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&te?Z.mousemove||(F.addEventListener("mousemove",de.mousemove),Z.mousemove=de.mousemove):(F.removeEventListener("mousemove",Z.mousemove),Z.mousemove=null),16&te?Z.wheel||(F.addEventListener("wheel",de.wheel,{passive:!1}),Z.wheel=de.wheel):(F.removeEventListener("wheel",Z.wheel),Z.wheel=null),2&te?Z.mouseup||(Z.mouseup=de.mouseup):(this._document.removeEventListener("mouseup",Z.mouseup),Z.mouseup=null),4&te?Z.mousedrag||(Z.mousedrag=de.mousedrag):(this._document.removeEventListener("mousemove",Z.mousedrag),Z.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,r.addDisposableDomListener)(F,"mousedown",te=>{if(te.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(te))return G(te),Z.mouseup&&this._document.addEventListener("mouseup",Z.mouseup),Z.mousedrag&&this._document.addEventListener("mousemove",Z.mousedrag),this.cancel(te)})),this.register((0,r.addDisposableDomListener)(F,"wheel",te=>{if(!Z.wheel){if(!this.buffer.hasScrollback){const be=this.viewport.getLinesScrolled(te);if(be===0)return;const we=u.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(te.deltaY<0?"A":"B");let Se="";for(let ve=0;ve<Math.abs(be);ve++)Se+=we;return this.coreService.triggerDataEvent(Se,!0),this.cancel(te,!0)}return this.viewport.handleWheel(te)?this.cancel(te):void 0}},{passive:!1})),this.register((0,r.addDisposableDomListener)(F,"touchstart",te=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(te),this.cancel(te)},{passive:!0})),this.register((0,r.addDisposableDomListener)(F,"touchmove",te=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(te)?void 0:this.cancel(te)},{passive:!1}))}refresh(P,F){var G;(G=this._renderService)===null||G===void 0||G.refreshRows(P,F)}updateCursorStyle(P){var F;!((F=this._selectionService)===null||F===void 0)&&F.shouldColumnSelect(P)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(P,F,G=0){super.scrollLines(P,F,G),this.refresh(0,this.rows-1)}paste(P){(0,c.paste)(P,this.textarea,this.coreService)}attachCustomKeyEventHandler(P){this._customKeyEventHandler=P}registerLinkProvider(P){return this.linkifier2.registerLinkProvider(P)}registerCharacterJoiner(P){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const F=this._characterJoinerService.register(P);return this.refresh(0,this.rows-1),F}deregisterCharacterJoiner(P){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(P)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}addMarker(P){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+P)}registerDecoration(P){return this._decorationService.registerDecoration(P)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(P,F,G){this._selectionService.setSelection(P,F,G)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var P;(P=this._selectionService)===null||P===void 0||P.clearSelection()}selectAll(){var P;(P=this._selectionService)===null||P===void 0||P.selectAll()}selectLines(P,F){var G;(G=this._selectionService)===null||G===void 0||G.selectLines(P,F)}_keyDown(P){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(P)===!1)return!1;const F=this.browser.isMac&&this.options.macOptionIsMeta&&P.altKey;if(!F&&!this._compositionHelper.keydown(P))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;F||P.key!=="Dead"&&P.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const G=(0,p.evaluateKeyboardEvent)(P,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(P),G.type===3||G.type===2){const Z=this.rows-1;return this.scrollLines(G.type===2?-Z:Z),this.cancel(P,!0)}return G.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,P)||(G.cancel&&this.cancel(P,!0),!G.key||!!(P.key&&!P.ctrlKey&&!P.altKey&&!P.metaKey&&P.key.length===1&&P.key.charCodeAt(0)>=65&&P.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(G.key!==u.C0.ETX&&G.key!==u.C0.CR||(this.textarea.value=""),this._onKey.fire({key:G.key,domEvent:P}),this._showCursor(),this.coreService.triggerDataEvent(G.key,!0),!this.optionsService.rawOptions.screenReaderMode||P.altKey||P.ctrlKey?this.cancel(P,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(P,F){const G=P.isMac&&!this.options.macOptionIsMeta&&F.altKey&&!F.ctrlKey&&!F.metaKey||P.isWindows&&F.altKey&&F.ctrlKey&&!F.metaKey||P.isWindows&&F.getModifierState("AltGraph");return F.type==="keypress"?G:G&&(!F.keyCode||F.keyCode>47)}_keyUp(P){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(P)===!1||(function(F){return F.keyCode===16||F.keyCode===17||F.keyCode===18}(P)||this.focus(),this.updateCursorStyle(P),this._keyPressHandled=!1)}_keyPress(P){let F;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(P)===!1)return!1;if(this.cancel(P),P.charCode)F=P.charCode;else if(P.which===null||P.which===void 0)F=P.keyCode;else{if(P.which===0||P.charCode===0)return!1;F=P.which}return!(!F||(P.altKey||P.ctrlKey||P.metaKey)&&!this._isThirdLevelShift(this.browser,P)||(F=String.fromCharCode(F),this._onKey.fire({key:F,domEvent:P}),this._showCursor(),this.coreService.triggerDataEvent(F,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(P){if(P.data&&P.inputType==="insertText"&&(!P.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const F=P.data;return this.coreService.triggerDataEvent(F,!0),this.cancel(P),!0}return!1}resize(P,F){P!==this.cols||F!==this.rows?super.resize(P,F):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(P,F){var G,Z;(G=this._charSizeService)===null||G===void 0||G.measure(),(Z=this.viewport)===null||Z===void 0||Z.syncScrollArea(!0)}clear(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let P=1;P<this.rows;P++)this.buffer.lines.push(this.buffer.getBlankLine(y.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}}reset(){var P,F;this.options.rows=this.rows,this.options.cols=this.cols;const G=this._customKeyEventHandler;this._setup(),super.reset(),(P=this._selectionService)===null||P===void 0||P.reset(),this._decorationService.reset(),this._customKeyEventHandler=G,this.refresh(0,this.rows-1),(F=this.viewport)===null||F===void 0||F.syncScrollArea()}clearTextureAtlas(){var P;(P=this._renderService)===null||P===void 0||P.clearTextureAtlas()}_reportFocus(){var P;!((P=this.element)===null||P===void 0)&&P.classList.contains("focus")?this.coreService.triggerDataEvent(u.C0.ESC+"[I"):this.coreService.triggerDataEvent(u.C0.ESC+"[O")}_reportWindowsOptions(P){if(this._renderService)switch(P){case b.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const F=this._renderService.dimensions.css.canvas.width.toFixed(0),G=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${u.C0.ESC}[4;${G};${F}t`);break;case b.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const Z=this._renderService.dimensions.css.cell.width.toFixed(0),de=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${u.C0.ESC}[6;${de};${Z}t`)}}cancel(P,F){if(this.options.cancelEvents||F)return P.preventDefault(),P.stopPropagation(),!1}}i.Terminal=ie},9924:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TimeBasedDebouncer=void 0,i.TimeBasedDebouncer=class{constructor(n,l=1e3){this._renderCallback=n,this._debounceThresholdMS=l,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(n,l,f){this._rowCount=f,n=n!==void 0?n:0,l=l!==void 0?l:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,n):n,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,l):l;const c=Date.now();if(c-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=c,this._innerRefresh();else if(!this._additionalRefreshRequested){const u=c-this._lastRefreshMs,b=this._debounceThresholdMS-u;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},b)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const n=Math.max(this._rowStart,0),l=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(n,l)}}},1680:function(_,i,n){var l=this&&this.__decorate||function(r,d,m,a){var p,C=arguments.length,y=C<3?d:a===null?a=Object.getOwnPropertyDescriptor(d,m):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(r,d,m,a);else for(var E=r.length-1;E>=0;E--)(p=r[E])&&(y=(C<3?p(y):C>3?p(d,m,y):p(d,m))||y);return C>3&&y&&Object.defineProperty(d,m,y),y},f=this&&this.__param||function(r,d){return function(m,a){d(m,a,r)}};Object.defineProperty(i,"__esModule",{value:!0}),i.Viewport=void 0;const c=n(844),u=n(3656),b=n(4725),w=n(2585);let g=class extends c.Disposable{constructor(r,d,m,a,p,C,y,E,S){super(),this._scrollLines=r,this._viewportElement=d,this._scrollArea=m,this._bufferService=a,this._optionsService=p,this._charSizeService=C,this._renderService=y,this._coreBrowserService=E,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,u.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(k=>this._activeBuffer=k.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(k=>this._renderDimensions=k)),this._handleThemeChange(S.colors),this.register(S.onChangeColors(k=>this._handleThemeChange(k))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea(),0)}_handleThemeChange(r){this._viewportElement.style.backgroundColor=r.background.css}_refresh(r){if(r)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const d=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==d&&(this._lastRecordedBufferHeight=d,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const r=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==r&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=r),this._refreshAnimationFrame=null}syncScrollArea(r=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(r);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(r)}_handleScroll(r){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);const d=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(d)}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const r=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(r*(this._smoothScrollState.target-this._smoothScrollState.origin)),r<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(r,d){const m=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(d<0&&this._viewportElement.scrollTop!==0||d>0&&m<this._lastRecordedBufferHeight)||(r.cancelable&&r.preventDefault(),!1)}handleWheel(r){const d=this._getPixelsScrolled(r);return d!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+d:this._smoothScrollState.target+=d,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=d,this._bubbleScroll(r,d))}_getPixelsScrolled(r){if(r.deltaY===0||r.shiftKey)return 0;let d=this._applyScrollModifier(r.deltaY,r);return r.deltaMode===WheelEvent.DOM_DELTA_LINE?d*=this._currentRowHeight:r.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(d*=this._currentRowHeight*this._bufferService.rows),d}getLinesScrolled(r){if(r.deltaY===0||r.shiftKey)return 0;let d=this._applyScrollModifier(r.deltaY,r);return r.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(d/=this._currentRowHeight+0,this._wheelPartialScroll+=d,d=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):r.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(d*=this._bufferService.rows),d}_applyScrollModifier(r,d){const m=this._optionsService.rawOptions.fastScrollModifier;return m==="alt"&&d.altKey||m==="ctrl"&&d.ctrlKey||m==="shift"&&d.shiftKey?r*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:r*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(r){this._lastTouchY=r.touches[0].pageY}handleTouchMove(r){const d=this._lastTouchY-r.touches[0].pageY;return this._lastTouchY=r.touches[0].pageY,d!==0&&(this._viewportElement.scrollTop+=d,this._bubbleScroll(r,d))}};g=l([f(3,w.IBufferService),f(4,w.IOptionsService),f(5,b.ICharSizeService),f(6,b.IRenderService),f(7,b.ICoreBrowserService),f(8,b.IThemeService)],g),i.Viewport=g},3107:function(_,i,n){var l=this&&this.__decorate||function(r,d,m,a){var p,C=arguments.length,y=C<3?d:a===null?a=Object.getOwnPropertyDescriptor(d,m):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(r,d,m,a);else for(var E=r.length-1;E>=0;E--)(p=r[E])&&(y=(C<3?p(y):C>3?p(d,m,y):p(d,m))||y);return C>3&&y&&Object.defineProperty(d,m,y),y},f=this&&this.__param||function(r,d){return function(m,a){d(m,a,r)}};Object.defineProperty(i,"__esModule",{value:!0}),i.BufferDecorationRenderer=void 0;const c=n(3656),u=n(4725),b=n(844),w=n(2585);let g=class extends b.Disposable{constructor(r,d,m,a){super(),this._screenElement=r,this._bufferService=d,this._decorationService=m,this._renderService=a,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,c.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(p=>this._removeDecoration(p))),this.register((0,b.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const r of this._decorationService.decorations)this._renderDecoration(r);this._dimensionsChanged=!1}_renderDecoration(r){this._refreshStyle(r),this._dimensionsChanged&&this._refreshXPosition(r)}_createElement(r){var d;const m=document.createElement("div");m.classList.add("xterm-decoration"),m.style.width=`${Math.round((r.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,m.style.height=(r.options.height||1)*this._renderService.dimensions.css.cell.height+"px",m.style.top=(r.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",m.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const a=(d=r.options.x)!==null&&d!==void 0?d:0;return a&&a>this._bufferService.cols&&(m.style.display="none"),this._refreshXPosition(r,m),m}_refreshStyle(r){const d=r.marker.line-this._bufferService.buffers.active.ydisp;if(d<0||d>=this._bufferService.rows)r.element&&(r.element.style.display="none",r.onRenderEmitter.fire(r.element));else{let m=this._decorationElements.get(r);m||(m=this._createElement(r),r.element=m,this._decorationElements.set(r,m),this._container.appendChild(m)),m.style.top=d*this._renderService.dimensions.css.cell.height+"px",m.style.display=this._altBufferIsActive?"none":"block",r.onRenderEmitter.fire(m)}}_refreshXPosition(r,d=r.element){var m;if(!d)return;const a=(m=r.options.x)!==null&&m!==void 0?m:0;(r.options.anchor||"left")==="right"?d.style.right=a?a*this._renderService.dimensions.css.cell.width+"px":"":d.style.left=a?a*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(r){var d;(d=this._decorationElements.get(r))===null||d===void 0||d.remove(),this._decorationElements.delete(r),r.dispose()}};g=l([f(1,w.IBufferService),f(2,w.IDecorationService),f(3,u.IRenderService)],g),i.BufferDecorationRenderer=g},5871:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorZoneStore=void 0,i.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(n){if(n.options.overviewRulerOptions){for(const l of this._zones)if(l.color===n.options.overviewRulerOptions.color&&l.position===n.options.overviewRulerOptions.position){if(this._lineIntersectsZone(l,n.marker.line))return;if(this._lineAdjacentToZone(l,n.marker.line,n.options.overviewRulerOptions.position))return void this._addLineToZone(l,n.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=n.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=n.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=n.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=n.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:n.options.overviewRulerOptions.color,position:n.options.overviewRulerOptions.position,startBufferLine:n.marker.line,endBufferLine:n.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(n){this._linePadding=n}_lineIntersectsZone(n,l){return l>=n.startBufferLine&&l<=n.endBufferLine}_lineAdjacentToZone(n,l,f){return l>=n.startBufferLine-this._linePadding[f||"full"]&&l<=n.endBufferLine+this._linePadding[f||"full"]}_addLineToZone(n,l){n.startBufferLine=Math.min(n.startBufferLine,l),n.endBufferLine=Math.max(n.endBufferLine,l)}}},5744:function(_,i,n){var l=this&&this.__decorate||function(p,C,y,E){var S,k=arguments.length,L=k<3?C:E===null?E=Object.getOwnPropertyDescriptor(C,y):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(p,C,y,E);else for(var T=p.length-1;T>=0;T--)(S=p[T])&&(L=(k<3?S(L):k>3?S(C,y,L):S(C,y))||L);return k>3&&L&&Object.defineProperty(C,y,L),L},f=this&&this.__param||function(p,C){return function(y,E){C(y,E,p)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OverviewRulerRenderer=void 0;const c=n(5871),u=n(3656),b=n(4725),w=n(844),g=n(2585),r={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0},m={full:0,left:0,center:0,right:0};let a=class extends w.Disposable{constructor(p,C,y,E,S,k,L){var T;super(),this._viewportElement=p,this._screenElement=C,this._bufferService=y,this._decorationService=E,this._renderService=S,this._optionsService=k,this._coreBrowseService=L,this._colorZoneStore=new c.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(T=this._viewportElement.parentElement)===null||T===void 0||T.insertBefore(this._canvas,this._viewportElement);const O=this._canvas.getContext("2d");if(!O)throw new Error("Ctx cannot be null");this._ctx=O,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,w.toDisposable)(()=>{var I;(I=this._canvas)===null||I===void 0||I.remove()}))}get _width(){return this._optionsService.options.overviewRulerWidth||0}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,u.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const p=Math.floor(this._canvas.width/3),C=Math.ceil(this._canvas.width/3);d.full=this._canvas.width,d.left=p,d.center=C,d.right=p,this._refreshDrawHeightConstants(),m.full=0,m.left=0,m.center=d.left,m.right=d.left+d.center}_refreshDrawHeightConstants(){r.full=Math.round(2*this._coreBrowseService.dpr);const p=this._canvas.height/this._bufferService.buffer.lines.length,C=Math.round(Math.max(Math.min(p,12),6)*this._coreBrowseService.dpr);r.left=C,r.center=C,r.right=C}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*r.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*r.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*r.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*r.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const C of this._decorationService.decorations)this._colorZoneStore.addDecoration(C);this._ctx.lineWidth=1;const p=this._colorZoneStore.zones;for(const C of p)C.position!=="full"&&this._renderColorZone(C);for(const C of p)C.position==="full"&&this._renderColorZone(C);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(p){this._ctx.fillStyle=p.color,this._ctx.fillRect(m[p.position||"full"],Math.round((this._canvas.height-1)*(p.startBufferLine/this._bufferService.buffers.active.lines.length)-r[p.position||"full"]/2),d[p.position||"full"],Math.round((this._canvas.height-1)*((p.endBufferLine-p.startBufferLine)/this._bufferService.buffers.active.lines.length)+r[p.position||"full"]))}_queueRefresh(p,C){this._shouldUpdateDimensions=p||this._shouldUpdateDimensions,this._shouldUpdateAnchor=C||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};a=l([f(2,g.IBufferService),f(3,g.IDecorationService),f(4,b.IRenderService),f(5,g.IOptionsService),f(6,b.ICoreBrowserService)],a),i.OverviewRulerRenderer=a},2950:function(_,i,n){var l=this&&this.__decorate||function(g,r,d,m){var a,p=arguments.length,C=p<3?r:m===null?m=Object.getOwnPropertyDescriptor(r,d):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(g,r,d,m);else for(var y=g.length-1;y>=0;y--)(a=g[y])&&(C=(p<3?a(C):p>3?a(r,d,C):a(r,d))||C);return p>3&&C&&Object.defineProperty(r,d,C),C},f=this&&this.__param||function(g,r){return function(d,m){r(d,m,g)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CompositionHelper=void 0;const c=n(4725),u=n(2585),b=n(2584);let w=class{constructor(g,r,d,m,a,p){this._textarea=g,this._compositionView=r,this._bufferService=d,this._optionsService=m,this._coreService=a,this._renderService=p,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}get isComposing(){return this._isComposing}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(g){this._compositionView.textContent=g.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(g){if(this._isComposing||this._isSendingComposition){if(g.keyCode===229||g.keyCode===16||g.keyCode===17||g.keyCode===18)return!1;this._finalizeComposition(!1)}return g.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(g){if(this._compositionView.classList.remove("active"),this._isComposing=!1,g){const r={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let d;this._isSendingComposition=!1,r.start+=this._dataAlreadySent.length,d=this._isComposing?this._textarea.value.substring(r.start,r.end):this._textarea.value.substring(r.start),d.length>0&&this._coreService.triggerDataEvent(d,!0)}},0)}else{this._isSendingComposition=!1;const r=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(r,!0)}}_handleAnyTextareaChanges(){const g=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const r=this._textarea.value,d=r.replace(g,"");this._dataAlreadySent=d,r.length>g.length?this._coreService.triggerDataEvent(d,!0):r.length<g.length?this._coreService.triggerDataEvent(`${b.C0.DEL}`,!0):r.length===g.length&&r!==g&&this._coreService.triggerDataEvent(r,!0)}},0)}updateCompositionElements(g){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const r=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),d=this._renderService.dimensions.css.cell.height,m=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,a=r*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=a+"px",this._compositionView.style.top=m+"px",this._compositionView.style.height=d+"px",this._compositionView.style.lineHeight=d+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const p=this._compositionView.getBoundingClientRect();this._textarea.style.left=a+"px",this._textarea.style.top=m+"px",this._textarea.style.width=Math.max(p.width,1)+"px",this._textarea.style.height=Math.max(p.height,1)+"px",this._textarea.style.lineHeight=p.height+"px"}g||setTimeout(()=>this.updateCompositionElements(!0),0)}}};w=l([f(2,u.IBufferService),f(3,u.IOptionsService),f(4,u.ICoreService),f(5,c.IRenderService)],w),i.CompositionHelper=w},9806:(_,i)=>{function n(l,f,c){const u=c.getBoundingClientRect(),b=l.getComputedStyle(c),w=parseInt(b.getPropertyValue("padding-left")),g=parseInt(b.getPropertyValue("padding-top"));return[f.clientX-u.left-w,f.clientY-u.top-g]}Object.defineProperty(i,"__esModule",{value:!0}),i.getCoords=i.getCoordsRelativeToElement=void 0,i.getCoordsRelativeToElement=n,i.getCoords=function(l,f,c,u,b,w,g,r,d){if(!w)return;const m=n(l,f,c);return m?(m[0]=Math.ceil((m[0]+(d?g/2:0))/g),m[1]=Math.ceil(m[1]/r),m[0]=Math.min(Math.max(m[0],1),u+(d?1:0)),m[1]=Math.min(Math.max(m[1],1),b),m):void 0}},9504:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.moveToCellSequence=void 0;const l=n(2584);function f(r,d,m,a){const p=r-c(r,m),C=d-c(d,m),y=Math.abs(p-C)-function(E,S,k){let L=0;const T=E-c(E,k),O=S-c(S,k);for(let I=0;I<Math.abs(T-O);I++){const K=u(E,S)==="A"?-1:1,z=k.buffer.lines.get(T+K*I);z!=null&&z.isWrapped&&L++}return L}(r,d,m);return g(y,w(u(r,d),a))}function c(r,d){let m=0,a=d.buffer.lines.get(r),p=a==null?void 0:a.isWrapped;for(;p&&r>=0&&r<d.rows;)m++,a=d.buffer.lines.get(--r),p=a==null?void 0:a.isWrapped;return m}function u(r,d){return r>d?"A":"B"}function b(r,d,m,a,p,C){let y=r,E=d,S="";for(;y!==m||E!==a;)y+=p?1:-1,p&&y>C.cols-1?(S+=C.buffer.translateBufferLineToString(E,!1,r,y),y=0,r=0,E++):!p&&y<0&&(S+=C.buffer.translateBufferLineToString(E,!1,0,r+1),y=C.cols-1,r=y,E--);return S+C.buffer.translateBufferLineToString(E,!1,r,y)}function w(r,d){const m=d?"O":"[";return l.C0.ESC+m+r}function g(r,d){r=Math.floor(r);let m="";for(let a=0;a<r;a++)m+=d;return m}i.moveToCellSequence=function(r,d,m,a){const p=m.buffer.x,C=m.buffer.y;if(!m.buffer.hasScrollback)return function(S,k,L,T,O,I){return f(k,T,O,I).length===0?"":g(b(S,k,S,k-c(k,O),!1,O).length,w("D",I))}(p,C,0,d,m,a)+f(C,d,m,a)+function(S,k,L,T,O,I){let K;K=f(k,T,O,I).length>0?T-c(T,O):k;const z=T,X=function(R,B,M,H,j,Y){let re;return re=f(M,H,j,Y).length>0?H-c(H,j):B,R<M&&re<=H||R>=M&&re<H?"C":"D"}(S,k,L,T,O,I);return g(b(S,K,L,z,X==="C",O).length,w(X,I))}(p,C,r,d,m,a);let y;if(C===d)return y=p>r?"D":"C",g(Math.abs(p-r),w(y,a));y=C>d?"D":"C";const E=Math.abs(C-d);return g(function(S,k){return k.cols-S}(C>d?r:p,m)+(E-1)*m.cols+1+((C>d?p:r)-1),w(y,a))}},1296:function(_,i,n){var l=this&&this.__decorate||function(S,k,L,T){var O,I=arguments.length,K=I<3?k:T===null?T=Object.getOwnPropertyDescriptor(k,L):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(S,k,L,T);else for(var z=S.length-1;z>=0;z--)(O=S[z])&&(K=(I<3?O(K):I>3?O(k,L,K):O(k,L))||K);return I>3&&K&&Object.defineProperty(k,L,K),K},f=this&&this.__param||function(S,k){return function(L,T){k(L,T,S)}};Object.defineProperty(i,"__esModule",{value:!0}),i.DomRenderer=void 0;const c=n(9631),u=n(3787),b=n(2223),w=n(6171),g=n(4725),r=n(8055),d=n(8460),m=n(844),a=n(2585),p="xterm-dom-renderer-owner-",C="xterm-focus";let y=1,E=class extends m.Disposable{constructor(S,k,L,T,O,I,K,z,X,R){super(),this._element=S,this._screenElement=k,this._viewportElement=L,this._linkifier2=T,this._charSizeService=I,this._optionsService=K,this._bufferService=z,this._coreBrowserService=X,this._terminalClass=y++,this._rowElements=[],this._cellToRowElements=[],this.onRequestRedraw=this.register(new d.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add("xterm-rows"),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add("xterm-selection"),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,w.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(R.onChangeColors(B=>this._injectCss(B))),this._injectCss(R.colors),this._rowFactory=O.createInstance(u.DomRendererRowFactory,document),this._element.classList.add(p+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(B=>this._handleLinkHover(B))),this.register(this._linkifier2.onHideLinkUnderline(B=>this._handleLinkLeave(B))),this.register((0,m.toDisposable)(()=>{this._element.classList.remove(p+this._terminalClass),(0,c.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement)}))}_updateDimensions(){const S=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*S,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*S),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/S),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/S),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const L of this._rowElements)L.style.width=`${this.dimensions.css.canvas.width}px`,L.style.height=`${this.dimensions.css.cell.height}px`,L.style.lineHeight=`${this.dimensions.css.cell.height}px`,L.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const k=`${this._terminalSelector} .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: ${this.dimensions.css.cell.width}px}`;this._dimensionsStyleElement.textContent=k,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(S){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let k=`${this._terminalSelector} .xterm-rows { color: ${S.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px;}`;k+=`${this._terminalSelector} span:not(.${u.BOLD_CLASS}) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.${u.BOLD_CLASS} { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.${u.ITALIC_CLASS} { font-style: italic;}`,k+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",k+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${S.cursor.css};  color: ${S.cursorAccent.css}; } 50% {  background-color: ${S.cursorAccent.css};  color: ${S.cursor.css}; }}`,k+=`${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${u.CURSOR_CLASS}.${u.CURSOR_STYLE_BLOCK_CLASS} { outline: 1px solid ${S.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .xterm-rows.xterm-focus .${u.CURSOR_CLASS}.${u.CURSOR_BLINK_CLASS}:not(.${u.CURSOR_STYLE_BLOCK_CLASS}) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${u.CURSOR_CLASS}.${u.CURSOR_BLINK_CLASS}.${u.CURSOR_STYLE_BLOCK_CLASS} { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${u.CURSOR_CLASS}.${u.CURSOR_STYLE_BLOCK_CLASS} { background-color: ${S.cursor.css}; color: ${S.cursorAccent.css};}${this._terminalSelector} .xterm-rows .${u.CURSOR_CLASS}.${u.CURSOR_STYLE_BAR_CLASS} { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${S.cursor.css} inset;}${this._terminalSelector} .xterm-rows .${u.CURSOR_CLASS}.${u.CURSOR_STYLE_UNDERLINE_CLASS} { box-shadow: 0 -1px 0 ${S.cursor.css} inset;}`,k+=`${this._terminalSelector} .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .xterm-selection div { position: absolute; background-color: ${S.selectionBackgroundOpaque.css};}${this._terminalSelector} .xterm-selection div { position: absolute; background-color: ${S.selectionInactiveBackgroundOpaque.css};}`;for(const[L,T]of S.ansi.entries())k+=`${this._terminalSelector} .xterm-fg-${L} { color: ${T.css}; }${this._terminalSelector} .xterm-bg-${L} { background-color: ${T.css}; }`;k+=`${this._terminalSelector} .xterm-fg-${b.INVERTED_DEFAULT_COLOR} { color: ${r.color.opaque(S.background).css}; }${this._terminalSelector} .xterm-bg-${b.INVERTED_DEFAULT_COLOR} { background-color: ${S.foreground.css}; }`,this._themeStyleElement.textContent=k}handleDevicePixelRatioChange(){this._updateDimensions()}_refreshRowElements(S,k){for(let L=this._rowElements.length;L<=k;L++){const T=document.createElement("div");this._rowContainer.appendChild(T),this._rowElements.push(T)}for(;this._rowElements.length>k;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(S,k){this._refreshRowElements(S,k),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions()}handleBlur(){this._rowContainer.classList.remove(C)}handleFocus(){this._rowContainer.classList.add(C)}handleSelectionChanged(S,k,L){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(this._rowFactory.handleSelectionChanged(S,k,L),this.renderRows(0,this._bufferService.rows-1),!S||!k)return;const T=S[1]-this._bufferService.buffer.ydisp,O=k[1]-this._bufferService.buffer.ydisp,I=Math.max(T,0),K=Math.min(O,this._bufferService.rows-1);if(I>=this._bufferService.rows||K<0)return;const z=document.createDocumentFragment();if(L){const X=S[0]>k[0];z.appendChild(this._createSelectionElement(I,X?k[0]:S[0],X?S[0]:k[0],K-I+1))}else{const X=T===I?S[0]:0,R=I===O?k[0]:this._bufferService.cols;z.appendChild(this._createSelectionElement(I,X,R));const B=K-I-1;if(z.appendChild(this._createSelectionElement(I+1,0,this._bufferService.cols,B)),I!==K){const M=O===K?k[0]:this._bufferService.cols;z.appendChild(this._createSelectionElement(K,0,M))}}this._selectionContainer.appendChild(z)}_createSelectionElement(S,k,L,T=1){const O=document.createElement("div");return O.style.height=T*this.dimensions.css.cell.height+"px",O.style.top=S*this.dimensions.css.cell.height+"px",O.style.left=k*this.dimensions.css.cell.width+"px",O.style.width=this.dimensions.css.cell.width*(L-k)+"px",O}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions()}clear(){for(const S of this._rowElements)S.replaceChildren()}renderRows(S,k){const L=this._bufferService.buffer.ybase+this._bufferService.buffer.y,T=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),O=this._optionsService.rawOptions.cursorBlink;for(let I=S;I<=k;I++){const K=this._rowElements[I],z=I+this._bufferService.buffer.ydisp,X=this._bufferService.buffer.lines.get(z),R=this._optionsService.rawOptions.cursorStyle;this._cellToRowElements[I]&&this._cellToRowElements[I].length===this._bufferService.cols||(this._cellToRowElements[I]=new Int16Array(this._bufferService.cols)),K.replaceChildren(this._rowFactory.createRow(X,z,z===L,R,T,O,this.dimensions.css.cell.width,this._bufferService.cols,this._cellToRowElements[I]))}}get _terminalSelector(){return`.${p}${this._terminalClass}`}_handleLinkHover(S){this._setCellUnderline(S.x1,S.x2,S.y1,S.y2,S.cols,!0)}_handleLinkLeave(S){this._setCellUnderline(S.x1,S.x2,S.y1,S.y2,S.cols,!1)}_setCellUnderline(S,k,L,T,O,I){if(S=this._cellToRowElements[L][S],k=this._cellToRowElements[T][k],S!==-1&&k!==-1)for(;S!==k||L!==T;){const K=this._rowElements[L];if(!K)return;const z=K.children[S];z&&(z.style.textDecoration=I?"underline":"none"),++S>=O&&(S=0,L++)}}};E=l([f(4,a.IInstantiationService),f(5,g.ICharSizeService),f(6,a.IOptionsService),f(7,a.IBufferService),f(8,g.ICoreBrowserService),f(9,g.IThemeService)],E),i.DomRenderer=E},3787:function(_,i,n){var l=this&&this.__decorate||function(y,E,S,k){var L,T=arguments.length,O=T<3?E:k===null?k=Object.getOwnPropertyDescriptor(E,S):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(y,E,S,k);else for(var I=y.length-1;I>=0;I--)(L=y[I])&&(O=(T<3?L(O):T>3?L(E,S,O):L(E,S))||O);return T>3&&O&&Object.defineProperty(E,S,O),O},f=this&&this.__param||function(y,E){return function(S,k){E(S,k,y)}};Object.defineProperty(i,"__esModule",{value:!0}),i.DomRendererRowFactory=i.CURSOR_STYLE_UNDERLINE_CLASS=i.CURSOR_STYLE_BAR_CLASS=i.CURSOR_STYLE_BLOCK_CLASS=i.CURSOR_BLINK_CLASS=i.CURSOR_CLASS=i.STRIKETHROUGH_CLASS=i.UNDERLINE_CLASS=i.ITALIC_CLASS=i.DIM_CLASS=i.BOLD_CLASS=void 0;const c=n(2223),u=n(643),b=n(511),w=n(2585),g=n(8055),r=n(4725),d=n(4269),m=n(6171),a=n(3734);i.BOLD_CLASS="xterm-bold",i.DIM_CLASS="xterm-dim",i.ITALIC_CLASS="xterm-italic",i.UNDERLINE_CLASS="xterm-underline",i.STRIKETHROUGH_CLASS="xterm-strikethrough",i.CURSOR_CLASS="xterm-cursor",i.CURSOR_BLINK_CLASS="xterm-cursor-blink",i.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",i.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",i.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";let p=class{constructor(y,E,S,k,L,T,O){this._document=y,this._characterJoinerService=E,this._optionsService=S,this._coreBrowserService=k,this._coreService=L,this._decorationService=T,this._themeService=O,this._workCell=new b.CellData,this._columnSelectMode=!1}handleSelectionChanged(y,E,S){this._selectionStart=y,this._selectionEnd=E,this._columnSelectMode=S}createRow(y,E,S,k,L,T,O,I,K){const z=this._document.createDocumentFragment(),X=this._characterJoinerService.getJoinedCharacters(E);let R=0;for(let j=Math.min(y.length,I)-1;j>=0;j--)if(y.loadCell(j,this._workCell).getCode()!==u.NULL_CELL_CODE||S&&j===L){R=j+1;break}const B=this._themeService.colors;let M=-1,H=0;for(;H<R;H++){y.loadCell(H,this._workCell);let j=this._workCell.getWidth();if(j===0){K[H]=M;continue}let Y=!1,re=H,J=this._workCell;if(X.length>0&&H===X[0][0]){Y=!0;const ve=X.shift();J=new d.JoinedCellData(this._workCell,y.translateToString(!0,ve[0],ve[1]),ve[1]-ve[0]),re=ve[1]-1,j=J.getWidth()}const ie=this._document.createElement("span");if(j>1&&(ie.style.width=O*j+"px"),Y&&(ie.style.display="inline",L>=H&&L<=re&&(L=H)),!this._coreService.isCursorHidden&&S&&H===L)switch(ie.classList.add(i.CURSOR_CLASS),T&&ie.classList.add(i.CURSOR_BLINK_CLASS),k){case"bar":ie.classList.add(i.CURSOR_STYLE_BAR_CLASS);break;case"underline":ie.classList.add(i.CURSOR_STYLE_UNDERLINE_CLASS);break;default:ie.classList.add(i.CURSOR_STYLE_BLOCK_CLASS)}if(J.isBold()&&ie.classList.add(i.BOLD_CLASS),J.isItalic()&&ie.classList.add(i.ITALIC_CLASS),J.isDim()&&ie.classList.add(i.DIM_CLASS),J.isInvisible()?ie.textContent=u.WHITESPACE_CELL_CHAR:ie.textContent=J.getChars()||u.WHITESPACE_CELL_CHAR,J.isUnderline()&&(ie.classList.add(`${i.UNDERLINE_CLASS}-${J.extended.underlineStyle}`),ie.textContent===" "&&(ie.textContent=" "),!J.isUnderlineColorDefault()))if(J.isUnderlineColorRGB())ie.style.textDecorationColor=`rgb(${a.AttributeData.toColorRGB(J.getUnderlineColor()).join(",")})`;else{let ve=J.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&J.isBold()&&ve<8&&(ve+=8),ie.style.textDecorationColor=B.ansi[ve].css}J.isStrikethrough()&&ie.classList.add(i.STRIKETHROUGH_CLASS);let $=J.getFgColor(),P=J.getFgColorMode(),F=J.getBgColor(),G=J.getBgColorMode();const Z=!!J.isInverse();if(Z){const ve=$;$=F,F=ve;const Ze=P;P=G,G=Ze}let de,te,be=!1;this._decorationService.forEachDecorationAtCell(H,E,void 0,ve=>{ve.options.layer!=="top"&&be||(ve.backgroundColorRGB&&(G=50331648,F=ve.backgroundColorRGB.rgba>>8&16777215,de=ve.backgroundColorRGB),ve.foregroundColorRGB&&(P=50331648,$=ve.foregroundColorRGB.rgba>>8&16777215,te=ve.foregroundColorRGB),be=ve.options.layer==="top")});const we=this._isCellInSelection(H,E);let Se;switch(be||B.selectionForeground&&we&&(P=50331648,$=B.selectionForeground.rgba>>8&16777215,te=B.selectionForeground),we&&(de=this._coreBrowserService.isFocused?B.selectionBackgroundOpaque:B.selectionInactiveBackgroundOpaque,be=!0),be&&ie.classList.add("xterm-decoration-top"),G){case 16777216:case 33554432:Se=B.ansi[F],ie.classList.add(`xterm-bg-${F}`);break;case 50331648:Se=g.rgba.toColor(F>>16,F>>8&255,255&F),this._addStyle(ie,`background-color:#${C((F>>>0).toString(16),"0",6)}`);break;default:Z?(Se=B.foreground,ie.classList.add(`xterm-bg-${c.INVERTED_DEFAULT_COLOR}`)):Se=B.background}switch(de||J.isDim()&&(de=g.color.multiplyOpacity(Se,.5)),P){case 16777216:case 33554432:J.isBold()&&$<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&($+=8),this._applyMinimumContrast(ie,Se,B.ansi[$],J,de,void 0)||ie.classList.add(`xterm-fg-${$}`);break;case 50331648:const ve=g.rgba.toColor($>>16&255,$>>8&255,255&$);this._applyMinimumContrast(ie,Se,ve,J,de,te)||this._addStyle(ie,`color:#${C($.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(ie,Se,B.foreground,J,de,void 0)||Z&&ie.classList.add(`xterm-fg-${c.INVERTED_DEFAULT_COLOR}`)}z.appendChild(ie),K[H]=++M,H=re}return H<I-1&&K.subarray(H).fill(++M),z}_applyMinimumContrast(y,E,S,k,L,T){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,m.excludeFromContrastRatioDemands)(k.getCode()))return!1;let O;return L||T||(O=this._themeService.colors.contrastCache.getColor(E.rgba,S.rgba)),O===void 0&&(O=g.color.ensureContrastRatio(L||E,T||S,this._optionsService.rawOptions.minimumContrastRatio),this._themeService.colors.contrastCache.setColor((L||E).rgba,(T||S).rgba,O??null)),!!O&&(this._addStyle(y,`color:${O.css}`),!0)}_addStyle(y,E){y.setAttribute("style",`${y.getAttribute("style")||""}${E};`)}_isCellInSelection(y,E){const S=this._selectionStart,k=this._selectionEnd;return!(!S||!k)&&(this._columnSelectMode?S[0]<=k[0]?y>=S[0]&&E>=S[1]&&y<k[0]&&E<=k[1]:y<S[0]&&E>=S[1]&&y>=k[0]&&E<=k[1]:E>S[1]&&E<k[1]||S[1]===k[1]&&E===S[1]&&y>=S[0]&&y<k[0]||S[1]<k[1]&&E===k[1]&&y<k[0]||S[1]<k[1]&&E===S[1]&&y>=S[0])}};function C(y,E,S){for(;y.length<S;)y=E+y;return y}p=l([f(1,r.ICharacterJoinerService),f(2,w.IOptionsService),f(3,r.ICoreBrowserService),f(4,w.ICoreService),f(5,w.IDecorationService),f(6,r.IThemeService)],p),i.DomRendererRowFactory=p},2223:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TEXT_BASELINE=i.DIM_OPACITY=i.INVERTED_DEFAULT_COLOR=void 0;const l=n(6114);i.INVERTED_DEFAULT_COLOR=257,i.DIM_OPACITY=.5,i.TEXT_BASELINE=l.isFirefox||l.isLegacyEdge?"bottom":"ideographic"},6171:(_,i)=>{function n(l){return 57508<=l&&l<=57558}Object.defineProperty(i,"__esModule",{value:!0}),i.createRenderDimensions=i.excludeFromContrastRatioDemands=i.isRestrictedPowerlineGlyph=i.isPowerlineGlyph=i.throwIfFalsy=void 0,i.throwIfFalsy=function(l){if(!l)throw new Error("value must not be falsy");return l},i.isPowerlineGlyph=n,i.isRestrictedPowerlineGlyph=function(l){return 57520<=l&&l<=57527},i.excludeFromContrastRatioDemands=function(l){return n(l)||function(f){return 9472<=f&&f<=9631}(l)},i.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SelectionModel=void 0,i.SelectionModel=class{constructor(n){this._bufferService=n,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const n=this.selectionStart[0]+this.selectionStartLength;return n>this._bufferService.cols?n%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(n/this._bufferService.cols)-1]:[n%this._bufferService.cols,this.selectionStart[1]+Math.floor(n/this._bufferService.cols)]:[n,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const n=this.selectionStart[0]+this.selectionStartLength;return n>this._bufferService.cols?[n%this._bufferService.cols,this.selectionStart[1]+Math.floor(n/this._bufferService.cols)]:[Math.max(n,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const n=this.selectionStart,l=this.selectionEnd;return!(!n||!l)&&(n[1]>l[1]||n[1]===l[1]&&n[0]>l[0])}handleTrim(n){return this.selectionStart&&(this.selectionStart[1]-=n),this.selectionEnd&&(this.selectionEnd[1]-=n),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(_,i,n){var l=this&&this.__decorate||function(r,d,m,a){var p,C=arguments.length,y=C<3?d:a===null?a=Object.getOwnPropertyDescriptor(d,m):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(r,d,m,a);else for(var E=r.length-1;E>=0;E--)(p=r[E])&&(y=(C<3?p(y):C>3?p(d,m,y):p(d,m))||y);return C>3&&y&&Object.defineProperty(d,m,y),y},f=this&&this.__param||function(r,d){return function(m,a){d(m,a,r)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CharSizeService=void 0;const c=n(2585),u=n(8460),b=n(844);let w=class extends b.Disposable{constructor(r,d,m){super(),this._optionsService=m,this.width=0,this.height=0,this._onCharSizeChange=this.register(new u.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new g(r,d,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}get hasValidSize(){return this.width>0&&this.height>0}measure(){const r=this._measureStrategy.measure();r.width===this.width&&r.height===this.height||(this.width=r.width,this.height=r.height,this._onCharSizeChange.fire())}};w=l([f(2,c.IOptionsService)],w),i.CharSizeService=w;class g{constructor(d,m,a){this._document=d,this._parentElement=m,this._optionsService=a,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const d=this._measureElement.getBoundingClientRect();return d.width!==0&&d.height!==0&&(this._result.width=d.width,this._result.height=Math.ceil(d.height)),this._result}}},4269:function(_,i,n){var l=this&&this.__decorate||function(d,m,a,p){var C,y=arguments.length,E=y<3?m:p===null?p=Object.getOwnPropertyDescriptor(m,a):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(d,m,a,p);else for(var S=d.length-1;S>=0;S--)(C=d[S])&&(E=(y<3?C(E):y>3?C(m,a,E):C(m,a))||E);return y>3&&E&&Object.defineProperty(m,a,E),E},f=this&&this.__param||function(d,m){return function(a,p){m(a,p,d)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CharacterJoinerService=i.JoinedCellData=void 0;const c=n(3734),u=n(643),b=n(511),w=n(2585);class g extends c.AttributeData{constructor(m,a,p){super(),this.content=0,this.combinedData="",this.fg=m.fg,this.bg=m.bg,this.combinedData=a,this._width=p}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(m){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}i.JoinedCellData=g;let r=class Cr{constructor(m){this._bufferService=m,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new b.CellData}register(m){const a={id:this._nextCharacterJoinerId++,handler:m};return this._characterJoiners.push(a),a.id}deregister(m){for(let a=0;a<this._characterJoiners.length;a++)if(this._characterJoiners[a].id===m)return this._characterJoiners.splice(a,1),!0;return!1}getJoinedCharacters(m){if(this._characterJoiners.length===0)return[];const a=this._bufferService.buffer.lines.get(m);if(!a||a.length===0)return[];const p=[],C=a.translateToString(!0);let y=0,E=0,S=0,k=a.getFg(0),L=a.getBg(0);for(let T=0;T<a.getTrimmedLength();T++)if(a.loadCell(T,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==k||this._workCell.bg!==L){if(T-y>1){const O=this._getJoinedRanges(C,S,E,a,y);for(let I=0;I<O.length;I++)p.push(O[I])}y=T,S=E,k=this._workCell.fg,L=this._workCell.bg}E+=this._workCell.getChars().length||u.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-y>1){const T=this._getJoinedRanges(C,S,E,a,y);for(let O=0;O<T.length;O++)p.push(T[O])}return p}_getJoinedRanges(m,a,p,C,y){const E=m.substring(a,p);let S=[];try{S=this._characterJoiners[0].handler(E)}catch(k){console.error(k)}for(let k=1;k<this._characterJoiners.length;k++)try{const L=this._characterJoiners[k].handler(E);for(let T=0;T<L.length;T++)Cr._mergeRanges(S,L[T])}catch(L){console.error(L)}return this._stringRangesToCellRanges(S,C,y),S}_stringRangesToCellRanges(m,a,p){let C=0,y=!1,E=0,S=m[C];if(S){for(let k=p;k<this._bufferService.cols;k++){const L=a.getWidth(k),T=a.getString(k).length||u.WHITESPACE_CELL_CHAR.length;if(L!==0){if(!y&&S[0]<=E&&(S[0]=k,y=!0),S[1]<=E){if(S[1]=k,S=m[++C],!S)break;S[0]<=E?(S[0]=k,y=!0):y=!1}E+=T}}S&&(S[1]=this._bufferService.cols)}}static _mergeRanges(m,a){let p=!1;for(let C=0;C<m.length;C++){const y=m[C];if(p){if(a[1]<=y[0])return m[C-1][1]=a[1],m;if(a[1]<=y[1])return m[C-1][1]=Math.max(a[1],y[1]),m.splice(C,1),m;m.splice(C,1),C--}else{if(a[1]<=y[0])return m.splice(C,0,a),m;if(a[1]<=y[1])return y[0]=Math.min(a[0],y[0]),m;a[0]<y[1]&&(y[0]=Math.min(a[0],y[0]),p=!0)}}return p?m[m.length-1][1]=a[1]:m.push(a),m}};r=l([f(0,w.IBufferService)],r),i.CharacterJoinerService=r},5114:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CoreBrowserService=void 0,i.CoreBrowserService=class{constructor(n,l){this._textarea=n,this.window=l,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(_,i,n){var l=this&&this.__decorate||function(w,g,r,d){var m,a=arguments.length,p=a<3?g:d===null?d=Object.getOwnPropertyDescriptor(g,r):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(w,g,r,d);else for(var C=w.length-1;C>=0;C--)(m=w[C])&&(p=(a<3?m(p):a>3?m(g,r,p):m(g,r))||p);return a>3&&p&&Object.defineProperty(g,r,p),p},f=this&&this.__param||function(w,g){return function(r,d){g(r,d,w)}};Object.defineProperty(i,"__esModule",{value:!0}),i.MouseService=void 0;const c=n(4725),u=n(9806);let b=class{constructor(w,g){this._renderService=w,this._charSizeService=g}getCoords(w,g,r,d,m){return(0,u.getCoords)(window,w,g,r,d,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,m)}getMouseReportCoords(w,g){const r=(0,u.getCoordsRelativeToElement)(window,w,g);if(!(!this._charSizeService.hasValidSize||r[0]<0||r[1]<0||r[0]>=this._renderService.dimensions.css.canvas.width||r[1]>=this._renderService.dimensions.css.canvas.height))return{col:Math.floor(r[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(r[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(r[0]),y:Math.floor(r[1])}}};b=l([f(0,c.IRenderService),f(1,c.ICharSizeService)],b),i.MouseService=b},3230:function(_,i,n){var l=this&&this.__decorate||function(p,C,y,E){var S,k=arguments.length,L=k<3?C:E===null?E=Object.getOwnPropertyDescriptor(C,y):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(p,C,y,E);else for(var T=p.length-1;T>=0;T--)(S=p[T])&&(L=(k<3?S(L):k>3?S(C,y,L):S(C,y))||L);return k>3&&L&&Object.defineProperty(C,y,L),L},f=this&&this.__param||function(p,C){return function(y,E){C(y,E,p)}};Object.defineProperty(i,"__esModule",{value:!0}),i.RenderService=void 0;const c=n(6193),u=n(8460),b=n(844),w=n(5596),g=n(3656),r=n(2585),d=n(4725),m=n(7226);let a=class extends b.Disposable{constructor(p,C,y,E,S,k,L,T){if(super(),this._rowCount=p,this._charSizeService=E,this._pausedResizeTask=new m.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new u.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new u.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new u.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new u.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this.register({dispose:()=>{var O;return(O=this._renderer)===null||O===void 0?void 0:O.dispose()}}),this._renderDebouncer=new c.RenderDebouncer(L.window,(O,I)=>this._renderRows(O,I)),this.register(this._renderDebouncer),this._screenDprMonitor=new w.ScreenDprMonitor(L.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(k.onResize(()=>this._fullRefresh())),this.register(k.buffers.onBufferActivate(()=>{var O;return(O=this._renderer)===null||O===void 0?void 0:O.clear()})),this.register(y.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(S.onDecorationRegistered(()=>this._fullRefresh())),this.register(S.onDecorationRemoved(()=>this._fullRefresh())),this.register(y.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(k.cols,k.rows),this._fullRefresh()})),this.register(y.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(k.buffer.y,k.buffer.y,!0))),this.register((0,g.addDisposableDomListener)(L.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(T.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in L.window){const O=new L.window.IntersectionObserver(I=>this._handleIntersectionChange(I[I.length-1]),{threshold:0});O.observe(C),this.register({dispose:()=>O.disconnect()})}}get dimensions(){return this._renderer.dimensions}_handleIntersectionChange(p){this._isPaused=p.isIntersecting===void 0?p.intersectionRatio===0:!p.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(p,C,y=!1){this._isPaused?this._needsFullRefresh=!0:(y||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(p,C,this._rowCount))}_renderRows(p,C){this._renderer&&(this._renderer.renderRows(p,C),this._needsSelectionRefresh&&(this._renderer.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:p,end:C}),this._onRender.fire({start:p,end:C}),this._isNextRenderRedrawOnly=!0)}resize(p,C){this._rowCount=C,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer&&(this._renderer.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions))}hasRenderer(){return!!this._renderer}setRenderer(p){var C;(C=this._renderer)===null||C===void 0||C.dispose(),this._renderer=p,this._renderer.onRequestRedraw(y=>this.refreshRows(y.start,y.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(p){return this._renderDebouncer.addRefreshCallback(p)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var p,C;this._renderer&&((C=(p=this._renderer).clearTextureAtlas)===null||C===void 0||C.call(p),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer&&(this._renderer.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(p,C){this._renderer&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.handleResize(p,C)):this._renderer.handleResize(p,C),this._fullRefresh())}handleCharSizeChanged(){var p;(p=this._renderer)===null||p===void 0||p.handleCharSizeChanged()}handleBlur(){var p;(p=this._renderer)===null||p===void 0||p.handleBlur()}handleFocus(){var p;(p=this._renderer)===null||p===void 0||p.handleFocus()}handleSelectionChanged(p,C,y){var E;this._selectionState.start=p,this._selectionState.end=C,this._selectionState.columnSelectMode=y,(E=this._renderer)===null||E===void 0||E.handleSelectionChanged(p,C,y)}handleCursorMove(){var p;(p=this._renderer)===null||p===void 0||p.handleCursorMove()}clear(){var p;(p=this._renderer)===null||p===void 0||p.clear()}};a=l([f(2,r.IOptionsService),f(3,d.ICharSizeService),f(4,r.IDecorationService),f(5,r.IBufferService),f(6,d.ICoreBrowserService),f(7,d.IThemeService)],a),i.RenderService=a},9312:function(_,i,n){var l=this&&this.__decorate||function(S,k,L,T){var O,I=arguments.length,K=I<3?k:T===null?T=Object.getOwnPropertyDescriptor(k,L):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(S,k,L,T);else for(var z=S.length-1;z>=0;z--)(O=S[z])&&(K=(I<3?O(K):I>3?O(k,L,K):O(k,L))||K);return I>3&&K&&Object.defineProperty(k,L,K),K},f=this&&this.__param||function(S,k){return function(L,T){k(L,T,S)}};Object.defineProperty(i,"__esModule",{value:!0}),i.SelectionService=void 0;const c=n(6114),u=n(456),b=n(511),w=n(8460),g=n(4725),r=n(2585),d=n(9806),m=n(9504),a=n(844),p=n(4841),C=String.fromCharCode(160),y=new RegExp(C,"g");let E=class extends a.Disposable{constructor(S,k,L,T,O,I,K,z,X){super(),this._element=S,this._screenElement=k,this._linkifier=L,this._bufferService=T,this._coreService=O,this._mouseService=I,this._optionsService=K,this._renderService=z,this._coreBrowserService=X,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new b.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new w.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new w.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new w.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new w.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=R=>this._handleMouseMove(R),this._mouseUpListener=R=>this._handleMouseUp(R),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(R=>this._handleTrim(R)),this.register(this._bufferService.buffers.onBufferActivate(R=>this._handleBufferActivate(R))),this.enable(),this._model=new u.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,a.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const S=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;return!(!S||!k||S[0]===k[0]&&S[1]===k[1])}get selectionText(){const S=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;if(!S||!k)return"";const L=this._bufferService.buffer,T=[];if(this._activeSelectionMode===3){if(S[0]===k[0])return"";const O=S[0]<k[0]?S[0]:k[0],I=S[0]<k[0]?k[0]:S[0];for(let K=S[1];K<=k[1];K++){const z=L.translateBufferLineToString(K,!0,O,I);T.push(z)}}else{const O=S[1]===k[1]?k[0]:void 0;T.push(L.translateBufferLineToString(S[1],!0,S[0],O));for(let I=S[1]+1;I<=k[1]-1;I++){const K=L.lines.get(I),z=L.translateBufferLineToString(I,!0);K!=null&&K.isWrapped?T[T.length-1]+=z:T.push(z)}if(S[1]!==k[1]){const I=L.lines.get(k[1]),K=L.translateBufferLineToString(k[1],!0,0,k[0]);I&&I.isWrapped?T[T.length-1]+=K:T.push(K)}}return T.map(O=>O.replace(y," ")).join(c.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(S){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),c.isLinux&&S&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(S){const k=this._getMouseBufferCoords(S),L=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;return!!(L&&T&&k)&&this._areCoordsInSelection(k,L,T)}isCellInSelection(S,k){const L=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;return!(!L||!T)&&this._areCoordsInSelection([S,k],L,T)}_areCoordsInSelection(S,k,L){return S[1]>k[1]&&S[1]<L[1]||k[1]===L[1]&&S[1]===k[1]&&S[0]>=k[0]&&S[0]<L[0]||k[1]<L[1]&&S[1]===L[1]&&S[0]<L[0]||k[1]<L[1]&&S[1]===k[1]&&S[0]>=k[0]}_selectWordAtCursor(S,k){var L,T;const O=(T=(L=this._linkifier.currentLink)===null||L===void 0?void 0:L.link)===null||T===void 0?void 0:T.range;if(O)return this._model.selectionStart=[O.start.x-1,O.start.y-1],this._model.selectionStartLength=(0,p.getRangeLength)(O,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const I=this._getMouseBufferCoords(S);return!!I&&(this._selectWordAt(I,k),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(S,k){this._model.clearSelection(),S=Math.max(S,0),k=Math.min(k,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,S],this._model.selectionEnd=[this._bufferService.cols,k],this.refresh(),this._onSelectionChange.fire()}_handleTrim(S){this._model.handleTrim(S)&&this.refresh()}_getMouseBufferCoords(S){const k=this._mouseService.getCoords(S,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(k)return k[0]--,k[1]--,k[1]+=this._bufferService.buffer.ydisp,k}_getMouseEventScrollAmount(S){let k=(0,d.getCoordsRelativeToElement)(this._coreBrowserService.window,S,this._screenElement)[1];const L=this._renderService.dimensions.css.canvas.height;return k>=0&&k<=L?0:(k>L&&(k-=L),k=Math.min(Math.max(k,-50),50),k/=50,k/Math.abs(k)+Math.round(14*k))}shouldForceSelection(S){return c.isMac?S.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:S.shiftKey}handleMouseDown(S){if(this._mouseDownTimeStamp=S.timeStamp,(S.button!==2||!this.hasSelection)&&S.button===0){if(!this._enabled){if(!this.shouldForceSelection(S))return;S.stopPropagation()}S.preventDefault(),this._dragScrollAmount=0,this._enabled&&S.shiftKey?this._handleIncrementalClick(S):S.detail===1?this._handleSingleClick(S):S.detail===2?this._handleDoubleClick(S):S.detail===3&&this._handleTripleClick(S),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(S){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(S))}_handleSingleClick(S){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(S)?3:0,this._model.selectionStart=this._getMouseBufferCoords(S),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const k=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);k&&k.length!==this._model.selectionStart[0]&&k.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(S){this._selectWordAtCursor(S,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(S){const k=this._getMouseBufferCoords(S);k&&(this._activeSelectionMode=2,this._selectLineAt(k[1]))}shouldColumnSelect(S){return S.altKey&&!(c.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(S){if(S.stopImmediatePropagation(),!this._model.selectionStart)return;const k=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(S),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(S),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const L=this._bufferService.buffer;if(this._model.selectionEnd[1]<L.lines.length){const T=L.lines.get(this._model.selectionEnd[1]);T&&T.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}k&&k[0]===this._model.selectionEnd[0]&&k[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const S=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(S.ydisp+this._bufferService.rows,S.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=S.ydisp),this.refresh()}}_handleMouseUp(S){const k=S.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&k<500&&S.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const L=this._mouseService.getCoords(S,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(L&&L[0]!==void 0&&L[1]!==void 0){const T=(0,m.moveToCellSequence)(L[0]-1,L[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(T,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const S=this._model.finalSelectionStart,k=this._model.finalSelectionEnd,L=!(!S||!k||S[0]===k[0]&&S[1]===k[1]);L?S&&k&&(this._oldSelectionStart&&this._oldSelectionEnd&&S[0]===this._oldSelectionStart[0]&&S[1]===this._oldSelectionStart[1]&&k[0]===this._oldSelectionEnd[0]&&k[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(S,k,L)):this._oldHasSelection&&this._fireOnSelectionChange(S,k,L)}_fireOnSelectionChange(S,k,L){this._oldSelectionStart=S,this._oldSelectionEnd=k,this._oldHasSelection=L,this._onSelectionChange.fire()}_handleBufferActivate(S){this.clearSelection(),this._trimListener.dispose(),this._trimListener=S.activeBuffer.lines.onTrim(k=>this._handleTrim(k))}_convertViewportColToCharacterIndex(S,k){let L=k;for(let T=0;k>=T;T++){const O=S.loadCell(T,this._workCell).getChars().length;this._workCell.getWidth()===0?L--:O>1&&k!==T&&(L+=O-1)}return L}setSelection(S,k,L){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[S,k],this._model.selectionStartLength=L,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(S){this._isClickInSelection(S)||(this._selectWordAtCursor(S,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(S,k,L=!0,T=!0){if(S[0]>=this._bufferService.cols)return;const O=this._bufferService.buffer,I=O.lines.get(S[1]);if(!I)return;const K=O.translateBufferLineToString(S[1],!1);let z=this._convertViewportColToCharacterIndex(I,S[0]),X=z;const R=S[0]-z;let B=0,M=0,H=0,j=0;if(K.charAt(z)===" "){for(;z>0&&K.charAt(z-1)===" ";)z--;for(;X<K.length&&K.charAt(X+1)===" ";)X++}else{let J=S[0],ie=S[0];I.getWidth(J)===0&&(B++,J--),I.getWidth(ie)===2&&(M++,ie++);const $=I.getString(ie).length;for($>1&&(j+=$-1,X+=$-1);J>0&&z>0&&!this._isCharWordSeparator(I.loadCell(J-1,this._workCell));){I.loadCell(J-1,this._workCell);const P=this._workCell.getChars().length;this._workCell.getWidth()===0?(B++,J--):P>1&&(H+=P-1,z-=P-1),z--,J--}for(;ie<I.length&&X+1<K.length&&!this._isCharWordSeparator(I.loadCell(ie+1,this._workCell));){I.loadCell(ie+1,this._workCell);const P=this._workCell.getChars().length;this._workCell.getWidth()===2?(M++,ie++):P>1&&(j+=P-1,X+=P-1),X++,ie++}}X++;let Y=z+R-B+H,re=Math.min(this._bufferService.cols,X-z+B+M-H-j);if(k||K.slice(z,X).trim()!==""){if(L&&Y===0&&I.getCodePoint(0)!==32){const J=O.lines.get(S[1]-1);if(J&&I.isWrapped&&J.getCodePoint(this._bufferService.cols-1)!==32){const ie=this._getWordAt([this._bufferService.cols-1,S[1]-1],!1,!0,!1);if(ie){const $=this._bufferService.cols-ie.start;Y-=$,re+=$}}}if(T&&Y+re===this._bufferService.cols&&I.getCodePoint(this._bufferService.cols-1)!==32){const J=O.lines.get(S[1]+1);if(J!=null&&J.isWrapped&&J.getCodePoint(0)!==32){const ie=this._getWordAt([0,S[1]+1],!1,!1,!0);ie&&(re+=ie.length)}}return{start:Y,length:re}}}_selectWordAt(S,k){const L=this._getWordAt(S,k);if(L){for(;L.start<0;)L.start+=this._bufferService.cols,S[1]--;this._model.selectionStart=[L.start,S[1]],this._model.selectionStartLength=L.length}}_selectToWordAt(S){const k=this._getWordAt(S,!0);if(k){let L=S[1];for(;k.start<0;)k.start+=this._bufferService.cols,L--;if(!this._model.areSelectionValuesReversed())for(;k.start+k.length>this._bufferService.cols;)k.length-=this._bufferService.cols,L++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?k.start:k.start+k.length,L]}}_isCharWordSeparator(S){return S.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(S.getChars())>=0}_selectLineAt(S){const k=this._bufferService.buffer.getWrappedRangeForLine(S),L={start:{x:0,y:k.first},end:{x:this._bufferService.cols-1,y:k.last}};this._model.selectionStart=[0,k.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,p.getRangeLength)(L,this._bufferService.cols)}};E=l([f(3,r.IBufferService),f(4,r.ICoreService),f(5,g.IMouseService),f(6,r.IOptionsService),f(7,g.IRenderService),f(8,g.ICoreBrowserService)],E),i.SelectionService=E},4725:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.IThemeService=i.ICharacterJoinerService=i.ISelectionService=i.IRenderService=i.IMouseService=i.ICoreBrowserService=i.ICharSizeService=void 0;const l=n(8343);i.ICharSizeService=(0,l.createDecorator)("CharSizeService"),i.ICoreBrowserService=(0,l.createDecorator)("CoreBrowserService"),i.IMouseService=(0,l.createDecorator)("MouseService"),i.IRenderService=(0,l.createDecorator)("RenderService"),i.ISelectionService=(0,l.createDecorator)("SelectionService"),i.ICharacterJoinerService=(0,l.createDecorator)("CharacterJoinerService"),i.IThemeService=(0,l.createDecorator)("ThemeService")},6731:function(_,i,n){var l=this&&this.__decorate||function(E,S,k,L){var T,O=arguments.length,I=O<3?S:L===null?L=Object.getOwnPropertyDescriptor(S,k):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(E,S,k,L);else for(var K=E.length-1;K>=0;K--)(T=E[K])&&(I=(O<3?T(I):O>3?T(S,k,I):T(S,k))||I);return O>3&&I&&Object.defineProperty(S,k,I),I},f=this&&this.__param||function(E,S){return function(k,L){S(k,L,E)}};Object.defineProperty(i,"__esModule",{value:!0}),i.ThemeService=i.DEFAULT_ANSI_COLORS=void 0;const c=n(7239),u=n(8055),b=n(8460),w=n(844),g=n(2585),r=u.css.toColor("#ffffff"),d=u.css.toColor("#000000"),m=u.css.toColor("#ffffff"),a=u.css.toColor("#000000"),p={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};i.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const E=[u.css.toColor("#2e3436"),u.css.toColor("#cc0000"),u.css.toColor("#4e9a06"),u.css.toColor("#c4a000"),u.css.toColor("#3465a4"),u.css.toColor("#75507b"),u.css.toColor("#06989a"),u.css.toColor("#d3d7cf"),u.css.toColor("#555753"),u.css.toColor("#ef2929"),u.css.toColor("#8ae234"),u.css.toColor("#fce94f"),u.css.toColor("#729fcf"),u.css.toColor("#ad7fa8"),u.css.toColor("#34e2e2"),u.css.toColor("#eeeeec")],S=[0,95,135,175,215,255];for(let k=0;k<216;k++){const L=S[k/36%6|0],T=S[k/6%6|0],O=S[k%6];E.push({css:u.channels.toCss(L,T,O),rgba:u.channels.toRgba(L,T,O)})}for(let k=0;k<24;k++){const L=8+10*k;E.push({css:u.channels.toCss(L,L,L),rgba:u.channels.toRgba(L,L,L)})}return E})());let C=class extends w.Disposable{constructor(E){super(),this._optionsService=E,this._onChangeColors=this.register(new b.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._contrastCache=new c.ColorContrastCache,this._colors={foreground:r,background:d,cursor:m,cursorAccent:a,selectionForeground:void 0,selectionBackgroundTransparent:p,selectionBackgroundOpaque:u.color.blend(d,p),selectionInactiveBackgroundTransparent:p,selectionInactiveBackgroundOpaque:u.color.blend(d,p),ansi:i.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}get colors(){return this._colors}_setTheme(E={}){const S=this._colors;if(S.foreground=y(E.foreground,r),S.background=y(E.background,d),S.cursor=y(E.cursor,m),S.cursorAccent=y(E.cursorAccent,a),S.selectionBackgroundTransparent=y(E.selectionBackground,p),S.selectionBackgroundOpaque=u.color.blend(S.background,S.selectionBackgroundTransparent),S.selectionInactiveBackgroundTransparent=y(E.selectionInactiveBackground,S.selectionBackgroundTransparent),S.selectionInactiveBackgroundOpaque=u.color.blend(S.background,S.selectionInactiveBackgroundTransparent),S.selectionForeground=E.selectionForeground?y(E.selectionForeground,u.NULL_COLOR):void 0,S.selectionForeground===u.NULL_COLOR&&(S.selectionForeground=void 0),u.color.isOpaque(S.selectionBackgroundTransparent)&&(S.selectionBackgroundTransparent=u.color.opacity(S.selectionBackgroundTransparent,.3)),u.color.isOpaque(S.selectionInactiveBackgroundTransparent)&&(S.selectionInactiveBackgroundTransparent=u.color.opacity(S.selectionInactiveBackgroundTransparent,.3)),S.ansi=i.DEFAULT_ANSI_COLORS.slice(),S.ansi[0]=y(E.black,i.DEFAULT_ANSI_COLORS[0]),S.ansi[1]=y(E.red,i.DEFAULT_ANSI_COLORS[1]),S.ansi[2]=y(E.green,i.DEFAULT_ANSI_COLORS[2]),S.ansi[3]=y(E.yellow,i.DEFAULT_ANSI_COLORS[3]),S.ansi[4]=y(E.blue,i.DEFAULT_ANSI_COLORS[4]),S.ansi[5]=y(E.magenta,i.DEFAULT_ANSI_COLORS[5]),S.ansi[6]=y(E.cyan,i.DEFAULT_ANSI_COLORS[6]),S.ansi[7]=y(E.white,i.DEFAULT_ANSI_COLORS[7]),S.ansi[8]=y(E.brightBlack,i.DEFAULT_ANSI_COLORS[8]),S.ansi[9]=y(E.brightRed,i.DEFAULT_ANSI_COLORS[9]),S.ansi[10]=y(E.brightGreen,i.DEFAULT_ANSI_COLORS[10]),S.ansi[11]=y(E.brightYellow,i.DEFAULT_ANSI_COLORS[11]),S.ansi[12]=y(E.brightBlue,i.DEFAULT_ANSI_COLORS[12]),S.ansi[13]=y(E.brightMagenta,i.DEFAULT_ANSI_COLORS[13]),S.ansi[14]=y(E.brightCyan,i.DEFAULT_ANSI_COLORS[14]),S.ansi[15]=y(E.brightWhite,i.DEFAULT_ANSI_COLORS[15]),E.extendedAnsi){const k=Math.min(S.ansi.length-16,E.extendedAnsi.length);for(let L=0;L<k;L++)S.ansi[L+16]=y(E.extendedAnsi[L],i.DEFAULT_ANSI_COLORS[L+16])}this._contrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(E){this._restoreColor(E),this._onChangeColors.fire(this.colors)}_restoreColor(E){if(E!==void 0)switch(E){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[E]=this._restoreColors.ansi[E]}else for(let S=0;S<this._restoreColors.ansi.length;++S)this._colors.ansi[S]=this._restoreColors.ansi[S]}modifyColors(E){E(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function y(E,S){if(E!==void 0)try{return u.css.toColor(E)}catch{}return S}C=l([f(0,g.IOptionsService)],C),i.ThemeService=C},6349:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CircularList=void 0;const l=n(8460),f=n(844);class c extends f.Disposable{constructor(b){super(),this._maxLength=b,this.onDeleteEmitter=this.register(new l.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new l.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new l.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(b){if(this._maxLength===b)return;const w=new Array(b);for(let g=0;g<Math.min(b,this.length);g++)w[g]=this._array[this._getCyclicIndex(g)];this._array=w,this._maxLength=b,this._startIndex=0}get length(){return this._length}set length(b){if(b>this._length)for(let w=this._length;w<b;w++)this._array[w]=void 0;this._length=b}get(b){return this._array[this._getCyclicIndex(b)]}set(b,w){this._array[this._getCyclicIndex(b)]=w}push(b){this._array[this._getCyclicIndex(this._length)]=b,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(b,w,...g){if(w){for(let r=b;r<this._length-w;r++)this._array[this._getCyclicIndex(r)]=this._array[this._getCyclicIndex(r+w)];this._length-=w,this.onDeleteEmitter.fire({index:b,amount:w})}for(let r=this._length-1;r>=b;r--)this._array[this._getCyclicIndex(r+g.length)]=this._array[this._getCyclicIndex(r)];for(let r=0;r<g.length;r++)this._array[this._getCyclicIndex(b+r)]=g[r];if(g.length&&this.onInsertEmitter.fire({index:b,amount:g.length}),this._length+g.length>this._maxLength){const r=this._length+g.length-this._maxLength;this._startIndex+=r,this._length=this._maxLength,this.onTrimEmitter.fire(r)}else this._length+=g.length}trimStart(b){b>this._length&&(b=this._length),this._startIndex+=b,this._length-=b,this.onTrimEmitter.fire(b)}shiftElements(b,w,g){if(!(w<=0)){if(b<0||b>=this._length)throw new Error("start argument out of range");if(b+g<0)throw new Error("Cannot shift elements in list beyond index 0");if(g>0){for(let d=w-1;d>=0;d--)this.set(b+d+g,this.get(b+d));const r=b+w+g-this._length;if(r>0)for(this._length+=r;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let r=0;r<w;r++)this.set(b+r+g,this.get(b+r))}}_getCyclicIndex(b){return(this._startIndex+b)%this._maxLength}}i.CircularList=c},1439:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.clone=void 0,i.clone=function n(l,f=5){if(typeof l!="object")return l;const c=Array.isArray(l)?[]:{};for(const u in l)c[u]=f<=1?l[u]:l[u]&&n(l[u],f-1);return c}},8055:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.contrastRatio=i.toPaddedHex=i.rgba=i.rgb=i.css=i.color=i.channels=i.NULL_COLOR=void 0;const l=n(6114);let f=0,c=0,u=0,b=0;var w,g,r;function d(a){const p=a.toString(16);return p.length<2?"0"+p:p}function m(a,p){return a<p?(p+.05)/(a+.05):(a+.05)/(p+.05)}i.NULL_COLOR={css:"#00000000",rgba:0},function(a){a.toCss=function(p,C,y,E){return E!==void 0?`#${d(p)}${d(C)}${d(y)}${d(E)}`:`#${d(p)}${d(C)}${d(y)}`},a.toRgba=function(p,C,y,E=255){return(p<<24|C<<16|y<<8|E)>>>0}}(w=i.channels||(i.channels={})),function(a){function p(C,y){return b=Math.round(255*y),[f,c,u]=r.toChannels(C.rgba),{css:w.toCss(f,c,u,b),rgba:w.toRgba(f,c,u,b)}}a.blend=function(C,y){if(b=(255&y.rgba)/255,b===1)return{css:y.css,rgba:y.rgba};const E=y.rgba>>24&255,S=y.rgba>>16&255,k=y.rgba>>8&255,L=C.rgba>>24&255,T=C.rgba>>16&255,O=C.rgba>>8&255;return f=L+Math.round((E-L)*b),c=T+Math.round((S-T)*b),u=O+Math.round((k-O)*b),{css:w.toCss(f,c,u),rgba:w.toRgba(f,c,u)}},a.isOpaque=function(C){return(255&C.rgba)==255},a.ensureContrastRatio=function(C,y,E){const S=r.ensureContrastRatio(C.rgba,y.rgba,E);if(S)return r.toColor(S>>24&255,S>>16&255,S>>8&255)},a.opaque=function(C){const y=(255|C.rgba)>>>0;return[f,c,u]=r.toChannels(y),{css:w.toCss(f,c,u),rgba:y}},a.opacity=p,a.multiplyOpacity=function(C,y){return b=255&C.rgba,p(C,b*y/255)},a.toColorRGB=function(C){return[C.rgba>>24&255,C.rgba>>16&255,C.rgba>>8&255]}}(i.color||(i.color={})),function(a){let p,C;if(!l.isNode){const y=document.createElement("canvas");y.width=1,y.height=1;const E=y.getContext("2d",{willReadFrequently:!0});E&&(p=E,p.globalCompositeOperation="copy",C=p.createLinearGradient(0,0,1,1))}a.toColor=function(y){if(y.match(/#[\da-f]{3,8}/i))switch(y.length){case 4:return f=parseInt(y.slice(1,2).repeat(2),16),c=parseInt(y.slice(2,3).repeat(2),16),u=parseInt(y.slice(3,4).repeat(2),16),r.toColor(f,c,u);case 5:return f=parseInt(y.slice(1,2).repeat(2),16),c=parseInt(y.slice(2,3).repeat(2),16),u=parseInt(y.slice(3,4).repeat(2),16),b=parseInt(y.slice(4,5).repeat(2),16),r.toColor(f,c,u,b);case 7:return{css:y,rgba:(parseInt(y.slice(1),16)<<8|255)>>>0};case 9:return{css:y,rgba:parseInt(y.slice(1),16)>>>0}}const E=y.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(E)return f=parseInt(E[1]),c=parseInt(E[2]),u=parseInt(E[3]),b=Math.round(255*(E[5]===void 0?1:parseFloat(E[5]))),r.toColor(f,c,u,b);if(!p||!C)throw new Error("css.toColor: Unsupported css format");if(p.fillStyle=C,p.fillStyle=y,typeof p.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(p.fillRect(0,0,1,1),[f,c,u,b]=p.getImageData(0,0,1,1).data,b!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:w.toRgba(f,c,u,b),css:y}}}(i.css||(i.css={})),function(a){function p(C,y,E){const S=C/255,k=y/255,L=E/255;return .2126*(S<=.03928?S/12.92:Math.pow((S+.055)/1.055,2.4))+.7152*(k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4))+.0722*(L<=.03928?L/12.92:Math.pow((L+.055)/1.055,2.4))}a.relativeLuminance=function(C){return p(C>>16&255,C>>8&255,255&C)},a.relativeLuminance2=p}(g=i.rgb||(i.rgb={})),function(a){function p(y,E,S){const k=y>>24&255,L=y>>16&255,T=y>>8&255;let O=E>>24&255,I=E>>16&255,K=E>>8&255,z=m(g.relativeLuminance2(O,I,K),g.relativeLuminance2(k,L,T));for(;z<S&&(O>0||I>0||K>0);)O-=Math.max(0,Math.ceil(.1*O)),I-=Math.max(0,Math.ceil(.1*I)),K-=Math.max(0,Math.ceil(.1*K)),z=m(g.relativeLuminance2(O,I,K),g.relativeLuminance2(k,L,T));return(O<<24|I<<16|K<<8|255)>>>0}function C(y,E,S){const k=y>>24&255,L=y>>16&255,T=y>>8&255;let O=E>>24&255,I=E>>16&255,K=E>>8&255,z=m(g.relativeLuminance2(O,I,K),g.relativeLuminance2(k,L,T));for(;z<S&&(O<255||I<255||K<255);)O=Math.min(255,O+Math.ceil(.1*(255-O))),I=Math.min(255,I+Math.ceil(.1*(255-I))),K=Math.min(255,K+Math.ceil(.1*(255-K))),z=m(g.relativeLuminance2(O,I,K),g.relativeLuminance2(k,L,T));return(O<<24|I<<16|K<<8|255)>>>0}a.ensureContrastRatio=function(y,E,S){const k=g.relativeLuminance(y>>8),L=g.relativeLuminance(E>>8);if(m(k,L)<S){if(L<k){const I=p(y,E,S),K=m(k,g.relativeLuminance(I>>8));if(K<S){const z=C(y,E,S);return K>m(k,g.relativeLuminance(z>>8))?I:z}return I}const T=C(y,E,S),O=m(k,g.relativeLuminance(T>>8));if(O<S){const I=p(y,E,S);return O>m(k,g.relativeLuminance(I>>8))?T:I}return T}},a.reduceLuminance=p,a.increaseLuminance=C,a.toChannels=function(y){return[y>>24&255,y>>16&255,y>>8&255,255&y]},a.toColor=function(y,E,S,k){return{css:w.toCss(y,E,S,k),rgba:w.toRgba(y,E,S,k)}}}(r=i.rgba||(i.rgba={})),i.toPaddedHex=d,i.contrastRatio=m},8969:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CoreTerminal=void 0;const l=n(844),f=n(2585),c=n(4348),u=n(7866),b=n(744),w=n(7302),g=n(6975),r=n(8460),d=n(1753),m=n(1480),a=n(7994),p=n(9282),C=n(5435),y=n(5981),E=n(2660);let S=!1;class k extends l.Disposable{constructor(T){super(),this._onBinary=this.register(new r.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new r.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new r.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new r.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new r.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new r.EventEmitter),this._instantiationService=new c.InstantiationService,this.optionsService=this.register(new w.OptionsService(T)),this._instantiationService.setService(f.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(b.BufferService)),this._instantiationService.setService(f.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(u.LogService)),this._instantiationService.setService(f.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(g.CoreService)),this._instantiationService.setService(f.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(d.CoreMouseService)),this._instantiationService.setService(f.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(m.UnicodeService)),this._instantiationService.setService(f.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(a.CharsetService),this._instantiationService.setService(f.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(E.OscLinkService),this._instantiationService.setService(f.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new C.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,r.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,r.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,r.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,r.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onSpecificOptionChange("windowsMode",O=>this._handleWindowsModeOptionChange(O))),this.register(this._bufferService.onScroll(O=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(O=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new y.WriteBuffer((O,I)=>this._inputHandler.parse(O,I))),this.register((0,r.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed)),this.register((0,l.toDisposable)(()=>{var O;(O=this._windowsMode)===null||O===void 0||O.dispose(),this._windowsMode=void 0}))}get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new r.EventEmitter),this._onScroll.event(T=>{var O;(O=this._onScrollApi)===null||O===void 0||O.fire(T.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(T){for(const O in T)this.optionsService.options[O]=T[O]}write(T,O){this._writeBuffer.write(T,O)}writeSync(T,O){this._logService.logLevel<=f.LogLevelEnum.WARN&&!S&&(this._logService.warn("writeSync is unreliable and will be removed soon."),S=!0),this._writeBuffer.writeSync(T,O)}resize(T,O){isNaN(T)||isNaN(O)||(T=Math.max(T,b.MINIMUM_COLS),O=Math.max(O,b.MINIMUM_ROWS),this._bufferService.resize(T,O))}scroll(T,O=!1){this._bufferService.scroll(T,O)}scrollLines(T,O,I){this._bufferService.scrollLines(T,O,I)}scrollPages(T){this._bufferService.scrollPages(T)}scrollToTop(){this._bufferService.scrollToTop()}scrollToBottom(){this._bufferService.scrollToBottom()}scrollToLine(T){this._bufferService.scrollToLine(T)}registerEscHandler(T,O){return this._inputHandler.registerEscHandler(T,O)}registerDcsHandler(T,O){return this._inputHandler.registerDcsHandler(T,O)}registerCsiHandler(T,O){return this._inputHandler.registerCsiHandler(T,O)}registerOscHandler(T,O){return this._inputHandler.registerOscHandler(T,O)}_setup(){this.optionsService.rawOptions.windowsMode&&this._enableWindowsMode()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsModeOptionChange(T){var O;T?this._enableWindowsMode():((O=this._windowsMode)===null||O===void 0||O.dispose(),this._windowsMode=void 0)}_enableWindowsMode(){if(!this._windowsMode){const T=[];T.push(this.onLineFeed(p.updateWindowsModeWrappedState.bind(null,this._bufferService))),T.push(this.registerCsiHandler({final:"H"},()=>((0,p.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsMode={dispose:()=>{for(const O of T)O.dispose()}}}}}i.CoreTerminal=k},8460:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.forwardEvent=i.EventEmitter=void 0,i.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=n=>(this._listeners.push(n),{dispose:()=>{if(!this._disposed){for(let l=0;l<this._listeners.length;l++)if(this._listeners[l]===n)return void this._listeners.splice(l,1)}}})),this._event}fire(n,l){const f=[];for(let c=0;c<this._listeners.length;c++)f.push(this._listeners[c]);for(let c=0;c<f.length;c++)f[c].call(void 0,n,l)}dispose(){this._listeners&&(this._listeners.length=0),this._disposed=!0}},i.forwardEvent=function(n,l){return n(f=>l.fire(f))}},5435:function(_,i,n){var l=this&&this.__decorate||function(X,R,B,M){var H,j=arguments.length,Y=j<3?R:M===null?M=Object.getOwnPropertyDescriptor(R,B):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(X,R,B,M);else for(var re=X.length-1;re>=0;re--)(H=X[re])&&(Y=(j<3?H(Y):j>3?H(R,B,Y):H(R,B))||Y);return j>3&&Y&&Object.defineProperty(R,B,Y),Y},f=this&&this.__param||function(X,R){return function(B,M){R(B,M,X)}};Object.defineProperty(i,"__esModule",{value:!0}),i.InputHandler=i.WindowsOptionsReportType=void 0;const c=n(2584),u=n(7116),b=n(2015),w=n(844),g=n(482),r=n(8437),d=n(8460),m=n(643),a=n(511),p=n(3734),C=n(2585),y=n(6242),E=n(6351),S=n(5941),k={"(":0,")":1,"*":2,"+":3,"-":1,".":2},L=131072;function T(X,R){if(X>24)return R.setWinLines||!1;switch(X){case 1:return!!R.restoreWin;case 2:return!!R.minimizeWin;case 3:return!!R.setWinPosition;case 4:return!!R.setWinSizePixels;case 5:return!!R.raiseWin;case 6:return!!R.lowerWin;case 7:return!!R.refreshWin;case 8:return!!R.setWinSizeChars;case 9:return!!R.maximizeWin;case 10:return!!R.fullscreenWin;case 11:return!!R.getWinState;case 13:return!!R.getWinPosition;case 14:return!!R.getWinSizePixels;case 15:return!!R.getScreenSizePixels;case 16:return!!R.getCellSizePixels;case 18:return!!R.getWinSizeChars;case 19:return!!R.getScreenSizeChars;case 20:return!!R.getIconTitle;case 21:return!!R.getWinTitle;case 22:return!!R.pushTitle;case 23:return!!R.popTitle;case 24:return!!R.setWinLines}return!1}var O;(function(X){X[X.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",X[X.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(O=i.WindowsOptionsReportType||(i.WindowsOptionsReportType={}));let I=0;class K extends w.Disposable{constructor(R,B,M,H,j,Y,re,J,ie=new b.EscapeSequenceParser){super(),this._bufferService=R,this._charsetService=B,this._coreService=M,this._logService=H,this._optionsService=j,this._oscLinkService=Y,this._coreMouseService=re,this._unicodeService=J,this._parser=ie,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new g.StringToUtf32,this._utf8Decoder=new g.Utf8ToUtf32,this._workCell=new a.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=r.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=r.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new d.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new d.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new d.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new d.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new d.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new d.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new d.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new d.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new d.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new d.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new d.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new d.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new d.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new z(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate($=>this._activeBuffer=$.activeBuffer)),this._parser.setCsiHandlerFallback(($,P)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString($),params:P.toArray()})}),this._parser.setEscHandlerFallback($=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString($)})}),this._parser.setExecuteHandlerFallback($=>{this._logService.debug("Unknown EXECUTE code: ",{code:$})}),this._parser.setOscHandlerFallback(($,P,F)=>{this._logService.debug("Unknown OSC code: ",{identifier:$,action:P,data:F})}),this._parser.setDcsHandlerFallback(($,P,F)=>{P==="HOOK"&&(F=F.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString($),action:P,payload:F})}),this._parser.setPrintHandler(($,P,F)=>this.print($,P,F)),this._parser.registerCsiHandler({final:"@"},$=>this.insertChars($)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},$=>this.scrollLeft($)),this._parser.registerCsiHandler({final:"A"},$=>this.cursorUp($)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},$=>this.scrollRight($)),this._parser.registerCsiHandler({final:"B"},$=>this.cursorDown($)),this._parser.registerCsiHandler({final:"C"},$=>this.cursorForward($)),this._parser.registerCsiHandler({final:"D"},$=>this.cursorBackward($)),this._parser.registerCsiHandler({final:"E"},$=>this.cursorNextLine($)),this._parser.registerCsiHandler({final:"F"},$=>this.cursorPrecedingLine($)),this._parser.registerCsiHandler({final:"G"},$=>this.cursorCharAbsolute($)),this._parser.registerCsiHandler({final:"H"},$=>this.cursorPosition($)),this._parser.registerCsiHandler({final:"I"},$=>this.cursorForwardTab($)),this._parser.registerCsiHandler({final:"J"},$=>this.eraseInDisplay($,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},$=>this.eraseInDisplay($,!0)),this._parser.registerCsiHandler({final:"K"},$=>this.eraseInLine($,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},$=>this.eraseInLine($,!0)),this._parser.registerCsiHandler({final:"L"},$=>this.insertLines($)),this._parser.registerCsiHandler({final:"M"},$=>this.deleteLines($)),this._parser.registerCsiHandler({final:"P"},$=>this.deleteChars($)),this._parser.registerCsiHandler({final:"S"},$=>this.scrollUp($)),this._parser.registerCsiHandler({final:"T"},$=>this.scrollDown($)),this._parser.registerCsiHandler({final:"X"},$=>this.eraseChars($)),this._parser.registerCsiHandler({final:"Z"},$=>this.cursorBackwardTab($)),this._parser.registerCsiHandler({final:"`"},$=>this.charPosAbsolute($)),this._parser.registerCsiHandler({final:"a"},$=>this.hPositionRelative($)),this._parser.registerCsiHandler({final:"b"},$=>this.repeatPrecedingCharacter($)),this._parser.registerCsiHandler({final:"c"},$=>this.sendDeviceAttributesPrimary($)),this._parser.registerCsiHandler({prefix:">",final:"c"},$=>this.sendDeviceAttributesSecondary($)),this._parser.registerCsiHandler({final:"d"},$=>this.linePosAbsolute($)),this._parser.registerCsiHandler({final:"e"},$=>this.vPositionRelative($)),this._parser.registerCsiHandler({final:"f"},$=>this.hVPosition($)),this._parser.registerCsiHandler({final:"g"},$=>this.tabClear($)),this._parser.registerCsiHandler({final:"h"},$=>this.setMode($)),this._parser.registerCsiHandler({prefix:"?",final:"h"},$=>this.setModePrivate($)),this._parser.registerCsiHandler({final:"l"},$=>this.resetMode($)),this._parser.registerCsiHandler({prefix:"?",final:"l"},$=>this.resetModePrivate($)),this._parser.registerCsiHandler({final:"m"},$=>this.charAttributes($)),this._parser.registerCsiHandler({final:"n"},$=>this.deviceStatus($)),this._parser.registerCsiHandler({prefix:"?",final:"n"},$=>this.deviceStatusPrivate($)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},$=>this.softReset($)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},$=>this.setCursorStyle($)),this._parser.registerCsiHandler({final:"r"},$=>this.setScrollRegion($)),this._parser.registerCsiHandler({final:"s"},$=>this.saveCursor($)),this._parser.registerCsiHandler({final:"t"},$=>this.windowOptions($)),this._parser.registerCsiHandler({final:"u"},$=>this.restoreCursor($)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},$=>this.insertColumns($)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},$=>this.deleteColumns($)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},$=>this.selectProtected($)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},$=>this.requestMode($,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},$=>this.requestMode($,!1)),this._parser.setExecuteHandler(c.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(c.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(c.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(c.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(c.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(c.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(c.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(c.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(c.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(c.C1.IND,()=>this.index()),this._parser.setExecuteHandler(c.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(c.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new y.OscHandler($=>(this.setTitle($),this.setIconName($),!0))),this._parser.registerOscHandler(1,new y.OscHandler($=>this.setIconName($))),this._parser.registerOscHandler(2,new y.OscHandler($=>this.setTitle($))),this._parser.registerOscHandler(4,new y.OscHandler($=>this.setOrReportIndexedColor($))),this._parser.registerOscHandler(8,new y.OscHandler($=>this.setHyperlink($))),this._parser.registerOscHandler(10,new y.OscHandler($=>this.setOrReportFgColor($))),this._parser.registerOscHandler(11,new y.OscHandler($=>this.setOrReportBgColor($))),this._parser.registerOscHandler(12,new y.OscHandler($=>this.setOrReportCursorColor($))),this._parser.registerOscHandler(104,new y.OscHandler($=>this.restoreIndexedColor($))),this._parser.registerOscHandler(110,new y.OscHandler($=>this.restoreFgColor($))),this._parser.registerOscHandler(111,new y.OscHandler($=>this.restoreBgColor($))),this._parser.registerOscHandler(112,new y.OscHandler($=>this.restoreCursorColor($))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const $ in u.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:$},()=>this.selectCharset("("+$)),this._parser.registerEscHandler({intermediates:")",final:$},()=>this.selectCharset(")"+$)),this._parser.registerEscHandler({intermediates:"*",final:$},()=>this.selectCharset("*"+$)),this._parser.registerEscHandler({intermediates:"+",final:$},()=>this.selectCharset("+"+$)),this._parser.registerEscHandler({intermediates:"-",final:$},()=>this.selectCharset("-"+$)),this._parser.registerEscHandler({intermediates:".",final:$},()=>this.selectCharset("."+$)),this._parser.registerEscHandler({intermediates:"/",final:$},()=>this.selectCharset("/"+$));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler($=>(this._logService.error("Parsing error: ",$),$)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new E.DcsHandler(($,P)=>this.requestStatusString($,P)))}getAttrData(){return this._curAttrData}_preserveStack(R,B,M,H){this._parseStack.paused=!0,this._parseStack.cursorStartX=R,this._parseStack.cursorStartY=B,this._parseStack.decodedLength=M,this._parseStack.position=H}_logSlowResolvingAsync(R){this._logService.logLevel<=C.LogLevelEnum.WARN&&Promise.race([R,new Promise((B,M)=>setTimeout(()=>M("#SLOW_TIMEOUT"),5e3))]).catch(B=>{if(B!=="#SLOW_TIMEOUT")throw B;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(R,B){let M,H=this._activeBuffer.x,j=this._activeBuffer.y,Y=0;const re=this._parseStack.paused;if(re){if(M=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,B))return this._logSlowResolvingAsync(M),M;H=this._parseStack.cursorStartX,j=this._parseStack.cursorStartY,this._parseStack.paused=!1,R.length>L&&(Y=this._parseStack.position+L)}if(this._logService.logLevel<=C.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof R=="string"?` "${R}"`:` "${Array.prototype.map.call(R,J=>String.fromCharCode(J)).join("")}"`),typeof R=="string"?R.split("").map(J=>J.charCodeAt(0)):R),this._parseBuffer.length<R.length&&this._parseBuffer.length<L&&(this._parseBuffer=new Uint32Array(Math.min(R.length,L))),re||this._dirtyRowTracker.clearRange(),R.length>L)for(let J=Y;J<R.length;J+=L){const ie=J+L<R.length?J+L:R.length,$=typeof R=="string"?this._stringDecoder.decode(R.substring(J,ie),this._parseBuffer):this._utf8Decoder.decode(R.subarray(J,ie),this._parseBuffer);if(M=this._parser.parse(this._parseBuffer,$))return this._preserveStack(H,j,$,J),this._logSlowResolvingAsync(M),M}else if(!re){const J=typeof R=="string"?this._stringDecoder.decode(R,this._parseBuffer):this._utf8Decoder.decode(R,this._parseBuffer);if(M=this._parser.parse(this._parseBuffer,J))return this._preserveStack(H,j,J,0),this._logSlowResolvingAsync(M),M}this._activeBuffer.x===H&&this._activeBuffer.y===j||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(R,B,M){let H,j;const Y=this._charsetService.charset,re=this._optionsService.rawOptions.screenReaderMode,J=this._bufferService.cols,ie=this._coreService.decPrivateModes.wraparound,$=this._coreService.modes.insertMode,P=this._curAttrData;let F=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&M-B>0&&F.getWidth(this._activeBuffer.x-1)===2&&F.setCellFromCodePoint(this._activeBuffer.x-1,0,1,P.fg,P.bg,P.extended);for(let G=B;G<M;++G){if(H=R[G],j=this._unicodeService.wcwidth(H),H<127&&Y){const Z=Y[String.fromCharCode(H)];Z&&(H=Z.charCodeAt(0))}if(re&&this._onA11yChar.fire((0,g.stringFromCodePoint)(H)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),j||!this._activeBuffer.x){if(this._activeBuffer.x+j-1>=J){if(ie){for(;this._activeBuffer.x<J;)F.setCellFromCodePoint(this._activeBuffer.x++,0,1,P.fg,P.bg,P.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),F=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=J-1,j===2)continue}if($&&(F.insertCells(this._activeBuffer.x,j,this._activeBuffer.getNullCell(P),P),F.getWidth(J-1)===2&&F.setCellFromCodePoint(J-1,m.NULL_CELL_CODE,m.NULL_CELL_WIDTH,P.fg,P.bg,P.extended)),F.setCellFromCodePoint(this._activeBuffer.x++,H,j,P.fg,P.bg,P.extended),j>0)for(;--j;)F.setCellFromCodePoint(this._activeBuffer.x++,0,0,P.fg,P.bg,P.extended)}else F.getWidth(this._activeBuffer.x-1)?F.addCodepointToCell(this._activeBuffer.x-1,H):F.addCodepointToCell(this._activeBuffer.x-2,H)}M-B>0&&(F.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<J&&M-B>0&&F.getWidth(this._activeBuffer.x)===0&&!F.hasContent(this._activeBuffer.x)&&F.setCellFromCodePoint(this._activeBuffer.x,0,1,P.fg,P.bg,P.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(R,B){return R.final!=="t"||R.prefix||R.intermediates?this._parser.registerCsiHandler(R,B):this._parser.registerCsiHandler(R,M=>!T(M.params[0],this._optionsService.rawOptions.windowOptions)||B(M))}registerDcsHandler(R,B){return this._parser.registerDcsHandler(R,new E.DcsHandler(B))}registerEscHandler(R,B){return this._parser.registerEscHandler(R,B)}registerOscHandler(R,B){return this._parser.registerOscHandler(R,new y.OscHandler(B))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var R;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||R===void 0)&&R.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);B.hasWidth(this._activeBuffer.x)&&!B.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const R=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-R),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(R=this._bufferService.cols-1){this._activeBuffer.x=Math.min(R,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(R,B){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=R,this._activeBuffer.y=this._activeBuffer.scrollTop+B):(this._activeBuffer.x=R,this._activeBuffer.y=B),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(R,B){this._restrictCursor(),this._setCursor(this._activeBuffer.x+R,this._activeBuffer.y+B)}cursorUp(R){const B=this._activeBuffer.y-this._activeBuffer.scrollTop;return B>=0?this._moveCursor(0,-Math.min(B,R.params[0]||1)):this._moveCursor(0,-(R.params[0]||1)),!0}cursorDown(R){const B=this._activeBuffer.scrollBottom-this._activeBuffer.y;return B>=0?this._moveCursor(0,Math.min(B,R.params[0]||1)):this._moveCursor(0,R.params[0]||1),!0}cursorForward(R){return this._moveCursor(R.params[0]||1,0),!0}cursorBackward(R){return this._moveCursor(-(R.params[0]||1),0),!0}cursorNextLine(R){return this.cursorDown(R),this._activeBuffer.x=0,!0}cursorPrecedingLine(R){return this.cursorUp(R),this._activeBuffer.x=0,!0}cursorCharAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(R){return this._setCursor(R.length>=2?(R.params[1]||1)-1:0,(R.params[0]||1)-1),!0}charPosAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(R){return this._moveCursor(R.params[0]||1,0),!0}linePosAbsolute(R){return this._setCursor(this._activeBuffer.x,(R.params[0]||1)-1),!0}vPositionRelative(R){return this._moveCursor(0,R.params[0]||1),!0}hVPosition(R){return this.cursorPosition(R),!0}tabClear(R){const B=R.params[0];return B===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:B===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let B=R.params[0]||1;for(;B--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let B=R.params[0]||1;for(;B--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(R){const B=R.params[0];return B===1&&(this._curAttrData.bg|=536870912),B!==2&&B!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(R,B,M,H=!1,j=!1){const Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);Y.replaceCells(B,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),j),H&&(Y.isWrapped=!1)}_resetBufferLine(R,B=!1){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);M.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),B),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+R),M.isWrapped=!1}eraseInDisplay(R,B=!1){let M;switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:for(M=this._activeBuffer.y,this._dirtyRowTracker.markDirty(M),this._eraseInBufferLine(M++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,B);M<this._bufferService.rows;M++)this._resetBufferLine(M,B);this._dirtyRowTracker.markDirty(M);break;case 1:for(M=this._activeBuffer.y,this._dirtyRowTracker.markDirty(M),this._eraseInBufferLine(M,0,this._activeBuffer.x+1,!0,B),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(M+1).isWrapped=!1);M--;)this._resetBufferLine(M,B);this._dirtyRowTracker.markDirty(0);break;case 2:for(M=this._bufferService.rows,this._dirtyRowTracker.markDirty(M-1);M--;)this._resetBufferLine(M,B);this._dirtyRowTracker.markDirty(0);break;case 3:const H=this._activeBuffer.lines.length-this._bufferService.rows;H>0&&(this._activeBuffer.lines.trimStart(H),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-H,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-H,0),this._onScroll.fire(0))}return!0}eraseInLine(R,B=!1){switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,B);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,B);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,B)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(R){this._restrictCursor();let B=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=this._activeBuffer.ybase+this._activeBuffer.y,H=this._bufferService.rows-1-this._activeBuffer.scrollBottom,j=this._bufferService.rows-1+this._activeBuffer.ybase-H+1;for(;B--;)this._activeBuffer.lines.splice(j-1,1),this._activeBuffer.lines.splice(M,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(R){this._restrictCursor();let B=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=this._activeBuffer.ybase+this._activeBuffer.y;let H;for(H=this._bufferService.rows-1-this._activeBuffer.scrollBottom,H=this._bufferService.rows-1+this._activeBuffer.ybase-H;B--;)this._activeBuffer.lines.splice(M,1),this._activeBuffer.lines.splice(H,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(R){this._restrictCursor();const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return B&&(B.insertCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(R){this._restrictCursor();const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return B&&(B.deleteCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(R){let B=R.params[0]||1;for(;B--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(R){let B=R.params[0]||1;for(;B--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(r.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=R.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);H.deleteCells(0,B,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),H.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=R.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);H.insertCells(0,B,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),H.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=R.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);H.insertCells(this._activeBuffer.x,B,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),H.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=R.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);H.deleteCells(this._activeBuffer.x,B,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),H.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(R){this._restrictCursor();const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return B&&(B.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(R.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(R){if(!this._parser.precedingCodepoint)return!0;const B=R.params[0]||1,M=new Uint32Array(B);for(let H=0;H<B;++H)M[H]=this._parser.precedingCodepoint;return this.print(M,0,M.length),!0}sendDeviceAttributesPrimary(R){return R.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(c.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(c.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(R){return R.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(c.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(c.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(R.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(c.C0.ESC+"[>83;40003;0c")),!0}_is(R){return(this._optionsService.rawOptions.termName+"").indexOf(R)===0}setMode(R){for(let B=0;B<R.length;B++)switch(R.params[B]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(R){for(let B=0;B<R.length;B++)switch(R.params[B]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,u.DEFAULT_CHARSET),this._charsetService.setgCharset(1,u.DEFAULT_CHARSET),this._charsetService.setgCharset(2,u.DEFAULT_CHARSET),this._charsetService.setgCharset(3,u.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(R){for(let B=0;B<R.length;B++)switch(R.params[B]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(R){for(let B=0;B<R.length;B++)switch(R.params[B]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),R.params[B]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(R,B){const M=this._coreService.decPrivateModes,{activeProtocol:H,activeEncoding:j}=this._coreMouseService,Y=this._coreService,{buffers:re,cols:J}=this._bufferService,{active:ie,alt:$}=re,P=this._optionsService.rawOptions,F=te=>te?1:2,G=R.params[0];return Z=G,de=B?G===2?3:G===4?F(Y.modes.insertMode):G===12?4:G===20?F(P.convertEol):0:G===1?F(M.applicationCursorKeys):G===3?P.windowOptions.setWinLines?J===80?2:J===132?1:0:0:G===6?F(M.origin):G===7?F(M.wraparound):G===8?3:G===9?F(H==="X10"):G===12?F(P.cursorBlink):G===25?F(!Y.isCursorHidden):G===45?F(M.reverseWraparound):G===66?F(M.applicationKeypad):G===1e3?F(H==="VT200"):G===1002?F(H==="DRAG"):G===1003?F(H==="ANY"):G===1004?F(M.sendFocus):G===1005?4:G===1006?F(j==="SGR"):G===1015?4:G===1016?F(j==="SGR_PIXELS"):G===1048?1:G===47||G===1047||G===1049?F(ie===$):G===2004?F(M.bracketedPasteMode):0,Y.triggerDataEvent(`${c.C0.ESC}[${B?"":"?"}${Z};${de}$y`),!0;var Z,de}_updateAttrColor(R,B,M,H,j){return B===2?(R|=50331648,R&=-16777216,R|=p.AttributeData.fromColorRGB([M,H,j])):B===5&&(R&=-50331904,R|=33554432|255&M),R}_extractColor(R,B,M){const H=[0,0,-1,0,0,0];let j=0,Y=0;do{if(H[Y+j]=R.params[B+Y],R.hasSubParams(B+Y)){const re=R.getSubParams(B+Y);let J=0;do H[1]===5&&(j=1),H[Y+J+1+j]=re[J];while(++J<re.length&&J+Y+1+j<H.length);break}if(H[1]===5&&Y+j>=2||H[1]===2&&Y+j>=5)break;H[1]&&(j=1)}while(++Y+B<R.length&&Y+j<H.length);for(let re=2;re<H.length;++re)H[re]===-1&&(H[re]=0);switch(H[0]){case 38:M.fg=this._updateAttrColor(M.fg,H[1],H[3],H[4],H[5]);break;case 48:M.bg=this._updateAttrColor(M.bg,H[1],H[3],H[4],H[5]);break;case 58:M.extended=M.extended.clone(),M.extended.underlineColor=this._updateAttrColor(M.extended.underlineColor,H[1],H[3],H[4],H[5])}return Y}_processUnderline(R,B){B.extended=B.extended.clone(),(!~R||R>5)&&(R=1),B.extended.underlineStyle=R,B.fg|=268435456,R===0&&(B.fg&=-268435457),B.updateExtended()}_processSGR0(R){R.fg=r.DEFAULT_ATTR_DATA.fg,R.bg=r.DEFAULT_ATTR_DATA.bg,R.extended=R.extended.clone(),R.extended.underlineStyle=0,R.extended.underlineColor&=-67108864,R.updateExtended()}charAttributes(R){if(R.length===1&&R.params[0]===0)return this._processSGR0(this._curAttrData),!0;const B=R.length;let M;const H=this._curAttrData;for(let j=0;j<B;j++)M=R.params[j],M>=30&&M<=37?(H.fg&=-50331904,H.fg|=16777216|M-30):M>=40&&M<=47?(H.bg&=-50331904,H.bg|=16777216|M-40):M>=90&&M<=97?(H.fg&=-50331904,H.fg|=16777224|M-90):M>=100&&M<=107?(H.bg&=-50331904,H.bg|=16777224|M-100):M===0?this._processSGR0(H):M===1?H.fg|=134217728:M===3?H.bg|=67108864:M===4?(H.fg|=268435456,this._processUnderline(R.hasSubParams(j)?R.getSubParams(j)[0]:1,H)):M===5?H.fg|=536870912:M===7?H.fg|=67108864:M===8?H.fg|=1073741824:M===9?H.fg|=2147483648:M===2?H.bg|=134217728:M===21?this._processUnderline(2,H):M===22?(H.fg&=-134217729,H.bg&=-134217729):M===23?H.bg&=-67108865:M===24?(H.fg&=-268435457,this._processUnderline(0,H)):M===25?H.fg&=-536870913:M===27?H.fg&=-67108865:M===28?H.fg&=-1073741825:M===29?H.fg&=2147483647:M===39?(H.fg&=-67108864,H.fg|=16777215&r.DEFAULT_ATTR_DATA.fg):M===49?(H.bg&=-67108864,H.bg|=16777215&r.DEFAULT_ATTR_DATA.bg):M===38||M===48||M===58?j+=this._extractColor(R,j,H):M===59?(H.extended=H.extended.clone(),H.extended.underlineColor=-1,H.updateExtended()):M===100?(H.fg&=-67108864,H.fg|=16777215&r.DEFAULT_ATTR_DATA.fg,H.bg&=-67108864,H.bg|=16777215&r.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",M);return!0}deviceStatus(R){switch(R.params[0]){case 5:this._coreService.triggerDataEvent(`${c.C0.ESC}[0n`);break;case 6:const B=this._activeBuffer.y+1,M=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${c.C0.ESC}[${B};${M}R`)}return!0}deviceStatusPrivate(R){if(R.params[0]===6){const B=this._activeBuffer.y+1,M=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${c.C0.ESC}[?${B};${M}R`)}return!0}softReset(R){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=r.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(R){const B=R.params[0]||1;switch(B){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const M=B%2==1;return this._optionsService.options.cursorBlink=M,!0}setScrollRegion(R){const B=R.params[0]||1;let M;return(R.length<2||(M=R.params[1])>this._bufferService.rows||M===0)&&(M=this._bufferService.rows),M>B&&(this._activeBuffer.scrollTop=B-1,this._activeBuffer.scrollBottom=M-1,this._setCursor(0,0)),!0}windowOptions(R){if(!T(R.params[0],this._optionsService.rawOptions.windowOptions))return!0;const B=R.length>1?R.params[1]:0;switch(R.params[0]){case 14:B!==2&&this._onRequestWindowsOptionsReport.fire(O.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(O.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${c.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:B!==0&&B!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),B!==0&&B!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:B!==0&&B!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),B!==0&&B!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(R){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(R){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(R){return this._windowTitle=R,this._onTitleChange.fire(R),!0}setIconName(R){return this._iconName=R,!0}setOrReportIndexedColor(R){const B=[],M=R.split(";");for(;M.length>1;){const H=M.shift(),j=M.shift();if(/^\d+$/.exec(H)){const Y=parseInt(H);if(0<=Y&&Y<256)if(j==="?")B.push({type:0,index:Y});else{const re=(0,S.parseColor)(j);re&&B.push({type:1,index:Y,color:re})}}}return B.length&&this._onColor.fire(B),!0}setHyperlink(R){const B=R.split(";");return!(B.length<2)&&(B[1]?this._createHyperlink(B[0],B[1]):!B[0]&&this._finishHyperlink())}_createHyperlink(R,B){this._getCurrentLinkId()&&this._finishHyperlink();const M=R.split(":");let H;const j=M.findIndex(Y=>Y.startsWith("id="));return j!==-1&&(H=M[j].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:H,uri:B}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(R,B){const M=R.split(";");for(let H=0;H<M.length&&!(B>=this._specialColors.length);++H,++B)if(M[H]==="?")this._onColor.fire([{type:0,index:this._specialColors[B]}]);else{const j=(0,S.parseColor)(M[H]);j&&this._onColor.fire([{type:1,index:this._specialColors[B],color:j}])}return!0}setOrReportFgColor(R){return this._setOrReportSpecialColor(R,0)}setOrReportBgColor(R){return this._setOrReportSpecialColor(R,1)}setOrReportCursorColor(R){return this._setOrReportSpecialColor(R,2)}restoreIndexedColor(R){if(!R)return this._onColor.fire([{type:2}]),!0;const B=[],M=R.split(";");for(let H=0;H<M.length;++H)if(/^\d+$/.exec(M[H])){const j=parseInt(M[H]);0<=j&&j<256&&B.push({type:2,index:j})}return B.length&&this._onColor.fire(B),!0}restoreFgColor(R){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(R){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(R){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,u.DEFAULT_CHARSET),!0}selectCharset(R){return R.length!==2?(this.selectDefaultCharset(),!0):(R[0]==="/"||this._charsetService.setgCharset(k[R[0]],u.CHARSETS[R[1]]||u.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const R=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,R,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=r.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=r.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(R){return this._charsetService.setgLevel(R),!0}screenAlignmentPattern(){const R=new a.CellData;R.content=4194304|"E".charCodeAt(0),R.fg=this._curAttrData.fg,R.bg=this._curAttrData.bg,this._setCursor(0,0);for(let B=0;B<this._bufferService.rows;++B){const M=this._activeBuffer.ybase+this._activeBuffer.y+B,H=this._activeBuffer.lines.get(M);H&&(H.fill(R),H.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(R,B){const M=this._bufferService.buffer,H=this._optionsService.rawOptions;return(j=>(this._coreService.triggerDataEvent(`${c.C0.ESC}${j}${c.C0.ESC}\\`),!0))(R==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:R==='"p'?'P1$r61;1"p':R==="r"?`P1$r${M.scrollTop+1};${M.scrollBottom+1}r`:R==="m"?"P1$r0m":R===" q"?`P1$r${{block:2,underline:4,bar:6}[H.cursorStyle]-(H.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(R,B){this._dirtyRowTracker.markRangeDirty(R,B)}}i.InputHandler=K;let z=class{constructor(X){this._bufferService=X,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(X){X<this.start?this.start=X:X>this.end&&(this.end=X)}markRangeDirty(X,R){X>R&&(I=X,X=R,R=I),X<this.start&&(this.start=X),R>this.end&&(this.end=R)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};z=l([f(0,C.IBufferService)],z)},844:(_,i)=>{function n(l){for(const f of l)f.dispose();l.length=0}Object.defineProperty(i,"__esModule",{value:!0}),i.getDisposeArrayDisposable=i.disposeArray=i.toDisposable=i.Disposable=void 0,i.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const l of this._disposables)l.dispose();this._disposables.length=0}register(l){return this._disposables.push(l),l}unregister(l){const f=this._disposables.indexOf(l);f!==-1&&this._disposables.splice(f,1)}},i.toDisposable=function(l){return{dispose:l}},i.disposeArray=n,i.getDisposeArrayDisposable=function(l){return{dispose:()=>n(l)}}},1505:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FourKeyMap=i.TwoKeyMap=void 0;class n{constructor(){this._data={}}set(f,c,u){this._data[f]||(this._data[f]={}),this._data[f][c]=u}get(f,c){return this._data[f]?this._data[f][c]:void 0}clear(){this._data={}}}i.TwoKeyMap=n,i.FourKeyMap=class{constructor(){this._data=new n}set(l,f,c,u,b){this._data.get(l,f)||this._data.set(l,f,new n),this._data.get(l,f).set(c,u,b)}get(l,f,c,u){var b;return(b=this._data.get(l,f))===null||b===void 0?void 0:b.get(c,u)}clear(){this._data.clear()}}},6114:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isChromeOS=i.isLinux=i.isWindows=i.isIphone=i.isIpad=i.isMac=i.getSafariVersion=i.isSafari=i.isLegacyEdge=i.isFirefox=i.isNode=void 0,i.isNode=typeof navigator>"u";const n=i.isNode?"node":navigator.userAgent,l=i.isNode?"node":navigator.platform;i.isFirefox=n.includes("Firefox"),i.isLegacyEdge=n.includes("Edge"),i.isSafari=/^((?!chrome|android).)*safari/i.test(n),i.getSafariVersion=function(){if(!i.isSafari)return 0;const f=n.match(/Version\/(\d+)/);return f===null||f.length<2?0:parseInt(f[1])},i.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(l),i.isIpad=l==="iPad",i.isIphone=l==="iPhone",i.isWindows=["Windows","Win16","Win32","WinCE"].includes(l),i.isLinux=l.indexOf("Linux")>=0,i.isChromeOS=/\bCrOS\b/.test(n)},6106:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SortedList=void 0;let n=0;i.SortedList=class{constructor(l){this._getKey=l,this._array=[]}clear(){this._array.length=0}insert(l){this._array.length!==0?(n=this._search(this._getKey(l),0,this._array.length-1),this._array.splice(n,0,l)):this._array.push(l)}delete(l){if(this._array.length===0)return!1;const f=this._getKey(l);if(f===void 0||(n=this._search(f,0,this._array.length-1),n===-1)||this._getKey(this._array[n])!==f)return!1;do if(this._array[n]===l)return this._array.splice(n,1),!0;while(++n<this._array.length&&this._getKey(this._array[n])===f);return!1}*getKeyIterator(l){if(this._array.length!==0&&(n=this._search(l,0,this._array.length-1),!(n<0||n>=this._array.length)&&this._getKey(this._array[n])===l))do yield this._array[n];while(++n<this._array.length&&this._getKey(this._array[n])===l)}forEachByKey(l,f){if(this._array.length!==0&&(n=this._search(l,0,this._array.length-1),!(n<0||n>=this._array.length)&&this._getKey(this._array[n])===l))do f(this._array[n]);while(++n<this._array.length&&this._getKey(this._array[n])===l)}values(){return this._array.values()}_search(l,f,c){if(c<f)return f;let u=Math.floor((f+c)/2);const b=this._getKey(this._array[u]);if(b>l)return this._search(l,f,u-1);if(b<l)return this._search(l,u+1,c);for(;u>0&&this._getKey(this._array[u-1])===l;)u--;return u}}},7226:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DebouncedIdleTask=i.IdleTaskQueue=i.PriorityTaskQueue=void 0;const l=n(6114);class f{constructor(){this._tasks=[],this._i=0}enqueue(b){this._tasks.push(b),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(b){this._idleCallback=void 0;let w=0,g=0,r=b.timeRemaining(),d=0;for(;this._i<this._tasks.length;){if(w=Date.now(),this._tasks[this._i]()||this._i++,w=Math.max(1,Date.now()-w),g=Math.max(w,g),d=b.timeRemaining(),1.5*g>d)return r-w<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(r-w))}ms`),void this._start();r=d}this.clear()}}class c extends f{_requestCallback(b){return setTimeout(()=>b(this._createDeadline(16)))}_cancelCallback(b){clearTimeout(b)}_createDeadline(b){const w=Date.now()+b;return{timeRemaining:()=>Math.max(0,w-Date.now())}}}i.PriorityTaskQueue=c,i.IdleTaskQueue=!l.isNode&&"requestIdleCallback"in window?class extends f{_requestCallback(u){return requestIdleCallback(u)}_cancelCallback(u){cancelIdleCallback(u)}}:c,i.DebouncedIdleTask=class{constructor(){this._queue=new i.IdleTaskQueue}set(u){this._queue.clear(),this._queue.enqueue(u)}flush(){this._queue.flush()}}},9282:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.updateWindowsModeWrappedState=void 0;const l=n(643);i.updateWindowsModeWrappedState=function(f){const c=f.buffer.lines.get(f.buffer.ybase+f.buffer.y-1),u=c==null?void 0:c.get(f.cols-1),b=f.buffer.lines.get(f.buffer.ybase+f.buffer.y);b&&u&&(b.isWrapped=u[l.CHAR_DATA_CODE_INDEX]!==l.NULL_CELL_CODE&&u[l.CHAR_DATA_CODE_INDEX]!==l.WHITESPACE_CELL_CODE)}},3734:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ExtendedAttrs=i.AttributeData=void 0;class n{constructor(){this.fg=0,this.bg=0,this.extended=new l}static toColorRGB(c){return[c>>>16&255,c>>>8&255,255&c]}static fromColorRGB(c){return(255&c[0])<<16|(255&c[1])<<8|255&c[2]}clone(){const c=new n;return c.fg=this.fg,c.bg=this.bg,c.extended=this.extended.clone(),c}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}i.AttributeData=n;class l{constructor(c=0,u=0){this._ext=0,this._urlId=0,this._ext=c,this._urlId=u}get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(c){this._ext=c}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(c){this._ext&=-469762049,this._ext|=c<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(c){this._ext&=-67108864,this._ext|=67108863&c}get urlId(){return this._urlId}set urlId(c){this._urlId=c}clone(){return new l(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}i.ExtendedAttrs=l},9092:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferStringIterator=i.Buffer=i.MAX_BUFFER_SIZE=void 0;const l=n(6349),f=n(8437),c=n(511),u=n(643),b=n(4634),w=n(4863),g=n(7116),r=n(3734),d=n(7226);i.MAX_BUFFER_SIZE=4294967295,i.Buffer=class{constructor(a,p,C){this._hasScrollback=a,this._optionsService=p,this._bufferService=C,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=f.DEFAULT_ATTR_DATA.clone(),this.savedCharset=g.DEFAULT_CHARSET,this.markers=[],this._nullCell=c.CellData.fromCharData([0,u.NULL_CELL_CHAR,u.NULL_CELL_WIDTH,u.NULL_CELL_CODE]),this._whitespaceCell=c.CellData.fromCharData([0,u.WHITESPACE_CELL_CHAR,u.WHITESPACE_CELL_WIDTH,u.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new d.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new l.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(a){return a?(this._nullCell.fg=a.fg,this._nullCell.bg=a.bg,this._nullCell.extended=a.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new r.ExtendedAttrs),this._nullCell}getWhitespaceCell(a){return a?(this._whitespaceCell.fg=a.fg,this._whitespaceCell.bg=a.bg,this._whitespaceCell.extended=a.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new r.ExtendedAttrs),this._whitespaceCell}getBlankLine(a,p){return new f.BufferLine(this._bufferService.cols,this.getNullCell(a),p)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const a=this.ybase+this.y-this.ydisp;return a>=0&&a<this._rows}_getCorrectBufferLength(a){if(!this._hasScrollback)return a;const p=a+this._optionsService.rawOptions.scrollback;return p>i.MAX_BUFFER_SIZE?i.MAX_BUFFER_SIZE:p}fillViewportRows(a){if(this.lines.length===0){a===void 0&&(a=f.DEFAULT_ATTR_DATA);let p=this._rows;for(;p--;)this.lines.push(this.getBlankLine(a))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new l.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(a,p){const C=this.getNullCell(f.DEFAULT_ATTR_DATA);let y=0;const E=this._getCorrectBufferLength(p);if(E>this.lines.maxLength&&(this.lines.maxLength=E),this.lines.length>0){if(this._cols<a)for(let k=0;k<this.lines.length;k++)y+=+this.lines.get(k).resize(a,C);let S=0;if(this._rows<p)for(let k=this._rows;k<p;k++)this.lines.length<p+this.ybase&&(this._optionsService.rawOptions.windowsMode?this.lines.push(new f.BufferLine(a,C)):this.ybase>0&&this.lines.length<=this.ybase+this.y+S+1?(this.ybase--,S++,this.ydisp>0&&this.ydisp--):this.lines.push(new f.BufferLine(a,C)));else for(let k=this._rows;k>p;k--)this.lines.length>p+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(E<this.lines.maxLength){const k=this.lines.length-E;k>0&&(this.lines.trimStart(k),this.ybase=Math.max(this.ybase-k,0),this.ydisp=Math.max(this.ydisp-k,0),this.savedY=Math.max(this.savedY-k,0)),this.lines.maxLength=E}this.x=Math.min(this.x,a-1),this.y=Math.min(this.y,p-1),S&&(this.y+=S),this.savedX=Math.min(this.savedX,a-1),this.scrollTop=0}if(this.scrollBottom=p-1,this._isReflowEnabled&&(this._reflow(a,p),this._cols>a))for(let S=0;S<this.lines.length;S++)y+=+this.lines.get(S).resize(a,C);this._cols=a,this._rows=p,this._memoryCleanupQueue.clear(),y>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let a=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,a=!1);let p=0;for(;this._memoryCleanupPosition<this.lines.length;)if(p+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),p>100)return!0;return a}get _isReflowEnabled(){return this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(a,p){this._cols!==a&&(a>this._cols?this._reflowLarger(a,p):this._reflowSmaller(a,p))}_reflowLarger(a,p){const C=(0,b.reflowLargerGetLinesToRemove)(this.lines,this._cols,a,this.ybase+this.y,this.getNullCell(f.DEFAULT_ATTR_DATA));if(C.length>0){const y=(0,b.reflowLargerCreateNewLayout)(this.lines,C);(0,b.reflowLargerApplyNewLayout)(this.lines,y.layout),this._reflowLargerAdjustViewport(a,p,y.countRemoved)}}_reflowLargerAdjustViewport(a,p,C){const y=this.getNullCell(f.DEFAULT_ATTR_DATA);let E=C;for(;E-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<p&&this.lines.push(new f.BufferLine(a,y))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-C,0)}_reflowSmaller(a,p){const C=this.getNullCell(f.DEFAULT_ATTR_DATA),y=[];let E=0;for(let S=this.lines.length-1;S>=0;S--){let k=this.lines.get(S);if(!k||!k.isWrapped&&k.getTrimmedLength()<=a)continue;const L=[k];for(;k.isWrapped&&S>0;)k=this.lines.get(--S),L.unshift(k);const T=this.ybase+this.y;if(T>=S&&T<S+L.length)continue;const O=L[L.length-1].getTrimmedLength(),I=(0,b.reflowSmallerGetNewLineLengths)(L,this._cols,a),K=I.length-L.length;let z;z=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+K):Math.max(0,this.lines.length-this.lines.maxLength+K);const X=[];for(let Y=0;Y<K;Y++){const re=this.getBlankLine(f.DEFAULT_ATTR_DATA,!0);X.push(re)}X.length>0&&(y.push({start:S+L.length+E,newLines:X}),E+=X.length),L.push(...X);let R=I.length-1,B=I[R];B===0&&(R--,B=I[R]);let M=L.length-K-1,H=O;for(;M>=0;){const Y=Math.min(H,B);if(L[R]===void 0)break;if(L[R].copyCellsFrom(L[M],H-Y,B-Y,Y,!0),B-=Y,B===0&&(R--,B=I[R]),H-=Y,H===0){M--;const re=Math.max(M,0);H=(0,b.getWrappedLineTrimmedLength)(L,re,this._cols)}}for(let Y=0;Y<L.length;Y++)I[Y]<a&&L[Y].setCell(I[Y],C);let j=K-z;for(;j-- >0;)this.ybase===0?this.y<p-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+E)-p&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+K,this.ybase+p-1)}if(y.length>0){const S=[],k=[];for(let R=0;R<this.lines.length;R++)k.push(this.lines.get(R));const L=this.lines.length;let T=L-1,O=0,I=y[O];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+E);let K=0;for(let R=Math.min(this.lines.maxLength-1,L+E-1);R>=0;R--)if(I&&I.start>T+K){for(let B=I.newLines.length-1;B>=0;B--)this.lines.set(R--,I.newLines[B]);R++,S.push({index:T+1,amount:I.newLines.length}),K+=I.newLines.length,I=y[++O]}else this.lines.set(R,k[T--]);let z=0;for(let R=S.length-1;R>=0;R--)S[R].index+=z,this.lines.onInsertEmitter.fire(S[R]),z+=S[R].amount;const X=Math.max(0,L+E-this.lines.maxLength);X>0&&this.lines.onTrimEmitter.fire(X)}}stringIndexToBufferIndex(a,p,C=!1){for(;p;){const y=this.lines.get(a);if(!y)return[-1,-1];const E=C?y.getTrimmedLength():y.length;for(let S=0;S<E;++S)if(y.get(S)[u.CHAR_DATA_WIDTH_INDEX]&&(p-=y.get(S)[u.CHAR_DATA_CHAR_INDEX].length||1),p<0)return[a,S];a++}return[a,0]}translateBufferLineToString(a,p,C=0,y){const E=this.lines.get(a);return E?E.translateToString(p,C,y):""}getWrappedRangeForLine(a){let p=a,C=a;for(;p>0&&this.lines.get(p).isWrapped;)p--;for(;C+1<this.lines.length&&this.lines.get(C+1).isWrapped;)C++;return{first:p,last:C}}setupTabStops(a){for(a!=null?this.tabs[a]||(a=this.prevStop(a)):(this.tabs={},a=0);a<this._cols;a+=this._optionsService.rawOptions.tabStopWidth)this.tabs[a]=!0}prevStop(a){for(a==null&&(a=this.x);!this.tabs[--a]&&a>0;);return a>=this._cols?this._cols-1:a<0?0:a}nextStop(a){for(a==null&&(a=this.x);!this.tabs[++a]&&a<this._cols;);return a>=this._cols?this._cols-1:a<0?0:a}clearMarkers(a){this._isClearing=!0;for(let p=0;p<this.markers.length;p++)this.markers[p].line===a&&(this.markers[p].dispose(),this.markers.splice(p--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let a=0;a<this.markers.length;a++)this.markers[a].dispose(),this.markers.splice(a--,1);this._isClearing=!1}addMarker(a){const p=new w.Marker(a);return this.markers.push(p),p.register(this.lines.onTrim(C=>{p.line-=C,p.line<0&&p.dispose()})),p.register(this.lines.onInsert(C=>{p.line>=C.index&&(p.line+=C.amount)})),p.register(this.lines.onDelete(C=>{p.line>=C.index&&p.line<C.index+C.amount&&p.dispose(),p.line>C.index&&(p.line-=C.amount)})),p.register(p.onDispose(()=>this._removeMarker(p))),p}_removeMarker(a){this._isClearing||this.markers.splice(this.markers.indexOf(a),1)}iterator(a,p,C,y,E){return new m(this,a,p,C,y,E)}};class m{constructor(p,C,y=0,E=p.lines.length,S=0,k=0){this._buffer=p,this._trimRight=C,this._startIndex=y,this._endIndex=E,this._startOverscan=S,this._endOverscan=k,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}hasNext(){return this._current<this._endIndex}next(){const p=this._buffer.getWrappedRangeForLine(this._current);p.first<this._startIndex-this._startOverscan&&(p.first=this._startIndex-this._startOverscan),p.last>this._endIndex+this._endOverscan&&(p.last=this._endIndex+this._endOverscan),p.first=Math.max(p.first,0),p.last=Math.min(p.last,this._buffer.lines.length);let C="";for(let y=p.first;y<=p.last;++y)C+=this._buffer.translateBufferLineToString(y,this._trimRight);return this._current=p.last+1,{range:p,content:C}}}i.BufferStringIterator=m},8437:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferLine=i.DEFAULT_ATTR_DATA=void 0;const l=n(482),f=n(643),c=n(511),u=n(3734);i.DEFAULT_ATTR_DATA=Object.freeze(new u.AttributeData);let b=0;class w{constructor(r,d,m=!1){this.isWrapped=m,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*r);const a=d||c.CellData.fromCharData([0,f.NULL_CELL_CHAR,f.NULL_CELL_WIDTH,f.NULL_CELL_CODE]);for(let p=0;p<r;++p)this.setCell(p,a);this.length=r}get(r){const d=this._data[3*r+0],m=2097151&d;return[this._data[3*r+1],2097152&d?this._combined[r]:m?(0,l.stringFromCodePoint)(m):"",d>>22,2097152&d?this._combined[r].charCodeAt(this._combined[r].length-1):m]}set(r,d){this._data[3*r+1]=d[f.CHAR_DATA_ATTR_INDEX],d[f.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[r]=d[1],this._data[3*r+0]=2097152|r|d[f.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*r+0]=d[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|d[f.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(r){return this._data[3*r+0]>>22}hasWidth(r){return 12582912&this._data[3*r+0]}getFg(r){return this._data[3*r+1]}getBg(r){return this._data[3*r+2]}hasContent(r){return 4194303&this._data[3*r+0]}getCodePoint(r){const d=this._data[3*r+0];return 2097152&d?this._combined[r].charCodeAt(this._combined[r].length-1):2097151&d}isCombined(r){return 2097152&this._data[3*r+0]}getString(r){const d=this._data[3*r+0];return 2097152&d?this._combined[r]:2097151&d?(0,l.stringFromCodePoint)(2097151&d):""}isProtected(r){return 536870912&this._data[3*r+2]}loadCell(r,d){return b=3*r,d.content=this._data[b+0],d.fg=this._data[b+1],d.bg=this._data[b+2],2097152&d.content&&(d.combinedData=this._combined[r]),268435456&d.bg&&(d.extended=this._extendedAttrs[r]),d}setCell(r,d){2097152&d.content&&(this._combined[r]=d.combinedData),268435456&d.bg&&(this._extendedAttrs[r]=d.extended),this._data[3*r+0]=d.content,this._data[3*r+1]=d.fg,this._data[3*r+2]=d.bg}setCellFromCodePoint(r,d,m,a,p,C){268435456&p&&(this._extendedAttrs[r]=C),this._data[3*r+0]=d|m<<22,this._data[3*r+1]=a,this._data[3*r+2]=p}addCodepointToCell(r,d){let m=this._data[3*r+0];2097152&m?this._combined[r]+=(0,l.stringFromCodePoint)(d):(2097151&m?(this._combined[r]=(0,l.stringFromCodePoint)(2097151&m)+(0,l.stringFromCodePoint)(d),m&=-2097152,m|=2097152):m=d|4194304,this._data[3*r+0]=m)}insertCells(r,d,m,a){if((r%=this.length)&&this.getWidth(r-1)===2&&this.setCellFromCodePoint(r-1,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new u.ExtendedAttrs),d<this.length-r){const p=new c.CellData;for(let C=this.length-r-d-1;C>=0;--C)this.setCell(r+d+C,this.loadCell(r+C,p));for(let C=0;C<d;++C)this.setCell(r+C,m)}else for(let p=r;p<this.length;++p)this.setCell(p,m);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new u.ExtendedAttrs)}deleteCells(r,d,m,a){if(r%=this.length,d<this.length-r){const p=new c.CellData;for(let C=0;C<this.length-r-d;++C)this.setCell(r+C,this.loadCell(r+d+C,p));for(let C=this.length-d;C<this.length;++C)this.setCell(C,m)}else for(let p=r;p<this.length;++p)this.setCell(p,m);r&&this.getWidth(r-1)===2&&this.setCellFromCodePoint(r-1,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new u.ExtendedAttrs),this.getWidth(r)!==0||this.hasContent(r)||this.setCellFromCodePoint(r,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new u.ExtendedAttrs)}replaceCells(r,d,m,a,p=!1){if(p)for(r&&this.getWidth(r-1)===2&&!this.isProtected(r-1)&&this.setCellFromCodePoint(r-1,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new u.ExtendedAttrs),d<this.length&&this.getWidth(d-1)===2&&!this.isProtected(d)&&this.setCellFromCodePoint(d,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new u.ExtendedAttrs);r<d&&r<this.length;)this.isProtected(r)||this.setCell(r,m),r++;else for(r&&this.getWidth(r-1)===2&&this.setCellFromCodePoint(r-1,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new u.ExtendedAttrs),d<this.length&&this.getWidth(d-1)===2&&this.setCellFromCodePoint(d,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new u.ExtendedAttrs);r<d&&r<this.length;)this.setCell(r++,m)}resize(r,d){if(r===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const m=3*r;if(r>this.length){if(this._data.buffer.byteLength>=4*m)this._data=new Uint32Array(this._data.buffer,0,m);else{const a=new Uint32Array(m);a.set(this._data),this._data=a}for(let a=this.length;a<r;++a)this.setCell(a,d)}else{this._data=this._data.subarray(0,m);const a=Object.keys(this._combined);for(let C=0;C<a.length;C++){const y=parseInt(a[C],10);y>=r&&delete this._combined[y]}const p=Object.keys(this._extendedAttrs);for(let C=0;C<p.length;C++){const y=parseInt(p[C],10);y>=r&&delete this._extendedAttrs[y]}}return this.length=r,4*m*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const r=new Uint32Array(this._data.length);return r.set(this._data),this._data=r,1}return 0}fill(r,d=!1){if(d)for(let m=0;m<this.length;++m)this.isProtected(m)||this.setCell(m,r);else{this._combined={},this._extendedAttrs={};for(let m=0;m<this.length;++m)this.setCell(m,r)}}copyFrom(r){this.length!==r.length?this._data=new Uint32Array(r._data):this._data.set(r._data),this.length=r.length,this._combined={};for(const d in r._combined)this._combined[d]=r._combined[d];this._extendedAttrs={};for(const d in r._extendedAttrs)this._extendedAttrs[d]=r._extendedAttrs[d];this.isWrapped=r.isWrapped}clone(){const r=new w(0);r._data=new Uint32Array(this._data),r.length=this.length;for(const d in this._combined)r._combined[d]=this._combined[d];for(const d in this._extendedAttrs)r._extendedAttrs[d]=this._extendedAttrs[d];return r.isWrapped=this.isWrapped,r}getTrimmedLength(){for(let r=this.length-1;r>=0;--r)if(4194303&this._data[3*r+0])return r+(this._data[3*r+0]>>22);return 0}copyCellsFrom(r,d,m,a,p){const C=r._data;if(p)for(let E=a-1;E>=0;E--){for(let S=0;S<3;S++)this._data[3*(m+E)+S]=C[3*(d+E)+S];268435456&C[3*(d+E)+2]&&(this._extendedAttrs[m+E]=r._extendedAttrs[d+E])}else for(let E=0;E<a;E++){for(let S=0;S<3;S++)this._data[3*(m+E)+S]=C[3*(d+E)+S];268435456&C[3*(d+E)+2]&&(this._extendedAttrs[m+E]=r._extendedAttrs[d+E])}const y=Object.keys(r._combined);for(let E=0;E<y.length;E++){const S=parseInt(y[E],10);S>=d&&(this._combined[S-d+m]=r._combined[S])}}translateToString(r=!1,d=0,m=this.length){r&&(m=Math.min(m,this.getTrimmedLength()));let a="";for(;d<m;){const p=this._data[3*d+0],C=2097151&p;a+=2097152&p?this._combined[d]:C?(0,l.stringFromCodePoint)(C):f.WHITESPACE_CELL_CHAR,d+=p>>22||1}return a}}i.BufferLine=w},4841:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getRangeLength=void 0,i.getRangeLength=function(n,l){if(n.start.y>n.end.y)throw new Error(`Buffer range end (${n.end.x}, ${n.end.y}) cannot be before start (${n.start.x}, ${n.start.y})`);return l*(n.end.y-n.start.y)+(n.end.x-n.start.x+1)}},4634:(_,i)=>{function n(l,f,c){if(f===l.length-1)return l[f].getTrimmedLength();const u=!l[f].hasContent(c-1)&&l[f].getWidth(c-1)===1,b=l[f+1].getWidth(0)===2;return u&&b?c-1:c}Object.defineProperty(i,"__esModule",{value:!0}),i.getWrappedLineTrimmedLength=i.reflowSmallerGetNewLineLengths=i.reflowLargerApplyNewLayout=i.reflowLargerCreateNewLayout=i.reflowLargerGetLinesToRemove=void 0,i.reflowLargerGetLinesToRemove=function(l,f,c,u,b){const w=[];for(let g=0;g<l.length-1;g++){let r=g,d=l.get(++r);if(!d.isWrapped)continue;const m=[l.get(g)];for(;r<l.length&&d.isWrapped;)m.push(d),d=l.get(++r);if(u>=g&&u<r){g+=m.length-1;continue}let a=0,p=n(m,a,f),C=1,y=0;for(;C<m.length;){const S=n(m,C,f),k=S-y,L=c-p,T=Math.min(k,L);m[a].copyCellsFrom(m[C],y,p,T,!1),p+=T,p===c&&(a++,p=0),y+=T,y===S&&(C++,y=0),p===0&&a!==0&&m[a-1].getWidth(c-1)===2&&(m[a].copyCellsFrom(m[a-1],c-1,p++,1,!1),m[a-1].setCell(c-1,b))}m[a].replaceCells(p,c,b);let E=0;for(let S=m.length-1;S>0&&(S>a||m[S].getTrimmedLength()===0);S--)E++;E>0&&(w.push(g+m.length-E),w.push(E)),g+=m.length-1}return w},i.reflowLargerCreateNewLayout=function(l,f){const c=[];let u=0,b=f[u],w=0;for(let g=0;g<l.length;g++)if(b===g){const r=f[++u];l.onDeleteEmitter.fire({index:g-w,amount:r}),g+=r-1,w+=r,b=f[++u]}else c.push(g);return{layout:c,countRemoved:w}},i.reflowLargerApplyNewLayout=function(l,f){const c=[];for(let u=0;u<f.length;u++)c.push(l.get(f[u]));for(let u=0;u<c.length;u++)l.set(u,c[u]);l.length=f.length},i.reflowSmallerGetNewLineLengths=function(l,f,c){const u=[],b=l.map((d,m)=>n(l,m,f)).reduce((d,m)=>d+m);let w=0,g=0,r=0;for(;r<b;){if(b-r<c){u.push(b-r);break}w+=c;const d=n(l,g,f);w>d&&(w-=d,g++);const m=l[g].getWidth(w-1)===2;m&&w--;const a=m?c-1:c;u.push(a),r+=a}return u},i.getWrappedLineTrimmedLength=n},5295:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferSet=void 0;const l=n(9092),f=n(8460),c=n(844);class u extends c.Disposable{constructor(w,g){super(),this._optionsService=w,this._bufferService=g,this._onBufferActivate=this.register(new f.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new l.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new l.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(w){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(w),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(w,g){this._normal.resize(w,g),this._alt.resize(w,g),this.setupTabStops(w)}setupTabStops(w){this._normal.setupTabStops(w),this._alt.setupTabStops(w)}}i.BufferSet=u},511:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CellData=void 0;const l=n(482),f=n(643),c=n(3734);class u extends c.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new c.ExtendedAttrs,this.combinedData=""}static fromCharData(w){const g=new u;return g.setFromCharData(w),g}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,l.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(w){this.fg=w[f.CHAR_DATA_ATTR_INDEX],this.bg=0;let g=!1;if(w[f.CHAR_DATA_CHAR_INDEX].length>2)g=!0;else if(w[f.CHAR_DATA_CHAR_INDEX].length===2){const r=w[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=r&&r<=56319){const d=w[f.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=d&&d<=57343?this.content=1024*(r-55296)+d-56320+65536|w[f.CHAR_DATA_WIDTH_INDEX]<<22:g=!0}else g=!0}else this.content=w[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|w[f.CHAR_DATA_WIDTH_INDEX]<<22;g&&(this.combinedData=w[f.CHAR_DATA_CHAR_INDEX],this.content=2097152|w[f.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}i.CellData=u},643:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WHITESPACE_CELL_CODE=i.WHITESPACE_CELL_WIDTH=i.WHITESPACE_CELL_CHAR=i.NULL_CELL_CODE=i.NULL_CELL_WIDTH=i.NULL_CELL_CHAR=i.CHAR_DATA_CODE_INDEX=i.CHAR_DATA_WIDTH_INDEX=i.CHAR_DATA_CHAR_INDEX=i.CHAR_DATA_ATTR_INDEX=i.DEFAULT_EXT=i.DEFAULT_ATTR=i.DEFAULT_COLOR=void 0,i.DEFAULT_COLOR=0,i.DEFAULT_ATTR=256|i.DEFAULT_COLOR<<9,i.DEFAULT_EXT=0,i.CHAR_DATA_ATTR_INDEX=0,i.CHAR_DATA_CHAR_INDEX=1,i.CHAR_DATA_WIDTH_INDEX=2,i.CHAR_DATA_CODE_INDEX=3,i.NULL_CELL_CHAR="",i.NULL_CELL_WIDTH=1,i.NULL_CELL_CODE=0,i.WHITESPACE_CELL_CHAR=" ",i.WHITESPACE_CELL_WIDTH=1,i.WHITESPACE_CELL_CODE=32},4863:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Marker=void 0;const l=n(8460),f=n(844);class c{constructor(b){this.line=b,this.isDisposed=!1,this._disposables=[],this._id=c._nextId++,this._onDispose=this.register(new l.EventEmitter),this.onDispose=this._onDispose.event}get id(){return this._id}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,f.disposeArray)(this._disposables),this._disposables.length=0)}register(b){return this._disposables.push(b),b}}i.Marker=c,c._nextId=1},7116:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_CHARSET=i.CHARSETS=void 0,i.CHARSETS={},i.DEFAULT_CHARSET=i.CHARSETS.B,i.CHARSETS[0]={"`":"◆",a:"▒",b:"␉",c:"␌",d:"␍",e:"␊",f:"°",g:"±",h:"␤",i:"␋",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},i.CHARSETS.A={"#":"£"},i.CHARSETS.B=void 0,i.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},i.CHARSETS.C=i.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},i.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},i.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},i.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},i.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},i.CHARSETS.E=i.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},i.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},i.CHARSETS.H=i.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},i.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},2584:(_,i)=>{var n,l;Object.defineProperty(i,"__esModule",{value:!0}),i.C1_ESCAPED=i.C1=i.C0=void 0,function(f){f.NUL="\0",f.SOH="",f.STX="",f.ETX="",f.EOT="",f.ENQ="",f.ACK="",f.BEL="\x07",f.BS="\b",f.HT="	",f.LF=`
`,f.VT="\v",f.FF="\f",f.CR="\r",f.SO="",f.SI="",f.DLE="",f.DC1="",f.DC2="",f.DC3="",f.DC4="",f.NAK="",f.SYN="",f.ETB="",f.CAN="",f.EM="",f.SUB="",f.ESC="\x1B",f.FS="",f.GS="",f.RS="",f.US="",f.SP=" ",f.DEL=""}(n=i.C0||(i.C0={})),(l=i.C1||(i.C1={})).PAD="",l.HOP="",l.BPH="",l.NBH="",l.IND="",l.NEL="",l.SSA="",l.ESA="",l.HTS="",l.HTJ="",l.VTS="",l.PLD="",l.PLU="",l.RI="",l.SS2="",l.SS3="",l.DCS="",l.PU1="",l.PU2="",l.STS="",l.CCH="",l.MW="",l.SPA="",l.EPA="",l.SOS="",l.SGCI="",l.SCI="",l.CSI="",l.ST="",l.OSC="",l.PM="",l.APC="",(i.C1_ESCAPED||(i.C1_ESCAPED={})).ST=`${n.ESC}\\`},7399:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.evaluateKeyboardEvent=void 0;const l=n(2584),f={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};i.evaluateKeyboardEvent=function(c,u,b,w){const g={type:0,cancel:!1,key:void 0},r=(c.shiftKey?1:0)|(c.altKey?2:0)|(c.ctrlKey?4:0)|(c.metaKey?8:0);switch(c.keyCode){case 0:c.key==="UIKeyInputUpArrow"?g.key=u?l.C0.ESC+"OA":l.C0.ESC+"[A":c.key==="UIKeyInputLeftArrow"?g.key=u?l.C0.ESC+"OD":l.C0.ESC+"[D":c.key==="UIKeyInputRightArrow"?g.key=u?l.C0.ESC+"OC":l.C0.ESC+"[C":c.key==="UIKeyInputDownArrow"&&(g.key=u?l.C0.ESC+"OB":l.C0.ESC+"[B");break;case 8:if(c.altKey){g.key=l.C0.ESC+l.C0.DEL;break}g.key=l.C0.DEL;break;case 9:if(c.shiftKey){g.key=l.C0.ESC+"[Z";break}g.key=l.C0.HT,g.cancel=!0;break;case 13:g.key=c.altKey?l.C0.ESC+l.C0.CR:l.C0.CR,g.cancel=!0;break;case 27:g.key=l.C0.ESC,c.altKey&&(g.key=l.C0.ESC+l.C0.ESC),g.cancel=!0;break;case 37:if(c.metaKey)break;r?(g.key=l.C0.ESC+"[1;"+(r+1)+"D",g.key===l.C0.ESC+"[1;3D"&&(g.key=l.C0.ESC+(b?"b":"[1;5D"))):g.key=u?l.C0.ESC+"OD":l.C0.ESC+"[D";break;case 39:if(c.metaKey)break;r?(g.key=l.C0.ESC+"[1;"+(r+1)+"C",g.key===l.C0.ESC+"[1;3C"&&(g.key=l.C0.ESC+(b?"f":"[1;5C"))):g.key=u?l.C0.ESC+"OC":l.C0.ESC+"[C";break;case 38:if(c.metaKey)break;r?(g.key=l.C0.ESC+"[1;"+(r+1)+"A",b||g.key!==l.C0.ESC+"[1;3A"||(g.key=l.C0.ESC+"[1;5A")):g.key=u?l.C0.ESC+"OA":l.C0.ESC+"[A";break;case 40:if(c.metaKey)break;r?(g.key=l.C0.ESC+"[1;"+(r+1)+"B",b||g.key!==l.C0.ESC+"[1;3B"||(g.key=l.C0.ESC+"[1;5B")):g.key=u?l.C0.ESC+"OB":l.C0.ESC+"[B";break;case 45:c.shiftKey||c.ctrlKey||(g.key=l.C0.ESC+"[2~");break;case 46:g.key=r?l.C0.ESC+"[3;"+(r+1)+"~":l.C0.ESC+"[3~";break;case 36:g.key=r?l.C0.ESC+"[1;"+(r+1)+"H":u?l.C0.ESC+"OH":l.C0.ESC+"[H";break;case 35:g.key=r?l.C0.ESC+"[1;"+(r+1)+"F":u?l.C0.ESC+"OF":l.C0.ESC+"[F";break;case 33:c.shiftKey?g.type=2:c.ctrlKey?g.key=l.C0.ESC+"[5;"+(r+1)+"~":g.key=l.C0.ESC+"[5~";break;case 34:c.shiftKey?g.type=3:c.ctrlKey?g.key=l.C0.ESC+"[6;"+(r+1)+"~":g.key=l.C0.ESC+"[6~";break;case 112:g.key=r?l.C0.ESC+"[1;"+(r+1)+"P":l.C0.ESC+"OP";break;case 113:g.key=r?l.C0.ESC+"[1;"+(r+1)+"Q":l.C0.ESC+"OQ";break;case 114:g.key=r?l.C0.ESC+"[1;"+(r+1)+"R":l.C0.ESC+"OR";break;case 115:g.key=r?l.C0.ESC+"[1;"+(r+1)+"S":l.C0.ESC+"OS";break;case 116:g.key=r?l.C0.ESC+"[15;"+(r+1)+"~":l.C0.ESC+"[15~";break;case 117:g.key=r?l.C0.ESC+"[17;"+(r+1)+"~":l.C0.ESC+"[17~";break;case 118:g.key=r?l.C0.ESC+"[18;"+(r+1)+"~":l.C0.ESC+"[18~";break;case 119:g.key=r?l.C0.ESC+"[19;"+(r+1)+"~":l.C0.ESC+"[19~";break;case 120:g.key=r?l.C0.ESC+"[20;"+(r+1)+"~":l.C0.ESC+"[20~";break;case 121:g.key=r?l.C0.ESC+"[21;"+(r+1)+"~":l.C0.ESC+"[21~";break;case 122:g.key=r?l.C0.ESC+"[23;"+(r+1)+"~":l.C0.ESC+"[23~";break;case 123:g.key=r?l.C0.ESC+"[24;"+(r+1)+"~":l.C0.ESC+"[24~";break;default:if(!c.ctrlKey||c.shiftKey||c.altKey||c.metaKey)if(b&&!w||!c.altKey||c.metaKey)!b||c.altKey||c.ctrlKey||c.shiftKey||!c.metaKey?c.key&&!c.ctrlKey&&!c.altKey&&!c.metaKey&&c.keyCode>=48&&c.key.length===1?g.key=c.key:c.key&&c.ctrlKey&&(c.key==="_"&&(g.key=l.C0.US),c.key==="@"&&(g.key=l.C0.NUL)):c.keyCode===65&&(g.type=1);else{const d=f[c.keyCode],m=d==null?void 0:d[c.shiftKey?1:0];if(m)g.key=l.C0.ESC+m;else if(c.keyCode>=65&&c.keyCode<=90){const a=c.ctrlKey?c.keyCode-64:c.keyCode+32;let p=String.fromCharCode(a);c.shiftKey&&(p=p.toUpperCase()),g.key=l.C0.ESC+p}else if(c.keyCode===32)g.key=l.C0.ESC+(c.ctrlKey?l.C0.NUL:" ");else if(c.key==="Dead"&&c.code.startsWith("Key")){let a=c.code.slice(3,4);c.shiftKey||(a=a.toLowerCase()),g.key=l.C0.ESC+a,g.cancel=!0}}else c.keyCode>=65&&c.keyCode<=90?g.key=String.fromCharCode(c.keyCode-64):c.keyCode===32?g.key=l.C0.NUL:c.keyCode>=51&&c.keyCode<=55?g.key=String.fromCharCode(c.keyCode-51+27):c.keyCode===56?g.key=l.C0.DEL:c.keyCode===219?g.key=l.C0.ESC:c.keyCode===220?g.key=l.C0.FS:c.keyCode===221&&(g.key=l.C0.GS)}return g}},482:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Utf8ToUtf32=i.StringToUtf32=i.utf32ToString=i.stringFromCodePoint=void 0,i.stringFromCodePoint=function(n){return n>65535?(n-=65536,String.fromCharCode(55296+(n>>10))+String.fromCharCode(n%1024+56320)):String.fromCharCode(n)},i.utf32ToString=function(n,l=0,f=n.length){let c="";for(let u=l;u<f;++u){let b=n[u];b>65535?(b-=65536,c+=String.fromCharCode(55296+(b>>10))+String.fromCharCode(b%1024+56320)):c+=String.fromCharCode(b)}return c},i.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(n,l){const f=n.length;if(!f)return 0;let c=0,u=0;if(this._interim){const b=n.charCodeAt(u++);56320<=b&&b<=57343?l[c++]=1024*(this._interim-55296)+b-56320+65536:(l[c++]=this._interim,l[c++]=b),this._interim=0}for(let b=u;b<f;++b){const w=n.charCodeAt(b);if(55296<=w&&w<=56319){if(++b>=f)return this._interim=w,c;const g=n.charCodeAt(b);56320<=g&&g<=57343?l[c++]=1024*(w-55296)+g-56320+65536:(l[c++]=w,l[c++]=g)}else w!==65279&&(l[c++]=w)}return c}},i.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(n,l){const f=n.length;if(!f)return 0;let c,u,b,w,g=0,r=0,d=0;if(this.interim[0]){let p=!1,C=this.interim[0];C&=(224&C)==192?31:(240&C)==224?15:7;let y,E=0;for(;(y=63&this.interim[++E])&&E<4;)C<<=6,C|=y;const S=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,k=S-E;for(;d<k;){if(d>=f)return 0;if(y=n[d++],(192&y)!=128){d--,p=!0;break}this.interim[E++]=y,C<<=6,C|=63&y}p||(S===2?C<128?d--:l[g++]=C:S===3?C<2048||C>=55296&&C<=57343||C===65279||(l[g++]=C):C<65536||C>1114111||(l[g++]=C)),this.interim.fill(0)}const m=f-4;let a=d;for(;a<f;){for(;!(!(a<m)||128&(c=n[a])||128&(u=n[a+1])||128&(b=n[a+2])||128&(w=n[a+3]));)l[g++]=c,l[g++]=u,l[g++]=b,l[g++]=w,a+=4;if(c=n[a++],c<128)l[g++]=c;else if((224&c)==192){if(a>=f)return this.interim[0]=c,g;if(u=n[a++],(192&u)!=128){a--;continue}if(r=(31&c)<<6|63&u,r<128){a--;continue}l[g++]=r}else if((240&c)==224){if(a>=f)return this.interim[0]=c,g;if(u=n[a++],(192&u)!=128){a--;continue}if(a>=f)return this.interim[0]=c,this.interim[1]=u,g;if(b=n[a++],(192&b)!=128){a--;continue}if(r=(15&c)<<12|(63&u)<<6|63&b,r<2048||r>=55296&&r<=57343||r===65279)continue;l[g++]=r}else if((248&c)==240){if(a>=f)return this.interim[0]=c,g;if(u=n[a++],(192&u)!=128){a--;continue}if(a>=f)return this.interim[0]=c,this.interim[1]=u,g;if(b=n[a++],(192&b)!=128){a--;continue}if(a>=f)return this.interim[0]=c,this.interim[1]=u,this.interim[2]=b,g;if(w=n[a++],(192&w)!=128){a--;continue}if(r=(7&c)<<18|(63&u)<<12|(63&b)<<6|63&w,r<65536||r>1114111)continue;l[g++]=r}}return g}}},225:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeV6=void 0;const n=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],l=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let f;i.UnicodeV6=class{constructor(){if(this.version="6",!f){f=new Uint8Array(65536),f.fill(1),f[0]=0,f.fill(0,1,32),f.fill(0,127,160),f.fill(2,4352,4448),f[9001]=2,f[9002]=2,f.fill(2,11904,42192),f[12351]=1,f.fill(2,44032,55204),f.fill(2,63744,64256),f.fill(2,65040,65050),f.fill(2,65072,65136),f.fill(2,65280,65377),f.fill(2,65504,65511);for(let c=0;c<n.length;++c)f.fill(0,n[c][0],n[c][1]+1)}}wcwidth(c){return c<32?0:c<127?1:c<65536?f[c]:function(u,b){let w,g=0,r=b.length-1;if(u<b[0][0]||u>b[r][1])return!1;for(;r>=g;)if(w=g+r>>1,u>b[w][1])g=w+1;else{if(!(u<b[w][0]))return!0;r=w-1}return!1}(c,l)?0:c>=131072&&c<=196605||c>=196608&&c<=262141?2:1}}},5981:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WriteBuffer=void 0;const l=n(8460),f=n(844);class c extends f.Disposable{constructor(b){super(),this._action=b,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new l.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(b,w){if(w!==void 0&&this._syncCalls>w)return void(this._syncCalls=0);if(this._pendingData+=b.length,this._writeBuffer.push(b),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let g;for(this._isSyncWriting=!0;g=this._writeBuffer.shift();){this._action(g);const r=this._callbacks.shift();r&&r()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(b,w){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=b.length,this._writeBuffer.push(b),this._callbacks.push(w),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=b.length,this._writeBuffer.push(b),this._callbacks.push(w)}_innerWrite(b=0,w=!0){const g=b||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const r=this._writeBuffer[this._bufferOffset],d=this._action(r,w);if(d){const a=p=>Date.now()-g>=12?setTimeout(()=>this._innerWrite(0,p)):this._innerWrite(g,p);return void d.catch(p=>(queueMicrotask(()=>{throw p}),Promise.resolve(!1))).then(a)}const m=this._callbacks[this._bufferOffset];if(m&&m(),this._bufferOffset++,this._pendingData-=r.length,Date.now()-g>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}i.WriteBuffer=c},5941:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.toRgbString=i.parseColor=void 0;const n=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,l=/^[\da-f]+$/;function f(c,u){const b=c.toString(16),w=b.length<2?"0"+b:b;switch(u){case 4:return b[0];case 8:return w;case 12:return(w+w).slice(0,3);default:return w+w}}i.parseColor=function(c){if(!c)return;let u=c.toLowerCase();if(u.indexOf("rgb:")===0){u=u.slice(4);const b=n.exec(u);if(b){const w=b[1]?15:b[4]?255:b[7]?4095:65535;return[Math.round(parseInt(b[1]||b[4]||b[7]||b[10],16)/w*255),Math.round(parseInt(b[2]||b[5]||b[8]||b[11],16)/w*255),Math.round(parseInt(b[3]||b[6]||b[9]||b[12],16)/w*255)]}}else if(u.indexOf("#")===0&&(u=u.slice(1),l.exec(u)&&[3,6,9,12].includes(u.length))){const b=u.length/3,w=[0,0,0];for(let g=0;g<3;++g){const r=parseInt(u.slice(b*g,b*g+b),16);w[g]=b===1?r<<4:b===2?r:b===3?r>>4:r>>8}return w}},i.toRgbString=function(c,u=16){const[b,w,g]=c;return`rgb:${f(b,u)}/${f(w,u)}/${f(g,u)}`}},5770:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PAYLOAD_LIMIT=void 0,i.PAYLOAD_LIMIT=1e7},6351:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DcsHandler=i.DcsParser=void 0;const l=n(482),f=n(8742),c=n(5770),u=[];i.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=u,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=u}registerHandler(w,g){this._handlers[w]===void 0&&(this._handlers[w]=[]);const r=this._handlers[w];return r.push(g),{dispose:()=>{const d=r.indexOf(g);d!==-1&&r.splice(d,1)}}}clearHandler(w){this._handlers[w]&&delete this._handlers[w]}setHandlerFallback(w){this._handlerFb=w}reset(){if(this._active.length)for(let w=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;w>=0;--w)this._active[w].unhook(!1);this._stack.paused=!1,this._active=u,this._ident=0}hook(w,g){if(this.reset(),this._ident=w,this._active=this._handlers[w]||u,this._active.length)for(let r=this._active.length-1;r>=0;r--)this._active[r].hook(g);else this._handlerFb(this._ident,"HOOK",g)}put(w,g,r){if(this._active.length)for(let d=this._active.length-1;d>=0;d--)this._active[d].put(w,g,r);else this._handlerFb(this._ident,"PUT",(0,l.utf32ToString)(w,g,r))}unhook(w,g=!0){if(this._active.length){let r=!1,d=this._active.length-1,m=!1;if(this._stack.paused&&(d=this._stack.loopPosition-1,r=g,m=this._stack.fallThrough,this._stack.paused=!1),!m&&r===!1){for(;d>=0&&(r=this._active[d].unhook(w),r!==!0);d--)if(r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!1,r;d--}for(;d>=0;d--)if(r=this._active[d].unhook(!1),r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!0,r}else this._handlerFb(this._ident,"UNHOOK",w);this._active=u,this._ident=0}};const b=new f.Params;b.addParam(0),i.DcsHandler=class{constructor(w){this._handler=w,this._data="",this._params=b,this._hitLimit=!1}hook(w){this._params=w.length>1||w.params[0]?w.clone():b,this._data="",this._hitLimit=!1}put(w,g,r){this._hitLimit||(this._data+=(0,l.utf32ToString)(w,g,r),this._data.length>c.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(w){let g=!1;if(this._hitLimit)g=!1;else if(w&&(g=this._handler(this._data,this._params),g instanceof Promise))return g.then(r=>(this._params=b,this._data="",this._hitLimit=!1,r));return this._params=b,this._data="",this._hitLimit=!1,g}}},2015:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.EscapeSequenceParser=i.VT500_TRANSITION_TABLE=i.TransitionTable=void 0;const l=n(844),f=n(8742),c=n(6242),u=n(6351);class b{constructor(d){this.table=new Uint8Array(d)}setDefault(d,m){this.table.fill(d<<4|m)}add(d,m,a,p){this.table[m<<8|d]=a<<4|p}addMany(d,m,a,p){for(let C=0;C<d.length;C++)this.table[m<<8|d[C]]=a<<4|p}}i.TransitionTable=b;const w=160;i.VT500_TRANSITION_TABLE=function(){const r=new b(4095),d=Array.apply(null,Array(256)).map((E,S)=>S),m=(E,S)=>d.slice(E,S),a=m(32,127),p=m(0,24);p.push(25),p.push.apply(p,m(28,32));const C=m(0,14);let y;for(y in r.setDefault(1,0),r.addMany(a,0,2,0),C)r.addMany([24,26,153,154],y,3,0),r.addMany(m(128,144),y,3,0),r.addMany(m(144,152),y,3,0),r.add(156,y,0,0),r.add(27,y,11,1),r.add(157,y,4,8),r.addMany([152,158,159],y,0,7),r.add(155,y,11,3),r.add(144,y,11,9);return r.addMany(p,0,3,0),r.addMany(p,1,3,1),r.add(127,1,0,1),r.addMany(p,8,0,8),r.addMany(p,3,3,3),r.add(127,3,0,3),r.addMany(p,4,3,4),r.add(127,4,0,4),r.addMany(p,6,3,6),r.addMany(p,5,3,5),r.add(127,5,0,5),r.addMany(p,2,3,2),r.add(127,2,0,2),r.add(93,1,4,8),r.addMany(a,8,5,8),r.add(127,8,5,8),r.addMany([156,27,24,26,7],8,6,0),r.addMany(m(28,32),8,0,8),r.addMany([88,94,95],1,0,7),r.addMany(a,7,0,7),r.addMany(p,7,0,7),r.add(156,7,0,0),r.add(127,7,0,7),r.add(91,1,11,3),r.addMany(m(64,127),3,7,0),r.addMany(m(48,60),3,8,4),r.addMany([60,61,62,63],3,9,4),r.addMany(m(48,60),4,8,4),r.addMany(m(64,127),4,7,0),r.addMany([60,61,62,63],4,0,6),r.addMany(m(32,64),6,0,6),r.add(127,6,0,6),r.addMany(m(64,127),6,0,0),r.addMany(m(32,48),3,9,5),r.addMany(m(32,48),5,9,5),r.addMany(m(48,64),5,0,6),r.addMany(m(64,127),5,7,0),r.addMany(m(32,48),4,9,5),r.addMany(m(32,48),1,9,2),r.addMany(m(32,48),2,9,2),r.addMany(m(48,127),2,10,0),r.addMany(m(48,80),1,10,0),r.addMany(m(81,88),1,10,0),r.addMany([89,90,92],1,10,0),r.addMany(m(96,127),1,10,0),r.add(80,1,11,9),r.addMany(p,9,0,9),r.add(127,9,0,9),r.addMany(m(28,32),9,0,9),r.addMany(m(32,48),9,9,12),r.addMany(m(48,60),9,8,10),r.addMany([60,61,62,63],9,9,10),r.addMany(p,11,0,11),r.addMany(m(32,128),11,0,11),r.addMany(m(28,32),11,0,11),r.addMany(p,10,0,10),r.add(127,10,0,10),r.addMany(m(28,32),10,0,10),r.addMany(m(48,60),10,8,10),r.addMany([60,61,62,63],10,0,11),r.addMany(m(32,48),10,9,12),r.addMany(p,12,0,12),r.add(127,12,0,12),r.addMany(m(28,32),12,0,12),r.addMany(m(32,48),12,9,12),r.addMany(m(48,64),12,0,11),r.addMany(m(64,127),12,12,13),r.addMany(m(64,127),10,12,13),r.addMany(m(64,127),9,12,13),r.addMany(p,13,13,13),r.addMany(a,13,13,13),r.add(127,13,0,13),r.addMany([27,156,24,26],13,14,0),r.add(w,0,2,0),r.add(w,8,5,8),r.add(w,6,0,6),r.add(w,11,0,11),r.add(w,13,13,13),r}();class g extends l.Disposable{constructor(d=i.VT500_TRANSITION_TABLE){super(),this._transitions=d,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new f.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(m,a,p)=>{},this._executeHandlerFb=m=>{},this._csiHandlerFb=(m,a)=>{},this._escHandlerFb=m=>{},this._errorHandlerFb=m=>m,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,l.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new c.OscParser),this._dcsParser=this.register(new u.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(d,m=[64,126]){let a=0;if(d.prefix){if(d.prefix.length>1)throw new Error("only one byte as prefix supported");if(a=d.prefix.charCodeAt(0),a&&60>a||a>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(d.intermediates){if(d.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let C=0;C<d.intermediates.length;++C){const y=d.intermediates.charCodeAt(C);if(32>y||y>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");a<<=8,a|=y}}if(d.final.length!==1)throw new Error("final must be a single byte");const p=d.final.charCodeAt(0);if(m[0]>p||p>m[1])throw new Error(`final must be in range ${m[0]} .. ${m[1]}`);return a<<=8,a|=p,a}identToString(d){const m=[];for(;d;)m.push(String.fromCharCode(255&d)),d>>=8;return m.reverse().join("")}setPrintHandler(d){this._printHandler=d}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(d,m){const a=this._identifier(d,[48,126]);this._escHandlers[a]===void 0&&(this._escHandlers[a]=[]);const p=this._escHandlers[a];return p.push(m),{dispose:()=>{const C=p.indexOf(m);C!==-1&&p.splice(C,1)}}}clearEscHandler(d){this._escHandlers[this._identifier(d,[48,126])]&&delete this._escHandlers[this._identifier(d,[48,126])]}setEscHandlerFallback(d){this._escHandlerFb=d}setExecuteHandler(d,m){this._executeHandlers[d.charCodeAt(0)]=m}clearExecuteHandler(d){this._executeHandlers[d.charCodeAt(0)]&&delete this._executeHandlers[d.charCodeAt(0)]}setExecuteHandlerFallback(d){this._executeHandlerFb=d}registerCsiHandler(d,m){const a=this._identifier(d);this._csiHandlers[a]===void 0&&(this._csiHandlers[a]=[]);const p=this._csiHandlers[a];return p.push(m),{dispose:()=>{const C=p.indexOf(m);C!==-1&&p.splice(C,1)}}}clearCsiHandler(d){this._csiHandlers[this._identifier(d)]&&delete this._csiHandlers[this._identifier(d)]}setCsiHandlerFallback(d){this._csiHandlerFb=d}registerDcsHandler(d,m){return this._dcsParser.registerHandler(this._identifier(d),m)}clearDcsHandler(d){this._dcsParser.clearHandler(this._identifier(d))}setDcsHandlerFallback(d){this._dcsParser.setHandlerFallback(d)}registerOscHandler(d,m){return this._oscParser.registerHandler(d,m)}clearOscHandler(d){this._oscParser.clearHandler(d)}setOscHandlerFallback(d){this._oscParser.setHandlerFallback(d)}setErrorHandler(d){this._errorHandler=d}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(d,m,a,p,C){this._parseStack.state=d,this._parseStack.handlers=m,this._parseStack.handlerPos=a,this._parseStack.transition=p,this._parseStack.chunkPos=C}parse(d,m,a){let p,C=0,y=0,E=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,E=this._parseStack.chunkPos+1;else{if(a===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const S=this._parseStack.handlers;let k=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(a===!1&&k>-1){for(;k>=0&&(p=S[k](this._params),p!==!0);k--)if(p instanceof Promise)return this._parseStack.handlerPos=k,p}this._parseStack.handlers=[];break;case 4:if(a===!1&&k>-1){for(;k>=0&&(p=S[k](),p!==!0);k--)if(p instanceof Promise)return this._parseStack.handlerPos=k,p}this._parseStack.handlers=[];break;case 6:if(C=d[this._parseStack.chunkPos],p=this._dcsParser.unhook(C!==24&&C!==26,a),p)return p;C===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(C=d[this._parseStack.chunkPos],p=this._oscParser.end(C!==24&&C!==26,a),p)return p;C===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,E=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let S=E;S<m;++S){switch(C=d[S],y=this._transitions.table[this.currentState<<8|(C<160?C:w)],y>>4){case 2:for(let I=S+1;;++I){if(I>=m||(C=d[I])<32||C>126&&C<w){this._printHandler(d,S,I),S=I-1;break}if(++I>=m||(C=d[I])<32||C>126&&C<w){this._printHandler(d,S,I),S=I-1;break}if(++I>=m||(C=d[I])<32||C>126&&C<w){this._printHandler(d,S,I),S=I-1;break}if(++I>=m||(C=d[I])<32||C>126&&C<w){this._printHandler(d,S,I),S=I-1;break}}break;case 3:this._executeHandlers[C]?this._executeHandlers[C]():this._executeHandlerFb(C),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:S,code:C,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const k=this._csiHandlers[this._collect<<8|C];let L=k?k.length-1:-1;for(;L>=0&&(p=k[L](this._params),p!==!0);L--)if(p instanceof Promise)return this._preserveStack(3,k,L,y,S),p;L<0&&this._csiHandlerFb(this._collect<<8|C,this._params),this.precedingCodepoint=0;break;case 8:do switch(C){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(C-48)}while(++S<m&&(C=d[S])>47&&C<60);S--;break;case 9:this._collect<<=8,this._collect|=C;break;case 10:const T=this._escHandlers[this._collect<<8|C];let O=T?T.length-1:-1;for(;O>=0&&(p=T[O](),p!==!0);O--)if(p instanceof Promise)return this._preserveStack(4,T,O,y,S),p;O<0&&this._escHandlerFb(this._collect<<8|C),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|C,this._params);break;case 13:for(let I=S+1;;++I)if(I>=m||(C=d[I])===24||C===26||C===27||C>127&&C<w){this._dcsParser.put(d,S,I),S=I-1;break}break;case 14:if(p=this._dcsParser.unhook(C!==24&&C!==26),p)return this._preserveStack(6,[],0,y,S),p;C===27&&(y|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let I=S+1;;I++)if(I>=m||(C=d[I])<32||C>127&&C<w){this._oscParser.put(d,S,I),S=I-1;break}break;case 6:if(p=this._oscParser.end(C!==24&&C!==26),p)return this._preserveStack(5,[],0,y,S),p;C===27&&(y|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&y}}}i.EscapeSequenceParser=g},6242:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OscHandler=i.OscParser=void 0;const l=n(5770),f=n(482),c=[];i.OscParser=class{constructor(){this._state=0,this._active=c,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(u,b){this._handlers[u]===void 0&&(this._handlers[u]=[]);const w=this._handlers[u];return w.push(b),{dispose:()=>{const g=w.indexOf(b);g!==-1&&w.splice(g,1)}}}clearHandler(u){this._handlers[u]&&delete this._handlers[u]}setHandlerFallback(u){this._handlerFb=u}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=c}reset(){if(this._state===2)for(let u=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;u>=0;--u)this._active[u].end(!1);this._stack.paused=!1,this._active=c,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||c,this._active.length)for(let u=this._active.length-1;u>=0;u--)this._active[u].start();else this._handlerFb(this._id,"START")}_put(u,b,w){if(this._active.length)for(let g=this._active.length-1;g>=0;g--)this._active[g].put(u,b,w);else this._handlerFb(this._id,"PUT",(0,f.utf32ToString)(u,b,w))}start(){this.reset(),this._state=1}put(u,b,w){if(this._state!==3){if(this._state===1)for(;b<w;){const g=u[b++];if(g===59){this._state=2,this._start();break}if(g<48||57<g)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+g-48}this._state===2&&w-b>0&&this._put(u,b,w)}}end(u,b=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let w=!1,g=this._active.length-1,r=!1;if(this._stack.paused&&(g=this._stack.loopPosition-1,w=b,r=this._stack.fallThrough,this._stack.paused=!1),!r&&w===!1){for(;g>=0&&(w=this._active[g].end(u),w!==!0);g--)if(w instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=g,this._stack.fallThrough=!1,w;g--}for(;g>=0;g--)if(w=this._active[g].end(!1),w instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=g,this._stack.fallThrough=!0,w}else this._handlerFb(this._id,"END",u);this._active=c,this._id=-1,this._state=0}}},i.OscHandler=class{constructor(u){this._handler=u,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(u,b,w){this._hitLimit||(this._data+=(0,f.utf32ToString)(u,b,w),this._data.length>l.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(u){let b=!1;if(this._hitLimit)b=!1;else if(u&&(b=this._handler(this._data),b instanceof Promise))return b.then(w=>(this._data="",this._hitLimit=!1,w));return this._data="",this._hitLimit=!1,b}}},8742:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Params=void 0;const n=2147483647;class l{constructor(c=32,u=32){if(this.maxLength=c,this.maxSubParamsLength=u,u>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(c),this.length=0,this._subParams=new Int32Array(u),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(c),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}static fromArray(c){const u=new l;if(!c.length)return u;for(let b=Array.isArray(c[0])?1:0;b<c.length;++b){const w=c[b];if(Array.isArray(w))for(let g=0;g<w.length;++g)u.addSubParam(w[g]);else u.addParam(w)}return u}clone(){const c=new l(this.maxLength,this.maxSubParamsLength);return c.params.set(this.params),c.length=this.length,c._subParams.set(this._subParams),c._subParamsLength=this._subParamsLength,c._subParamsIdx.set(this._subParamsIdx),c._rejectDigits=this._rejectDigits,c._rejectSubDigits=this._rejectSubDigits,c._digitIsSub=this._digitIsSub,c}toArray(){const c=[];for(let u=0;u<this.length;++u){c.push(this.params[u]);const b=this._subParamsIdx[u]>>8,w=255&this._subParamsIdx[u];w-b>0&&c.push(Array.prototype.slice.call(this._subParams,b,w))}return c}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(c){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(c<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=c>n?n:c}}addSubParam(c){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(c<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=c>n?n:c,this._subParamsIdx[this.length-1]++}}hasSubParams(c){return(255&this._subParamsIdx[c])-(this._subParamsIdx[c]>>8)>0}getSubParams(c){const u=this._subParamsIdx[c]>>8,b=255&this._subParamsIdx[c];return b-u>0?this._subParams.subarray(u,b):null}getSubParamsAll(){const c={};for(let u=0;u<this.length;++u){const b=this._subParamsIdx[u]>>8,w=255&this._subParamsIdx[u];w-b>0&&(c[u]=this._subParams.slice(b,w))}return c}addDigit(c){let u;if(this._rejectDigits||!(u=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const b=this._digitIsSub?this._subParams:this.params,w=b[u-1];b[u-1]=~w?Math.min(10*w+c,n):c}}i.Params=l},5741:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.AddonManager=void 0,i.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let n=this._addons.length-1;n>=0;n--)this._addons[n].instance.dispose()}loadAddon(n,l){const f={instance:l,dispose:l.dispose,isDisposed:!1};this._addons.push(f),l.dispose=()=>this._wrappedAddonDispose(f),l.activate(n)}_wrappedAddonDispose(n){if(n.isDisposed)return;let l=-1;for(let f=0;f<this._addons.length;f++)if(this._addons[f]===n){l=f;break}if(l===-1)throw new Error("Could not dispose an addon that has not been loaded");n.isDisposed=!0,n.dispose.apply(n.instance),this._addons.splice(l,1)}}},8771:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferApiView=void 0;const l=n(3785),f=n(511);i.BufferApiView=class{constructor(c,u){this._buffer=c,this.type=u}init(c){return this._buffer=c,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(c){const u=this._buffer.lines.get(c);if(u)return new l.BufferLineApiView(u)}getNullCell(){return new f.CellData}}},3785:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferLineApiView=void 0;const l=n(511);i.BufferLineApiView=class{constructor(f){this._line=f}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(f,c){if(!(f<0||f>=this._line.length))return c?(this._line.loadCell(f,c),c):this._line.loadCell(f,new l.CellData)}translateToString(f,c,u){return this._line.translateToString(f,c,u)}}},8285:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferNamespaceApi=void 0;const l=n(8771),f=n(8460);i.BufferNamespaceApi=class{constructor(c){this._core=c,this._onBufferChange=new f.EventEmitter,this.onBufferChange=this._onBufferChange.event,this._normal=new l.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new l.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}},7975:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ParserApi=void 0,i.ParserApi=class{constructor(n){this._core=n}registerCsiHandler(n,l){return this._core.registerCsiHandler(n,f=>l(f.toArray()))}addCsiHandler(n,l){return this.registerCsiHandler(n,l)}registerDcsHandler(n,l){return this._core.registerDcsHandler(n,(f,c)=>l(f,c.toArray()))}addDcsHandler(n,l){return this.registerDcsHandler(n,l)}registerEscHandler(n,l){return this._core.registerEscHandler(n,l)}addEscHandler(n,l){return this.registerEscHandler(n,l)}registerOscHandler(n,l){return this._core.registerOscHandler(n,l)}addOscHandler(n,l){return this.registerOscHandler(n,l)}}},7090:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeApi=void 0,i.UnicodeApi=class{constructor(n){this._core=n}register(n){this._core.unicodeService.register(n)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(n){this._core.unicodeService.activeVersion=n}}},744:function(_,i,n){var l=this&&this.__decorate||function(r,d,m,a){var p,C=arguments.length,y=C<3?d:a===null?a=Object.getOwnPropertyDescriptor(d,m):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(r,d,m,a);else for(var E=r.length-1;E>=0;E--)(p=r[E])&&(y=(C<3?p(y):C>3?p(d,m,y):p(d,m))||y);return C>3&&y&&Object.defineProperty(d,m,y),y},f=this&&this.__param||function(r,d){return function(m,a){d(m,a,r)}};Object.defineProperty(i,"__esModule",{value:!0}),i.BufferService=i.MINIMUM_ROWS=i.MINIMUM_COLS=void 0;const c=n(2585),u=n(5295),b=n(8460),w=n(844);i.MINIMUM_COLS=2,i.MINIMUM_ROWS=1;let g=class extends w.Disposable{constructor(r){super(),this.isUserScrolling=!1,this._onResize=this.register(new b.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new b.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(r.rawOptions.cols||0,i.MINIMUM_COLS),this.rows=Math.max(r.rawOptions.rows||0,i.MINIMUM_ROWS),this.buffers=this.register(new u.BufferSet(r,this))}get buffer(){return this.buffers.active}resize(r,d){this.cols=r,this.rows=d,this.buffers.resize(r,d),this._onResize.fire({cols:r,rows:d})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(r,d=!1){const m=this.buffer;let a;a=this._cachedBlankLine,a&&a.length===this.cols&&a.getFg(0)===r.fg&&a.getBg(0)===r.bg||(a=m.getBlankLine(r,d),this._cachedBlankLine=a),a.isWrapped=d;const p=m.ybase+m.scrollTop,C=m.ybase+m.scrollBottom;if(m.scrollTop===0){const y=m.lines.isFull;C===m.lines.length-1?y?m.lines.recycle().copyFrom(a):m.lines.push(a.clone()):m.lines.splice(C+1,0,a.clone()),y?this.isUserScrolling&&(m.ydisp=Math.max(m.ydisp-1,0)):(m.ybase++,this.isUserScrolling||m.ydisp++)}else{const y=C-p+1;m.lines.shiftElements(p+1,y-1,-1),m.lines.set(C,a.clone())}this.isUserScrolling||(m.ydisp=m.ybase),this._onScroll.fire(m.ydisp)}scrollLines(r,d,m){const a=this.buffer;if(r<0){if(a.ydisp===0)return;this.isUserScrolling=!0}else r+a.ydisp>=a.ybase&&(this.isUserScrolling=!1);const p=a.ydisp;a.ydisp=Math.max(Math.min(a.ydisp+r,a.ybase),0),p!==a.ydisp&&(d||this._onScroll.fire(a.ydisp))}scrollPages(r){this.scrollLines(r*(this.rows-1))}scrollToTop(){this.scrollLines(-this.buffer.ydisp)}scrollToBottom(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)}scrollToLine(r){const d=r-this.buffer.ydisp;d!==0&&this.scrollLines(d)}};g=l([f(0,c.IOptionsService)],g),i.BufferService=g},7994:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CharsetService=void 0,i.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(n){this.glevel=n,this.charset=this._charsets[n]}setgCharset(n,l){this._charsets[n]=l,this.glevel===n&&(this.charset=l)}}},1753:function(_,i,n){var l=this&&this.__decorate||function(a,p,C,y){var E,S=arguments.length,k=S<3?p:y===null?y=Object.getOwnPropertyDescriptor(p,C):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(a,p,C,y);else for(var L=a.length-1;L>=0;L--)(E=a[L])&&(k=(S<3?E(k):S>3?E(p,C,k):E(p,C))||k);return S>3&&k&&Object.defineProperty(p,C,k),k},f=this&&this.__param||function(a,p){return function(C,y){p(C,y,a)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CoreMouseService=void 0;const c=n(2585),u=n(8460),b=n(844),w={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:a=>a.button!==4&&a.action===1&&(a.ctrl=!1,a.alt=!1,a.shift=!1,!0)},VT200:{events:19,restrict:a=>a.action!==32},DRAG:{events:23,restrict:a=>a.action!==32||a.button!==3},ANY:{events:31,restrict:a=>!0}};function g(a,p){let C=(a.ctrl?16:0)|(a.shift?4:0)|(a.alt?8:0);return a.button===4?(C|=64,C|=a.action):(C|=3&a.button,4&a.button&&(C|=64),8&a.button&&(C|=128),a.action===32?C|=32:a.action!==0||p||(C|=3)),C}const r=String.fromCharCode,d={DEFAULT:a=>{const p=[g(a,!1)+32,a.col+32,a.row+32];return p[0]>255||p[1]>255||p[2]>255?"":`\x1B[M${r(p[0])}${r(p[1])}${r(p[2])}`},SGR:a=>{const p=a.action===0&&a.button!==4?"m":"M";return`\x1B[<${g(a,!0)};${a.col};${a.row}${p}`},SGR_PIXELS:a=>{const p=a.action===0&&a.button!==4?"m":"M";return`\x1B[<${g(a,!0)};${a.x};${a.y}${p}`}};let m=class extends b.Disposable{constructor(a,p){super(),this._bufferService=a,this._coreService=p,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new u.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const C of Object.keys(w))this.addProtocol(C,w[C]);for(const C of Object.keys(d))this.addEncoding(C,d[C]);this.reset()}addProtocol(a,p){this._protocols[a]=p}addEncoding(a,p){this._encodings[a]=p}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(a){if(!this._protocols[a])throw new Error(`unknown protocol "${a}"`);this._activeProtocol=a,this._onProtocolChange.fire(this._protocols[a].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(a){if(!this._encodings[a])throw new Error(`unknown encoding "${a}"`);this._activeEncoding=a}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(a){if(a.col<0||a.col>=this._bufferService.cols||a.row<0||a.row>=this._bufferService.rows||a.button===4&&a.action===32||a.button===3&&a.action!==32||a.button!==4&&(a.action===2||a.action===3)||(a.col++,a.row++,a.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,a,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(a))return!1;const p=this._encodings[this._activeEncoding](a);return p&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(p):this._coreService.triggerDataEvent(p,!0)),this._lastEvent=a,!0}explainEvents(a){return{down:!!(1&a),up:!!(2&a),drag:!!(4&a),move:!!(8&a),wheel:!!(16&a)}}_equalEvents(a,p,C){if(C){if(a.x!==p.x||a.y!==p.y)return!1}else if(a.col!==p.col||a.row!==p.row)return!1;return a.button===p.button&&a.action===p.action&&a.ctrl===p.ctrl&&a.alt===p.alt&&a.shift===p.shift}};m=l([f(0,c.IBufferService),f(1,c.ICoreService)],m),i.CoreMouseService=m},6975:function(_,i,n){var l=this&&this.__decorate||function(m,a,p,C){var y,E=arguments.length,S=E<3?a:C===null?C=Object.getOwnPropertyDescriptor(a,p):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(m,a,p,C);else for(var k=m.length-1;k>=0;k--)(y=m[k])&&(S=(E<3?y(S):E>3?y(a,p,S):y(a,p))||S);return E>3&&S&&Object.defineProperty(a,p,S),S},f=this&&this.__param||function(m,a){return function(p,C){a(p,C,m)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CoreService=void 0;const c=n(2585),u=n(8460),b=n(1439),w=n(844),g=Object.freeze({insertMode:!1}),r=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let d=class extends w.Disposable{constructor(m,a,p){super(),this._bufferService=m,this._logService=a,this._optionsService=p,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new u.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new u.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new u.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new u.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,b.clone)(g),this.decPrivateModes=(0,b.clone)(r)}reset(){this.modes=(0,b.clone)(g),this.decPrivateModes=(0,b.clone)(r)}triggerDataEvent(m,a=!1){if(this._optionsService.rawOptions.disableStdin)return;const p=this._bufferService.buffer;a&&this._optionsService.rawOptions.scrollOnUserInput&&p.ybase!==p.ydisp&&this._onRequestScrollToBottom.fire(),a&&this._onUserInput.fire(),this._logService.debug(`sending data "${m}"`,()=>m.split("").map(C=>C.charCodeAt(0))),this._onData.fire(m)}triggerBinaryEvent(m){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${m}"`,()=>m.split("").map(a=>a.charCodeAt(0))),this._onBinary.fire(m))}};d=l([f(0,c.IBufferService),f(1,c.ILogService),f(2,c.IOptionsService)],d),i.CoreService=d},9074:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DecorationService=void 0;const l=n(8055),f=n(8460),c=n(844),u=n(6106);let b=0,w=0;class g extends c.Disposable{constructor(){super(),this._decorations=new u.SortedList(m=>m==null?void 0:m.marker.line),this._onDecorationRegistered=this.register(new f.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new f.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,c.toDisposable)(()=>{for(const m of this._decorations.values())this._onDecorationRemoved.fire(m);this.reset()}))}get decorations(){return this._decorations.values()}registerDecoration(m){if(m.marker.isDisposed)return;const a=new r(m);if(a){const p=a.marker.onDispose(()=>a.dispose());a.onDispose(()=>{a&&(this._decorations.delete(a)&&this._onDecorationRemoved.fire(a),p.dispose())}),this._decorations.insert(a),this._onDecorationRegistered.fire(a)}return a}reset(){for(const m of this._decorations.values())m.dispose();this._decorations.clear()}*getDecorationsAtCell(m,a,p){var C,y,E;let S=0,k=0;for(const L of this._decorations.getKeyIterator(a))S=(C=L.options.x)!==null&&C!==void 0?C:0,k=S+((y=L.options.width)!==null&&y!==void 0?y:1),m>=S&&m<k&&(!p||((E=L.options.layer)!==null&&E!==void 0?E:"bottom")===p)&&(yield L)}forEachDecorationAtCell(m,a,p,C){this._decorations.forEachByKey(a,y=>{var E,S,k;b=(E=y.options.x)!==null&&E!==void 0?E:0,w=b+((S=y.options.width)!==null&&S!==void 0?S:1),m>=b&&m<w&&(!p||((k=y.options.layer)!==null&&k!==void 0?k:"bottom")===p)&&C(y)})}dispose(){for(const m of this._decorations.values())this._onDecorationRemoved.fire(m);this.reset()}}i.DecorationService=g;class r extends c.Disposable{constructor(m){super(),this.options=m,this.isDisposed=!1,this.onRenderEmitter=this.register(new f.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new f.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=m.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=l.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=l.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.InstantiationService=i.ServiceCollection=void 0;const l=n(2585),f=n(8343);class c{constructor(...b){this._entries=new Map;for(const[w,g]of b)this.set(w,g)}set(b,w){const g=this._entries.get(b);return this._entries.set(b,w),g}forEach(b){for(const[w,g]of this._entries.entries())b(w,g)}has(b){return this._entries.has(b)}get(b){return this._entries.get(b)}}i.ServiceCollection=c,i.InstantiationService=class{constructor(){this._services=new c,this._services.set(l.IInstantiationService,this)}setService(u,b){this._services.set(u,b)}getService(u){return this._services.get(u)}createInstance(u,...b){const w=(0,f.getServiceDependencies)(u).sort((d,m)=>d.index-m.index),g=[];for(const d of w){const m=this._services.get(d.id);if(!m)throw new Error(`[createInstance] ${u.name} depends on UNKNOWN service ${d.id}.`);g.push(m)}const r=w.length>0?w[0].index:b.length;if(b.length!==r)throw new Error(`[createInstance] First service dependency of ${u.name} at position ${r+1} conflicts with ${b.length} static arguments`);return new u(...b,...g)}}},7866:function(_,i,n){var l=this&&this.__decorate||function(g,r,d,m){var a,p=arguments.length,C=p<3?r:m===null?m=Object.getOwnPropertyDescriptor(r,d):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(g,r,d,m);else for(var y=g.length-1;y>=0;y--)(a=g[y])&&(C=(p<3?a(C):p>3?a(r,d,C):a(r,d))||C);return p>3&&C&&Object.defineProperty(r,d,C),C},f=this&&this.__param||function(g,r){return function(d,m){r(d,m,g)}};Object.defineProperty(i,"__esModule",{value:!0}),i.LogService=void 0;const c=n(844),u=n(2585),b={debug:u.LogLevelEnum.DEBUG,info:u.LogLevelEnum.INFO,warn:u.LogLevelEnum.WARN,error:u.LogLevelEnum.ERROR,off:u.LogLevelEnum.OFF};let w=class extends c.Disposable{constructor(g){super(),this._optionsService=g,this.logLevel=u.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel()))}_updateLogLevel(){this.logLevel=b[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(g){for(let r=0;r<g.length;r++)typeof g[r]=="function"&&(g[r]=g[r]())}_log(g,r,d){this._evalLazyOptionalParams(d),g.call(console,"xterm.js: "+r,...d)}debug(g,...r){this.logLevel<=u.LogLevelEnum.DEBUG&&this._log(console.log,g,r)}info(g,...r){this.logLevel<=u.LogLevelEnum.INFO&&this._log(console.info,g,r)}warn(g,...r){this.logLevel<=u.LogLevelEnum.WARN&&this._log(console.warn,g,r)}error(g,...r){this.logLevel<=u.LogLevelEnum.ERROR&&this._log(console.error,g,r)}};w=l([f(0,u.IOptionsService)],w),i.LogService=w},7302:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OptionsService=i.DEFAULT_OPTIONS=void 0;const l=n(8460),f=n(6114),c=n(844);i.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:f.isMac,windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const u=["normal","bold","100","200","300","400","500","600","700","800","900"];class b extends c.Disposable{constructor(g){super(),this._onOptionChange=this.register(new l.EventEmitter),this.onOptionChange=this._onOptionChange.event;const r=Object.assign({},i.DEFAULT_OPTIONS);for(const d in g)if(d in r)try{const m=g[d];r[d]=this._sanitizeAndValidateOption(d,m)}catch(m){console.error(m)}this.rawOptions=r,this.options=Object.assign({},r),this._setupOptions()}onSpecificOptionChange(g,r){return this.onOptionChange(d=>{d===g&&r(this.rawOptions[g])})}onMultipleOptionChange(g,r){return this.onOptionChange(d=>{g.indexOf(d)!==-1&&r()})}_setupOptions(){const g=d=>{if(!(d in i.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);return this.rawOptions[d]},r=(d,m)=>{if(!(d in i.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);m=this._sanitizeAndValidateOption(d,m),this.rawOptions[d]!==m&&(this.rawOptions[d]=m,this._onOptionChange.fire(d))};for(const d in this.rawOptions){const m={get:g.bind(this,d),set:r.bind(this,d)};Object.defineProperty(this.options,d,m)}}_sanitizeAndValidateOption(g,r){switch(g){case"cursorStyle":if(r||(r=i.DEFAULT_OPTIONS[g]),!function(d){return d==="block"||d==="underline"||d==="bar"}(r))throw new Error(`"${r}" is not a valid value for ${g}`);break;case"wordSeparator":r||(r=i.DEFAULT_OPTIONS[g]);break;case"fontWeight":case"fontWeightBold":if(typeof r=="number"&&1<=r&&r<=1e3)break;r=u.includes(r)?r:i.DEFAULT_OPTIONS[g];break;case"cursorWidth":r=Math.floor(r);case"lineHeight":case"tabStopWidth":if(r<1)throw new Error(`${g} cannot be less than 1, value: ${r}`);break;case"minimumContrastRatio":r=Math.max(1,Math.min(21,Math.round(10*r)/10));break;case"scrollback":if((r=Math.min(r,4294967295))<0)throw new Error(`${g} cannot be less than 0, value: ${r}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(r<=0)throw new Error(`${g} cannot be less than or equal to 0, value: ${r}`);case"rows":case"cols":if(!r&&r!==0)throw new Error(`${g} must be numeric, value: ${r}`)}return r}}i.OptionsService=b},2660:function(_,i,n){var l=this&&this.__decorate||function(b,w,g,r){var d,m=arguments.length,a=m<3?w:r===null?r=Object.getOwnPropertyDescriptor(w,g):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(b,w,g,r);else for(var p=b.length-1;p>=0;p--)(d=b[p])&&(a=(m<3?d(a):m>3?d(w,g,a):d(w,g))||a);return m>3&&a&&Object.defineProperty(w,g,a),a},f=this&&this.__param||function(b,w){return function(g,r){w(g,r,b)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OscLinkService=void 0;const c=n(2585);let u=class{constructor(b){this._bufferService=b,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(b){const w=this._bufferService.buffer;if(b.id===void 0){const p=w.addMarker(w.ybase+w.y),C={data:b,id:this._nextId++,lines:[p]};return p.onDispose(()=>this._removeMarkerFromLink(C,p)),this._dataByLinkId.set(C.id,C),C.id}const g=b,r=this._getEntryIdKey(g),d=this._entriesWithId.get(r);if(d)return this.addLineToLink(d.id,w.ybase+w.y),d.id;const m=w.addMarker(w.ybase+w.y),a={id:this._nextId++,key:this._getEntryIdKey(g),data:g,lines:[m]};return m.onDispose(()=>this._removeMarkerFromLink(a,m)),this._entriesWithId.set(a.key,a),this._dataByLinkId.set(a.id,a),a.id}addLineToLink(b,w){const g=this._dataByLinkId.get(b);if(g&&g.lines.every(r=>r.line!==w)){const r=this._bufferService.buffer.addMarker(w);g.lines.push(r),r.onDispose(()=>this._removeMarkerFromLink(g,r))}}getLinkData(b){var w;return(w=this._dataByLinkId.get(b))===null||w===void 0?void 0:w.data}_getEntryIdKey(b){return`${b.id};;${b.uri}`}_removeMarkerFromLink(b,w){const g=b.lines.indexOf(w);g!==-1&&(b.lines.splice(g,1),b.lines.length===0&&(b.data.id!==void 0&&this._entriesWithId.delete(b.key),this._dataByLinkId.delete(b.id)))}};u=l([f(0,c.IBufferService)],u),i.OscLinkService=u},8343:(_,i)=>{function n(l,f,c){f.di$target===f?f.di$dependencies.push({id:l,index:c}):(f.di$dependencies=[{id:l,index:c}],f.di$target=f)}Object.defineProperty(i,"__esModule",{value:!0}),i.createDecorator=i.getServiceDependencies=i.serviceRegistry=void 0,i.serviceRegistry=new Map,i.getServiceDependencies=function(l){return l.di$dependencies||[]},i.createDecorator=function(l){if(i.serviceRegistry.has(l))return i.serviceRegistry.get(l);const f=function(c,u,b){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");n(f,c,b)};return f.toString=()=>l,i.serviceRegistry.set(l,f),f}},2585:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.IDecorationService=i.IUnicodeService=i.IOscLinkService=i.IOptionsService=i.ILogService=i.LogLevelEnum=i.IInstantiationService=i.ICharsetService=i.ICoreService=i.ICoreMouseService=i.IBufferService=void 0;const l=n(8343);var f;i.IBufferService=(0,l.createDecorator)("BufferService"),i.ICoreMouseService=(0,l.createDecorator)("CoreMouseService"),i.ICoreService=(0,l.createDecorator)("CoreService"),i.ICharsetService=(0,l.createDecorator)("CharsetService"),i.IInstantiationService=(0,l.createDecorator)("InstantiationService"),(f=i.LogLevelEnum||(i.LogLevelEnum={}))[f.DEBUG=0]="DEBUG",f[f.INFO=1]="INFO",f[f.WARN=2]="WARN",f[f.ERROR=3]="ERROR",f[f.OFF=4]="OFF",i.ILogService=(0,l.createDecorator)("LogService"),i.IOptionsService=(0,l.createDecorator)("OptionsService"),i.IOscLinkService=(0,l.createDecorator)("OscLinkService"),i.IUnicodeService=(0,l.createDecorator)("UnicodeService"),i.IDecorationService=(0,l.createDecorator)("DecorationService")},1480:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeService=void 0;const l=n(8460),f=n(225);i.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new l.EventEmitter,this.onChange=this._onChange.event;const c=new f.UnicodeV6;this.register(c),this._active=c.version,this._activeProvider=c}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(c){if(!this._providers[c])throw new Error(`unknown Unicode version "${c}"`);this._active=c,this._activeProvider=this._providers[c],this._onChange.fire(c)}register(c){this._providers[c.version]=c}wcwidth(c){return this._activeProvider.wcwidth(c)}getStringCellWidth(c){let u=0;const b=c.length;for(let w=0;w<b;++w){let g=c.charCodeAt(w);if(55296<=g&&g<=56319){if(++w>=b)return u+this.wcwidth(g);const r=c.charCodeAt(w);56320<=r&&r<=57343?g=1024*(g-55296)+r-56320+65536:u+=this.wcwidth(r)}u+=this.wcwidth(g)}return u}}}},s={};function h(_){var i=s[_];if(i!==void 0)return i.exports;var n=s[_]={exports:{}};return t[_].call(n.exports,n,n.exports,h),n.exports}var v={};return(()=>{var _=v;Object.defineProperty(_,"__esModule",{value:!0}),_.Terminal=void 0;const i=h(3236),n=h(9042),l=h(7975),f=h(7090),c=h(5741),u=h(8285),b=["cols","rows"];_.Terminal=class{constructor(w){this._core=new i.Terminal(w),this._addonManager=new c.AddonManager,this._publicOptions=Object.assign({},this._core.options);const g=d=>this._core.options[d],r=(d,m)=>{this._checkReadonlyOptions(d),this._core.options[d]=m};for(const d in this._core.options){const m={get:g.bind(this,d),set:r.bind(this,d)};Object.defineProperty(this._publicOptions,d,m)}}_checkReadonlyOptions(w){if(b.includes(w))throw new Error(`Option "${w}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new l.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new f.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=new u.BufferNamespaceApi(this._core)),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const w=this._core.coreService.decPrivateModes;let g="none";switch(this._core.coreMouseService.activeProtocol){case"X10":g="x10";break;case"VT200":g="vt200";break;case"DRAG":g="drag";break;case"ANY":g="any"}return{applicationCursorKeysMode:w.applicationCursorKeys,applicationKeypadMode:w.applicationKeypad,bracketedPasteMode:w.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:g,originMode:w.origin,reverseWraparoundMode:w.reverseWraparound,sendFocusMode:w.sendFocus,wraparoundMode:w.wraparound}}get options(){return this._publicOptions}set options(w){for(const g in w)this._publicOptions[g]=w[g]}blur(){this._core.blur()}focus(){this._core.focus()}resize(w,g){this._verifyIntegers(w,g),this._core.resize(w,g)}open(w){this._core.open(w)}attachCustomKeyEventHandler(w){this._core.attachCustomKeyEventHandler(w)}registerLinkProvider(w){return this._core.registerLinkProvider(w)}registerCharacterJoiner(w){return this._checkProposedApi(),this._core.registerCharacterJoiner(w)}deregisterCharacterJoiner(w){this._checkProposedApi(),this._core.deregisterCharacterJoiner(w)}registerMarker(w=0){return this._verifyIntegers(w),this._core.addMarker(w)}registerDecoration(w){var g,r,d;return this._checkProposedApi(),this._verifyPositiveIntegers((g=w.x)!==null&&g!==void 0?g:0,(r=w.width)!==null&&r!==void 0?r:0,(d=w.height)!==null&&d!==void 0?d:0),this._core.registerDecoration(w)}hasSelection(){return this._core.hasSelection()}select(w,g,r){this._verifyIntegers(w,g,r),this._core.select(w,g,r)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(w,g){this._verifyIntegers(w,g),this._core.selectLines(w,g)}dispose(){this._addonManager.dispose(),this._core.dispose()}scrollLines(w){this._verifyIntegers(w),this._core.scrollLines(w)}scrollPages(w){this._verifyIntegers(w),this._core.scrollPages(w)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(w){this._verifyIntegers(w),this._core.scrollToLine(w)}clear(){this._core.clear()}write(w,g){this._core.write(w,g)}writeln(w,g){this._core.write(w),this._core.write(`\r
`,g)}paste(w){this._core.paste(w)}refresh(w,g){this._verifyIntegers(w,g),this._core.refresh(w,g)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(w){return this._addonManager.loadAddon(this,w)}static get strings(){return n}_verifyIntegers(...w){for(const g of w)if(g===1/0||isNaN(g)||g%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...w){for(const g of w)if(g&&(g===1/0||isNaN(g)||g%1!=0||g<0))throw new Error("This API only accepts positive integers")}}})(),v})()})})(Sr);var _l=Sr.exports,wr={exports:{}};(function(o,e){(function(t,s){o.exports=s()})(self,function(){return(()=>{var t={};return(()=>{var s=t;Object.defineProperty(s,"__esModule",{value:!0}),s.FitAddon=void 0,s.FitAddon=class{constructor(){}activate(h){this._terminal=h}dispose(){}fit(){const h=this.proposeDimensions();if(!h||!this._terminal||isNaN(h.cols)||isNaN(h.rows))return;const v=this._terminal._core;this._terminal.rows===h.rows&&this._terminal.cols===h.cols||(v._renderService.clear(),this._terminal.resize(h.cols,h.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const h=this._terminal._core,v=h._renderService.dimensions;if(v.css.cell.width===0||v.css.cell.height===0)return;const _=this._terminal.options.scrollback===0?0:h.viewport.scrollBarWidth,i=window.getComputedStyle(this._terminal.element.parentElement),n=parseInt(i.getPropertyValue("height")),l=Math.max(0,parseInt(i.getPropertyValue("width"))),f=window.getComputedStyle(this._terminal.element),c=n-(parseInt(f.getPropertyValue("padding-top"))+parseInt(f.getPropertyValue("padding-bottom"))),u=l-(parseInt(f.getPropertyValue("padding-right"))+parseInt(f.getPropertyValue("padding-left")))-_;return{cols:Math.max(2,Math.floor(u/v.css.cell.width)),rows:Math.max(1,Math.floor(c/v.css.cell.height))}}}})(),t})()})})(wr);var pl=wr.exports;function ml(o){let e,t,s,h,v,_,i,n,l,f,c,u,b,w,g,r,d,m,a,p;return g=new ue({props:{icon:rn}}),{c(){e=x("form"),t=x("div"),s=x("div"),h=x("input"),v=q(),_=x("label"),_.textContent="Command",i=q(),n=x("div"),l=x("input"),f=q(),c=x("label"),c.textContent="User",u=q(),b=x("div"),w=x("button"),le(g.$$.fragment),r=ee(`
                    Open Terminal`),D(h,"type","text"),D(h,"class","form-control"),D(h,"id","inpTerminalCmd"),D(_,"for","inpTerminalCmd"),D(s,"class","form-floating mb-2"),D(l,"type","text"),D(l,"class","form-control"),D(l,"id","inpTerminalUser"),D(c,"for","inpTerminalUser"),D(n,"class","form-floating mb-2"),D(w,"type","submit"),D(w,"class","btn btn-primary w-100"),D(b,"class","col-12"),D(t,"class","container"),ge(t,"max-width","400px"),D(e,"class","container login-form")},m(C,y){W(C,e,y),A(e,t),A(t,s),A(s,h),Je(h,o[2]),A(s,v),A(s,_),A(t,i),A(t,n),A(n,l),Je(l,o[3]),A(n,f),A(n,c),A(t,u),A(t,b),A(b,w),ne(g,w,null),A(w,r),m=!0,a||(p=[_e(h,"input",o[10]),_e(l,"input",o[11]),_e(e,"submit",Gt(o[5]))],a=!0)},p(C,y){y&4&&h.value!==C[2]&&Je(h,C[2]),y&8&&l.value!==C[3]&&Je(l,C[3])},i(C){m||(N(g.$$.fragment,C),C&&Ae(()=>{m&&(d||(d=Fe(e,Ie,{},!0)),d.run(1))}),m=!0)},o(C){V(g.$$.fragment,C),C&&(d||(d=Fe(e,Ie,{},!1)),d.run(0)),m=!1},d(C){C&&U(e),oe(g),C&&d&&d.end(),a=!1,ze(p)}}}function vl(o){let e,t,s,h,v,_,i,n,l,f,c;return s=new ue({props:{icon:_r,size:"lg",color:"#666"}}),_=new ue({props:{icon:Pn,size:"lg",color:"#666"}}),{c(){e=x("div"),t=x("button"),le(s.$$.fragment),h=q(),v=x("button"),le(_.$$.fragment),i=q(),n=x("div"),D(t,"type","button"),D(t,"class","btn mx-3"),D(t,"title","Fullscreen"),D(v,"type","button"),D(v,"class","btn mx-3"),D(v,"title","Close Terminal"),D(e,"class","d-flex justify-content-end mb-2"),D(n,"class","border"),ge(n,"height","calc(100vh - 280px)")},m(u,b){W(u,e,b),A(e,t),ne(s,t,null),A(e,h),A(e,v),ne(_,v,null),W(u,i,b),W(u,n,b),o[9](n),l=!0,f||(c=[_e(t,"click",o[6]),_e(v,"click",o[8])],f=!0)},p:se,i(u){l||(N(s.$$.fragment,u),N(_.$$.fragment,u),l=!0)},o(u){V(s.$$.fragment,u),V(_.$$.fragment,u),l=!1},d(u){u&&U(e),oe(s),oe(_),u&&U(i),u&&U(n),o[9](null),f=!1,ze(c)}}}function gl(o){let e,t,s,h,v,_;const i=[vl,ml],n=[];function l(f,c){return f[1]?0:1}return e=l(o),t=n[e]=i[e](o),{c(){t.c(),s=qe()},m(f,c){n[e].m(f,c),W(f,s,c),h=!0,v||(_=_e(window,"resize",o[4]),v=!0)},p(f,[c]){let u=e;e=l(f),e===u?n[e].p(f,c):(pe(),V(n[u],1,1,()=>{n[u]=null}),me(),t=n[e],t?t.p(f,c):(t=n[e]=i[e](f),t.c()),N(t,1),t.m(s.parentNode,s))},i(f){h||(N(t),h=!0)},o(f){V(t),h=!1},d(f){n[e].d(f),f&&U(s),v=!1,_()}}}const Is="sh",Ps="root";function bl(o,e,t){let{container_id:s}=e,h,v,_=!1,i=Is,n=Ps;const l=new _l.Terminal({theme:{background:"#222",cursor:"white",cursorAccent:"#222"},cursorBlink:!0}),f=new pl.FitAddon;Lt(()=>{s!==h&&(_&&(ae.send("close_terminal"),b()),h=s)}),Ne(()=>{ae.register("spawn_terminal",()=>{c(),l.focus()},a=>Ce.add({text:a,type:"error"})),ae.register("close_terminal",()=>{Ce.add({text:"Terminal has been closed",type:"info"}),b()},a=>Ce.add({text:a,type:"error"})),ae.register("receive_terminal_output",async a=>{l.write(new Uint8Array(await a.blob.arrayBuffer()))},a=>Ce.add({text:a,type:"error"})),l.onResize(a=>{ae.send("resize_terminal",a)}),l.loadAddon(f),l.onData(a=>{ae.send("transmit_terminal_input",{data:a})})}),Qe(()=>{_&&ae.send("close_terminal"),ae.unregister("spawn_terminal"),ae.unregister("close_terminal"),ae.unregister("receive_terminal_output")});function c(){_&&f.fit()}async function u(){t(1,_=!0),ae.send("spawn_terminal",{container_id:s,cmd:i,user:n}),await ar(),l.open(v)}function b(){t(1,_=!1),l.reset(),l.clear(),t(2,i=Is),t(3,n=Ps)}function w(){v!=null&&v.requestFullscreen&&v.requestFullscreen({navigationUI:"show"})}const g=()=>ae.send("close_terminal");function r(a){et[a?"unshift":"push"](()=>{v=a,t(0,v)})}function d(){i=this.value,t(2,i)}function m(){n=this.value,t(3,n)}return o.$$set=a=>{"container_id"in a&&t(7,s=a.container_id)},[v,_,i,n,c,u,w,s,g,r,d,m]}class Sl extends Me{constructor(e){super(),Be(this,e,bl,gl,Te,{container_id:7})}}var Cl={prefix:"fab",iconName:"docker",icon:[640,512,[],"f395","M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"]},wl={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]};function yl(o){let e,t,s,h,v,_,i,n=o[1].os+"",l,f,c,u,b,w=o[1].cpus+"",g,r,d,m,a,p,C=He(o[1].mem)+"",y,E,S,k,L,T,O=o[1].engine_version+"",I,K,z,X,R,B=o[1].containers.running+"",M,H,j=o[1].containers.total+"",Y,re,J,ie,$,P,F,G;return _=new ue({props:{icon:un,size:"lg",style:"width: 3rem"}}),u=new ue({props:{icon:pr,size:"lg",style:"width: 3rem"}}),a=new ue({props:{icon:ur,size:"lg",style:"width: 3rem"}}),L=new ue({props:{icon:Cl,size:"lg",style:"width: 3rem"}}),X=new ue({props:{icon:mr,size:"lg",style:"width: 3rem"}}),P=new ue({props:{icon:wl,size:"sm"}}),{c(){e=x("div"),t=x("div"),s=x("div"),s.textContent="Host",h=q(),v=x("div"),le(_.$$.fragment),i=q(),l=ee(n),f=q(),c=x("div"),le(u.$$.fragment),b=q(),g=ee(w),r=ee(" CPUs"),d=q(),m=x("div"),le(a.$$.fragment),p=q(),y=ee(C),E=ee(`
                    Memory`),S=q(),k=x("div"),le(L.$$.fragment),T=q(),I=ee(O),K=q(),z=x("div"),le(X.$$.fragment),R=q(),M=ee(B),H=ee("/"),Y=ee(j),re=ee(" Containers running"),J=q(),ie=x("div"),$=x("a"),le(P.$$.fragment),F=ee(`
                        CaaSa on Github`),D(s,"class","fs-4 text-uppercase mb-3"),D(v,"class","d-flex align-items-center mb-2"),D(c,"class","d-flex align-items-center mb-2"),D(m,"class","d-flex align-items-center mb-2"),D(k,"class","d-flex align-items-center mb-2"),D(z,"class","d-flex align-items-center mb-2"),D($,"href","https://github.com/knrdl/caasa"),D($,"target","_blank"),D($,"rel","noopener noreferrer"),D($,"class","text-decoration-none"),D(ie,"class","mt-3"),D(t,"class","card-body"),D(e,"class","card")},m(Z,de){W(Z,e,de),A(e,t),A(t,s),A(t,h),A(t,v),ne(_,v,null),A(v,i),A(v,l),A(t,f),A(t,c),ne(u,c,null),A(c,b),A(c,g),A(c,r),A(t,d),A(t,m),ne(a,m,null),A(m,p),A(m,y),A(m,E),A(t,S),A(t,k),ne(L,k,null),A(k,T),A(k,I),A(t,K),A(t,z),ne(X,z,null),A(z,R),A(z,M),A(z,H),A(z,Y),A(z,re),A(t,J),A(t,ie),A(ie,$),ne(P,$,null),A($,F),G=!0},p(Z,de){(!G||de&2)&&n!==(n=Z[1].os+"")&&ce(l,n),(!G||de&2)&&w!==(w=Z[1].cpus+"")&&ce(g,w),(!G||de&2)&&C!==(C=He(Z[1].mem)+"")&&ce(y,C),(!G||de&2)&&O!==(O=Z[1].engine_version+"")&&ce(I,O),(!G||de&2)&&B!==(B=Z[1].containers.running+"")&&ce(M,B),(!G||de&2)&&j!==(j=Z[1].containers.total+"")&&ce(Y,j)},i(Z){G||(N(_.$$.fragment,Z),N(u.$$.fragment,Z),N(a.$$.fragment,Z),N(L.$$.fragment,Z),N(X.$$.fragment,Z),N(P.$$.fragment,Z),G=!0)},o(Z){V(_.$$.fragment,Z),V(u.$$.fragment,Z),V(a.$$.fragment,Z),V(L.$$.fragment,Z),V(X.$$.fragment,Z),V(P.$$.fragment,Z),G=!1},d(Z){Z&&U(e),oe(_),oe(u),oe(a),oe(L),oe(X),oe(P)}}}function kl(o){let e;return{c(){e=x("div"),e.innerHTML=`<strong class="mx-5">Loading...</strong> 
            <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div>`,D(e,"class","d-flex align-items-center")},m(t,s){W(t,e,s)},p:se,i:se,o:se,d(t){t&&U(e)}}}function El(o){let e,t,s,h;const v=[kl,yl],_=[];function i(n,l){return n[0]?0:n[1]?1:-1}return~(t=i(o))&&(s=_[t]=v[t](o)),{c(){e=x("div"),s&&s.c(),D(e,"class","flex-grow-1 d-flex justify-content-center align-items-start mt-5")},m(n,l){W(n,e,l),~t&&_[t].m(e,null),h=!0},p(n,[l]){let f=t;t=i(n),t===f?~t&&_[t].p(n,l):(s&&(pe(),V(_[f],1,1,()=>{_[f]=null}),me()),~t?(s=_[t],s?s.p(n,l):(s=_[t]=v[t](n),s.c()),N(s,1),s.m(e,null)):s=null)},i(n){h||(N(s),h=!0)},o(n){V(s),h=!1},d(n){n&&U(e),~t&&_[t].d()}}}function Ll(o,e,t){let s=!0,h;return Ne(()=>{ae.register("get_system_info",v=>{t(1,h=v),t(0,s=!1)},v=>{t(0,s=!1),Ce.add({text:v,type:"error"})}),ae.send("get_system_info")}),Qe(()=>{ae.unregister("get_system_info")}),[s,h]}class Rl extends Me{constructor(e){super(),Be(this,e,Ll,El,Te,{})}}function Hs(o,e,t){const s=o.slice();s[7]=e[t];const h=s[1]&&s[1].id===s[7].id;return s[8]=h,s}function $s(o){let e;function t(v,_){return v[0].length===0?Al:Dl}let s=t(o),h=s(o);return{c(){h.c(),e=qe()},m(v,_){h.m(v,_),W(v,e,_)},p(v,_){s===(s=t(v))&&h?h.p(v,_):(h.d(1),h=s(v),h&&(h.c(),h.m(e.parentNode,e)))},d(v){h.d(v),v&&U(e)}}}function Dl(o){let e,t,s,h,v,_=o[3],i=[];for(let l=0;l<_.length;l+=1)i[l]=zs(Hs(o,_,l));let n=null;return _.length||(n=Fs()),{c(){e=x("input"),t=q();for(let l=0;l<i.length;l+=1)i[l].c();s=qe(),n&&n.c(),D(e,"type","search"),D(e,"class","form-control svelte-1eu07ri"),D(e,"placeholder","Search"),e.value=o[2]},m(l,f){W(l,e,f),W(l,t,f);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(l,f);W(l,s,f),n&&n.m(l,f),h||(v=_e(e,"input",o[5]),h=!0)},p(l,f){if(f&4&&e.value!==l[2]&&(e.value=l[2]),f&26){_=l[3];let c;for(c=0;c<_.length;c+=1){const u=Hs(l,_,c);i[c]?i[c].p(u,f):(i[c]=zs(u),i[c].c(),i[c].m(s.parentNode,s))}for(;c<i.length;c+=1)i[c].d(1);i.length=_.length,!_.length&&n?n.p(l,f):_.length?n&&(n.d(1),n=null):(n=Fs(),n.c(),n.m(s.parentNode,s))}},d(l){l&&U(e),l&&U(t),$e(i,l),l&&U(s),n&&n.d(l),h=!1,v()}}}function Al(o){let e;return{c(){e=x("p"),e.textContent="No containers found",D(e,"class","mx-5 my-2")},m(t,s){W(t,e,s)},p:se,d(t){t&&U(e)}}}function Fs(o){let e;return{c(){e=x("p"),e.textContent="No containers match search term",D(e,"class","mx-2 my-1")},m(t,s){W(t,e,s)},p:se,d(t){t&&U(e)}}}function zs(o){let e,t,s,h,v,_=(o[7].namespace||"")+"",i,n,l,f=o[7].name+"",c,u,b,w;function g(){return o[6](o[7])}return{c(){var r;e=x("div"),t=x("div"),s=q(),h=x("div"),v=x("div"),i=ee(_),n=q(),l=x("div"),c=ee(f),u=q(),ge(t,"width","10px"),ge(t,"flex","none"),he(t,"bg-success",o[7].status==="running"),he(t,"bg-danger",["exited","dead","removing"].includes(o[7].status)),he(t,"bg-warning",["created","paused","restarting"].includes(o[7].status)),D(v,"class","text-uppercase"),he(v,"text-muted",((r=o[1])==null?void 0:r.id)!==o[7].id),D(h,"class","p-2 pe-4"),D(e,"class","d-flex border-top border-bottom"),ge(e,"cursor","pointer"),he(e,"bg-dark",o[8]),he(e,"text-light",o[8])},m(r,d){W(r,e,d),A(e,t),A(e,s),A(e,h),A(h,v),A(v,i),A(h,n),A(h,l),A(l,c),A(e,u),b||(w=_e(e,"click",g),b=!0)},p(r,d){var m;o=r,d&8&&he(t,"bg-success",o[7].status==="running"),d&8&&he(t,"bg-danger",["exited","dead","removing"].includes(o[7].status)),d&8&&he(t,"bg-warning",["created","paused","restarting"].includes(o[7].status)),d&8&&_!==(_=(o[7].namespace||"")+"")&&ce(i,_),d&10&&he(v,"text-muted",((m=o[1])==null?void 0:m.id)!==o[7].id),d&8&&f!==(f=o[7].name+"")&&ce(c,f),d&10&&he(e,"bg-dark",o[8]),d&10&&he(e,"text-light",o[8])},d(r){r&&U(e),b=!1,w()}}}function Tl(o){let e,t=o[0]&&$s(o);return{c(){e=x("aside"),t&&t.c(),D(e,"class","d-flex flex-column pb-1 svelte-1eu07ri")},m(s,h){W(s,e,h),t&&t.m(e,null)},p(s,[h]){s[0]?t?t.p(s,h):(t=$s(s),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:se,o:se,d(s){s&&U(e),t&&t.d()}}}function Bl(o,e,t){let s,{containers:h}=e,{selectedContainer:v}=e;const _=nr();let i="";const n=f=>t(2,i=f.target.value.toLowerCase()),l=f=>_("select-container",f);return o.$$set=f=>{"containers"in f&&t(0,h=f.containers),"selectedContainer"in f&&t(1,v=f.selectedContainer)},o.$$.update=()=>{o.$$.dirty&5&&t(3,s=h==null?void 0:h.filter(f=>{var c;return f.name.toLowerCase().replace(/\s+/g,"").includes(i.replace(/\s+/g,""))||((c=f.namespace)==null?void 0:c.toLowerCase().replace(/\s+/g,"").includes(i.replace(/\s+/g,"")))}))},[h,v,i,s,_,n,l]}class yr extends Me{constructor(e){super(),Be(this,e,Bl,Tl,Te,{containers:0,selectedContainer:1})}}function Ns(o){let e,t;return e=new gr({}),{c(){le(e.$$.fragment)},m(s,h){ne(e,s,h),t=!0},i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){oe(e,s)}}}function Us(o){let e,t,s,h;return t=new yr({props:{containers:o[4],selectedContainer:o[0]?null:o[2]}}),t.$on("select-container",o[10]),{c(){e=x("div"),le(t.$$.fragment),D(e,"class","position-absolute")},m(v,_){W(v,e,_),ne(t,e,null),h=!0},p(v,_){const i={};_&16&&(i.containers=v[4]),_&5&&(i.selectedContainer=v[0]?null:v[2]),t.$set(i)},i(v){h||(N(t.$$.fragment,v),Ae(()=>{h&&(s||(s=Fe(e,Vt,{y:-50,duration:200},!0)),s.run(1))}),h=!0)},o(v){V(t.$$.fragment,v),s||(s=Fe(e,Vt,{y:-50,duration:200},!1)),s.run(0),h=!1},d(v){v&&U(e),oe(t),v&&s&&s.end()}}}function Ml(o){var T,O,I,K,z,X,R,B,M,H;let e,t,s,h=(O=(T=o[2])==null?void 0:T.permissions)==null?void 0:O.includes("info"),v,_=(K=(I=o[2])==null?void 0:I.permissions)==null?void 0:K.includes("logs"),i,n=o[6]&&((X=(z=o[2])==null?void 0:z.permissions)==null?void 0:X.includes("term")),l,f=o[6]&&((B=(R=o[2])==null?void 0:R.permissions)==null?void 0:B.includes("procs")),c,u=o[6]&&((H=(M=o[2])==null?void 0:M.permissions)==null?void 0:H.includes("files")),b,w,g,r,d,m,a=h&&Ws(o),p=_&&js(o),C=n&&Ks(o),y=f&&Vs(o),E=u&&qs(o);const S=[$l,Hl,Pl,Il,Ol],k=[];function L(j,Y){return j[5]==="info"?0:j[5]==="logs"?1:j[5]==="term"?2:j[5]==="procs"?3:j[5]==="files"?4:-1}return~(g=L(o))&&(r=k[g]=S[g](o)),{c(){e=x("div"),t=x("div"),s=x("ul"),a&&a.c(),v=q(),p&&p.c(),i=q(),C&&C.c(),l=q(),y&&y.c(),c=q(),E&&E.c(),b=q(),w=x("div"),r&&r.c(),D(s,"class","card-header"),D(w,"class","card-body py-4"),D(t,"class","card tabs"),D(e,"class","container-md"),ge(e,"overflow","hidden")},m(j,Y){W(j,e,Y),A(e,t),A(t,s),a&&a.m(s,null),A(s,v),p&&p.m(s,null),A(s,i),C&&C.m(s,null),A(s,l),y&&y.m(s,null),A(s,c),E&&E.m(s,null),A(t,b),A(t,w),~g&&k[g].m(w,null),m=!0},p(j,Y){var J,ie,$,P,F,G,Z,de,te,be;Y&4&&(h=(ie=(J=j[2])==null?void 0:J.permissions)==null?void 0:ie.includes("info")),h?a?a.p(j,Y):(a=Ws(j),a.c(),a.m(s,v)):a&&(a.d(1),a=null),Y&4&&(_=(P=($=j[2])==null?void 0:$.permissions)==null?void 0:P.includes("logs")),_?p?p.p(j,Y):(p=js(j),p.c(),p.m(s,i)):p&&(p.d(1),p=null),Y&68&&(n=j[6]&&((G=(F=j[2])==null?void 0:F.permissions)==null?void 0:G.includes("term"))),n?C?C.p(j,Y):(C=Ks(j),C.c(),C.m(s,l)):C&&(C.d(1),C=null),Y&68&&(f=j[6]&&((de=(Z=j[2])==null?void 0:Z.permissions)==null?void 0:de.includes("procs"))),f?y?y.p(j,Y):(y=Vs(j),y.c(),y.m(s,c)):y&&(y.d(1),y=null),Y&68&&(u=j[6]&&((be=(te=j[2])==null?void 0:te.permissions)==null?void 0:be.includes("files"))),u?E?E.p(j,Y):(E=qs(j),E.c(),E.m(s,null)):E&&(E.d(1),E=null);let re=g;g=L(j),g===re?~g&&k[g].p(j,Y):(r&&(pe(),V(k[re],1,1,()=>{k[re]=null}),me()),~g?(r=k[g],r?r.p(j,Y):(r=k[g]=S[g](j),r.c()),N(r,1),r.m(w,null)):r=null)},i(j){m||(N(r),Ae(()=>{m&&(d||(d=Fe(e,Vt,{x:300,duration:200},!0)),d.run(1))}),m=!0)},o(j){V(r),d||(d=Fe(e,Vt,{x:300,duration:200},!1)),d.run(0),m=!1},d(j){j&&U(e),a&&a.d(),p&&p.d(),C&&C.d(),y&&y.d(),E&&E.d(),~g&&k[g].d(),j&&d&&d.end()}}}function xl(o){let e,t;return e=new Rl({}),{c(){le(e.$$.fragment)},m(s,h){ne(e,s,h),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){oe(e,s)}}}function Ws(o){let e,t,s,h;return{c(){e=x("li"),t=x("button"),t.textContent="Info",D(t,"type","button"),D(t,"class","text-uppercase"),he(t,"active",o[5]==="info")},m(v,_){W(v,e,_),A(e,t),s||(h=_e(t,"click",o[12]),s=!0)},p(v,_){_&32&&he(t,"active",v[5]==="info")},d(v){v&&U(e),s=!1,h()}}}function js(o){let e,t,s,h;return{c(){e=x("li"),t=x("button"),t.textContent="Logs",D(t,"type","button"),D(t,"class","text-uppercase"),he(t,"active",o[5]==="logs")},m(v,_){W(v,e,_),A(e,t),s||(h=_e(t,"click",o[13]),s=!0)},p(v,_){_&32&&he(t,"active",v[5]==="logs")},d(v){v&&U(e),s=!1,h()}}}function Ks(o){let e,t,s,h;return{c(){e=x("li"),t=x("button"),t.textContent="Terminal",D(t,"type","button"),D(t,"class","text-uppercase"),he(t,"active",o[5]==="term")},m(v,_){W(v,e,_),A(e,t),s||(h=_e(t,"click",o[14]),s=!0)},p(v,_){_&32&&he(t,"active",v[5]==="term")},d(v){v&&U(e),s=!1,h()}}}function Vs(o){let e,t,s,h;return{c(){e=x("li"),t=x("button"),t.textContent="Processes",D(t,"type","button"),D(t,"class","text-uppercase"),he(t,"active",o[5]==="procs")},m(v,_){W(v,e,_),A(e,t),s||(h=_e(t,"click",o[15]),s=!0)},p(v,_){_&32&&he(t,"active",v[5]==="procs")},d(v){v&&U(e),s=!1,h()}}}function qs(o){let e,t,s,h;return{c(){e=x("li"),t=x("button"),t.textContent="Files",D(t,"type","button"),D(t,"class","text-uppercase"),he(t,"active",o[5]==="files")},m(v,_){W(v,e,_),A(e,t),s||(h=_e(t,"click",o[16]),s=!0)},p(v,_){_&32&&he(t,"active",v[5]==="files")},d(v){v&&U(e),s=!1,h()}}}function Ol(o){let e,t,s,h;return t=new al({props:{container_id:o[2].id,allow_download:o[2].permissions.includes("files-read"),allow_upload:o[2].permissions.includes("files-write")}}),{c(){e=x("div"),le(t.$$.fragment)},m(v,_){W(v,e,_),ne(t,e,null),h=!0},p(v,_){const i={};_&4&&(i.container_id=v[2].id),_&4&&(i.allow_download=v[2].permissions.includes("files-read")),_&4&&(i.allow_upload=v[2].permissions.includes("files-write")),t.$set(i)},i(v){h||(N(t.$$.fragment,v),v&&(s||Ae(()=>{s=at(e,Ie,{}),s.start()})),h=!0)},o(v){V(t.$$.fragment,v),h=!1},d(v){v&&U(e),oe(t)}}}function Il(o){let e,t,s,h;return t=new ul({props:{container_id:o[2].id}}),{c(){e=x("div"),le(t.$$.fragment)},m(v,_){W(v,e,_),ne(t,e,null),h=!0},p(v,_){const i={};_&4&&(i.container_id=v[2].id),t.$set(i)},i(v){h||(N(t.$$.fragment,v),v&&(s||Ae(()=>{s=at(e,Ie,{}),s.start()})),h=!0)},o(v){V(t.$$.fragment,v),h=!1},d(v){v&&U(e),oe(t)}}}function Pl(o){let e,t,s,h;return t=new Sl({props:{container_id:o[2].id}}),{c(){e=x("div"),le(t.$$.fragment)},m(v,_){W(v,e,_),ne(t,e,null),h=!0},p(v,_){const i={};_&4&&(i.container_id=v[2].id),t.$set(i)},i(v){h||(N(t.$$.fragment,v),v&&(s||Ae(()=>{s=at(e,Ie,{}),s.start()})),h=!0)},o(v){V(t.$$.fragment,v),h=!1},d(v){v&&U(e),oe(t)}}}function Hl(o){let e,t,s,h;return t=new zo({props:{container_id:o[2].id}}),{c(){e=x("div"),le(t.$$.fragment)},m(v,_){W(v,e,_),ne(t,e,null),h=!0},p(v,_){const i={};_&4&&(i.container_id=v[2].id),t.$set(i)},i(v){h||(N(t.$$.fragment,v),v&&(s||Ae(()=>{s=at(e,Ie,{}),s.start()})),h=!0)},o(v){V(t.$$.fragment,v),h=!1},d(v){v&&U(e),oe(t)}}}function $l(o){let e,t,s,h;return t=new Ao({props:{container_id:o[2].id,enable_actions:o[2].permissions.includes("state")}}),{c(){e=x("div"),le(t.$$.fragment)},m(v,_){W(v,e,_),ne(t,e,null),h=!0},p(v,_){const i={};_&4&&(i.container_id=v[2].id),_&4&&(i.enable_actions=v[2].permissions.includes("state")),t.$set(i)},i(v){h||(N(t.$$.fragment,v),v&&(s||Ae(()=>{s=at(e,Ie,{}),s.start()})),h=!0)},o(v){V(t.$$.fragment,v),h=!1},d(v){v&&U(e),oe(t)}}}function Fl(o){let e,t,s,h,v,_,i,n,l,f,c,u,b,w,g=o[3]&&Ns(),r=o[1]&&Us(o);n=new yr({props:{containers:o[4],selectedContainer:o[0]?null:o[2]}}),n.$on("select-container",o[11]);const d=[xl,Ml],m=[];function a(p,C){return p[0]?0:1}return f=a(o),c=m[f]=d[f](o),{c(){g&&g.c(),e=q(),t=x("div"),s=x("div"),h=q(),r&&r.c(),v=q(),_=x("div"),i=x("aside"),le(n.$$.fragment),l=q(),c.c(),D(s,"class","position-fixed top-0 bottom-0 start-0 end-0"),ge(s,"background","rgba(0, 0, 0, .55)"),D(t,"class","d-md-none position-relative"),ge(t,"z-index","100"),he(t,"d-none",!o[1]),D(i,"class","d-none d-md-block me-4"),D(_,"class","d-flex pb-3 align-items-start")},m(p,C){g&&g.m(p,C),W(p,e,C),W(p,t,C),A(t,s),A(t,h),r&&r.m(t,null),W(p,v,C),W(p,_,C),A(_,i),ne(n,i,null),A(_,l),m[f].m(_,null),u=!0,b||(w=_e(s,"click",o[9]),b=!0)},p(p,[C]){p[3]?g?C&8&&N(g,1):(g=Ns(),g.c(),N(g,1),g.m(e.parentNode,e)):g&&(pe(),V(g,1,1,()=>{g=null}),me()),p[1]?r?(r.p(p,C),C&2&&N(r,1)):(r=Us(p),r.c(),N(r,1),r.m(t,null)):r&&(pe(),V(r,1,1,()=>{r=null}),me()),(!u||C&2)&&he(t,"d-none",!p[1]);const y={};C&16&&(y.containers=p[4]),C&5&&(y.selectedContainer=p[0]?null:p[2]),n.$set(y);let E=f;f=a(p),f===E?m[f].p(p,C):(pe(),V(m[E],1,1,()=>{m[E]=null}),me(),c=m[f],c?c.p(p,C):(c=m[f]=d[f](p),c.c()),N(c,1),c.m(_,null))},i(p){u||(N(g),N(r),N(n.$$.fragment,p),N(c),u=!0)},o(p){V(g),V(r),V(n.$$.fragment,p),V(c),u=!1},d(p){g&&g.d(p),p&&U(e),p&&U(t),r&&r.d(),p&&U(v),p&&U(_),oe(n),m[f].d(),b=!1,w()}}}function zl(o,e,t){let s,h,v=!0,_,i,{showHostInfo:n}=e,{showContainerListOverlay:l}=e,f=null;Ne(()=>{ae.register("get_container_list",C=>{t(4,_=C),t(3,v=!1)},C=>Ce.add({text:C,type:"error"})),ae.send("get_container_list"),h=setInterval(()=>{ae.send("get_container_list")},3e3)}),Qe(()=>{ae.unregister("get_container_list"),clearInterval(h)});function c(C){t(5,f=null),t(0,n=!1),t(1,l=!1),t(2,i=null),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{var E;t(2,i=C);const y=["info","logs","procs","term","files"];for(let S of y)if((E=i==null?void 0:i.permissions)!=null&&E.includes(S)){t(5,f=S);break}f||(t(2,i=null),Ce.add({type:"warning",text:"No permissions to access container"}))},100)}function u(C){t(5,f=C)}const b=()=>t(1,l=!1),w=C=>c(C.detail),g=C=>c(C.detail),r=()=>u("info"),d=()=>u("logs"),m=()=>u("term"),a=()=>u("procs"),p=()=>u("files");return o.$$set=C=>{"showHostInfo"in C&&t(0,n=C.showHostInfo),"showContainerListOverlay"in C&&t(1,l=C.showContainerListOverlay)},o.$$.update=()=>{o.$$.dirty&4&&t(6,s=(i==null?void 0:i.status)==="running")},[n,l,i,v,_,f,s,c,u,b,w,g,r,d,m,a,p]}class Nl extends Me{constructor(e){super(),Be(this,e,zl,Fl,Te,{showHostInfo:0,showContainerListOverlay:1})}}const{window:Ul}=Ar;function Gs(o){let e,t,s,h,v;return t=new ue({props:{icon:nn,color:"#123",size:"2x",style:"width: 3rem;height: 3rem;"}}),{c(){e=x("a"),le(t.$$.fragment),D(e,"href","/#/"),D(e,"class","d-md-none d-flex justify-content-center align-items-center svelte-1v71q7q")},m(_,i){W(_,e,i),ne(t,e,null),s=!0,h||(v=_e(e,"click",Gt(o[5])),h=!0)},p:se,i(_){s||(N(t.$$.fragment,_),s=!0)},o(_){V(t.$$.fragment,_),s=!1},d(_){_&&U(e),oe(t),h=!1,v()}}}function Xs(o){let e,t,s,h,v,_;return t=new ue({props:{icon:sn,color:"#333",size:"2x"}}),{c(){e=x("button"),le(t.$$.fragment),D(e,"type","button"),D(e,"class","btn mx-2"),D(e,"title",s="Logout "+o[0])},m(i,n){W(i,e,n),ne(t,e,null),h=!0,v||(_=_e(e,"click",o[4]),v=!0)},p(i,n){(!h||n&1&&s!==(s="Logout "+i[0]))&&D(e,"title",s)},i(i){h||(N(t.$$.fragment,i),h=!0)},o(i){V(t.$$.fragment,i),h=!1},d(i){i&&U(e),oe(t),v=!1,_()}}}function Wl(o){let e,t;return e=new no({}),e.$on("login",o[9]),{c(){le(e.$$.fragment)},m(s,h){ne(e,s,h),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){oe(e,s)}}}function jl(o){let e,t,s,h;function v(n){o[7](n)}function _(n){o[8](n)}let i={};return o[2]!==void 0&&(i.showHostInfo=o[2]),o[3]!==void 0&&(i.showContainerListOverlay=o[3]),e=new Nl({props:i}),et.push(()=>Mi(e,"showHostInfo",v)),et.push(()=>Mi(e,"showContainerListOverlay",_)),{c(){le(e.$$.fragment)},m(n,l){ne(e,n,l),h=!0},p(n,l){const f={};!t&&l&4&&(t=!0,f.showHostInfo=n[2],Bi(()=>t=!1)),!s&&l&8&&(s=!0,f.showContainerListOverlay=n[3],Bi(()=>s=!1)),e.$set(f)},i(n){h||(N(e.$$.fragment,n),h=!0)},o(n){V(e.$$.fragment,n),h=!1},d(n){oe(e,n)}}}function Kl(o){let e,t,s,h,v,_,i,n,l,f,c,u,b,w,g,r,d,m,a,p;e=new Gr({});let C=o[0]&&Gs(o);n=new ue({props:{icon:vn,color:"#123",size:"2x",style:"width: 3rem;height: 3rem;"}}),b=new Wn({});let y=o[0]&&o[1]&&Xs(o);const E=[jl,Wl],S=[];function k(L,T){return L[0]?0:1}return r=k(o),d=S[r]=E[r](o),{c(){le(e.$$.fragment),t=q(),s=x("main"),h=x("header"),C&&C.c(),v=q(),_=x("a"),i=x("span"),le(n.$$.fragment),l=q(),f=x("span"),f.textContent="Container as a Service admin",c=q(),u=x("div"),le(b.$$.fragment),w=q(),y&&y.c(),g=q(),d.c(),he(i,"d-none",o[0]),he(i,"d-md-block",o[0]),D(f,"class","text-black ps-2 fs-2 fw-light"),D(_,"href","/#/"),D(_,"class","d-flex justify-content-center align-items-center svelte-1v71q7q"),D(u,"class","items-right svelte-1v71q7q"),D(h,"class","svelte-1v71q7q"),D(s,"class","svelte-1v71q7q")},m(L,T){ne(e,L,T),W(L,t,T),W(L,s,T),A(s,h),C&&C.m(h,null),A(h,v),A(h,_),A(_,i),ne(n,i,null),A(_,l),A(_,f),A(h,c),A(h,u),ne(b,u,null),A(u,w),y&&y.m(u,null),A(s,g),S[r].m(s,null),m=!0,a||(p=[_e(Ul,"error",Vl),_e(_,"click",Gt(o[6]))],a=!0)},p(L,[T]){L[0]?C?(C.p(L,T),T&1&&N(C,1)):(C=Gs(L),C.c(),N(C,1),C.m(h,v)):C&&(pe(),V(C,1,1,()=>{C=null}),me()),(!m||T&1)&&he(i,"d-none",L[0]),(!m||T&1)&&he(i,"d-md-block",L[0]),L[0]&&L[1]?y?(y.p(L,T),T&3&&N(y,1)):(y=Xs(L),y.c(),N(y,1),y.m(u,null)):y&&(pe(),V(y,1,1,()=>{y=null}),me());let O=r;r=k(L),r===O?S[r].p(L,T):(pe(),V(S[O],1,1,()=>{S[O]=null}),me(),d=S[r],d?d.p(L,T):(d=S[r]=E[r](L),d.c()),N(d,1),d.m(s,null))},i(L){m||(N(e.$$.fragment,L),N(C),N(n.$$.fragment,L),N(b.$$.fragment,L),N(y),N(d),m=!0)},o(L){V(e.$$.fragment,L),V(C),V(n.$$.fragment,L),V(b.$$.fragment,L),V(y),V(d),m=!1},d(L){oe(e,L),L&&U(t),L&&U(s),C&&C.d(),oe(n),oe(b),y&&y.d(),S[r].d(),a=!1,ze(p)}}}function Vl(){alert("An error occurred!")}function ql(o,e,t){let s=null,h=!0,v=!0,_=!1;Ne(async()=>{ae.register("ws-error",null,b=>Ce.add({text:b,type:"error"})),ae.register("ws-close",null,b=>{Ce.add({text:b,type:"error"}),t(0,s=null),alert("Lost connection. Reconnect?"),window.location.reload()}),ae.register("webproxy_auth",({username:b})=>{t(0,s=b),t(1,h=!1)},b=>{Ce.add({text:b,type:"error"})}),await ae.init()});function i(){ae.close(),t(0,s=null),Ce.add({text:"Logged out",type:"info"}),window.location.reload()}const n=()=>t(3,_=!_),l=()=>t(2,v=!0);function f(b){v=b,t(2,v)}function c(b){_=b,t(3,_)}return[s,h,v,_,i,n,l,f,c,b=>t(0,s=b.detail.username)]}class Gl extends Me{constructor(e){super(),Be(this,e,ql,Kl,Te,{})}}new Gl({target:document.getElementById("app")});
