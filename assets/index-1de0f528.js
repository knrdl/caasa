var Lr=Object.defineProperty;var Rr=(o,e,t)=>e in o?Lr(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var Me=(o,e,t)=>(Rr(o,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))r(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const _ of m.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&r(_)}).observe(document,{childList:!0,subtree:!0});function t(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function r(d){if(d.ep)return;d.ep=!0;const m=t(d);fetch(d.href,m)}})();function ce(){}const Ys=o=>o;function Dr(o,e){for(const t in e)o[t]=e[t];return o}function Js(o){return o()}function Ti(){return Object.create(null)}function Ne(o){o.forEach(Js)}function Gt(o){return typeof o=="function"}function Be(o,e){return o!=o?e==e:o!==e||o&&typeof o=="object"||typeof o=="function"}function Ar(o){return Object.keys(o).length===0}function Tr(o,...e){if(o==null){for(const r of e)r(void 0);return ce}const t=o.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ti(o){let e;return Tr(o,t=>e=t)(),e}function Nt(o,e,t,r){if(o){const d=Qs(o,e,t,r);return o[0](d)}}function Qs(o,e,t,r){return o[1]&&r?Dr(t.ctx.slice(),o[1](r(e))):t.ctx}function Ut(o,e,t,r){if(o[2]&&r){const d=o[2](r(t));if(e.dirty===void 0)return d;if(typeof d=="object"){const m=[],_=Math.max(e.dirty.length,d.length);for(let i=0;i<_;i+=1)m[i]=e.dirty[i]|d[i];return m}return e.dirty|d}return e.dirty}function Wt(o,e,t,r,d,m){if(d){const _=Qs(e,t,r,m);o.p(_,d)}}function jt(o){if(o.ctx.length>32){const e=[],t=o.ctx.length/32;for(let r=0;r<t;r++)e[r]=-1;return e}return-1}function si(o){const e=typeof o=="string"&&o.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[o,"px"]}const er=typeof window<"u";let tr=er?()=>window.performance.now():()=>Date.now(),hi=er?o=>requestAnimationFrame(o):ce;const lt=new Set;function ir(o){lt.forEach(e=>{e.c(o)||(lt.delete(e),e.f())}),lt.size!==0&&hi(ir)}function sr(o){let e;return lt.size===0&&hi(ir),{promise:new Promise(t=>{lt.add(e={c:o,f:t})}),abort(){lt.delete(e)}}}const Br=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function A(o,e){o.appendChild(e)}function rr(o){if(!o)return document;const e=o.getRootNode?o.getRootNode():o.ownerDocument;return e&&e.host?e:o.ownerDocument}function Mr(o){const e=x("style");return e.textContent="/* empty */",xr(rr(o),e),e.sheet}function xr(o,e){return A(o.head||o,e),e.sheet}function j(o,e,t){o.insertBefore(e,t||null)}function U(o){o.parentNode&&o.parentNode.removeChild(o)}function Fe(o,e){for(let t=0;t<o.length;t+=1)o[t]&&o[t].d(e)}function x(o){return document.createElement(o)}function ke(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Q(o){return document.createTextNode(o)}function q(){return Q(" ")}function Xe(){return Q("")}function _e(o,e,t,r){return o.addEventListener(e,t,r),()=>o.removeEventListener(e,t,r)}function Xt(o){return function(e){return e.preventDefault(),o.call(this,e)}}function D(o,e,t){t==null?o.removeAttribute(e):o.getAttribute(e)!==t&&o.setAttribute(e,t)}function di(o,e,t){o.setAttributeNS("http://www.w3.org/1999/xlink",e,t)}function Or(o){return Array.from(o.childNodes)}function ae(o,e){e=""+e,o.data!==e&&(o.data=e)}function je(o,e){o.value=e??""}function ge(o,e,t,r){t==null?o.style.removeProperty(e):o.style.setProperty(e,t,r?"important":"")}function Bi(o,e,t){for(let r=0;r<o.options.length;r+=1){const d=o.options[r];if(d.__value===e){d.selected=!0;return}}(!t||e!==void 0)&&(o.selectedIndex=-1)}function Ir(o){const e=o.querySelector(":checked");return e&&e.__value}function he(o,e,t){o.classList.toggle(e,!!t)}function nr(o,e,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(o,{detail:e,bubbles:t,cancelable:r})}const Vt=new Map;let Kt=0;function Pr(o){let e=5381,t=o.length;for(;t--;)e=(e<<5)-e^o.charCodeAt(t);return e>>>0}function Hr(o,e){const t={stylesheet:Mr(e),rules:{}};return Vt.set(o,t),t}function ri(o,e,t,r,d,m,_,i=0){const n=16.666/r;let l=`{
`;for(let s=0;s<=1;s+=n){const f=e+(t-e)*m(s);l+=s*100+`%{${_(f,1-f)}}
`}const u=l+`100% {${_(t,1-t)}}
}`,c=`__svelte_${Pr(u)}_${i}`,p=rr(o),{stylesheet:S,rules:w}=Vt.get(p)||Hr(p,o);w[c]||(w[c]=!0,S.insertRule(`@keyframes ${c} ${u}`,S.cssRules.length));const v=o.style.animation||"";return o.style.animation=`${v?`${v}, `:""}${c} ${r}ms linear ${d}ms 1 both`,Kt+=1,c}function ni(o,e){const t=(o.style.animation||"").split(", "),r=t.filter(e?m=>m.indexOf(e)<0:m=>m.indexOf("__svelte")===-1),d=t.length-r.length;d&&(o.style.animation=r.join(", "),Kt-=d,Kt||$r())}function $r(){hi(()=>{Kt||(Vt.forEach(o=>{const{ownerNode:e}=o.stylesheet;e&&U(e)}),Vt.clear())})}let yt;function Ct(o){yt=o}function Zt(){if(!yt)throw new Error("Function called outside component initialization");return yt}function Rt(o){Zt().$$.before_update.push(o)}function Ue(o){Zt().$$.on_mount.push(o)}function et(o){Zt().$$.on_destroy.push(o)}function or(){const o=Zt();return(e,t,{cancelable:r=!1}={})=>{const d=o.$$.callbacks[e];if(d){const m=nr(e,t,{cancelable:r});return d.slice().forEach(_=>{_.call(o,m)}),!m.defaultPrevented}return!0}}function Fr(o,e){const t=o.$$.callbacks[e.type];t&&t.slice().forEach(r=>r.call(this,e))}const ot=[],tt=[];let at=[];const oi=[],lr=Promise.resolve();let li=!1;function ar(){li||(li=!0,lr.then(hr))}function cr(){return ar(),lr}function Te(o){at.push(o)}function Mi(o){oi.push(o)}const ii=new Set;let rt=0;function hr(){if(rt!==0)return;const o=yt;do{try{for(;rt<ot.length;){const e=ot[rt];rt++,Ct(e),zr(e.$$)}}catch(e){throw ot.length=0,rt=0,e}for(Ct(null),ot.length=0,rt=0;tt.length;)tt.pop()();for(let e=0;e<at.length;e+=1){const t=at[e];ii.has(t)||(ii.add(t),t())}at.length=0}while(ot.length);for(;oi.length;)oi.pop()();li=!1,ii.clear(),Ct(o)}function zr(o){if(o.fragment!==null){o.update(),Ne(o.before_update);const e=o.dirty;o.dirty=[-1],o.fragment&&o.fragment.p(o.ctx,e),o.after_update.forEach(Te)}}function Nr(o){const e=[],t=[];at.forEach(r=>o.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),at=e}let St;function dr(){return St||(St=Promise.resolve(),St.then(()=>{St=null})),St}function wt(o,e,t){o.dispatchEvent(nr(`${e?"intro":"outro"}${t}`))}const zt=new Set;let Ye;function pe(){Ye={r:0,c:[],p:Ye}}function me(){Ye.r||Ne(Ye.c),Ye=Ye.p}function N(o,e){o&&o.i&&(zt.delete(o),o.i(e))}function V(o,e,t,r){if(o&&o.o){if(zt.has(o))return;zt.add(o),Ye.c.push(()=>{zt.delete(o),r&&(t&&o.d(1),r())}),o.o(e)}else r&&r()}const fr={duration:0};function ct(o,e,t){const r={direction:"in"};let d=e(o,t,r),m=!1,_,i,n=0;function l(){_&&ni(o,_)}function u(){const{delay:p=0,duration:S=300,easing:w=Ys,tick:v=ce,css:s}=d||fr;s&&(_=ri(o,0,1,S,p,w,s,n++)),v(0,1);const f=tr()+p,h=f+S;i&&i.abort(),m=!0,Te(()=>wt(o,!0,"start")),i=sr(a=>{if(m){if(a>=h)return v(1,0),wt(o,!0,"end"),l(),m=!1;if(a>=f){const b=w((a-f)/S);v(b,1-b)}}return m})}let c=!1;return{start(){c||(c=!0,ni(o),Gt(d)?(d=d(r),dr().then(u)):u())},invalidate(){c=!1},end(){m&&(l(),m=!1)}}}function ze(o,e,t,r){let m=e(o,t,{direction:"both"}),_=r?0:1,i=null,n=null,l=null,u;function c(){l&&ni(o,l)}function p(w,v){const s=w.b-_;return v*=Math.abs(s),{a:_,b:w.b,d:s,duration:v,start:w.start,end:w.start+v,group:w.group}}function S(w){const{delay:v=0,duration:s=300,easing:f=Ys,tick:h=ce,css:a}=m||fr,b={start:tr()+v,b:w};w||(b.group=Ye,Ye.r+=1),"inert"in o&&(w?u!==void 0&&(o.inert=u):(u=o.inert,o.inert=!0)),i||n?n=b:(a&&(c(),l=ri(o,_,w,s,v,f,a)),w&&h(0,1),i=p(b,s),Te(()=>wt(o,w,"start")),sr(g=>{if(n&&g>n.start&&(i=p(n,s),n=null,wt(o,i.b,"start"),a&&(c(),l=ri(o,_,i.b,i.duration,0,f,m.css))),i){if(g>=i.end)h(_=i.b,1-_),wt(o,i.b,"end"),n||(i.b?c():--i.group.r||Ne(i.group.c)),i=null;else if(g>=i.start){const y=g-i.start;_=i.a+i.d*f(y/i.duration),h(_,1-_)}}return!!(i||n)}))}return{run(w){Gt(m)?dr().then(()=>{m=m({direction:w?"in":"out"}),S(w)}):S(w)},end(){c(),i=n=null}}}function we(o){return(o==null?void 0:o.length)!==void 0?o:Array.from(o)}function xi(o,e,t){const r=o.$$.props[e];r!==void 0&&(o.$$.bound[r]=t,t(o.$$.ctx[r]))}function ne(o){o&&o.c()}function se(o,e,t){const{fragment:r,after_update:d}=o.$$;r&&r.m(e,t),Te(()=>{const m=o.$$.on_mount.map(Js).filter(Gt);o.$$.on_destroy?o.$$.on_destroy.push(...m):Ne(m),o.$$.on_mount=[]}),d.forEach(Te)}function re(o,e){const t=o.$$;t.fragment!==null&&(Nr(t.after_update),Ne(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ur(o,e){o.$$.dirty[0]===-1&&(ot.push(o),ar(),o.$$.dirty.fill(0)),o.$$.dirty[e/31|0]|=1<<e%31}function xe(o,e,t,r,d,m,_,i=[-1]){const n=yt;Ct(o);const l=o.$$={fragment:null,ctx:[],props:m,update:ce,not_equal:d,bound:Ti(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(n?n.$$.context:[])),callbacks:Ti(),dirty:i,skip_bound:!1,root:e.target||n.$$.root};_&&_(l.root);let u=!1;if(l.ctx=t?t(o,e.props||{},(c,p,...S)=>{const w=S.length?S[0]:p;return l.ctx&&d(l.ctx[c],l.ctx[c]=w)&&(!l.skip_bound&&l.bound[c]&&l.bound[c](w),u&&Ur(o,c)),p}):[],l.update(),u=!0,Ne(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){const c=Or(e.target);l.fragment&&l.fragment.l(c),c.forEach(U)}else l.fragment&&l.fragment.c();e.intro&&N(o.$$.fragment),se(o,e.target,e.anchor),hr()}Ct(n)}class Oe{constructor(){Me(this,"$$");Me(this,"$$set")}$destroy(){re(this,1),this.$destroy=ce}$on(e,t){if(!Gt(t))return ce;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const d=r.indexOf(t);d!==-1&&r.splice(d,1)}}$set(e){this.$$set&&!Ar(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Wr="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Wr);const nt=[];function jr(o,e=ce){let t;const r=new Set;function d(i){if(Be(o,i)&&(o=i,t)){const n=!nt.length;for(const l of r)l[1](),nt.push(l,o);if(n){for(let l=0;l<nt.length;l+=2)nt[l][0](nt[l+1]);nt.length=0}}}function m(i){d(i(o))}function _(i,n=ce){const l=[i,n];return r.add(l),r.size===1&&(t=e(d,m)||ce),i(o),()=>{r.delete(l),r.size===0&&t&&(t(),t=null)}}return{set:d,update:m,subscribe:_}}const Vr=10,Kr=function(){let o=jr([]);return setInterval(()=>{let e=ti(o);const t=Math.floor(new Date().getTime()/1e3),r=e.filter(d=>d.created_at+Vr>t);r.length!==e.length&&o.set(r)},1e3),{add(e){let t=ti(o);t.push({...e,created_at:Math.floor(new Date().getTime()/1e3)}),o.set(t)},remove(e){let t=ti(o);o.set(t.filter(r=>!["created_at","type","text"].every(d=>r[d]===e[d])))},subscribe:o.subscribe}},Ce=Kr();function qr(o){return o<.5?4*o*o*o:.5*Math.pow(2*o-2,3)+1}function ur(o){const e=o-1;return e*e*e+1}function Gr(o,{delay:e=0,duration:t=400,easing:r=qr,amount:d=5,opacity:m=0}={}){const _=getComputedStyle(o),i=+_.opacity,n=_.filter==="none"?"":_.filter,l=i*(1-m),[u,c]=si(d);return{delay:e,duration:t,easing:r,css:(p,S)=>`opacity: ${i-l*S}; filter: ${n} blur(${S*u}${c});`}}function qt(o,{delay:e=0,duration:t=400,easing:r=ur,x:d=0,y:m=0,opacity:_=0}={}){const i=getComputedStyle(o),n=+i.opacity,l=i.transform==="none"?"":i.transform,u=n*(1-_),[c,p]=si(d),[S,w]=si(m);return{delay:e,duration:t,easing:r,css:(v,s)=>`
			transform: ${l} translate(${(1-v)*c}${p}, ${(1-v)*S}${w});
			opacity: ${n-u*s}`}}function Pe(o,{delay:e=0,duration:t=400,easing:r=ur,axis:d="y"}={}){const m=getComputedStyle(o),_=+m.opacity,i=d==="y"?"height":"width",n=parseFloat(m[i]),l=d==="y"?["top","bottom"]:["left","right"],u=l.map(f=>`${f[0].toUpperCase()}${f.slice(1)}`),c=parseFloat(m[`padding${u[0]}`]),p=parseFloat(m[`padding${u[1]}`]),S=parseFloat(m[`margin${u[0]}`]),w=parseFloat(m[`margin${u[1]}`]),v=parseFloat(m[`border${u[0]}Width`]),s=parseFloat(m[`border${u[1]}Width`]);return{delay:e,duration:t,easing:r,css:f=>`overflow: hidden;opacity: ${Math.min(f*20,1)*_};${i}: ${f*n}px;padding-${l[0]}: ${f*c}px;padding-${l[1]}: ${f*p}px;margin-${l[0]}: ${f*S}px;margin-${l[1]}: ${f*w}px;border-${l[0]}-width: ${f*v}px;border-${l[1]}-width: ${f*s}px;`}}function Oi(o,e,t){const r=o.slice();return r[2]=e[t],r}function Ii(o){let e,t,r,d=o[2].text+"",m,_,i,n,l,u,c,p;function S(){return o[1](o[2])}return{c(){e=x("div"),t=x("div"),r=x("div"),m=Q(d),_=q(),i=x("button"),n=q(),D(r,"class","toast-body"),D(i,"type","button"),D(i,"class","btn-close btn-close-white me-2 m-auto"),D(t,"class","d-flex"),D(e,"class","toast show align-items-center text-white border-0 mb-2"),he(e,"bg-danger",o[2].type==="error"),he(e,"bg-warning",o[2].type==="warning"),he(e,"bg-success",o[2].type==="success"),he(e,"bg-primary",o[2].type==="info")},m(w,v){j(w,e,v),A(e,t),A(t,r),A(r,m),A(t,_),A(t,i),A(e,n),u=!0,c||(p=_e(i,"click",S),c=!0)},p(w,v){o=w,(!u||v&1)&&d!==(d=o[2].text+"")&&ae(m,d),(!u||v&1)&&he(e,"bg-danger",o[2].type==="error"),(!u||v&1)&&he(e,"bg-warning",o[2].type==="warning"),(!u||v&1)&&he(e,"bg-success",o[2].type==="success"),(!u||v&1)&&he(e,"bg-primary",o[2].type==="info")},i(w){u||(w&&Te(()=>{u&&(l||(l=ze(e,Pe,{},!0)),l.run(1))}),u=!0)},o(w){w&&(l||(l=ze(e,Pe,{},!1)),l.run(0)),u=!1},d(w){w&&U(e),w&&l&&l.end(),c=!1,p()}}}function Xr(o){let e,t,r=we(o[0]),d=[];for(let _=0;_<r.length;_+=1)d[_]=Ii(Oi(o,r,_));const m=_=>V(d[_],1,1,()=>{d[_]=null});return{c(){e=x("div");for(let _=0;_<d.length;_+=1)d[_].c();D(e,"class","position-fixed bottom-0 end-0 p-3"),ge(e,"z-index","470")},m(_,i){j(_,e,i);for(let n=0;n<d.length;n+=1)d[n]&&d[n].m(e,null);t=!0},p(_,[i]){if(i&1){r=we(_[0]);let n;for(n=0;n<r.length;n+=1){const l=Oi(_,r,n);d[n]?(d[n].p(l,i),N(d[n],1)):(d[n]=Ii(l),d[n].c(),N(d[n],1),d[n].m(e,null))}for(pe(),n=r.length;n<d.length;n+=1)m(n);me()}},i(_){if(!t){for(let i=0;i<r.length;i+=1)N(d[i]);t=!0}},o(_){d=d.filter(Boolean);for(let i=0;i<d.length;i+=1)V(d[i]);t=!1},d(_){_&&U(e),Fe(d,_)}}}function Zr(o,e,t){let r=[];return Ue(()=>{Ce.subscribe(m=>t(0,r=m))}),[r,m=>Ce.remove(m)]}class Yr extends Oe{constructor(e){super(),xe(this,e,Zr,Xr,Be,{})}}const $t=parseFloat;function ai(o,e=";"){let t;if(Array.isArray(o))t=o.filter(r=>r);else{t=[];for(const r in o)o[r]&&t.push(`${r}:${o[r]}`)}return t.join(e)}function Jr(o,e,t,r){let d,m;const _="1em";let i,n,l,u="-.125em";const c="visible";return r&&(l="center",m="1.25em"),t&&(d=t),e&&(e=="lg"?(n="1.33333em",i=".75em",u="-.225em"):e=="xs"?n=".75em":e=="sm"?n=".875em":n=e.replace("x","em")),ai([ai({float:d,width:m,height:_,"line-height":i,"font-size":n,"text-align":l,"vertical-align":u,"transform-origin":"center",overflow:c}),o])}function Qr(o,e,t,r,d,m=1,_="",i=""){let n=1,l=1;return d&&(d=="horizontal"?n=-1:d=="vertical"?l=-1:n=l=-1),ai([`translate(${$t(e)*m}${_},${$t(t)*m}${_})`,`scale(${n*$t(o)},${l*$t(o)})`,r&&`rotate(${r}${i})`]," ")}function Pi(o){let e,t,r,d,m,_,i,n;function l(p,S){return typeof p[10][4]=="string"?tn:en}let u=l(o),c=u(o);return{c(){e=ke("svg"),t=ke("g"),r=ke("g"),c.c(),D(r,"transform",o[12]),D(t,"transform",d="translate("+o[10][0]/2+" "+o[10][1]/2+")"),D(t,"transform-origin",m=o[10][0]/4+" 0"),D(e,"id",_=o[1]||void 0),D(e,"class",i="svelte-fa "+o[0]+" svelte-1cj2gr0"),D(e,"style",o[11]),D(e,"viewBox",n="0 0 "+o[10][0]+" "+o[10][1]),D(e,"aria-hidden","true"),D(e,"role","img"),D(e,"xmlns","http://www.w3.org/2000/svg"),he(e,"pulse",o[4]),he(e,"spin",o[3])},m(p,S){j(p,e,S),A(e,t),A(t,r),c.m(r,null)},p(p,S){u===(u=l(p))&&c?c.p(p,S):(c.d(1),c=u(p),c&&(c.c(),c.m(r,null))),S&4096&&D(r,"transform",p[12]),S&1024&&d!==(d="translate("+p[10][0]/2+" "+p[10][1]/2+")")&&D(t,"transform",d),S&1024&&m!==(m=p[10][0]/4+" 0")&&D(t,"transform-origin",m),S&2&&_!==(_=p[1]||void 0)&&D(e,"id",_),S&1&&i!==(i="svelte-fa "+p[0]+" svelte-1cj2gr0")&&D(e,"class",i),S&2048&&D(e,"style",p[11]),S&1024&&n!==(n="0 0 "+p[10][0]+" "+p[10][1])&&D(e,"viewBox",n),S&17&&he(e,"pulse",p[4]),S&9&&he(e,"spin",p[3])},d(p){p&&U(e),c.d()}}}function en(o){let e,t,r,d,m,_,i,n,l,u;return{c(){e=ke("path"),_=ke("path"),D(e,"d",t=o[10][4][0]),D(e,"fill",r=o[6]||o[2]||"currentColor"),D(e,"fill-opacity",d=o[9]!=!1?o[7]:o[8]),D(e,"transform",m="translate("+o[10][0]/-2+" "+o[10][1]/-2+")"),D(_,"d",i=o[10][4][1]),D(_,"fill",n=o[5]||o[2]||"currentColor"),D(_,"fill-opacity",l=o[9]!=!1?o[8]:o[7]),D(_,"transform",u="translate("+o[10][0]/-2+" "+o[10][1]/-2+")")},m(c,p){j(c,e,p),j(c,_,p)},p(c,p){p&1024&&t!==(t=c[10][4][0])&&D(e,"d",t),p&68&&r!==(r=c[6]||c[2]||"currentColor")&&D(e,"fill",r),p&896&&d!==(d=c[9]!=!1?c[7]:c[8])&&D(e,"fill-opacity",d),p&1024&&m!==(m="translate("+c[10][0]/-2+" "+c[10][1]/-2+")")&&D(e,"transform",m),p&1024&&i!==(i=c[10][4][1])&&D(_,"d",i),p&36&&n!==(n=c[5]||c[2]||"currentColor")&&D(_,"fill",n),p&896&&l!==(l=c[9]!=!1?c[8]:c[7])&&D(_,"fill-opacity",l),p&1024&&u!==(u="translate("+c[10][0]/-2+" "+c[10][1]/-2+")")&&D(_,"transform",u)},d(c){c&&(U(e),U(_))}}}function tn(o){let e,t,r,d;return{c(){e=ke("path"),D(e,"d",t=o[10][4]),D(e,"fill",r=o[2]||o[5]||"currentColor"),D(e,"transform",d="translate("+o[10][0]/-2+" "+o[10][1]/-2+")")},m(m,_){j(m,e,_)},p(m,_){_&1024&&t!==(t=m[10][4])&&D(e,"d",t),_&36&&r!==(r=m[2]||m[5]||"currentColor")&&D(e,"fill",r),_&1024&&d!==(d="translate("+m[10][0]/-2+" "+m[10][1]/-2+")")&&D(e,"transform",d)},d(m){m&&U(e)}}}function sn(o){let e,t=o[10][4]&&Pi(o);return{c(){t&&t.c(),e=Xe()},m(r,d){t&&t.m(r,d),j(r,e,d)},p(r,[d]){r[10][4]?t?t.p(r,d):(t=Pi(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ce,o:ce,d(r){r&&U(e),t&&t.d(r)}}}function rn(o,e,t){let{class:r=""}=e,{id:d=""}=e,{style:m=""}=e,{icon:_}=e,{size:i=""}=e,{color:n=""}=e,{fw:l=!1}=e,{pull:u=""}=e,{scale:c=1}=e,{translateX:p=0}=e,{translateY:S=0}=e,{rotate:w=""}=e,{flip:v=!1}=e,{spin:s=!1}=e,{pulse:f=!1}=e,{primaryColor:h=""}=e,{secondaryColor:a=""}=e,{primaryOpacity:b=1}=e,{secondaryOpacity:g=.4}=e,{swapOpacity:y=!1}=e,E,C,k;return o.$$set=R=>{"class"in R&&t(0,r=R.class),"id"in R&&t(1,d=R.id),"style"in R&&t(13,m=R.style),"icon"in R&&t(14,_=R.icon),"size"in R&&t(15,i=R.size),"color"in R&&t(2,n=R.color),"fw"in R&&t(16,l=R.fw),"pull"in R&&t(17,u=R.pull),"scale"in R&&t(18,c=R.scale),"translateX"in R&&t(19,p=R.translateX),"translateY"in R&&t(20,S=R.translateY),"rotate"in R&&t(21,w=R.rotate),"flip"in R&&t(22,v=R.flip),"spin"in R&&t(3,s=R.spin),"pulse"in R&&t(4,f=R.pulse),"primaryColor"in R&&t(5,h=R.primaryColor),"secondaryColor"in R&&t(6,a=R.secondaryColor),"primaryOpacity"in R&&t(7,b=R.primaryOpacity),"secondaryOpacity"in R&&t(8,g=R.secondaryOpacity),"swapOpacity"in R&&t(9,y=R.swapOpacity)},o.$$.update=()=>{o.$$.dirty&16384&&t(10,E=_&&_.icon||[0,0,"",[],""]),o.$$.dirty&237568&&t(11,C=Jr(m,i,u,l)),o.$$.dirty&8126464&&t(12,k=Qr(c,p,S,w,v,512))},[r,d,n,s,f,h,a,b,g,y,E,C,k,m,_,i,l,u,c,p,S,w,v]}class ue extends Oe{constructor(e){super(),xe(this,e,rn,sn,Be,{class:0,id:1,style:13,icon:14,size:15,color:2,fw:16,pull:17,scale:18,translateX:19,translateY:20,rotate:21,flip:22,spin:3,pulse:4,primaryColor:5,secondaryColor:6,primaryOpacity:7,secondaryOpacity:8,swapOpacity:9})}}var nn={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"]},on=nn,ln={prefix:"fas",iconName:"laptop-code",icon:[640,512,[],"f5fc","M64 96c0-35.3 28.7-64 64-64H512c35.3 0 64 28.7 64 64V352H512V96H128V352H64V96zM0 403.2C0 392.6 8.6 384 19.2 384H620.8c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"]},an={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},cn={prefix:"fas",iconName:"square-up-right",icon:[448,512,[8599,"external-link-square-alt"],"f360","M384 32c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96C0 60.7 28.7 32 64 32H384zM320 313.4V176c0-8.8-7.2-16-16-16H166.6c-12.5 0-22.6 10.1-22.6 22.6c0 6 2.4 11.8 6.6 16L184 232l-66.3 66.3C114 302 112 306.9 112 312s2 10 5.7 13.7l36.7 36.7c3.6 3.6 8.5 5.7 13.7 5.7s10-2 13.7-5.7L248 296l33.4 33.4c4.2 4.2 10 6.6 16 6.6c12.5 0 22.6-10.1 22.6-22.6z"]},hn=cn,dn={prefix:"fas",iconName:"circle-chevron-down",icon:[512,512,["chevron-circle-down"],"f13a","M256 0a256 256 0 1 0 0 512A256 256 0 1 0 256 0zM135 241c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l87 87 87-87c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9L273 345c-9.4 9.4-24.6 9.4-33.9 0L135 241z"]},fn=dn,_r={prefix:"fas",iconName:"memory",icon:[576,512,[],"f538","M64 64C28.7 64 0 92.7 0 128v7.4c0 6.8 4.4 12.6 10.1 16.3C23.3 160.3 32 175.1 32 192s-8.7 31.7-21.9 40.3C4.4 236 0 241.8 0 248.6V320H576V248.6c0-6.8-4.4-12.6-10.1-16.3C552.7 223.7 544 208.9 544 192s8.7-31.7 21.9-40.3c5.7-3.7 10.1-9.5 10.1-16.3V128c0-35.3-28.7-64-64-64H64zM576 352H0v64c0 17.7 14.3 32 32 32H80V416c0-8.8 7.2-16 16-16s16 7.2 16 16v32h96V416c0-8.8 7.2-16 16-16s16 7.2 16 16v32h96V416c0-8.8 7.2-16 16-16s16 7.2 16 16v32h96V416c0-8.8 7.2-16 16-16s16 7.2 16 16v32h48c17.7 0 32-14.3 32-32V352zM192 160v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V160c0-17.7 14.3-32 32-32s32 14.3 32 32zm128 0v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V160c0-17.7 14.3-32 32-32s32 14.3 32 32zm128 0v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V160c0-17.7 14.3-32 32-32s32 14.3 32 32z"]},un={prefix:"fas",iconName:"folder",icon:[512,512,[128193,128447,61716,"folder-blank"],"f07b","M64 480H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H288c-10.1 0-19.6-4.7-25.6-12.8L243.2 57.6C231.1 41.5 212.1 32 192 32H64C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64z"]},_n={prefix:"fas",iconName:"box",icon:[448,512,[128230],"f466","M50.7 58.5L0 160H208V32H93.7C75.5 32 58.9 42.3 50.7 58.5zM240 160H448L397.3 58.5C389.1 42.3 372.5 32 354.3 32H240V160zm208 32H0V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192z"]},pn={prefix:"fas",iconName:"maximize",icon:[512,512,["expand-arrows-alt"],"f31e","M200 32H56C42.7 32 32 42.7 32 56V200c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2l40-40 79 79-79 79L73 295c-6.9-6.9-17.2-8.9-26.2-5.2S32 302.3 32 312V456c0 13.3 10.7 24 24 24H200c9.7 0 18.5-5.8 22.2-14.8s1.7-19.3-5.2-26.2l-40-40 79-79 79 79-40 40c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H456c13.3 0 24-10.7 24-24V312c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2l-40 40-79-79 79-79 40 40c6.9 6.9 17.2 8.9 26.2 5.2s14.8-12.5 14.8-22.2V56c0-13.3-10.7-24-24-24H312c-9.7 0-18.5 5.8-22.2 14.8s-1.7 19.3 5.2 26.2l40 40-79 79-79-79 40-40c6.9-6.9 8.9-17.2 5.2-26.2S209.7 32 200 32z"]},pr=pn,mn={prefix:"fas",iconName:"server",icon:[512,512,[],"f233","M64 32C28.7 32 0 60.7 0 96v64c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm280 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm48 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zM64 288c-35.3 0-64 28.7-64 64v64c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V352c0-35.3-28.7-64-64-64H64zm280 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm56 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0z"]},mr={prefix:"fas",iconName:"microchip",icon:[512,512,[],"f2db","M176 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64c-35.3 0-64 28.7-64 64H24c-13.3 0-24 10.7-24 24s10.7 24 24 24H64v56H24c-13.3 0-24 10.7-24 24s10.7 24 24 24H64v56H24c-13.3 0-24 10.7-24 24s10.7 24 24 24H64c0 35.3 28.7 64 64 64v40c0 13.3 10.7 24 24 24s24-10.7 24-24V448h56v40c0 13.3 10.7 24 24 24s24-10.7 24-24V448h56v40c0 13.3 10.7 24 24 24s24-10.7 24-24V448c35.3 0 64-28.7 64-64h40c13.3 0 24-10.7 24-24s-10.7-24-24-24H448V280h40c13.3 0 24-10.7 24-24s-10.7-24-24-24H448V176h40c13.3 0 24-10.7 24-24s-10.7-24-24-24H448c0-35.3-28.7-64-64-64V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H280V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H176V24zM160 128H352c17.7 0 32 14.3 32 32V352c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32zm192 32H160V352H352V160z"]},vn={prefix:"fas",iconName:"circle-chevron-up",icon:[512,512,["chevron-circle-up"],"f139","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM377 271c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-87-87-87 87c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9L239 167c9.4-9.4 24.6-9.4 33.9 0L377 271z"]},gn=vn,vr={prefix:"fas",iconName:"box-open",icon:[640,512,[],"f49e","M58.9 42.1c3-6.1 9.6-9.6 16.3-8.7L320 64 564.8 33.4c6.7-.8 13.3 2.7 16.3 8.7l41.7 83.4c9 17.9-.6 39.6-19.8 45.1L439.6 217.3c-13.9 4-28.8-1.9-36.2-14.3L320 64 236.6 203c-7.4 12.4-22.3 18.3-36.2 14.3L37.1 170.6c-19.3-5.5-28.8-27.2-19.8-45.1L58.9 42.1zM321.1 128l54.9 91.4c14.9 24.8 44.6 36.6 72.5 28.6L576 211.6v167c0 22-15 41.2-36.4 46.6l-204.1 51c-10.2 2.6-20.9 2.6-31 0l-204.1-51C79 419.7 64 400.5 64 378.5v-167L191.6 248c27.8 8 57.6-3.8 72.5-28.6L318.9 128h2.2z"]},bn={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H463.5c0 0 0 0 0 0h.4c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1V448c0 17.7 14.3 32 32 32s32-14.3 32-32V396.9l17.6 17.5 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352H176c17.7 0 32-14.3 32-32s-14.3-32-32-32H48.4c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"]},gr=bn,Sn={prefix:"fas",iconName:"house-user",icon:[576,512,["home-user"],"e1b0","M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c.2 35.5-28.5 64.3-64 64.3H128.1c-35.3 0-64-28.7-64-64V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24zM352 224a64 64 0 1 0 -128 0 64 64 0 1 0 128 0zm-96 96c-44.2 0-80 35.8-80 80c0 8.8 7.2 16 16 16H384c8.8 0 16-7.2 16-16c0-44.2-35.8-80-80-80H256z"]},Cn={prefix:"fas",iconName:"tags",icon:[512,512,[],"f02c","M345 39.1L472.8 168.4c52.4 53 52.4 138.2 0 191.2L360.8 472.9c-9.3 9.4-24.5 9.5-33.9 .2s-9.5-24.5-.2-33.9L438.6 325.9c33.9-34.3 33.9-89.4 0-123.7L310.9 72.9c-9.3-9.4-9.2-24.6 .2-33.9s24.6-9.2 33.9 .2zM0 229.5V80C0 53.5 21.5 32 48 32H197.5c17 0 33.3 6.7 45.3 18.7l168 168c25 25 25 65.5 0 90.5L277.3 442.7c-25 25-65.5 25-90.5 0l-168-168C6.7 262.7 0 246.5 0 229.5zM144 144a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},wn={prefix:"fas",iconName:"terminal",icon:[576,512,[],"f120","M9.4 86.6C-3.1 74.1-3.1 53.9 9.4 41.4s32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L178.7 256 9.4 86.6zM256 416H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H256c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},yn={prefix:"fas",iconName:"tag",icon:[448,512,[127991],"f02b","M0 80V229.5c0 17 6.7 33.3 18.7 45.3l176 176c25 25 65.5 25 90.5 0L418.7 317.3c25-25 25-65.5 0-90.5l-176-176c-12-12-28.3-18.7-45.3-18.7H48C21.5 32 0 53.5 0 80zm112 32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},kn={prefix:"fas",iconName:"hard-drive",icon:[512,512,[128436,"hdd"],"f0a0","M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V280.4c-17-15.2-39.4-24.4-64-24.4H64c-24.6 0-47 9.2-64 24.4V96zM64 288H448c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V352c0-35.3 28.7-64 64-64zM320 416a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm128-32a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},En=kn,Ln={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},Rn=Ln,Dn={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},An={prefix:"fas",iconName:"network-wired",icon:[640,512,[],"f6ff","M256 64H384v64H256V64zM240 0c-26.5 0-48 21.5-48 48v96c0 26.5 21.5 48 48 48h48v32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96v32H80c-26.5 0-48 21.5-48 48v96c0 26.5 21.5 48 48 48H240c26.5 0 48-21.5 48-48V368c0-26.5-21.5-48-48-48H192V288H448v32H400c-26.5 0-48 21.5-48 48v96c0 26.5 21.5 48 48 48H560c26.5 0 48-21.5 48-48V368c0-26.5-21.5-48-48-48H512V288h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H352V192h48c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48H240zM96 448V384H224v64H96zm320-64H544v64H416V384z"]},Tn={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},Bn={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},Mn=Bn,xn={prefix:"fas",iconName:"stop",icon:[384,512,[9209],"f04d","M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128z"]},On={prefix:"fas",iconName:"sun",icon:[512,512,[9728],"f185","M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"]},In={prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z"]},Pn={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"]},Hn={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},$n={prefix:"fas",iconName:"moon",icon:[384,512,[127769,9214],"f186","M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"]},Fn={prefix:"fas",iconName:"rectangle-xmark",icon:[512,512,[62164,"rectangle-times","times-rectangle","window-close"],"f410","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]},zn=Fn,Nn={prefix:"fas",iconName:"turn-up",icon:[384,512,[10548,"level-up-alt"],"f3bf","M350 177.5c3.8-8.8 2-19-4.6-26l-136-144C204.9 2.7 198.6 0 192 0s-12.9 2.7-17.4 7.5l-136 144c-6.6 7-8.4 17.2-4.6 26s12.5 14.5 22 14.5h88l0 192c0 17.7-14.3 32-32 32H32c-17.7 0-32 14.3-32 32v32c0 17.7 14.3 32 32 32l80 0c70.7 0 128-57.3 128-128l0-192h88c9.6 0 18.2-5.7 22-14.5z"]},Un=Nn;function Wn(o){let e,t;return e=new ue({props:{icon:On,color:"#333",size:"2x"}}),{c(){ne(e.$$.fragment)},m(r,d){se(e,r,d),t=!0},i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){re(e,r)}}}function jn(o){let e,t;return e=new ue({props:{icon:$n,color:"#333",size:"2x"}}),{c(){ne(e.$$.fragment)},m(r,d){se(e,r,d),t=!0},i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){re(e,r)}}}function Vn(o){let e,t,r,d,m,_;const i=[jn,Wn],n=[];function l(u,c){return u[0]==="dark"?0:1}return t=l(o),r=n[t]=i[t](o),{c(){e=x("button"),r.c(),D(e,"type","button"),D(e,"class","btn mx-2"),D(e,"title","Switch Theme")},m(u,c){j(u,e,c),n[t].m(e,null),d=!0,m||(_=_e(e,"click",o[1]),m=!0)},p(u,[c]){let p=t;t=l(u),t!==p&&(pe(),V(n[p],1,1,()=>{n[p]=null}),me(),r=n[t],r||(r=n[t]=i[t](u),r.c()),N(r,1),r.m(e,null))},i(u){d||(N(r),d=!0)},o(u){V(r),d=!1},d(u){u&&U(e),n[t].d(),m=!1,_()}}}function Kn(o,e,t){let r;function d(){r==="light"?(t(0,r="dark"),document.querySelector("html").classList.add("dark")):(t(0,r="light"),document.querySelector("html").classList.remove("dark"))}return Ue(()=>{t(0,r="dark"),r==="dark"&&document.querySelector("html").classList.add("dark")}),[r,d]}class qn extends Oe{constructor(e){super(),xe(this,e,Kn,Vn,Be,{})}}function Hi(o){let e,t,r,d,m,_,i;function n(v,s){if(v[0]==="error"||v[0]==="warning")return Zn;if(v[0]==="success")return Xn;if(v[0]==="info")return Gn}let l=n(o),u=l&&l(o),c=o[0]==="error"&&$i();const p=o[4].default,S=Nt(p,o,o[3],null);let w=o[1]&&Fi(o);return{c(){e=x("div"),u&&u.c(),t=q(),r=x("div"),c&&c.c(),d=q(),S&&S.c(),m=q(),w&&w.c(),D(e,"class","alert d-flex align-items-center"),D(e,"role","alert"),he(e,"alert-danger",o[0]==="error"),he(e,"alert-warning",o[0]==="warning"),he(e,"alert-success",o[0]==="success"),he(e,"alert-info",o[0]==="info"),he(e,"alert-dismissible",o[1])},m(v,s){j(v,e,s),u&&u.m(e,null),A(e,t),A(e,r),c&&c.m(r,null),A(r,d),S&&S.m(r,null),A(r,m),w&&w.m(r,null),i=!0},p(v,s){l!==(l=n(v))&&(u&&u.d(1),u=l&&l(v),u&&(u.c(),u.m(e,t))),v[0]==="error"?c||(c=$i(),c.c(),c.m(r,d)):c&&(c.d(1),c=null),S&&S.p&&(!i||s&8)&&Wt(S,p,v,v[3],i?Ut(p,v[3],s,null):jt(v[3]),null),v[1]?w?w.p(v,s):(w=Fi(v),w.c(),w.m(r,null)):w&&(w.d(1),w=null),(!i||s&1)&&he(e,"alert-danger",v[0]==="error"),(!i||s&1)&&he(e,"alert-warning",v[0]==="warning"),(!i||s&1)&&he(e,"alert-success",v[0]==="success"),(!i||s&1)&&he(e,"alert-info",v[0]==="info"),(!i||s&2)&&he(e,"alert-dismissible",v[1])},i(v){i||(N(S,v),v&&Te(()=>{i&&(_||(_=ze(e,Pe,{},!0)),_.run(1))}),i=!0)},o(v){V(S,v),v&&(_||(_=ze(e,Pe,{},!1)),_.run(0)),i=!1},d(v){v&&U(e),u&&u.d(),c&&c.d(),S&&S.d(v),w&&w.d(),v&&_&&_.end()}}}function Gn(o){let e,t;return{c(){e=ke("svg"),t=ke("use"),di(t,"xlink:href","#info-fill"),D(e,"class","bi flex-shrink-0 me-2"),D(e,"width","24"),D(e,"height","24"),D(e,"role","img"),D(e,"aria-label","Info:")},m(r,d){j(r,e,d),A(e,t)},d(r){r&&U(e)}}}function Xn(o){let e,t;return{c(){e=ke("svg"),t=ke("use"),di(t,"xlink:href","#check-circle-fill"),D(e,"class","bi flex-shrink-0 me-2"),D(e,"width","24"),D(e,"height","24"),D(e,"role","img"),D(e,"aria-label","Success:")},m(r,d){j(r,e,d),A(e,t)},d(r){r&&U(e)}}}function Zn(o){let e,t;return{c(){e=ke("svg"),t=ke("use"),di(t,"xlink:href","#exclamation-triangle-fill"),D(e,"class","bi flex-shrink-0 me-2"),D(e,"width","24"),D(e,"height","24"),D(e,"role","img"),D(e,"aria-label","Danger:")},m(r,d){j(r,e,d),A(e,t)},d(r){r&&U(e)}}}function $i(o){let e;return{c(){e=x("strong"),e.textContent="Error:"},m(t,r){j(t,e,r)},d(t){t&&U(e)}}}function Fi(o){let e,t,r;return{c(){e=x("button"),D(e,"type","button"),D(e,"class","btn-close"),D(e,"data-bs-dismiss","alert"),D(e,"aria-label","Close")},m(d,m){j(d,e,m),t||(r=_e(e,"click",o[5]),t=!0)},p:ce,d(d){d&&U(e),t=!1,r()}}}function Yn(o){let e,t,r,d,m,_,i,n,l,u,c=!o[2]&&Hi(o);return{c(){e=ke("svg"),t=ke("symbol"),r=ke("path"),d=ke("symbol"),m=ke("path"),_=ke("symbol"),i=ke("path"),n=q(),c&&c.c(),l=Xe(),D(r,"d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"),D(t,"id","check-circle-fill"),D(t,"fill","currentColor"),D(t,"viewBox","0 0 16 16"),D(m,"d","M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"),D(d,"id","info-fill"),D(d,"fill","currentColor"),D(d,"viewBox","0 0 16 16"),D(i,"d","M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"),D(_,"id","exclamation-triangle-fill"),D(_,"fill","currentColor"),D(_,"viewBox","0 0 16 16"),D(e,"xmlns","http://www.w3.org/2000/svg"),ge(e,"display","none")},m(p,S){j(p,e,S),A(e,t),A(t,r),A(e,d),A(d,m),A(e,_),A(_,i),j(p,n,S),c&&c.m(p,S),j(p,l,S),u=!0},p(p,[S]){p[2]?c&&(pe(),V(c,1,1,()=>{c=null}),me()):c?(c.p(p,S),S&4&&N(c,1)):(c=Hi(p),c.c(),N(c,1),c.m(l.parentNode,l))},i(p){u||(N(c),u=!0)},o(p){V(c),u=!1},d(p){p&&(U(e),U(n),U(l)),c&&c.d(p)}}}function Jn(o,e,t){let{$$slots:r={},$$scope:d}=e,{type:m}=e,{dismissible:_=!1}=e,i=!1;const n=()=>t(2,i=!0);return o.$$set=l=>{"type"in l&&t(0,m=l.type),"dismissible"in l&&t(1,_=l.dismissible),"$$scope"in l&&t(3,d=l.$$scope)},[m,_,i,d,r,n]}class Qn extends Oe{constructor(e){super(),xe(this,e,Jn,Yn,Be,{type:0,dismissible:1})}}function eo(o){switch(o.request){case"login":return`{"response": "login", "payload": {"username": "${o.payload.username}"}}`;case"get_system_info":return'{"response": "get_system_info", "payload": {"engine_version": "Docker 20.10.7", "containers": {"total": 178, "running": 170, "stopped": 0}, "os": "Ubuntu 20.04.3 LTS", "cpus": 24, "mem": 31277850624}}';case"get_container_list":return`{"response": "get_container_list", "payload": [
                {"id": "2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8586", "name": "CaaSa Demo", "namespace": null, "status": "running", "permissions": ["info", "info-annotations", "procs", "files-read", "files-write", "files", "logs", "state", "term"]},
                {"id": "2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8587", "name": "Backend", "namespace": "Cool Web App", "status": "running", "permissions": ["info", "info-annotations", "procs", "files-read", "files-write", "files", "logs", "state", "term"]},
                {"id": "2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8588", "name": "Gateway", "namespace": "Cool Web App", "status": "running", "permissions": ["info", "info-annotations", "procs", "files-read", "files-write", "files", "logs", "state", "term"]}
               ]}`;case"get_processes":return'{"response": "get_processes", "payload": [{"pid": "45756", "ppid": "45733", "%cpu": "0.0", "%mem": "0.0", "user": "root", "stime": "16:24", "command": "nginx: master process nginx -g daemon off;", "level": 0}, {"pid": "45822", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45823", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45824", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45825", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45826", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45827", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45828", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45829", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45830", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45831", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45832", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45833", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "46825", "ppid": "45733", "%cpu": "0.0", "%mem": "0.0", "user": "root", "stime": "16:34", "command": "sh", "level": 0}]}';case"get_container_info":const e={"2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8586":"/caasa_demo","2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8587":"/cool_web_app_backend_1","2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8588":"/cool_web_app_gateway_1"};return`{"response": "get_container_info", "payload": {"id": "${o.payload.container_id}", "name": "${e[o.payload.container_id]}", "status": "running", "command": "/docker-entrypoint.sh nginx -g daemon off;", "created_at": "2021-12-02T10:33:16.628618832Z", "started_at": "2021-12-02T10:33:17.015866729Z", "finished_at": "0001-01-01T00:00:00Z", "crashes": 0, "env": {"PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin", "NGINX_VERSION": "1.21.1", "NJS_VERSION": "0.6.1", "PKG_RELEASE": "1"}, "labels": {"caasa.admin.full": "user1,user2", "maintainer": "NGINX Docker Maintainers <docker-maint@nginx.com>"}, "image": {"name": "nginx:alpine", "hash": "sha256:b9e2356ea1be9452f3777a587b0b6a30bc16c295fe6190eda6a0776522f27439"}, "mem": {"used": 10452992, "max_used": 19345408, "total": 52428800}, "cpu": {"perc": ${Math.random()*10}}, "net": {"rx_bytes": 18201, "tx_bytes": 0}, "ports": ["80/tcp"]}}`;case"get_container_logs":return o.payload.onlynew?'{"response": "get_container_logs", "payload":[]}':'{"response": "get_container_logs", "payload": ["2021-12-02T10:33:17.021946340Z /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration","2021-12-02T10:33:17.021988550Z /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/","2021-12-02T10:33:17.023417432Z /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh","2021-12-02T10:33:17.031231257Z 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf","2021-12-02T10:33:17.055742664Z 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf","2021-12-02T10:33:17.056041305Z /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh","2021-12-02T10:33:17.059979717Z /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh","2021-12-02T10:33:17.062059371Z /docker-entrypoint.sh: Configuration complete; ready for start up","2021-12-02T10:33:17.074027144Z 2021/12/02 10:33:17 [notice] 1#1: using the \\"epoll\\" event method","2021-12-02T10:33:17.074056600Z 2021/12/02 10:33:17 [notice] 1#1: nginx/1.21.1","2021-12-02T10:33:17.074063653Z 2021/12/02 10:33:17 [notice] 1#1: built by gcc 10.3.1 20210424 (Alpine 10.3.1_git20210424) ","2021-12-02T10:33:17.074069845Z 2021/12/02 10:33:17 [notice] 1#1: OS: Linux 5.11.0-40-generic","2021-12-02T10:33:17.074075475Z 2021/12/02 10:33:17 [notice] 1#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576","2021-12-02T10:33:17.074245905Z 2021/12/02 10:33:17 [notice] 1#1: start worker processes","2021-12-02T10:33:17.074276953Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 32","2021-12-02T10:33:17.074379486Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 33","2021-12-02T10:33:17.074401427Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 34","2021-12-02T10:33:17.074513127Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 35","2021-12-02T10:33:17.074601242Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 36","2021-12-02T10:33:17.074666745Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 37","2021-12-02T10:33:17.074817979Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 38","2021-12-02T10:33:17.074873423Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 39","2021-12-02T10:33:17.075007344Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 40","2021-12-02T10:33:17.075141746Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 41","2021-12-02T10:33:17.075279715Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 42","2021-12-02T10:33:17.075393118Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 43"]}';case"get_filesystem_info":return'{"response": "get_filesystem_info", "payload": {"workdir": "", "mounts": [{"type": "bind", "destination": "/etc/ssl/certs", "readonly": true, "source": "/etc/ssl/certs"}]}}';case"get_directory_list":return o.payload.path===""||o.payload.path==="/"?'{"response": "get_directory_list", "payload": {"entries": [{"type": "f", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "0B", "modtime": "2021-12-02 16:19:13", "name": ".dockerenv"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "bin"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "360B", "modtime": "2021-12-02 16:19:13", "name": "dev"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-07-06 19:40:27", "name": "docker-entrypoint.d"}, {"type": "f", "permissions": "rwxrwxr-x", "owner": "root", "group": "root", "filesize": "1.2KB", "modtime": "2021-07-06 19:40:16", "name": "docker-entrypoint.sh"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-12-02 16:19:13", "name": "etc"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "home"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "lib"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "media"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "mnt"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "opt"}, {"type": "d", "permissions": "r-xr-xr-x", "owner": "root", "group": "root", "filesize": "0B", "modtime": "2021-12-02 16:19:13", "name": "proc"}, {"type": "d", "permissions": "rwx------", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "root"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-12-02 16:19:13", "name": "run"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "sbin"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "srv"}, {"type": "d", "permissions": "r-xr-xr-x", "owner": "root", "group": "root", "filesize": "0B", "modtime": "2021-12-02 16:19:13", "name": "sys"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "usr"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "var"}], "path": "/"}}':!1;case"spawn_terminal":return'{"response": "spawn_terminal", "payload": {"execId": "2680be7b4aa3c0b6599edf3521f5813a770ccec7966a59c57cfdac5b4e3b7e9a"}}';case"resize_terminal":return!0;case"transmit_terminal_input":return o.payload.data==="\r"?`56!{"response": "receive_terminal_output", "payload": null}\r
This is just a demo`:'56!{"response": "receive_terminal_output", "payload": null}'+o.payload.data;default:return!1}}class to{constructor(e){Me(this,"binaryType");Me(this,"bufferedAmount");Me(this,"extensions");Me(this,"onclose");Me(this,"onerror");Me(this,"onmessage");Me(this,"onopen");Me(this,"protocol");Me(this,"readyState");Me(this,"url");Me(this,"CLOSED");Me(this,"CLOSING");Me(this,"CONNECTING");Me(this,"OPEN")}close(e,t){}addEventListener(e,t,r){throw new Error("Method not implemented.")}removeEventListener(e,t,r){throw new Error("Method not implemented.")}dispatchEvent(e){throw new Error("Method not implemented.")}send(e){const t=JSON.parse(e),r=eo(t),d={data:void 0,...new Event("api-mock")};if(r===!1?d.data=`{"response": "${t.request}", "error": "Sorry, command not mocked in demo"}`:r===!0||(r[0]!=="{"?d.data=new Blob([r]):d.data=r),d.data&&(setTimeout(()=>this.onmessage(d),200),typeof d.data=="string"&&d.data.includes("spawn_terminal"))){console.log("extra response for terminal");const m={data:void 0,...new Event("api-mock")};m.data=new Blob(['56!{"response": "receive_terminal_output", "payload": null}/ # ']),setTimeout(()=>this.onmessage(m),300)}}}let Ze,kt={},Et={};function zi(o,e){o in kt?kt[o](e):console.error("WS-API Unknown websocket event:",o)}function Ft(o,e){o in Et?Et[o](e):console.error("WS-API Unknown websocket event:",o)}function Ni(){kt={},Et={}}const le={init(){try{Ze&&Ze.close(1e3),Ze=new to(`${window.location.protocol.replace("http","ws")}//${window.location.host}/ws`),Ze.binaryType="blob",Ze.onclose=o=>{Ft("ws-close",o.reason||"Connection closed"),Ni()},Ze.onmessage=async o=>{if(o.data instanceof Blob){const e=parseInt(await o.data.slice(0,10).text()),t=e.toString().length+1,r=await o.data.slice(t,t+e).text(),d=JSON.parse(r);d.error?Ft(d.response,d.error):zi(d.response,{payload:d.payload,blob:o.data.slice(t+e)})}else{const e=JSON.parse(o.data);e.error?Ft(e.response,e.error):zi(e.response,e.payload)}},Ze.onerror=o=>{Ft("ws-error","Connection error")}}catch(o){alert(o)}},register(o,e,t){e&&(kt[o]=e),t&&(Et[o]=t)},unregister(...o){o.forEach(e=>{delete Et[e],delete kt[e]})},send(o,e){Ze.send(JSON.stringify({request:o,payload:e}))},close(){Ni(),Ze.close()}};function io(o,e,t){const r=o.slice();return r[2]=e[t],r}function Ui(o){let e,t,r,d,m,_=we([1,2,3]),i=[];for(let l=0;l<3;l+=1)i[l]=so(io(o,_,l));let n=o[0]&&Wi(o);return{c(){e=x("div"),t=x("div"),r=x("div");for(let l=0;l<3;l+=1)i[l].c();d=q(),n&&n.c(),D(r,"class","d-flex justify-content-center align-items-center"),D(t,"class","bg-inner d-flex flex-column rounded p-3 svelte-1l5azpb"),D(e,"class","bg-outer position-fixed d-flex justify-content-center align-items-center top-0 start-0 end-0 bottom-0 svelte-1l5azpb")},m(l,u){j(l,e,u),A(e,t),A(t,r);for(let c=0;c<3;c+=1)i[c]&&i[c].m(r,null);A(t,d),n&&n.m(t,null)},p(l,u){l[0]?n?n.p(l,u):(n=Wi(l),n.c(),n.m(t,null)):n&&(n.d(1),n=null)},i(l){l&&(m||Te(()=>{m=ct(e,Gr,{}),m.start()}))},o:ce,d(l){l&&U(e),Fe(i,l),n&&n.d()}}}function so(o){let e;return{c(){e=x("div"),e.innerHTML='<span class="visually-hidden">Loading...</span> ',D(e,"class","spinner-grow mx-2 text-light"),D(e,"role","status")},m(t,r){j(t,e,r)},p:ce,d(t){t&&U(e)}}}function Wi(o){let e,t;return{c(){e=x("div"),t=Q(o[0]),D(e,"class","mt-4 text-light")},m(r,d){j(r,e,d),A(e,t)},p(r,d){d&1&&ae(t,r[0])},d(r){r&&U(e)}}}function ro(o){let e,t=o[1]&&Ui(o);return{c(){t&&t.c(),e=Xe()},m(r,d){t&&t.m(r,d),j(r,e,d)},p(r,[d]){r[1]?t?(t.p(r,d),d&2&&N(t,1)):(t=Ui(r),t.c(),N(t,1),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i(r){N(t)},o:ce,d(r){r&&U(e),t&&t.d(r)}}}function no(o,e,t){let{text:r=""}=e,d=!1;return Ue(()=>{setTimeout(()=>t(1,d=!0),250)}),o.$$set=m=>{"text"in m&&t(0,r=m.text)},[r,d]}class br extends Oe{constructor(e){super(),xe(this,e,no,ro,Be,{text:0})}}function ji(o){let e,t;return e=new br({}),{c(){ne(e.$$.fragment)},m(r,d){se(e,r,d),t=!0},i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){re(e,r)}}}function Vi(o){let e,t;return e=new Qn({props:{type:"error",dismissible:!0,$$slots:{default:[oo]},$$scope:{ctx:o}}}),{c(){ne(e.$$.fragment)},m(r,d){se(e,r,d),t=!0},p(r,d){const m={};d&1032&&(m.$$scope={dirty:d,ctx:r}),e.$set(m)},i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){re(e,r)}}}function oo(o){let e;return{c(){e=Q(o[3])},m(t,r){j(t,e,r)},p(t,r){r&8&&ae(e,t[3])},d(t){t&&U(e)}}}function lo(o){let e,t,r,d,m,_,i,n,l,u,c,p,S,w,v,s,f,h,a,b=o[2]&&ji(),g=o[3]&&Vi(o);return{c(){b&&b.c(),e=q(),t=x("div"),g&&g.c(),r=q(),d=x("form"),m=x("div"),_=x("input"),i=q(),n=x("label"),n.textContent="Username",l=q(),u=x("div"),c=x("input"),p=q(),S=x("label"),S.textContent="Password",w=q(),v=x("div"),v.innerHTML='<button type="submit" class="btn btn-primary w-100">Login</button>',D(_,"type","text"),D(_,"class","form-control"),D(_,"id","loginName"),D(_,"placeholder"," "),_.required=!0,D(_,"autocomplete","username"),D(n,"for","loginName"),D(m,"class","form-floating mb-2"),D(c,"type","password"),D(c,"class","form-control"),D(c,"id","loginPw"),D(c,"placeholder"," "),c.required=!0,D(c,"autocomplete","current-password"),D(S,"for","loginPw"),D(u,"class","form-floating mb-2"),D(v,"class","col-12"),D(d,"class","container login-form svelte-ur79cd"),D(t,"class","container pt-5")},m(y,E){b&&b.m(y,E),j(y,e,E),j(y,t,E),g&&g.m(t,null),A(t,r),A(t,d),A(d,m),A(m,_),je(_,o[0]),A(m,i),A(m,n),A(d,l),A(d,u),A(u,c),je(c,o[1]),A(u,p),A(u,S),A(d,w),A(d,v),f=!0,h||(a=[_e(_,"input",o[5]),_e(_,"input",o[6]),_e(c,"input",o[7]),_e(d,"submit",Xt(o[8]))],h=!0)},p(y,[E]){y[2]?b?E&4&&N(b,1):(b=ji(),b.c(),N(b,1),b.m(e.parentNode,e)):b&&(pe(),V(b,1,1,()=>{b=null}),me()),y[3]?g?(g.p(y,E),E&8&&N(g,1)):(g=Vi(y),g.c(),N(g,1),g.m(t,r)):g&&(pe(),V(g,1,1,()=>{g=null}),me()),E&1&&_.value!==y[0]&&je(_,y[0]),E&2&&c.value!==y[1]&&je(c,y[1])},i(y){f||(N(b),N(g),y&&Te(()=>{f&&(s||(s=ze(d,Pe,{},!0)),s.run(1))}),f=!0)},o(y){V(b),V(g),y&&(s||(s=ze(d,Pe,{},!1)),s.run(0)),f=!1},d(y){y&&(U(e),U(t)),b&&b.d(y),g&&g.d(),y&&s&&s.end(),h=!1,Ne(a)}}}function ao(o,e,t){let{username:r="admin"}=e,d="123456",m=!1,_="";const i=or();Ue(()=>{le.register("login",({username:S})=>{i("login",{username:S})},S=>{t(2,m=!1),Ce.add({text:S,type:"error"})})}),et(()=>{le.unregister("login")});async function n(){t(2,m=!0),le.send("login",{username:r,password:d}),t(3,_=""),t(1,d="")}function l(){r=this.value,t(0,r)}const u=()=>{t(0,r=r.toLowerCase().trim())};function c(){d=this.value,t(1,d)}const p=()=>n();return o.$$set=S=>{"username"in S&&t(0,r=S.username)},[r,d,m,_,n,l,u,c,p]}class co extends Oe{constructor(e){super(),xe(this,e,ao,lo,Be,{username:0})}}function Lt(o,e=0){return Math.round(o*10**e)/10**e}function $e(o){const e=["","Ki","Mi","Gi","Ti"];let t=0;for(;o>=1024;)o/=1024,t++;const r=Math.max(Math.floor(Math.log10(Math.floor(o))),0);return Lt(o,2-r)+" "+e[t]+"B"}function Ge(o){return new Date(o).toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function Sr(o,e){var t;if((t=window==null?void 0:window.navigator)!=null&&t.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(o,e);else{const r=document.createElement("a");document.body.appendChild(r);const d=window.URL.createObjectURL(o);r.href=d,r.download=e,r.click(),setTimeout(()=>{window.URL.revokeObjectURL(d),document.body.removeChild(r)},0)}}function Ki(o,e,t){const r=o.slice();return r[15]=e[t][0],r[16]=e[t][1],r}function qi(o,e,t){const r=o.slice();return r[15]=e[t][0],r[16]=e[t][1],r}function Gi(o,e,t){const r=o.slice();return r[21]=e[t],r}function ho(o){var ki,Ei,Li;let e,t,r,d,m,_,i,n,l,u,c,p,S=o[1].id.substring(0,12)+"",w,v,s,f,h=o[1].name.replace(/^\//,"")+"",a,b,g,y,E,C,k,R=o[1].command+"",T,M,I,K,z,G,L,O,B,H,W,Y,oe,J,ie,$,P,F,X,Z,fe,te,be,ye,Se,ve,Je,fi,it,Dt,ui,He,ht,st,At,_i,Tt=Ge(o[1].created_at)+"",Yt,pi,dt,ft,Bt,Mt=o[1].crashes+"",Jt,mi,vi,ut,_t,gi,pt,mt,bi,vt,gt,Si,xt,Ot=o[1].status.charAt(0).toUpperCase()+o[1].status.slice(1).toLowerCase()+"",Qt,ei,bt,We;r=new ue({props:{icon:vr,size:"2x"}});let Ee=o[0]&&Xi(o);E=new ue({props:{icon:wn}}),z=new ue({props:{icon:_n,size:"2x"}});let Ie=((ki=o[1].image)==null?void 0:ki.hash)!==((Li=(Ei=o[1])==null?void 0:Ei.image)==null?void 0:Li.name)&&Ji(o);function Ci(ee,de){return de&32&&(J=null),de&32&&(ie=null),J==null&&(J=!ee[5].includes("/")),J?yo:(ie==null&&(ie=!!ee[5].match(/^\w+\/\w+$/)),ie?wo:Co)}let It=Ci(o,-1),Ve=It(o);F=new ue({props:{icon:yn}});let Le=o[1].cpu&&Qi(o),Re=o[1].mem&&es(o),De=o[1].net&&os(o);Je=new ue({props:{icon:Dn,size:"2x"}});function wi(ee,de){return ee[1].finished_at<ee[1].started_at?Eo:ko}let Pt=wi(o),Ke=Pt(o);function yi(ee,de){return ee[1].finished_at>ee[1].started_at?Ao:Do}let Ht=yi(o),qe=Ht(o),Ae=(o[1].env||o[1].labels)&&cs(o);return{c(){e=x("div"),t=x("div"),ne(r.$$.fragment),d=q(),m=x("div"),_=x("div"),i=x("div"),n=x("div"),l=x("span"),l.textContent="Container",u=q(),c=x("span"),p=Q("#"),w=Q(S),v=q(),s=x("div"),f=x("h6"),a=Q(h),b=q(),Ee&&Ee.c(),g=q(),y=x("div"),ne(E.$$.fragment),C=q(),k=x("code"),T=Q(R),M=q(),I=x("div"),K=x("div"),ne(z.$$.fragment),G=q(),L=x("div"),O=x("div"),B=x("span"),B.textContent="Image",H=q(),Ie&&Ie.c(),W=q(),Y=x("div"),oe=x("h6"),Ve.c(),$=q(),P=x("span"),ne(F.$$.fragment),X=q(),Z=Q(o[4]),fe=q(),Le&&Le.c(),te=q(),Re&&Re.c(),be=q(),De&&De.c(),ye=q(),Se=x("div"),ve=x("div"),ne(Je.$$.fragment),fi=q(),it=x("div"),Dt=x("div"),Dt.textContent="Timeline",ui=q(),He=x("div"),ht=x("div"),st=x("div"),At=x("div"),At.textContent="Created",_i=q(),Yt=Q(Tt),pi=q(),dt=x("div"),ft=x("div"),Bt=x("div"),Jt=Q(Mt),mi=Q(`
              Crashes`),vi=q(),ut=x("div"),_t=x("div"),Ke.c(),gi=q(),pt=x("div"),mt=x("div"),qe.c(),bi=q(),vt=x("div"),gt=x("div"),Si=Q(`Currently
              `),xt=x("div"),Qt=Q(Ot),ei=q(),Ae&&Ae.c(),bt=Xe(),D(t,"class","icon-left ms-1 me-3 svelte-n9m8lc"),D(l,"class","me-2"),D(c,"class","text-muted font-monospace"),D(n,"class","mb-1"),D(i,"class","flex-grow-1"),D(_,"class","flex-grow-1 d-flex align-items-center justify-content-between"),D(m,"class","d-flex flex-column flex-grow-1"),D(e,"class","d-flex mb-3"),D(K,"class","icon-left ms-1 me-3 svelte-n9m8lc"),D(B,"class","me-2"),D(O,"class","mb-1"),D(P,"class","ms-1"),D(L,"class","flex-grow-1"),D(I,"class","d-flex mb-3"),D(ve,"class","icon-left ms-1 me-3 svelte-n9m8lc"),D(Dt,"class","mb-1"),D(At,"class","fw-bold"),D(st,"class","popup svelte-n9m8lc"),D(ht,"class","tl-container svelte-n9m8lc"),ge(ht,"margin-left","5%"),D(Bt,"class","fw-bold"),D(ft,"class","popup svelte-n9m8lc"),D(dt,"class","tl-container svelte-n9m8lc"),ge(dt,"margin-left","27%"),D(_t,"class","popup svelte-n9m8lc"),D(ut,"class","tl-container svelte-n9m8lc"),ge(ut,"margin-left","49%"),D(mt,"class","popup svelte-n9m8lc"),D(pt,"class","tl-container svelte-n9m8lc"),ge(pt,"margin-left","71%"),D(xt,"class","fw-bold"),D(gt,"class","popup svelte-n9m8lc"),D(vt,"class","tl-container svelte-n9m8lc"),ge(vt,"margin-left","93%"),D(He,"class","timeline mt-2 svelte-n9m8lc"),D(it,"class","flex-grow-1 pb-5 mb-5"),D(Se,"class","d-flex mb-3")},m(ee,de){j(ee,e,de),A(e,t),se(r,t,null),A(e,d),A(e,m),A(m,_),A(_,i),A(i,n),A(n,l),A(n,u),A(n,c),A(c,p),A(c,w),A(i,v),A(i,s),A(s,f),A(f,a),A(_,b),Ee&&Ee.m(_,null),A(m,g),A(m,y),se(E,y,null),A(y,C),A(y,k),A(k,T),j(ee,M,de),j(ee,I,de),A(I,K),se(z,K,null),A(I,G),A(I,L),A(L,O),A(O,B),A(O,H),Ie&&Ie.m(O,null),A(L,W),A(L,Y),A(Y,oe),Ve.m(oe,null),A(oe,$),A(oe,P),se(F,P,null),A(P,X),A(P,Z),j(ee,fe,de),Le&&Le.m(ee,de),j(ee,te,de),Re&&Re.m(ee,de),j(ee,be,de),De&&De.m(ee,de),j(ee,ye,de),j(ee,Se,de),A(Se,ve),se(Je,ve,null),A(Se,fi),A(Se,it),A(it,Dt),A(it,ui),A(it,He),A(He,ht),A(ht,st),A(st,At),A(st,_i),A(st,Yt),A(He,pi),A(He,dt),A(dt,ft),A(ft,Bt),A(Bt,Jt),A(ft,mi),A(He,vi),A(He,ut),A(ut,_t),Ke.m(_t,null),A(He,gi),A(He,pt),A(pt,mt),qe.m(mt,null),A(He,bi),A(He,vt),A(vt,gt),A(gt,Si),A(gt,xt),A(xt,Qt),j(ee,ei,de),Ae&&Ae.m(ee,de),j(ee,bt,de),We=!0},p(ee,de){var Ri,Di,Ai;(!We||de&2)&&S!==(S=ee[1].id.substring(0,12)+"")&&ae(w,S),(!We||de&2)&&h!==(h=ee[1].name.replace(/^\//,"")+"")&&ae(a,h),ee[0]?Ee?(Ee.p(ee,de),de&1&&N(Ee,1)):(Ee=Xi(ee),Ee.c(),N(Ee,1),Ee.m(_,null)):Ee&&(pe(),V(Ee,1,1,()=>{Ee=null}),me()),(!We||de&2)&&R!==(R=ee[1].command+"")&&ae(T,R),((Ri=ee[1].image)==null?void 0:Ri.hash)!==((Ai=(Di=ee[1])==null?void 0:Di.image)==null?void 0:Ai.name)?Ie?Ie.p(ee,de):(Ie=Ji(ee),Ie.c(),Ie.m(O,null)):Ie&&(Ie.d(1),Ie=null),It===(It=Ci(ee,de))&&Ve?Ve.p(ee,de):(Ve.d(1),Ve=It(ee),Ve&&(Ve.c(),Ve.m(oe,$))),(!We||de&16)&&ae(Z,ee[4]),ee[1].cpu?Le?(Le.p(ee,de),de&2&&N(Le,1)):(Le=Qi(ee),Le.c(),N(Le,1),Le.m(te.parentNode,te)):Le&&(pe(),V(Le,1,1,()=>{Le=null}),me()),ee[1].mem?Re?(Re.p(ee,de),de&2&&N(Re,1)):(Re=es(ee),Re.c(),N(Re,1),Re.m(be.parentNode,be)):Re&&(pe(),V(Re,1,1,()=>{Re=null}),me()),ee[1].net?De?(De.p(ee,de),de&2&&N(De,1)):(De=os(ee),De.c(),N(De,1),De.m(ye.parentNode,ye)):De&&(pe(),V(De,1,1,()=>{De=null}),me()),(!We||de&2)&&Tt!==(Tt=Ge(ee[1].created_at)+"")&&ae(Yt,Tt),(!We||de&2)&&Mt!==(Mt=ee[1].crashes+"")&&ae(Jt,Mt),Pt===(Pt=wi(ee))&&Ke?Ke.p(ee,de):(Ke.d(1),Ke=Pt(ee),Ke&&(Ke.c(),Ke.m(_t,null))),Ht===(Ht=yi(ee))&&qe?qe.p(ee,de):(qe.d(1),qe=Ht(ee),qe&&(qe.c(),qe.m(mt,null))),(!We||de&2)&&Ot!==(Ot=ee[1].status.charAt(0).toUpperCase()+ee[1].status.slice(1).toLowerCase()+"")&&ae(Qt,Ot),ee[1].env||ee[1].labels?Ae?(Ae.p(ee,de),de&2&&N(Ae,1)):(Ae=cs(ee),Ae.c(),N(Ae,1),Ae.m(bt.parentNode,bt)):Ae&&(pe(),V(Ae,1,1,()=>{Ae=null}),me())},i(ee){We||(N(r.$$.fragment,ee),N(Ee),N(E.$$.fragment,ee),N(z.$$.fragment,ee),N(F.$$.fragment,ee),N(Le),N(Re),N(De),N(Je.$$.fragment,ee),N(Ae),We=!0)},o(ee){V(r.$$.fragment,ee),V(Ee),V(E.$$.fragment,ee),V(z.$$.fragment,ee),V(F.$$.fragment,ee),V(Le),V(Re),V(De),V(Je.$$.fragment,ee),V(Ae),We=!1},d(ee){ee&&(U(e),U(M),U(I),U(fe),U(te),U(be),U(ye),U(Se),U(ei),U(bt)),re(r),Ee&&Ee.d(),re(E),re(z),Ie&&Ie.d(),Ve.d(),re(F),Le&&Le.d(ee),Re&&Re.d(ee),De&&De.d(ee),re(Je),Ke.d(),qe.d(),Ae&&Ae.d(ee)}}}function fo(o){let e;return{c(){e=x("div"),e.innerHTML='<strong>Loading...</strong> <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div>',D(e,"class","d-flex align-items-center")},m(t,r){j(t,e,r)},p:ce,i:ce,o:ce,d(t){t&&U(e)}}}function Xi(o){let e,t,r,d;const m=[_o,uo],_=[];function i(n,l){return n[1].status==="running"?0:!n[3]||n[3]==="start"?1:-1}return~(t=i(o))&&(r=_[t]=m[t](o)),{c(){e=x("div"),r&&r.c(),D(e,"class","ms-4")},m(n,l){j(n,e,l),~t&&_[t].m(e,null),d=!0},p(n,l){let u=t;t=i(n),t===u?~t&&_[t].p(n,l):(r&&(pe(),V(_[u],1,1,()=>{_[u]=null}),me()),~t?(r=_[t],r?r.p(n,l):(r=_[t]=m[t](n),r.c()),N(r,1),r.m(e,null)):r=null)},i(n){d||(N(r),d=!0)},o(n){V(r),d=!1},d(n){n&&U(e),~t&&_[t].d()}}}function uo(o){let e,t,r,d,m,_,i,n;const l=[mo,po],u=[];function c(p,S){return p[3]?1:0}return t=c(o),r=u[t]=l[t](o),{c(){e=x("button"),r.c(),d=Q(`
                  Start`),D(e,"type","button"),D(e,"class","btn btn-outline-success"),e.disabled=m=!!o[3]},m(p,S){j(p,e,S),u[t].m(e,null),A(e,d),_=!0,i||(n=_e(e,"click",o[12]),i=!0)},p(p,S){let w=t;t=c(p),t!==w&&(pe(),V(u[w],1,1,()=>{u[w]=null}),me(),r=u[t],r||(r=u[t]=l[t](p),r.c()),N(r,1),r.m(e,d)),(!_||S&8&&m!==(m=!!p[3]))&&(e.disabled=m)},i(p){_||(N(r),_=!0)},o(p){V(r),_=!1},d(p){p&&U(e),u[t].d(),i=!1,n()}}}function _o(o){let e,t,r,d=(!o[3]||o[3]==="restart")&&Zi(o),m=(!o[3]||o[3]==="stop")&&Yi(o);return{c(){d&&d.c(),e=q(),m&&m.c(),t=Xe()},m(_,i){d&&d.m(_,i),j(_,e,i),m&&m.m(_,i),j(_,t,i),r=!0},p(_,i){!_[3]||_[3]==="restart"?d?(d.p(_,i),i&8&&N(d,1)):(d=Zi(_),d.c(),N(d,1),d.m(e.parentNode,e)):d&&(pe(),V(d,1,1,()=>{d=null}),me()),!_[3]||_[3]==="stop"?m?(m.p(_,i),i&8&&N(m,1)):(m=Yi(_),m.c(),N(m,1),m.m(t.parentNode,t)):m&&(pe(),V(m,1,1,()=>{m=null}),me())},i(_){r||(N(d),N(m),r=!0)},o(_){V(d),V(m),r=!1},d(_){_&&(U(e),U(t)),d&&d.d(_),m&&m.d(_)}}}function po(o){let e;return{c(){e=x("span"),D(e,"class","spinner-grow spinner-grow-sm"),D(e,"role","status"),D(e,"aria-hidden","true")},m(t,r){j(t,e,r)},i:ce,o:ce,d(t){t&&U(e)}}}function mo(o){let e,t;return e=new ue({props:{icon:Pn}}),{c(){ne(e.$$.fragment)},m(r,d){se(e,r,d),t=!0},i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){re(e,r)}}}function Zi(o){let e,t,r,d,m,_,i,n;const l=[go,vo],u=[];function c(p,S){return p[3]?1:0}return t=c(o),r=u[t]=l[t](o),{c(){e=x("button"),r.c(),d=Q(`
                    Restart`),D(e,"type","button"),D(e,"class","btn btn-outline-warning"),e.disabled=m=!!o[3]},m(p,S){j(p,e,S),u[t].m(e,null),A(e,d),_=!0,i||(n=_e(e,"click",o[10]),i=!0)},p(p,S){let w=t;t=c(p),t!==w&&(pe(),V(u[w],1,1,()=>{u[w]=null}),me(),r=u[t],r||(r=u[t]=l[t](p),r.c()),N(r,1),r.m(e,d)),(!_||S&8&&m!==(m=!!p[3]))&&(e.disabled=m)},i(p){_||(N(r),_=!0)},o(p){V(r),_=!1},d(p){p&&U(e),u[t].d(),i=!1,n()}}}function vo(o){let e;return{c(){e=x("span"),D(e,"class","spinner-grow spinner-grow-sm"),D(e,"role","status"),D(e,"aria-hidden","true")},m(t,r){j(t,e,r)},i:ce,o:ce,d(t){t&&U(e)}}}function go(o){let e,t;return e=new ue({props:{icon:gr}}),{c(){ne(e.$$.fragment)},m(r,d){se(e,r,d),t=!0},i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){re(e,r)}}}function Yi(o){let e,t,r,d,m,_,i,n;const l=[So,bo],u=[];function c(p,S){return p[3]?1:0}return t=c(o),r=u[t]=l[t](o),{c(){e=x("button"),r.c(),d=Q(`
                    Stop`),D(e,"type","button"),D(e,"class","btn btn-outline-danger"),e.disabled=m=!!o[3]},m(p,S){j(p,e,S),u[t].m(e,null),A(e,d),_=!0,i||(n=_e(e,"click",o[11]),i=!0)},p(p,S){let w=t;t=c(p),t!==w&&(pe(),V(u[w],1,1,()=>{u[w]=null}),me(),r=u[t],r||(r=u[t]=l[t](p),r.c()),N(r,1),r.m(e,d)),(!_||S&8&&m!==(m=!!p[3]))&&(e.disabled=m)},i(p){_||(N(r),_=!0)},o(p){V(r),_=!1},d(p){p&&U(e),u[t].d(),i=!1,n()}}}function bo(o){let e;return{c(){e=x("span"),D(e,"class","spinner-grow spinner-grow-sm"),D(e,"role","status"),D(e,"aria-hidden","true")},m(t,r){j(t,e,r)},i:ce,o:ce,d(t){t&&U(e)}}}function So(o){let e,t;return e=new ue({props:{icon:xn}}),{c(){ne(e.$$.fragment)},m(r,d){se(e,r,d),t=!0},i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){re(e,r)}}}function Ji(o){let e,t=o[1].image.hash.substring(0,19)+"",r;return{c(){e=x("span"),r=Q(t),D(e,"class","text-muted font-monospace")},m(d,m){j(d,e,m),A(e,r)},p(d,m){m&2&&t!==(t=d[1].image.hash.substring(0,12+7)+"")&&ae(r,t)},d(d){d&&U(e)}}}function Co(o){let e;return{c(){e=Q(o[5])},m(t,r){j(t,e,r)},p(t,r){r&32&&ae(e,t[5])},d(t){t&&U(e)}}}function wo(o){let e,t,r;return{c(){e=x("a"),t=Q(o[5]),D(e,"href",r="https://hub.docker.com/r/"+o[5]),D(e,"target","_blank"),D(e,"rel","noopener noreferrer"),D(e,"class","text-decoration-none")},m(d,m){j(d,e,m),A(e,t)},p(d,m){m&32&&ae(t,d[5]),m&32&&r!==(r="https://hub.docker.com/r/"+d[5])&&D(e,"href",r)},d(d){d&&U(e)}}}function yo(o){let e,t,r;return{c(){e=x("a"),t=Q(o[5]),D(e,"href",r="https://hub.docker.com/_/"+o[5]),D(e,"target","_blank"),D(e,"rel","noopener noreferrer"),D(e,"class","text-decoration-none")},m(d,m){j(d,e,m),A(e,t)},p(d,m){m&32&&ae(t,d[5]),m&32&&r!==(r="https://hub.docker.com/_/"+d[5])&&D(e,"href",r)},d(d){d&&U(e)}}}function Qi(o){let e,t,r,d,m,_,i,n,l,u=Lt(o[1].cpu.perc)+"",c,p,S;return r=new ue({props:{icon:mr,size:"2x"}}),{c(){e=x("div"),t=x("div"),ne(r.$$.fragment),d=q(),m=x("div"),_=x("div"),_.textContent="Processor",i=q(),n=x("div"),l=x("div"),c=Q(u),p=Q("%"),D(t,"class","icon-left ms-1 me-3 svelte-n9m8lc"),D(_,"class","mb-1"),D(l,"class","progress-bar text-white overflow-visible ps-1"),ge(l,"width",o[1].cpu.perc+"%"),D(n,"class","progress"),D(m,"class","flex-grow-1"),D(e,"class","d-flex mb-3")},m(w,v){j(w,e,v),A(e,t),se(r,t,null),A(e,d),A(e,m),A(m,_),A(m,i),A(m,n),A(n,l),A(l,c),A(l,p),S=!0},p(w,v){(!S||v&2)&&u!==(u=Lt(w[1].cpu.perc)+"")&&ae(c,u),(!S||v&2)&&ge(l,"width",w[1].cpu.perc+"%")},i(w){S||(N(r.$$.fragment,w),S=!0)},o(w){V(r.$$.fragment,w),S=!1},d(w){w&&U(e),re(r)}}}function es(o){let e,t,r,d,m,_,i,n,l,u,c,p;r=new ue({props:{icon:_r,size:"2x"}});let S=o[1].mem.used!==null&&ts(o),w=o[1].mem.max_used!==null&&is(o),v=o[1].mem.total!==null&&ss(o),s=o[1].mem.used!==null&&o[1].mem.total!==null&&rs(o);return{c(){e=x("div"),t=x("div"),ne(r.$$.fragment),d=q(),m=x("div"),_=x("div"),i=x("span"),i.textContent="Memory",n=q(),S&&S.c(),l=q(),w&&w.c(),u=q(),v&&v.c(),c=q(),s&&s.c(),D(t,"class","icon-left ms-1 me-3 svelte-n9m8lc"),D(i,"class","me-2"),D(_,"class","mb-1"),D(m,"class","flex-grow-1"),D(e,"class","d-flex mb-3")},m(f,h){j(f,e,h),A(e,t),se(r,t,null),A(e,d),A(e,m),A(m,_),A(_,i),A(_,n),S&&S.m(_,null),A(_,l),w&&w.m(_,null),A(_,u),v&&v.m(_,null),A(m,c),s&&s.m(m,null),p=!0},p(f,h){f[1].mem.used!==null?S?S.p(f,h):(S=ts(f),S.c(),S.m(_,l)):S&&(S.d(1),S=null),f[1].mem.max_used!==null?w?w.p(f,h):(w=is(f),w.c(),w.m(_,u)):w&&(w.d(1),w=null),f[1].mem.total!==null?v?v.p(f,h):(v=ss(f),v.c(),v.m(_,null)):v&&(v.d(1),v=null),f[1].mem.used!==null&&f[1].mem.total!==null?s?s.p(f,h):(s=rs(f),s.c(),s.m(m,null)):s&&(s.d(1),s=null)},i(f){p||(N(r.$$.fragment,f),p=!0)},o(f){V(r.$$.fragment,f),p=!1},d(f){f&&U(e),re(r),S&&S.d(),w&&w.d(),v&&v.d(),s&&s.d()}}}function ts(o){let e,t,r=$e(o[1].mem.used)+"",d;return{c(){e=x("span"),t=Q("Now "),d=Q(r),D(e,"class","badge rounded-pill bg-primary ms-2")},m(m,_){j(m,e,_),A(e,t),A(e,d)},p(m,_){_&2&&r!==(r=$e(m[1].mem.used)+"")&&ae(d,r)},d(m){m&&U(e)}}}function is(o){let e,t,r=$e(o[1].mem.max_used)+"",d;return{c(){e=x("span"),t=Q("Max "),d=Q(r),D(e,"class","badge rounded-pill bg-warning ms-2")},m(m,_){j(m,e,_),A(e,t),A(e,d)},p(m,_){_&2&&r!==(r=$e(m[1].mem.max_used)+"")&&ae(d,r)},d(m){m&&U(e)}}}function ss(o){let e,t,r=$e(o[1].mem.total)+"",d;return{c(){e=x("span"),t=Q("Limit "),d=Q(r),D(e,"class","badge rounded-pill bg-info ms-2")},m(m,_){j(m,e,_),A(e,t),A(e,d)},p(m,_){_&2&&r!==(r=$e(m[1].mem.total)+"")&&ae(d,r)},d(m){m&&U(e)}}}function rs(o){let e,t,r=Lt(o[7])+"",d,m,_,i=o[1].mem.max_used!==null&&ns(o);return{c(){e=x("div"),t=x("div"),d=Q(r),m=Q("%"),_=q(),i&&i.c(),D(t,"class","progress-bar text-white overflow-visible ps-1"),ge(t,"width",o[7]+"%"),ge(t,"z-index","2"),D(e,"class","progress")},m(n,l){j(n,e,l),A(e,t),A(t,d),A(t,m),A(e,_),i&&i.m(e,null)},p(n,l){l&128&&r!==(r=Lt(n[7])+"")&&ae(d,r),l&128&&ge(t,"width",n[7]+"%"),n[1].mem.max_used!==null?i?i.p(n,l):(i=ns(n),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(n){n&&U(e),i&&i.d()}}}function ns(o){let e;return{c(){e=x("div"),D(e,"class","progress-bar progress-bar-striped bg-warning"),ge(e,"width",o[6]-o[7]+"%")},m(t,r){j(t,e,r)},p(t,r){r&192&&ge(e,"width",t[6]-t[7]+"%")},d(t){t&&U(e)}}}function os(o){var b;let e,t,r,d,m,_,i,n,l,u=$e(o[1].net.rx_bytes)+"",c,p,S,w,v=$e(o[1].net.tx_bytes)+"",s,f,h;r=new ue({props:{icon:An,size:"2x"}});let a=((b=o[1].ports)==null?void 0:b.length)>0&&ls(o);return{c(){e=x("div"),t=x("div"),ne(r.$$.fragment),d=q(),m=x("div"),_=x("div"),_.textContent="Network",i=q(),n=x("span"),l=Q("▼ "),c=Q(u),p=q(),S=x("span"),w=Q("▲ "),s=Q(v),f=q(),a&&a.c(),D(t,"class","icon-left ms-1 me-3 svelte-n9m8lc"),D(_,"class","mb-1"),D(n,"title","Received Traffic"),D(n,"class","me-3"),D(S,"title","Sent Traffic"),D(m,"class","me-5"),D(e,"class","d-flex mb-3")},m(g,y){j(g,e,y),A(e,t),se(r,t,null),A(e,d),A(e,m),A(m,_),A(m,i),A(m,n),A(n,l),A(n,c),A(m,p),A(m,S),A(S,w),A(S,s),A(e,f),a&&a.m(e,null),h=!0},p(g,y){var E;(!h||y&2)&&u!==(u=$e(g[1].net.rx_bytes)+"")&&ae(c,u),(!h||y&2)&&v!==(v=$e(g[1].net.tx_bytes)+"")&&ae(s,v),((E=g[1].ports)==null?void 0:E.length)>0?a?a.p(g,y):(a=ls(g),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(g){h||(N(r.$$.fragment,g),h=!0)},o(g){V(r.$$.fragment,g),h=!1},d(g){g&&U(e),re(r),a&&a.d()}}}function ls(o){let e,t,r,d=we(o[1].ports),m=[];for(let _=0;_<d.length;_+=1)m[_]=as(Gi(o,d,_));return{c(){e=x("div"),t=x("div"),t.textContent="Ports",r=q();for(let _=0;_<m.length;_+=1)m[_].c();D(t,"class","mb-1"),D(e,"class","flex-grow-1")},m(_,i){j(_,e,i),A(e,t),A(e,r);for(let n=0;n<m.length;n+=1)m[n]&&m[n].m(e,null)},p(_,i){if(i&2){d=we(_[1].ports);let n;for(n=0;n<d.length;n+=1){const l=Gi(_,d,n);m[n]?m[n].p(l,i):(m[n]=as(l),m[n].c(),m[n].m(e,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=d.length}},d(_){_&&U(e),Fe(m,_)}}}function as(o){let e,t=o[21]+"",r;return{c(){e=x("span"),r=Q(t),D(e,"class","badge bg-dark me-2")},m(d,m){j(d,e,m),A(e,r)},p(d,m){m&2&&t!==(t=d[21]+"")&&ae(r,t)},d(d){d&&U(e)}}}function ko(o){let e,t,r=Ge(o[1].started_at)+"",d;return{c(){e=x("div"),e.textContent="Started",t=q(),d=Q(r),D(e,"class","fw-bold")},m(m,_){j(m,e,_),j(m,t,_),j(m,d,_)},p(m,_){_&2&&r!==(r=Ge(m[1].started_at)+"")&&ae(d,r)},d(m){m&&(U(e),U(t),U(d))}}}function Eo(o){let e,t,r;function d(i,n){return i[1].finished_at<i[1].created_at?Ro:Lo}let m=d(o),_=m(o);return{c(){e=x("div"),e.textContent="Stopped",t=q(),_.c(),r=Xe(),D(e,"class","fw-bold")},m(i,n){j(i,e,n),j(i,t,n),_.m(i,n),j(i,r,n)},p(i,n){m===(m=d(i))&&_?_.p(i,n):(_.d(1),_=m(i),_&&(_.c(),_.m(r.parentNode,r)))},d(i){i&&(U(e),U(t),U(r)),_.d(i)}}}function Lo(o){let e=Ge(o[1].finished_at)+"",t;return{c(){t=Q(e)},m(r,d){j(r,t,d)},p(r,d){d&2&&e!==(e=Ge(r[1].finished_at)+"")&&ae(t,e)},d(r){r&&U(t)}}}function Ro(o){let e;return{c(){e=Q("Never")},m(t,r){j(t,e,r)},p:ce,d(t){t&&U(e)}}}function Do(o){let e,t,r=Ge(o[1].started_at)+"",d;return{c(){e=x("div"),e.textContent="Started",t=q(),d=Q(r),D(e,"class","fw-bold")},m(m,_){j(m,e,_),j(m,t,_),j(m,d,_)},p(m,_){_&2&&r!==(r=Ge(m[1].started_at)+"")&&ae(d,r)},d(m){m&&(U(e),U(t),U(d))}}}function Ao(o){let e,t,r=Ge(o[1].finished_at)+"",d;return{c(){e=x("div"),e.textContent="Stopped",t=q(),d=Q(r),D(e,"class","fw-bold")},m(m,_){j(m,e,_),j(m,t,_),j(m,d,_)},p(m,_){_&2&&r!==(r=Ge(m[1].finished_at)+"")&&ae(d,r)},d(m){m&&(U(e),U(t),U(d))}}}function cs(o){let e,t,r,d,m,_,i,n,l,u,c,p,S,w,v,s,f;r=new ue({props:{icon:Cn,size:"2x"}});let h=we(Object.entries(o[1].env).sort(fs)),a=[];for(let y=0;y<h.length;y+=1)a[y]=hs(qi(o,h,y));let b=we(Object.entries(o[1].labels).sort(us)),g=[];for(let y=0;y<b.length;y+=1)g[y]=ds(Ki(o,b,y));return{c(){e=x("div"),t=x("div"),ne(r.$$.fragment),d=q(),m=x("div"),_=x("div"),i=x("table"),n=x("thead"),n.innerHTML='<tr><th scope="col" colspan="2" style="font-weight: normal">Environment Variables</th></tr>',l=q(),u=x("tbody");for(let y=0;y<a.length;y+=1)a[y].c();c=q(),p=x("div"),S=x("table"),w=x("thead"),w.innerHTML='<tr><th scope="col" colspan="2" style="font-weight: normal">Labels</th></tr>',v=q(),s=x("tbody");for(let y=0;y<g.length;y+=1)g[y].c();D(t,"class","icon-left ms-1 me-3 svelte-n9m8lc"),D(i,"class","table table-striped border"),D(S,"class","table table-striped border"),D(m,"class","flex-grow-1 d-lg-flex"),ge(m,"font-size","small"),D(e,"class","d-flex mb-3")},m(y,E){j(y,e,E),A(e,t),se(r,t,null),A(e,d),A(e,m),A(m,_),A(_,i),A(i,n),A(i,l),A(i,u);for(let C=0;C<a.length;C+=1)a[C]&&a[C].m(u,null);A(m,c),A(m,p),A(p,S),A(S,w),A(S,v),A(S,s);for(let C=0;C<g.length;C+=1)g[C]&&g[C].m(s,null);f=!0},p(y,E){if(E&2){h=we(Object.entries(y[1].env).sort(fs));let C;for(C=0;C<h.length;C+=1){const k=qi(y,h,C);a[C]?a[C].p(k,E):(a[C]=hs(k),a[C].c(),a[C].m(u,null))}for(;C<a.length;C+=1)a[C].d(1);a.length=h.length}if(E&2){b=we(Object.entries(y[1].labels).sort(us));let C;for(C=0;C<b.length;C+=1){const k=Ki(y,b,C);g[C]?g[C].p(k,E):(g[C]=ds(k),g[C].c(),g[C].m(s,null))}for(;C<g.length;C+=1)g[C].d(1);g.length=b.length}},i(y){f||(N(r.$$.fragment,y),f=!0)},o(y){V(r.$$.fragment,y),f=!1},d(y){y&&U(e),re(r),Fe(a,y),Fe(g,y)}}}function hs(o){let e,t,r=o[15]+"",d,m,_,i=o[16]+"",n,l;return{c(){e=x("tr"),t=x("td"),d=Q(r),m=q(),_=x("td"),n=Q(i),l=q(),D(t,"class","text-end border-end text-break"),D(_,"class","text-break")},m(u,c){j(u,e,c),A(e,t),A(t,d),A(e,m),A(e,_),A(_,n),A(e,l)},p(u,c){c&2&&r!==(r=u[15]+"")&&ae(d,r),c&2&&i!==(i=u[16]+"")&&ae(n,i)},d(u){u&&U(e)}}}function ds(o){let e,t,r=o[15]+"",d,m,_,i=o[16]+"",n,l;return{c(){e=x("tr"),t=x("td"),d=Q(r),m=q(),_=x("td"),n=Q(i),l=q(),D(t,"class","text-end border-end text-break"),D(_,"class","text-break")},m(u,c){j(u,e,c),A(e,t),A(t,d),A(e,m),A(e,_),A(_,n),A(e,l)},p(u,c){c&2&&r!==(r=u[15]+"")&&ae(d,r),c&2&&i!==(i=u[16]+"")&&ae(n,i)},d(u){u&&U(e)}}}function To(o){let e,t,r,d;const m=[fo,ho],_=[];function i(n,l){return n[2]?0:1}return t=i(o),r=_[t]=m[t](o),{c(){e=x("div"),r.c()},m(n,l){j(n,e,l),_[t].m(e,null),d=!0},p(n,[l]){let u=t;t=i(n),t===u?_[t].p(n,l):(pe(),V(_[u],1,1,()=>{_[u]=null}),me(),r=_[t],r?r.p(n,l):(r=_[t]=m[t](n),r.c()),N(r,1),r.m(e,null))},i(n){d||(N(r),d=!0)},o(n){V(r),d=!1},d(n){n&&U(e),_[t].d()}}}const fs=([o],[e])=>o.localeCompare(e),us=([o],[e])=>o.localeCompare(e);function Bo(o,e,t){let r,d,m,_,{enable_actions:i}=e,{container_id:n}=e,l,u,c=!0,p=null,S;Rt(()=>{n!==l&&(l=n,t(2,c=!0),t(3,p=null),n&&le.send("get_container_info",{container_id:n}))}),Ue(()=>{window.scrollTo({top:0,behavior:"smooth"}),le.register("get_container_info",h=>{h.id===n&&(t(1,S=h),t(2,c=!1))},h=>Ce.add({text:h,type:"error"})),le.register("set_container_state",()=>{t(3,p=null)},h=>Ce.add({text:h,type:"error"})),u=setInterval(()=>{le.send("get_container_info",{container_id:n})},3e3)}),et(()=>{clearInterval(u),le.unregister("get_container_info"),le.unregister("set_container_state")});function w(h){switch(le.send("set_container_state",{container_id:n,action:h}),t(3,p=h),h){case"start":Ce.add({text:"Starting container ...",type:"success"});break;case"restart":Ce.add({text:"Restarting container ...",type:"info"});break;case"stop":Ce.add({text:"Stopping container ...",type:"info"});break}}const v=()=>w("restart"),s=()=>w("stop"),f=()=>w("start");return o.$$set=h=>{"enable_actions"in h&&t(0,i=h.enable_actions),"container_id"in h&&t(9,n=h.container_id)},o.$$.update=()=>{var h,a,b,g;o.$$.dirty&2&&t(7,r=((h=S==null?void 0:S.mem)==null?void 0:h.used)*100/((a=S==null?void 0:S.mem)==null?void 0:a.total)),o.$$.dirty&2&&t(6,d=((b=S==null?void 0:S.mem)==null?void 0:b.max_used)*100/((g=S==null?void 0:S.mem)==null?void 0:g.total)),o.$$.dirty&2&&t(5,m=S!=null&&S.image.name.includes(":")?S==null?void 0:S.image.name.slice(0,S==null?void 0:S.image.name.lastIndexOf(":")):S==null?void 0:S.image.name),o.$$.dirty&2&&t(4,_=S!=null&&S.image.name.includes(":")?S==null?void 0:S.image.name.split(":").pop():"latest")},[i,S,c,p,_,m,d,r,w,n,v,s,f]}class Mo extends Oe{constructor(e){super(),xe(this,e,Bo,To,Be,{enable_actions:0,container_id:9})}}function xo({onlyFirst:o=!1}={}){const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,o?void 0:"g")}const Oo=xo();function Io(o){if(typeof o!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof o}\``);return o.replace(Oo,"")}function _s(o,e,t){const r=o.slice();r[13]=e[t];const d=r[13].substring(0,r[13].indexOf(" "));r[14]=d;const m=r[13].substring(r[13].indexOf(" ")+1);return r[15]=m,r}function Po(o){let e,t,r,d,m,_,i,n,l,u,c,p,S,w,v,s,f,h,a,b,g,y,E,C;u=new ue({props:{icon:gn,size:"lg",color:"#666"}}),S=new ue({props:{icon:fn,size:"lg",color:"#666"}}),s=new ue({props:{icon:Tn,size:"lg",color:"#666"}}),a=new ue({props:{icon:pr,size:"lg",color:"#666"}});let k=we(o[2]),R=[];for(let T=0;T<k.length;T+=1)R[T]=ms(_s(o,k,T));return{c(){e=x("div"),t=x("div"),r=x("select"),d=x("option"),d.textContent="hide timestamps",m=x("option"),m.textContent="local timestamps",_=x("option"),_.textContent="raw timestamps",i=q(),n=x("div"),l=x("button"),ne(u.$$.fragment),c=q(),p=x("button"),ne(S.$$.fragment),w=q(),v=x("button"),ne(s.$$.fragment),f=q(),h=x("button"),ne(a.$$.fragment),b=q(),g=x("pre");for(let T=0;T<R.length;T+=1)R[T].c();d.__value="off",je(d,d.__value),m.__value="local",je(m,m.__value),_.__value="raw",je(_,_.__value),D(r,"class","form-select"),o[3]===void 0&&Te(()=>o[7].call(r)),D(l,"type","button"),D(l,"class","btn mx-1"),D(l,"title","Scroll to Top"),D(p,"type","button"),D(p,"class","btn mx-1"),D(p,"title","Scroll to Bottom"),D(v,"type","button"),D(v,"class","btn mx-1"),D(v,"title","Download shown log lines"),D(h,"type","button"),D(h,"class","btn mx-1"),D(h,"title","Fullscreen"),D(e,"class","d-flex justify-content-between align-items-center mb-2"),D(g,"class","mb-0 svelte-itlo0b")},m(T,M){j(T,e,M),A(e,t),A(t,r),A(r,d),A(r,m),A(r,_),Bi(r,o[3],!0),A(e,i),A(e,n),A(n,l),se(u,l,null),A(n,c),A(n,p),se(S,p,null),A(n,w),A(n,v),se(s,v,null),A(n,f),A(n,h),se(a,h,null),j(T,b,M),j(T,g,M);for(let I=0;I<R.length;I+=1)R[I]&&R[I].m(g,null);o[10](g),y=!0,E||(C=[_e(r,"change",o[7]),_e(l,"click",o[8]),_e(p,"click",o[9]),_e(v,"click",o[5]),_e(h,"click",o[4])],E=!0)},p(T,M){if(M&8&&Bi(r,T[3]),M&12){k=we(T[2]);let I;for(I=0;I<k.length;I+=1){const K=_s(T,k,I);R[I]?R[I].p(K,M):(R[I]=ms(K),R[I].c(),R[I].m(g,null))}for(;I<R.length;I+=1)R[I].d(1);R.length=k.length}},i(T){y||(N(u.$$.fragment,T),N(S.$$.fragment,T),N(s.$$.fragment,T),N(a.$$.fragment,T),y=!0)},o(T){V(u.$$.fragment,T),V(S.$$.fragment,T),V(s.$$.fragment,T),V(a.$$.fragment,T),y=!1},d(T){T&&(U(e),U(b),U(g)),re(u),re(S),re(s),re(a),Fe(R,T),o[10](null),E=!1,Ne(C)}}}function Ho(o){let e;return{c(){e=x("p"),e.textContent="No Log Output yet ..."},m(t,r){j(t,e,r)},p:ce,i:ce,o:ce,d(t){t&&U(e)}}}function $o(o){let e;return{c(){e=x("div"),e.innerHTML='<strong>Loading...</strong> <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div>',D(e,"class","d-flex align-items-center")},m(t,r){j(t,e,r)},p:ce,i:ce,o:ce,d(t){t&&U(e)}}}function ps(o){let e,t;function r(_,i){return _[3]==="local"?zo:Fo}let d=r(o),m=d(o);return{c(){e=x("time"),m.c(),D(e,"datetime",t=o[14]),D(e,"class","me-1 px-1 svelte-itlo0b")},m(_,i){j(_,e,i),m.m(e,null)},p(_,i){d===(d=r(_))&&m?m.p(_,i):(m.d(1),m=d(_),m&&(m.c(),m.m(e,null))),i&4&&t!==(t=_[14])&&D(e,"datetime",t)},d(_){_&&U(e),m.d()}}}function Fo(o){let e=o[14]+"",t;return{c(){t=Q(e)},m(r,d){j(r,t,d)},p(r,d){d&4&&e!==(e=r[14]+"")&&ae(t,e)},d(r){r&&U(t)}}}function zo(o){let e=vs(o[14])+"",t;return{c(){t=Q(e)},m(r,d){j(r,t,d)},p(r,d){d&4&&e!==(e=vs(r[14])+"")&&ae(t,e)},d(r){r&&U(t)}}}function ms(o){let e,t,r=o[15]+"",d,m=o[3]!=="off"&&ps(o);return{c(){e=x("span"),m&&m.c(),t=x("span"),d=Q(r),D(t,"class","pe-3"),D(e,"class","pe-3 svelte-itlo0b")},m(_,i){j(_,e,i),m&&m.m(e,null),A(e,t),A(t,d)},p(_,i){_[3]!=="off"?m?m.p(_,i):(m=ps(_),m.c(),m.m(e,t)):m&&(m.d(1),m=null),i&4&&r!==(r=_[15]+"")&&ae(d,r)},d(_){_&&U(e),m&&m.d()}}}function No(o){let e,t,r,d;const m=[$o,Ho,Po],_=[];function i(n,l){return n[1]?0:n[2].length===0?1:2}return t=i(o),r=_[t]=m[t](o),{c(){e=x("div"),r.c()},m(n,l){j(n,e,l),_[t].m(e,null),d=!0},p(n,[l]){let u=t;t=i(n),t===u?_[t].p(n,l):(pe(),V(_[u],1,1,()=>{_[u]=null}),me(),r=_[t],r?r.p(n,l):(r=_[t]=m[t](n),r.c()),N(r,1),r.m(e,null))},i(n){d||(N(r),d=!0)},o(n){V(r),d=!1},d(n){n&&U(e),_[t].d()}}}function vs(o){return new Date(o).toLocaleDateString(void 0,{weekday:"short",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function Uo(o,e,t){let{container_id:r}=e,d,m,_,i=!0,n=[],l="local";Rt(()=>{r!==d&&(d=r,t(1,i=!0),t(2,n=[]),r&&le.send("get_container_logs",{container_id:r}))}),Ue(()=>{le.register("get_container_logs",s=>{if(t(1,i=!1),(s==null?void 0:s.length)>0){let f=!n||m&&m.scrollTop>=m.scrollHeight-m.clientHeight;const h=n.length+s.length;h>5e3&&n.slice(h-5e3),n.push(...s.map(a=>Io(a))),f&&cr().then(()=>t(0,m.scrollTop=m.scrollHeight,m))}},s=>Ce.add({text:s,type:"error"})),_=setInterval(()=>{le.send("get_container_logs",{container_id:r,onlynew:!0})},3e3)}),et(()=>{clearInterval(_),le.unregister("get_container_logs")});function u(){m!=null&&m.requestFullscreen&&m.requestFullscreen({navigationUI:"show"})}function c(){Sr(new Blob(n,{type:"text/plain"}),r+".log")}function p(){l=Ir(this),t(3,l)}const S=()=>t(0,m.scrollTop=0,m),w=()=>t(0,m.scrollTop=m.scrollHeight,m);function v(s){tt[s?"unshift":"push"](()=>{m=s,t(0,m)})}return o.$$set=s=>{"container_id"in s&&t(6,r=s.container_id)},[m,i,n,l,u,c,r,p,S,w,v]}class Wo extends Oe{constructor(e){super(),xe(this,e,Uo,No,Be,{container_id:6})}}const jo=o=>({}),gs=o=>({});function Vo(o){let e,t;return e=new ue({props:{icon:Rn}}),{c(){ne(e.$$.fragment)},m(r,d){se(e,r,d),t=!0},p:ce,i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){re(e,r)}}}function Ko(o){let e,t,r,d,m,_;const i=o[2].button,n=Nt(i,o,o[1],gs),l=n||Vo(),u=o[2].default,c=Nt(u,o,o[1],null);return{c(){e=x("div"),t=x("button"),l&&l.c(),d=q(),m=x("ul"),c&&c.c(),D(t,"class",r="btn btn-"+o[0]+" dropdown-toggle svelte-17q1qz7"),D(t,"type","button"),D(m,"class","dropdown-menu svelte-17q1qz7"),D(e,"class","dropdown")},m(p,S){j(p,e,S),A(e,t),l&&l.m(t,null),A(e,d),A(e,m),c&&c.m(m,null),_=!0},p(p,[S]){n&&n.p&&(!_||S&2)&&Wt(n,i,p,p[1],_?Ut(i,p[1],S,jo):jt(p[1]),gs),(!_||S&1&&r!==(r="btn btn-"+p[0]+" dropdown-toggle svelte-17q1qz7"))&&D(t,"class",r),c&&c.p&&(!_||S&2)&&Wt(c,u,p,p[1],_?Ut(u,p[1],S,null):jt(p[1]),null)},i(p){_||(N(l,p),N(c,p),_=!0)},o(p){V(l,p),V(c,p),_=!1},d(p){p&&U(e),l&&l.d(p),c&&c.d(p)}}}function qo(o,e,t){let{$$slots:r={},$$scope:d}=e,{btnClass:m="secondary"}=e;return o.$$set=_=>{"btnClass"in _&&t(0,m=_.btnClass),"$$scope"in _&&t(1,d=_.$$scope)},[m,d,r]}class Cr extends Oe{constructor(e){super(),xe(this,e,qo,Ko,Be,{btnClass:0})}}function Go(o){let e,t,r,d,m;const _=o[2].default,i=Nt(_,o,o[1],null);return{c(){e=x("li"),t=x("button"),i&&i.c(),D(t,"class","dropdown-item"),D(t,"type","button"),he(t,"active",o[0])},m(n,l){j(n,e,l),A(e,t),i&&i.m(t,null),r=!0,d||(m=_e(t,"click",o[3]),d=!0)},p(n,[l]){i&&i.p&&(!r||l&2)&&Wt(i,_,n,n[1],r?Ut(_,n[1],l,null):jt(n[1]),null),(!r||l&1)&&he(t,"active",n[0])},i(n){r||(N(i,n),r=!0)},o(n){V(i,n),r=!1},d(n){n&&U(e),i&&i.d(n),d=!1,m()}}}function Xo(o,e,t){let{$$slots:r={},$$scope:d}=e,{active:m=!1}=e;function _(i){Fr.call(this,o,i)}return o.$$set=i=>{"active"in i&&t(0,m=i.active),"$$scope"in i&&t(1,d=i.$$scope)},[m,d,r,_]}class ci extends Oe{constructor(e){super(),xe(this,e,Xo,Go,Be,{active:0})}}function bs(o,e,t){const r=o.slice();return r[22]=e[t],r}function Ss(o,e,t){const r=o.slice();return r[25]=e[t],r}function Cs(o,e,t){const r=o.slice();return r[28]=e[t],r}function Zo(o){var I,K;let e,t,r,d,m,_,i,n,l,u,c,p,S,w,v,s,f,h,a,b,g;m=new ue({props:{icon:Mn}}),n=new ue({props:{icon:gr}});let y=we(o[7]()),E=[];for(let z=0;z<y.length;z+=1)E[z]=ws(Cs(o,y,z));let C=o[1]&&ys(o),k=((K=(I=o[6])==null?void 0:I.mounts)==null?void 0:K.length)>0&&ks(o),R=we(o[5]||[]),T=[];for(let z=0;z<R.length;z+=1)T[z]=Ds(bs(o,R,z));const M=z=>V(T[z],1,1,()=>{T[z]=null});return{c(){e=x("div"),t=x("div"),r=x("div"),d=x("button"),ne(m.$$.fragment),_=q(),i=x("button"),ne(n.$$.fragment),l=q(),u=x("div");for(let z=0;z<E.length;z+=1)E[z].c();c=q(),p=x("div"),C&&C.c(),S=q(),k&&k.c(),w=q(),v=x("table"),s=x("thead"),s.innerHTML='<tr><th scope="col">Name</th> <th scope="col" class="text-end">Size</th> <th scope="col" class="text-center">Owner</th> <th scope="col" class="text-center">Modified</th> <th scope="col" class="text-center">Permissions</th></tr>',f=q(),h=x("tbody");for(let z=0;z<T.length;z+=1)T[z].c();D(d,"type","button"),D(d,"class","btn btn-outline-primary"),D(i,"type","button"),D(i,"class","btn btn-outline-primary"),D(r,"class","btn-group me-1"),D(u,"class","btn-group mx-2"),D(u,"role","group"),D(t,"class","d-flex"),D(p,"class","d-flex"),D(e,"class","d-flex justify-content-between align-items-center"),D(v,"class","table table-hover")},m(z,G){j(z,e,G),A(e,t),A(t,r),A(r,d),se(m,d,null),A(r,_),A(r,i),se(n,i,null),A(t,l),A(t,u);for(let L=0;L<E.length;L+=1)E[L]&&E[L].m(u,null);A(e,c),A(e,p),C&&C.m(p,null),A(p,S),k&&k.m(p,null),j(z,w,G),j(z,v,G),A(v,s),A(v,f),A(v,h);for(let L=0;L<T.length;L+=1)T[L]&&T[L].m(h,null);a=!0,b||(g=[_e(d,"click",o[14]),_e(i,"click",o[15])],b=!0)},p(z,G){var L,O;if(G[0]&640){y=we(z[7]());let B;for(B=0;B<y.length;B+=1){const H=Cs(z,y,B);E[B]?E[B].p(H,G):(E[B]=ws(H),E[B].c(),E[B].m(u,null))}for(;B<E.length;B+=1)E[B].d(1);E.length=y.length}if(z[1]?C?(C.p(z,G),G[0]&2&&N(C,1)):(C=ys(z),C.c(),N(C,1),C.m(p,S)):C&&(pe(),V(C,1,1,()=>{C=null}),me()),((O=(L=z[6])==null?void 0:L.mounts)==null?void 0:O.length)>0?k?(k.p(z,G),G[0]&64&&N(k,1)):(k=ks(z),k.c(),N(k,1),k.m(p,null)):k&&(pe(),V(k,1,1,()=>{k=null}),me()),G[0]&1313){R=we(z[5]||[]);let B;for(B=0;B<R.length;B+=1){const H=bs(z,R,B);T[B]?(T[B].p(H,G),N(T[B],1)):(T[B]=Ds(H),T[B].c(),N(T[B],1),T[B].m(h,null))}for(pe(),B=R.length;B<T.length;B+=1)M(B);me()}},i(z){if(!a){N(m.$$.fragment,z),N(n.$$.fragment,z),N(C),N(k);for(let G=0;G<R.length;G+=1)N(T[G]);a=!0}},o(z){V(m.$$.fragment,z),V(n.$$.fragment,z),V(C),V(k),T=T.filter(Boolean);for(let G=0;G<T.length;G+=1)V(T[G]);a=!1},d(z){z&&(U(e),U(w),U(v)),re(m),re(n),Fe(E,z),C&&C.d(),k&&k.d(),Fe(T,z),b=!1,Ne(g)}}}function Yo(o){let e;return{c(){e=x("div"),e.innerHTML='<strong>Loading...</strong> <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div>',D(e,"class","d-flex align-items-center")},m(t,r){j(t,e,r)},p:ce,i:ce,o:ce,d(t){t&&U(e)}}}function ws(o){let e,t=(o[28].segment||"/")+"",r,d,m;function _(){return o[16](o[28])}return{c(){e=x("button"),r=Q(t),D(e,"type","button"),D(e,"class","btn btn-secondary border-dark")},m(i,n){j(i,e,n),A(e,r),d||(m=_e(e,"click",_),d=!0)},p(i,n){o=i,n[0]&128&&t!==(t=(o[28].segment||"/")+"")&&ae(r,t)},d(i){i&&U(e),d=!1,m()}}}function ys(o){let e,t,r,d,m,_;return e=new Cr({props:{btnClass:"outline-primary",$$slots:{button:[tl],default:[el]},$$scope:{ctx:o}}}),{c(){ne(e.$$.fragment),t=q(),r=x("input"),D(r,"type","file"),ge(r,"display","none")},m(i,n){se(e,i,n),j(i,t,n),j(i,r,n),o[18](r),d=!0,m||(_=_e(r,"change",o[12]),m=!0)},p(i,n){const l={};n[0]&8|n[1]&1&&(l.$$scope={dirty:n,ctx:i}),e.$set(l)},i(i){d||(N(e.$$.fragment,i),d=!0)},o(i){V(e.$$.fragment,i),d=!1},d(i){i&&(U(t),U(r)),re(e,i),o[18](null),m=!1,_()}}}function Jo(o){let e;return{c(){e=Q("Add Folder")},m(t,r){j(t,e,r)},d(t){t&&U(e)}}}function Qo(o){let e;return{c(){e=Q("Upload File")},m(t,r){j(t,e,r)},d(t){t&&U(e)}}}function el(o){let e,t,r,d;return e=new ci({props:{$$slots:{default:[Jo]},$$scope:{ctx:o}}}),e.$on("click",o[11]),r=new ci({props:{$$slots:{default:[Qo]},$$scope:{ctx:o}}}),r.$on("click",o[17]),{c(){ne(e.$$.fragment),t=q(),ne(r.$$.fragment)},m(m,_){se(e,m,_),j(m,t,_),se(r,m,_),d=!0},p(m,_){const i={};_[1]&1&&(i.$$scope={dirty:_,ctx:m}),e.$set(i);const n={};_[1]&1&&(n.$$scope={dirty:_,ctx:m}),r.$set(n)},i(m){d||(N(e.$$.fragment,m),N(r.$$.fragment,m),d=!0)},o(m){V(e.$$.fragment,m),V(r.$$.fragment,m),d=!1},d(m){m&&U(t),re(e,m),re(r,m)}}}function tl(o){let e,t,r,d;return t=new ue({props:{icon:Hn}}),{c(){e=x("span"),ne(t.$$.fragment),r=Q(" Add"),D(e,"slot","button"),D(e,"class","me-1")},m(m,_){j(m,e,_),se(t,e,null),A(e,r),d=!0},p:ce,i(m){d||(N(t.$$.fragment,m),d=!0)},o(m){V(t.$$.fragment,m),d=!1},d(m){m&&U(e),re(t)}}}function ks(o){let e,t,r;return t=new Cr({props:{$$slots:{button:[rl],default:[sl]},$$scope:{ctx:o}}}),{c(){e=x("div"),ne(t.$$.fragment),D(e,"class","ms-4")},m(d,m){j(d,e,m),se(t,e,null),r=!0},p(d,m){const _={};m[0]&64|m[1]&1&&(_.$$scope={dirty:m,ctx:d}),t.$set(_)},i(d){r||(N(t.$$.fragment,d),r=!0)},o(d){V(t.$$.fragment,d),r=!1},d(d){d&&U(e),re(t)}}}function Es(o){let e;return{c(){e=x("span"),e.textContent="readonly",D(e,"class","badge bg-warning ms-2")},m(t,r){j(t,e,r)},d(t){t&&U(e)}}}function il(o){let e,t,r=o[25].destination+"",d,m,_,i,n,l=o[25].type+"",u,c,p=o[25].readonly&&Es();return{c(){e=x("div"),t=x("span"),d=Q(r),m=q(),_=x("span"),p&&p.c(),i=q(),n=x("span"),u=Q(l),c=q(),D(n,"class","badge bg-secondary ms-2"),D(e,"class","d-flex justify-content-between align-items-center")},m(S,w){j(S,e,w),A(e,t),A(t,d),A(e,m),A(e,_),p&&p.m(_,null),A(_,i),A(_,n),A(n,u),j(S,c,w)},p(S,w){w[0]&64&&r!==(r=S[25].destination+"")&&ae(d,r),S[25].readonly?p||(p=Es(),p.c(),p.m(_,i)):p&&(p.d(1),p=null),w[0]&64&&l!==(l=S[25].type+"")&&ae(u,l)},d(S){S&&(U(e),U(c)),p&&p.d()}}}function Ls(o){let e,t;function r(){return o[19](o[25])}return e=new ci({props:{$$slots:{default:[il]},$$scope:{ctx:o}}}),e.$on("click",r),{c(){ne(e.$$.fragment)},m(d,m){se(e,d,m),t=!0},p(d,m){o=d;const _={};m[0]&64|m[1]&1&&(_.$$scope={dirty:m,ctx:o}),e.$set(_)},i(d){t||(N(e.$$.fragment,d),t=!0)},o(d){V(e.$$.fragment,d),t=!1},d(d){re(e,d)}}}function sl(o){let e,t,r=we(o[6].mounts),d=[];for(let _=0;_<r.length;_+=1)d[_]=Ls(Ss(o,r,_));const m=_=>V(d[_],1,1,()=>{d[_]=null});return{c(){for(let _=0;_<d.length;_+=1)d[_].c();e=Xe()},m(_,i){for(let n=0;n<d.length;n+=1)d[n]&&d[n].m(_,i);j(_,e,i),t=!0},p(_,i){if(i[0]&576){r=we(_[6].mounts);let n;for(n=0;n<r.length;n+=1){const l=Ss(_,r,n);d[n]?(d[n].p(l,i),N(d[n],1)):(d[n]=Ls(l),d[n].c(),N(d[n],1),d[n].m(e.parentNode,e))}for(pe(),n=r.length;n<d.length;n+=1)m(n);me()}},i(_){if(!t){for(let i=0;i<r.length;i+=1)N(d[i]);t=!0}},o(_){d=d.filter(Boolean);for(let i=0;i<d.length;i+=1)V(d[i]);t=!1},d(_){_&&U(e),Fe(d,_)}}}function rl(o){let e,t,r,d;return t=new ue({props:{icon:En}}),{c(){e=x("span"),ne(t.$$.fragment),r=Q(" Volumes"),D(e,"slot","button"),D(e,"class","me-1")},m(m,_){j(m,e,_),se(t,e,null),A(e,r),d=!0},p:ce,i(m){d||(N(t.$$.fragment,m),d=!0)},o(m){V(t.$$.fragment,m),d=!1},d(m){m&&U(e),re(t)}}}function nl(o){let e=o[22].type+"",t;return{c(){t=Q(e)},m(r,d){j(r,t,d)},p(r,d){d[0]&32&&e!==(e=r[22].type+"")&&ae(t,e)},i:ce,o:ce,d(r){r&&U(t)}}}function ol(o){let e,t;return e=new ue({props:{icon:hn,size:"lg",color:"#B36"}}),{c(){ne(e.$$.fragment)},m(r,d){se(e,r,d),t=!0},p:ce,i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){re(e,r)}}}function ll(o){let e,t;return e=new ue({props:{icon:In,size:"lg",color:"#36B"}}),{c(){ne(e.$$.fragment)},m(r,d){se(e,r,d),t=!0},p:ce,i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){re(e,r)}}}function al(o){let e,t;return e=new ue({props:{icon:un,size:"lg",color:"#3B6"}}),{c(){ne(e.$$.fragment)},m(r,d){se(e,r,d),t=!0},p:ce,i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){re(e,r)}}}function Rs(o){let e=o[22].filesize+"",t;return{c(){t=Q(e)},m(r,d){j(r,t,d)},p(r,d){d[0]&32&&e!==(e=r[22].filesize+"")&&ae(t,e)},d(r){r&&U(t)}}}function Ds(o){let e,t,r,d,m,_,i,n=o[22].name+"",l,u,c,p,S,w=o[22].owner+"",v,s,f,h=o[22].group+"",a,b,g,y=o[22].modtime+"",E,C,k,R=o[22].permissions+"",T,M,I,K,z;const G=[al,ll,ol,nl],L=[];function O(W,Y){return W[22].type==="d"?0:W[22].type==="f"?1:W[22].type==="l"?2:3}r=O(o),d=L[r]=G[r](o);let B=o[22].type==="f"&&Rs(o);function H(){return o[20](o[22])}return{c(){e=x("tr"),t=x("td"),d.c(),m=q(),_=x("wbr"),i=q(),l=Q(n),u=q(),c=x("td"),B&&B.c(),p=q(),S=x("td"),v=Q(w),s=q(),f=x("wbr"),a=Q(h),b=q(),g=x("td"),E=Q(y),C=q(),k=x("td"),T=Q(R),M=q(),D(c,"class","text-end"),ge(c,"word-break","break-all"),D(S,"class","text-center"),D(g,"class","text-center"),D(k,"class","text-center font-monospace"),ge(k,"word-break","break-all"),D(e,"class","svelte-1hbb9tz"),he(e,"clickable",o[22].type==="d"||o[0])},m(W,Y){j(W,e,Y),A(e,t),L[r].m(t,null),A(t,m),A(t,_),A(t,i),A(t,l),A(e,u),A(e,c),B&&B.m(c,null),A(e,p),A(e,S),A(S,v),A(S,s),A(S,f),A(S,a),A(e,b),A(e,g),A(g,E),A(e,C),A(e,k),A(k,T),A(e,M),I=!0,K||(z=_e(e,"click",H),K=!0)},p(W,Y){o=W;let oe=r;r=O(o),r===oe?L[r].p(o,Y):(pe(),V(L[oe],1,1,()=>{L[oe]=null}),me(),d=L[r],d?d.p(o,Y):(d=L[r]=G[r](o),d.c()),N(d,1),d.m(t,m)),(!I||Y[0]&32)&&n!==(n=o[22].name+"")&&ae(l,n),o[22].type==="f"?B?B.p(o,Y):(B=Rs(o),B.c(),B.m(c,null)):B&&(B.d(1),B=null),(!I||Y[0]&32)&&w!==(w=o[22].owner+"")&&ae(v,w),(!I||Y[0]&32)&&h!==(h=o[22].group+"")&&ae(a,h),(!I||Y[0]&32)&&y!==(y=o[22].modtime+"")&&ae(E,y),(!I||Y[0]&32)&&R!==(R=o[22].permissions+"")&&ae(T,R),(!I||Y[0]&33)&&he(e,"clickable",o[22].type==="d"||o[0])},i(W){I||(N(d),I=!0)},o(W){V(d),I=!1},d(W){W&&U(e),L[r].d(),B&&B.d(),K=!1,z()}}}function cl(o){let e,t,r,d;const m=[Yo,Zo],_=[];function i(n,l){return n[4]?0:1}return t=i(o),r=_[t]=m[t](o),{c(){e=x("div"),r.c(),ge(e,"overflow-x","auto")},m(n,l){j(n,e,l),_[t].m(e,null),d=!0},p(n,l){let u=t;t=i(n),t===u?_[t].p(n,l):(pe(),V(_[u],1,1,()=>{_[u]=null}),me(),r=_[t],r?r.p(n,l):(r=_[t]=m[t](n),r.c()),N(r,1),r.m(e,null))},i(n){d||(N(r),d=!0)},o(n){V(r),d=!1},d(n){n&&U(e),_[t].d()}}}function hl(o,e,t){let r,{container_id:d}=e,{allow_download:m}=e,{allow_upload:_}=e,i,n=!0,l,u="/",c=null,p=null;Rt(()=>{d!==l&&(l=d,t(4,n=!0),t(2,u="/"),t(5,c=null),t(6,p=null),d&&le.send("get_filesystem_info",{container_id:d}))}),Ue(()=>{le.register("get_filesystem_info",k=>{w(k.workdir),t(6,p=k)},k=>Ce.add({text:k,type:"error"})),le.register("get_directory_list",k=>{window.scrollTo({top:0,behavior:"smooth"}),t(5,c=k.entries),t(2,u=k.path),t(4,n=!1)},k=>{Ce.add({text:k,type:"error"}),t(5,c=null),t(4,n=!1)}),le.register("download_file",k=>{Sr(k.blob,k.payload.path.split("/").pop())},k=>Ce.add({text:k,type:"error"})),le.register("create_folder",()=>{w(u)},k=>Ce.add({text:k,type:"error"})),le.register("upload_file",()=>{w(u)},k=>Ce.add({text:k,type:"error"}))}),et(()=>{le.unregister("get_filesystem_info"),le.unregister("get_directory_list"),le.unregister("create_folder"),le.unregister("upload_file"),le.unregister("download_file")});function S(k){let R=u;R.endsWith("/")||(R+="/"),R+=k,w(R)}function w(k){t(2,u=k),le.send("get_directory_list",{container_id:d,path:k}),t(4,n=!0),t(5,c=null)}function v(k){m&&le.send("download_file",{container_id:d,path:`${u}/${k}`})}function s(){const k=prompt("Folder name:");k&&le.send("create_folder",{container_id:d,path:`${u}/${k}`})}async function f(){const k=T=>new Promise((M,I)=>{const K=new FileReader;K.readAsDataURL(T),K.onload=()=>M(K.result.split(",")[1]),K.onerror=z=>I(z)}),R=i.files[0];confirm(`Upload file "${R.name}"?`)&&le.send("upload_file",{container_id:d,path:`${u}/${R.name}`,content:await k(R)})}const h=()=>w(p.workdir),a=()=>w(u),b=k=>w(k.totalPath),g=()=>i.click();function y(k){tt[k?"unshift":"push"](()=>{i=k,t(3,i)})}const E=k=>w(k.destination),C=k=>k.type==="d"?S(k.name):v(k.name);return o.$$set=k=>{"container_id"in k&&t(13,d=k.container_id),"allow_download"in k&&t(0,m=k.allow_download),"allow_upload"in k&&t(1,_=k.allow_upload)},o.$$.update=()=>{o.$$.dirty[0]&4&&t(7,r=()=>{const k=[],R=u.split("/");let T="";for(const M of R)M&&(T+="/"+M,k.push({segment:M,totalPath:T}));return k.unshift({segment:"/",totalPath:"/"}),k})},[m,_,u,i,n,c,p,r,S,w,v,s,f,d,h,a,b,g,y,E,C]}class dl extends Oe{constructor(e){super(),xe(this,e,hl,cl,Be,{container_id:13,allow_download:0,allow_upload:1},null,[-1,-1])}}function As(o,e,t){const r=o.slice();return r[7]=e[t],r}function Ts(o,e,t){const r=o.slice();return r[10]=e[t],r[12]=t,r}function fl(o){let e,t,r,d,m,_=we(o[1]||[]),i=[];for(let l=0;l<_.length;l+=1)i[l]=Is(As(o,_,l));const n=l=>V(i[l],1,1,()=>{i[l]=null});return{c(){e=x("table"),t=x("thead"),t.innerHTML='<tr><th scope="col" class="text-end" title="Process ID">PID</th> <th scope="col" class="text-end" title="Processor Usage">CPU</th> <th scope="col" class="text-end">Memory</th> <th scope="col" class="text-center">Started At</th> <th scope="col" class="text-center">User</th> <th scope="col" class="text-start">Command</th></tr>',r=q(),d=x("tbody");for(let l=0;l<i.length;l+=1)i[l].c();D(e,"class","table table-striped")},m(l,u){j(l,e,u),A(e,t),A(e,r),A(e,d);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(d,null);m=!0},p(l,u){if(u&2){_=we(l[1]||[]);let c;for(c=0;c<_.length;c+=1){const p=As(l,_,c);i[c]?(i[c].p(p,u),N(i[c],1)):(i[c]=Is(p),i[c].c(),N(i[c],1),i[c].m(d,null))}for(pe(),c=_.length;c<i.length;c+=1)n(c);me()}},i(l){if(!m){for(let u=0;u<_.length;u+=1)N(i[u]);m=!0}},o(l){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)V(i[u]);m=!1},d(l){l&&U(e),Fe(i,l)}}}function ul(o){let e;return{c(){e=x("div"),e.innerHTML='<strong>Loading...</strong> <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div>',D(e,"class","d-flex align-items-center")},m(t,r){j(t,e,r)},p:ce,i:ce,o:ce,d(t){t&&U(e)}}}function Bs(o){let e=o[7]["%cpu"]+"",t,r;return{c(){t=Q(e),r=Q("%")},m(d,m){j(d,t,m),j(d,r,m)},p(d,m){m&2&&e!==(e=d[7]["%cpu"]+"")&&ae(t,e)},d(d){d&&(U(t),U(r))}}}function Ms(o){let e=o[7]["%mem"]+"",t,r;return{c(){t=Q(e),r=Q("%")},m(d,m){j(d,t,m),j(d,r,m)},p(d,m){m&2&&e!==(e=d[7]["%mem"]+"")&&ae(t,e)},d(d){d&&(U(t),U(r))}}}function xs(o){let e,t;return e=new ue({props:{icon:Un,rotate:90}}),{c(){ne(e.$$.fragment)},m(r,d){se(e,r,d),t=!0},i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){re(e,r)}}}function Os(o){let e,t=parseInt(o[7].level)===o[12]+1,r,d=t&&xs();return{c(){e=x("div"),d&&d.c(),ge(e,"width","2rem"),D(e,"class","me-2 d-flex justify-content-end align-items-center")},m(m,_){j(m,e,_),d&&d.m(e,null),r=!0},p(m,_){_&2&&(t=parseInt(m[7].level)===m[12]+1),t?d?_&2&&N(d,1):(d=xs(),d.c(),N(d,1),d.m(e,null)):d&&(pe(),V(d,1,1,()=>{d=null}),me())},i(m){r||(N(d),r=!0)},o(m){V(d),r=!1},d(m){m&&U(e),d&&d.d()}}}function Is(o){let e,t,r=o[7].pid+"",d,m,_,i=Qe(o[7]["%cpu"],null),n,l,u=Qe(o[7]["%mem"],null),c,p,S=Qe(o[7].stime,"")+"",w,v,s,f=Qe(o[7].user,"")+"",h,a,b,g,y,E,C=o[7].command+"",k,R,T,M=i&&Bs(o),I=u&&Ms(o),K=we(Array(o[7].level)),z=[];for(let L=0;L<K.length;L+=1)z[L]=Os(Ts(o,K,L));const G=L=>V(z[L],1,1,()=>{z[L]=null});return{c(){e=x("tr"),t=x("td"),d=Q(r),m=q(),_=x("td"),M&&M.c(),n=q(),l=x("td"),I&&I.c(),c=q(),p=x("td"),w=Q(S),v=q(),s=x("td"),h=Q(f),a=q(),b=x("td"),g=x("div");for(let L=0;L<z.length;L+=1)z[L].c();y=q(),E=x("div"),k=Q(C),R=q(),D(t,"class","text-end"),D(_,"class","text-end"),D(l,"class","text-end"),D(p,"class","text-center"),D(s,"class","text-center"),D(E,"class","font-monospace"),D(g,"class","d-flex"),D(b,"class","text-start")},m(L,O){j(L,e,O),A(e,t),A(t,d),A(e,m),A(e,_),M&&M.m(_,null),A(e,n),A(e,l),I&&I.m(l,null),A(e,c),A(e,p),A(p,w),A(e,v),A(e,s),A(s,h),A(e,a),A(e,b),A(b,g);for(let B=0;B<z.length;B+=1)z[B]&&z[B].m(g,null);A(g,y),A(g,E),A(E,k),A(e,R),T=!0},p(L,O){if((!T||O&2)&&r!==(r=L[7].pid+"")&&ae(d,r),O&2&&(i=Qe(L[7]["%cpu"],null)),i?M?M.p(L,O):(M=Bs(L),M.c(),M.m(_,null)):M&&(M.d(1),M=null),O&2&&(u=Qe(L[7]["%mem"],null)),u?I?I.p(L,O):(I=Ms(L),I.c(),I.m(l,null)):I&&(I.d(1),I=null),(!T||O&2)&&S!==(S=Qe(L[7].stime,"")+"")&&ae(w,S),(!T||O&2)&&f!==(f=Qe(L[7].user,"")+"")&&ae(h,f),O&2){K=we(Array(L[7].level));let B;for(B=0;B<K.length;B+=1){const H=Ts(L,K,B);z[B]?(z[B].p(H,O),N(z[B],1)):(z[B]=Os(H),z[B].c(),N(z[B],1),z[B].m(g,y))}for(pe(),B=K.length;B<z.length;B+=1)G(B);me()}(!T||O&2)&&C!==(C=L[7].command+"")&&ae(k,C)},i(L){if(!T){for(let O=0;O<K.length;O+=1)N(z[O]);T=!0}},o(L){z=z.filter(Boolean);for(let O=0;O<z.length;O+=1)V(z[O]);T=!1},d(L){L&&U(e),M&&M.d(),I&&I.d(),Fe(z,L)}}}function _l(o){let e,t,r,d;const m=[ul,fl],_=[];function i(n,l){return n[0]?0:1}return t=i(o),r=_[t]=m[t](o),{c(){e=x("div"),r.c(),ge(e,"overflow-x","auto")},m(n,l){j(n,e,l),_[t].m(e,null),d=!0},p(n,[l]){let u=t;t=i(n),t===u?_[t].p(n,l):(pe(),V(_[u],1,1,()=>{_[u]=null}),me(),r=_[t],r?r.p(n,l):(r=_[t]=m[t](n),r.c()),N(r,1),r.m(e,null))},i(n){d||(N(r),d=!0)},o(n){V(r),d=!1},d(n){n&&U(e),_[t].d()}}}function Qe(o,e){return o??e}function pl(o,e,t){let{container_id:r}=e,d,m,_=!0,i=null;return Rt(()=>{r!==d&&(d=r,t(0,_=!0),t(1,i=null),r&&le.send("get_processes",{container_id:r}))}),Ue(()=>{le.register("get_processes",n=>{t(1,i=n),t(0,_=!1)},n=>Ce.add({text:n,type:"error"})),m=setInterval(()=>{le.send("get_processes",{container_id:r})},3e3)}),et(()=>{clearInterval(m),le.unregister("get_processes")}),o.$$set=n=>{"container_id"in n&&t(2,r=n.container_id)},[_,i,r]}class ml extends Oe{constructor(e){super(),xe(this,e,pl,_l,Be,{container_id:2})}}var wr={exports:{}};(function(o,e){(function(t,r){o.exports=r()})(self,()=>(()=>{var t={4567:function(_,i,n){var l=this&&this.__decorate||function(a,b,g,y){var E,C=arguments.length,k=C<3?b:y===null?y=Object.getOwnPropertyDescriptor(b,g):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(a,b,g,y);else for(var R=a.length-1;R>=0;R--)(E=a[R])&&(k=(C<3?E(k):C>3?E(b,g,k):E(b,g))||k);return C>3&&k&&Object.defineProperty(b,g,k),k},u=this&&this.__param||function(a,b){return function(g,y){b(g,y,a)}};Object.defineProperty(i,"__esModule",{value:!0}),i.AccessibilityManager=void 0;const c=n(9042),p=n(6114),S=n(9924),w=n(844),v=n(5596),s=n(4725),f=n(3656);let h=class extends w.Disposable{constructor(a,b){super(),this._terminal=a,this._renderService=b,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let g=0;g<this._terminal.rows;g++)this._rowElements[g]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[g]);if(this._topBoundaryFocusListener=g=>this._handleBoundaryFocus(g,0),this._bottomBoundaryFocusListener=g=>this._handleBoundaryFocus(g,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new S.TimeBasedDebouncer(this._announceCharacters.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._liveRegionDebouncer),this.register(this._terminal.onResize(g=>this._handleResize(g.rows))),this.register(this._terminal.onRender(g=>this._refreshRows(g.start,g.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(g=>this._handleChar(g))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(g=>this._handleTab(g))),this.register(this._terminal.onKey(g=>this._handleKey(g.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new v.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,f.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,w.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(a){for(let b=0;b<a;b++)this._handleChar(" ")}_handleChar(a){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==a&&(this._charsToAnnounce+=a):this._charsToAnnounce+=a,a===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=c.tooMuchOutput)),p.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,p.isMac&&this._liveRegion.remove()}_handleKey(a){this._clearLiveRegion(),/\p{Control}/u.test(a)||this._charsToConsume.push(a)}_refreshRows(a,b){this._liveRegionDebouncer.refresh(a,b,this._terminal.rows)}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(a,b){const g=a.target,y=this._rowElements[b===0?1:this._rowElements.length-2];if(g.getAttribute("aria-posinset")===(b===0?"1":`${this._terminal.buffer.lines.length}`)||a.relatedTarget!==y)return;let E,C;if(b===0?(E=g,C=this._rowElements.pop(),this._rowContainer.removeChild(C)):(E=this._rowElements.shift(),C=g,this._rowContainer.removeChild(E)),E.removeEventListener("focus",this._topBoundaryFocusListener),C.removeEventListener("focus",this._bottomBoundaryFocusListener),b===0){const k=this._createAccessibilityTreeNode();this._rowElements.unshift(k),this._rowContainer.insertAdjacentElement("afterbegin",k)}else{const k=this._createAccessibilityTreeNode();this._rowElements.push(k),this._rowContainer.appendChild(k)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(b===0?-1:1),this._rowElements[b===0?1:this._rowElements.length-2].focus(),a.preventDefault(),a.stopImmediatePropagation()}_handleResize(a){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let b=this._rowContainer.children.length;b<this._terminal.rows;b++)this._rowElements[b]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[b]);for(;this._rowElements.length>a;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const a=document.createElement("div");return a.setAttribute("role","listitem"),a.tabIndex=-1,this._refreshRowDimensions(a),a}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let a=0;a<this._terminal.rows;a++)this._refreshRowDimensions(this._rowElements[a])}}_refreshRowDimensions(a){a.style.height=`${this._renderService.dimensions.css.cell.height}px`}};h=l([u(1,s.IRenderService)],h),i.AccessibilityManager=h},3614:(_,i)=>{function n(p){return p.replace(/\r?\n/g,"\r")}function l(p,S){return S?"\x1B[200~"+p+"\x1B[201~":p}function u(p,S,w){p=l(p=n(p),w.decPrivateModes.bracketedPasteMode),w.triggerDataEvent(p,!0),S.value=""}function c(p,S,w){const v=w.getBoundingClientRect(),s=p.clientX-v.left-10,f=p.clientY-v.top-10;S.style.width="20px",S.style.height="20px",S.style.left=`${s}px`,S.style.top=`${f}px`,S.style.zIndex="1000",S.focus()}Object.defineProperty(i,"__esModule",{value:!0}),i.rightClickHandler=i.moveTextAreaUnderMouseCursor=i.paste=i.handlePasteEvent=i.copyHandler=i.bracketTextForPaste=i.prepareTextForTerminal=void 0,i.prepareTextForTerminal=n,i.bracketTextForPaste=l,i.copyHandler=function(p,S){p.clipboardData&&p.clipboardData.setData("text/plain",S.selectionText),p.preventDefault()},i.handlePasteEvent=function(p,S,w){p.stopPropagation(),p.clipboardData&&u(p.clipboardData.getData("text/plain"),S,w)},i.paste=u,i.moveTextAreaUnderMouseCursor=c,i.rightClickHandler=function(p,S,w,v,s){c(p,S,w),s&&v.rightClickSelect(p),S.value=v.selectionText,S.select()}},7239:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorContrastCache=void 0;const l=n(1505);i.ColorContrastCache=class{constructor(){this._color=new l.TwoKeyMap,this._css=new l.TwoKeyMap}setCss(u,c,p){this._css.set(u,c,p)}getCss(u,c){return this._css.get(u,c)}setColor(u,c,p){this._color.set(u,c,p)}getColor(u,c){return this._color.get(u,c)}clear(){this._color.clear(),this._css.clear()}}},3656:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.addDisposableDomListener=void 0,i.addDisposableDomListener=function(n,l,u,c){n.addEventListener(l,u,c);let p=!1;return{dispose:()=>{p||(p=!0,n.removeEventListener(l,u,c))}}}},6465:function(_,i,n){var l=this&&this.__decorate||function(s,f,h,a){var b,g=arguments.length,y=g<3?f:a===null?a=Object.getOwnPropertyDescriptor(f,h):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(s,f,h,a);else for(var E=s.length-1;E>=0;E--)(b=s[E])&&(y=(g<3?b(y):g>3?b(f,h,y):b(f,h))||y);return g>3&&y&&Object.defineProperty(f,h,y),y},u=this&&this.__param||function(s,f){return function(h,a){f(h,a,s)}};Object.defineProperty(i,"__esModule",{value:!0}),i.Linkifier2=void 0;const c=n(2585),p=n(8460),S=n(844),w=n(3656);let v=class extends S.Disposable{constructor(s){super(),this._bufferService=s,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new p.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new p.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,S.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,S.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}get currentLink(){return this._currentLink}registerLinkProvider(s){return this._linkProviders.push(s),{dispose:()=>{const f=this._linkProviders.indexOf(s);f!==-1&&this._linkProviders.splice(f,1)}}}attachToDom(s,f,h){this._element=s,this._mouseService=f,this._renderService=h,this.register((0,w.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,w.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,w.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,w.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(s){if(this._lastMouseEvent=s,!this._element||!this._mouseService)return;const f=this._positionFromMouseEvent(s,this._element,this._mouseService);if(!f)return;this._isMouseOut=!1;const h=s.composedPath();for(let a=0;a<h.length;a++){const b=h[a];if(b.classList.contains("xterm"))break;if(b.classList.contains("xterm-hover"))return}this._lastBufferCell&&f.x===this._lastBufferCell.x&&f.y===this._lastBufferCell.y||(this._handleHover(f),this._lastBufferCell=f)}_handleHover(s){if(this._activeLine!==s.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(s,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,s)||(this._clearCurrentLink(),this._askForLink(s,!0))}_askForLink(s,f){var h,a;this._activeProviderReplies&&f||((h=this._activeProviderReplies)===null||h===void 0||h.forEach(g=>{g==null||g.forEach(y=>{y.link.dispose&&y.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=s.y);let b=!1;for(const[g,y]of this._linkProviders.entries())f?!((a=this._activeProviderReplies)===null||a===void 0)&&a.get(g)&&(b=this._checkLinkProviderResult(g,s,b)):y.provideLinks(s.y,E=>{var C,k;if(this._isMouseOut)return;const R=E==null?void 0:E.map(T=>({link:T}));(C=this._activeProviderReplies)===null||C===void 0||C.set(g,R),b=this._checkLinkProviderResult(g,s,b),((k=this._activeProviderReplies)===null||k===void 0?void 0:k.size)===this._linkProviders.length&&this._removeIntersectingLinks(s.y,this._activeProviderReplies)})}_removeIntersectingLinks(s,f){const h=new Set;for(let a=0;a<f.size;a++){const b=f.get(a);if(b)for(let g=0;g<b.length;g++){const y=b[g],E=y.link.range.start.y<s?0:y.link.range.start.x,C=y.link.range.end.y>s?this._bufferService.cols:y.link.range.end.x;for(let k=E;k<=C;k++){if(h.has(k)){b.splice(g--,1);break}h.add(k)}}}}_checkLinkProviderResult(s,f,h){var a;if(!this._activeProviderReplies)return h;const b=this._activeProviderReplies.get(s);let g=!1;for(let y=0;y<s;y++)this._activeProviderReplies.has(y)&&!this._activeProviderReplies.get(y)||(g=!0);if(!g&&b){const y=b.find(E=>this._linkAtPosition(E.link,f));y&&(h=!0,this._handleNewLink(y))}if(this._activeProviderReplies.size===this._linkProviders.length&&!h)for(let y=0;y<this._activeProviderReplies.size;y++){const E=(a=this._activeProviderReplies.get(y))===null||a===void 0?void 0:a.find(C=>this._linkAtPosition(C.link,f));if(E){h=!0,this._handleNewLink(E);break}}return h}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(s){if(!this._element||!this._mouseService||!this._currentLink)return;const f=this._positionFromMouseEvent(s,this._element,this._mouseService);f&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,f)&&this._currentLink.link.activate(s,this._currentLink.link.text)}_clearCurrentLink(s,f){this._element&&this._currentLink&&this._lastMouseEvent&&(!s||!f||this._currentLink.link.range.start.y>=s&&this._currentLink.link.range.end.y<=f)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,S.disposeArray)(this._linkCacheDisposables))}_handleNewLink(s){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const f=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);f&&this._linkAtPosition(s.link,f)&&(this._currentLink=s,this._currentLink.state={decorations:{underline:s.link.decorations===void 0||s.link.decorations.underline,pointerCursor:s.link.decorations===void 0||s.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,s.link,this._lastMouseEvent),s.link.decorations={},Object.defineProperties(s.link.decorations,{pointerCursor:{get:()=>{var h,a;return(a=(h=this._currentLink)===null||h===void 0?void 0:h.state)===null||a===void 0?void 0:a.decorations.pointerCursor},set:h=>{var a,b;!((a=this._currentLink)===null||a===void 0)&&a.state&&this._currentLink.state.decorations.pointerCursor!==h&&(this._currentLink.state.decorations.pointerCursor=h,this._currentLink.state.isHovered&&((b=this._element)===null||b===void 0||b.classList.toggle("xterm-cursor-pointer",h)))}},underline:{get:()=>{var h,a;return(a=(h=this._currentLink)===null||h===void 0?void 0:h.state)===null||a===void 0?void 0:a.decorations.underline},set:h=>{var a,b,g;!((a=this._currentLink)===null||a===void 0)&&a.state&&((g=(b=this._currentLink)===null||b===void 0?void 0:b.state)===null||g===void 0?void 0:g.decorations.underline)!==h&&(this._currentLink.state.decorations.underline=h,this._currentLink.state.isHovered&&this._fireUnderlineEvent(s.link,h))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(h=>{if(!this._currentLink)return;const a=h.start===0?0:h.start+1+this._bufferService.buffer.ydisp,b=this._bufferService.buffer.ydisp+1+h.end;if(this._currentLink.link.range.start.y>=a&&this._currentLink.link.range.end.y<=b&&(this._clearCurrentLink(a,b),this._lastMouseEvent&&this._element)){const g=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);g&&this._askForLink(g,!1)}})))}_linkHover(s,f,h){var a;!((a=this._currentLink)===null||a===void 0)&&a.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(f,!0),this._currentLink.state.decorations.pointerCursor&&s.classList.add("xterm-cursor-pointer")),f.hover&&f.hover(h,f.text)}_fireUnderlineEvent(s,f){const h=s.range,a=this._bufferService.buffer.ydisp,b=this._createLinkUnderlineEvent(h.start.x-1,h.start.y-a-1,h.end.x,h.end.y-a-1,void 0);(f?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(b)}_linkLeave(s,f,h){var a;!((a=this._currentLink)===null||a===void 0)&&a.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(f,!1),this._currentLink.state.decorations.pointerCursor&&s.classList.remove("xterm-cursor-pointer")),f.leave&&f.leave(h,f.text)}_linkAtPosition(s,f){const h=s.range.start.y*this._bufferService.cols+s.range.start.x,a=s.range.end.y*this._bufferService.cols+s.range.end.x,b=f.y*this._bufferService.cols+f.x;return h<=b&&b<=a}_positionFromMouseEvent(s,f,h){const a=h.getCoords(s,f,this._bufferService.cols,this._bufferService.rows);if(a)return{x:a[0],y:a[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(s,f,h,a,b){return{x1:s,y1:f,x2:h,y2:a,cols:this._bufferService.cols,fg:b}}};v=l([u(0,c.IBufferService)],v),i.Linkifier2=v},9042:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.tooMuchOutput=i.promptLabel=void 0,i.promptLabel="Terminal input",i.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(_,i,n){var l=this&&this.__decorate||function(v,s,f,h){var a,b=arguments.length,g=b<3?s:h===null?h=Object.getOwnPropertyDescriptor(s,f):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(v,s,f,h);else for(var y=v.length-1;y>=0;y--)(a=v[y])&&(g=(b<3?a(g):b>3?a(s,f,g):a(s,f))||g);return b>3&&g&&Object.defineProperty(s,f,g),g},u=this&&this.__param||function(v,s){return function(f,h){s(f,h,v)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OscLinkProvider=void 0;const c=n(511),p=n(2585);let S=class{constructor(v,s,f){this._bufferService=v,this._optionsService=s,this._oscLinkService=f}provideLinks(v,s){var f;const h=this._bufferService.buffer.lines.get(v-1);if(!h)return void s(void 0);const a=[],b=this._optionsService.rawOptions.linkHandler,g=new c.CellData,y=h.getTrimmedLength();let E=-1,C=-1,k=!1;for(let R=0;R<y;R++)if(C!==-1||h.hasContent(R)){if(h.loadCell(R,g),g.hasExtendedAttrs()&&g.extended.urlId){if(C===-1){C=R,E=g.extended.urlId;continue}k=g.extended.urlId!==E}else C!==-1&&(k=!0);if(k||C!==-1&&R===y-1){const T=(f=this._oscLinkService.getLinkData(E))===null||f===void 0?void 0:f.uri;if(T){const M={start:{x:C+1,y:v},end:{x:R+(k||R!==y-1?0:1),y:v}};let I=!1;if(!(b!=null&&b.allowNonHttpProtocols))try{const K=new URL(T);["http:","https:"].includes(K.protocol)||(I=!0)}catch{I=!0}I||a.push({text:T,range:M,activate:(K,z)=>b?b.activate(K,z,M):w(0,z),hover:(K,z)=>{var G;return(G=b==null?void 0:b.hover)===null||G===void 0?void 0:G.call(b,K,z,M)},leave:(K,z)=>{var G;return(G=b==null?void 0:b.leave)===null||G===void 0?void 0:G.call(b,K,z,M)}})}k=!1,g.hasExtendedAttrs()&&g.extended.urlId?(C=R,E=g.extended.urlId):(C=-1,E=-1)}}s(a)}};function w(v,s){if(confirm(`Do you want to navigate to ${s}?

WARNING: This link could potentially be dangerous`)){const f=window.open();if(f){try{f.opener=null}catch{}f.location.href=s}else console.warn("Opening link blocked as opener could not be cleared")}}S=l([u(0,p.IBufferService),u(1,p.IOptionsService),u(2,p.IOscLinkService)],S),i.OscLinkProvider=S},6193:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.RenderDebouncer=void 0,i.RenderDebouncer=class{constructor(n,l){this._parentWindow=n,this._renderCallback=l,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(n){return this._refreshCallbacks.push(n),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(n,l,u){this._rowCount=u,n=n!==void 0?n:0,l=l!==void 0?l:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,n):n,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,l):l,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const n=Math.max(this._rowStart,0),l=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(n,l),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const n of this._refreshCallbacks)n(0);this._refreshCallbacks=[]}}},5596:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ScreenDprMonitor=void 0;const l=n(844);class u extends l.Disposable{constructor(p){super(),this._parentWindow=p,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,l.toDisposable)(()=>{this.clearListener()}))}setListener(p){this._listener&&this.clearListener(),this._listener=p,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var p;this._outerListener&&((p=this._resolutionMediaMatchList)===null||p===void 0||p.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}i.ScreenDprMonitor=u},3236:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Terminal=void 0;const l=n(2950),u=n(1680),c=n(3614),p=n(2584),S=n(5435),w=n(9312),v=n(6114),s=n(3656),f=n(9042),h=n(4567),a=n(1296),b=n(7399),g=n(8460),y=n(8437),E=n(3230),C=n(4725),k=n(428),R=n(8934),T=n(6465),M=n(5114),I=n(8969),K=n(8055),z=n(4269),G=n(5941),L=n(3107),O=n(5744),B=n(9074),H=n(2585),W=n(3730),Y=n(844),oe=n(6731),J=typeof window<"u"?window.document:null;class ie extends I.CoreTerminal{constructor(P={}){super(P),this.browser=v,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._onCursorMove=this.register(new g.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new g.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new g.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new g.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new g.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new g.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new g.EventEmitter),this._onBlur=this.register(new g.EventEmitter),this._onA11yCharEmitter=this.register(new g.EventEmitter),this._onA11yTabEmitter=this.register(new g.EventEmitter),this._onWillOpen=this.register(new g.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(T.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(W.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(B.DecorationService),this._instantiationService.setService(H.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((F,X)=>this.refresh(F,X))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(F=>this._reportWindowsOptions(F))),this.register(this._inputHandler.onColor(F=>this._handleColorEvent(F))),this.register((0,g.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,g.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,g.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,g.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(F=>this._afterResize(F.cols,F.rows))),this.register((0,Y.toDisposable)(()=>{var F,X;this._customKeyEventHandler=void 0,(X=(F=this.element)===null||F===void 0?void 0:F.parentNode)===null||X===void 0||X.removeChild(this.element)}))}get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}_handleColorEvent(P){if(this._themeService)for(const F of P){let X,Z="";switch(F.index){case 256:X="foreground",Z="10";break;case 257:X="background",Z="11";break;case 258:X="cursor",Z="12";break;default:X="ansi",Z="4;"+F.index}switch(F.type){case 0:const fe=K.color.toColorRGB(X==="ansi"?this._themeService.colors.ansi[F.index]:this._themeService.colors[X]);this.coreService.triggerDataEvent(`${p.C0.ESC}]${Z};${(0,G.toRgbString)(fe)}${p.C1_ESCAPED.ST}`);break;case 1:if(X==="ansi")this._themeService.modifyColors(te=>te.ansi[F.index]=K.rgba.toColor(...F.color));else{const te=X;this._themeService.modifyColors(be=>be[te]=K.rgba.toColor(...F.color))}break;case 2:this._themeService.restoreColor(F.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(P){var F;P?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=this._instantiationService.createInstance(h.AccessibilityManager,this)):((F=this._accessibilityManager)===null||F===void 0||F.dispose(),this._accessibilityManager=void 0)}_handleTextAreaFocus(P){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(p.C0.ESC+"[I"),this.updateCursorStyle(P),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var P;return(P=this.textarea)===null||P===void 0?void 0:P.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(p.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const P=this.buffer.ybase+this.buffer.y,F=this.buffer.lines.get(P);if(!F)return;const X=Math.min(this.buffer.x,this.cols-1),Z=this._renderService.dimensions.css.cell.height,fe=F.getWidth(X),te=this._renderService.dimensions.css.cell.width*fe,be=this.buffer.y*this._renderService.dimensions.css.cell.height,ye=X*this._renderService.dimensions.css.cell.width;this.textarea.style.left=ye+"px",this.textarea.style.top=be+"px",this.textarea.style.width=te+"px",this.textarea.style.height=Z+"px",this.textarea.style.lineHeight=Z+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,s.addDisposableDomListener)(this.element,"copy",F=>{this.hasSelection()&&(0,c.copyHandler)(F,this._selectionService)}));const P=F=>(0,c.handlePasteEvent)(F,this.textarea,this.coreService);this.register((0,s.addDisposableDomListener)(this.textarea,"paste",P)),this.register((0,s.addDisposableDomListener)(this.element,"paste",P)),v.isFirefox?this.register((0,s.addDisposableDomListener)(this.element,"mousedown",F=>{F.button===2&&(0,c.rightClickHandler)(F,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,s.addDisposableDomListener)(this.element,"contextmenu",F=>{(0,c.rightClickHandler)(F,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),v.isLinux&&this.register((0,s.addDisposableDomListener)(this.element,"auxclick",F=>{F.button===1&&(0,c.moveTextAreaUnderMouseCursor)(F,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,s.addDisposableDomListener)(this.textarea,"keyup",P=>this._keyUp(P),!0)),this.register((0,s.addDisposableDomListener)(this.textarea,"keydown",P=>this._keyDown(P),!0)),this.register((0,s.addDisposableDomListener)(this.textarea,"keypress",P=>this._keyPress(P),!0)),this.register((0,s.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,s.addDisposableDomListener)(this.textarea,"compositionupdate",P=>this._compositionHelper.compositionupdate(P))),this.register((0,s.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,s.addDisposableDomListener)(this.textarea,"input",P=>this._inputEvent(P),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(P){var F;if(!P)throw new Error("Terminal requires a parent element.");P.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=P.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),P.appendChild(this.element);const X=J.createDocumentFragment();this._viewportElement=J.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),X.appendChild(this._viewportElement),this._viewportScrollArea=J.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=J.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=J.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),X.appendChild(this.screenElement),this.textarea=J.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",f.promptLabel),v.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(M.CoreBrowserService,this.textarea,(F=this._document.defaultView)!==null&&F!==void 0?F:window),this._instantiationService.setService(C.ICoreBrowserService,this._coreBrowserService),this.register((0,s.addDisposableDomListener)(this.textarea,"focus",Z=>this._handleTextAreaFocus(Z))),this.register((0,s.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(k.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(C.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(oe.ThemeService),this._instantiationService.setService(C.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(z.CharacterJoinerService),this._instantiationService.setService(C.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(E.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(C.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(Z=>this._onRender.fire(Z))),this.onResize(Z=>this._renderService.resize(Z.cols,Z.rows)),this._compositionView=J.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(l.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(X);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(R.MouseService),this._instantiationService.setService(C.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(u.Viewport,Z=>this.scrollLines(Z,!0,1),this._viewportElement,this._viewportScrollArea),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(w.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(C.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(Z=>this.scrollLines(Z.amount,Z.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(Z=>this._renderService.handleSelectionChanged(Z.start,Z.end,Z.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(Z=>{this.textarea.value=Z,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(Z=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,s.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(L.BufferDecorationRenderer,this.screenElement)),this.register((0,s.addDisposableDomListener)(this.element,"mousedown",Z=>this._selectionService.handleMouseDown(Z))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=this._instantiationService.createInstance(h.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",Z=>this._handleScreenReaderModeOptionChange(Z))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(O.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",Z=>{!this._overviewRulerRenderer&&Z&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(O.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(a.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const P=this,F=this.element;function X(te){const be=P._mouseService.getMouseReportCoords(te,P.screenElement);if(!be)return!1;let ye,Se;switch(te.overrideType||te.type){case"mousemove":Se=32,te.buttons===void 0?(ye=3,te.button!==void 0&&(ye=te.button<3?te.button:3)):ye=1&te.buttons?0:4&te.buttons?1:2&te.buttons?2:3;break;case"mouseup":Se=0,ye=te.button<3?te.button:3;break;case"mousedown":Se=1,ye=te.button<3?te.button:3;break;case"wheel":if(P.viewport.getLinesScrolled(te)===0)return!1;Se=te.deltaY<0?0:1,ye=4;break;default:return!1}return!(Se===void 0||ye===void 0||ye>4)&&P.coreMouseService.triggerMouseEvent({col:be.col,row:be.row,x:be.x,y:be.y,button:ye,action:Se,ctrl:te.ctrlKey,alt:te.altKey,shift:te.shiftKey})}const Z={mouseup:null,wheel:null,mousedrag:null,mousemove:null},fe={mouseup:te=>(X(te),te.buttons||(this._document.removeEventListener("mouseup",Z.mouseup),Z.mousedrag&&this._document.removeEventListener("mousemove",Z.mousedrag)),this.cancel(te)),wheel:te=>(X(te),this.cancel(te,!0)),mousedrag:te=>{te.buttons&&X(te)},mousemove:te=>{te.buttons||X(te)}};this.register(this.coreMouseService.onProtocolChange(te=>{te?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(te)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&te?Z.mousemove||(F.addEventListener("mousemove",fe.mousemove),Z.mousemove=fe.mousemove):(F.removeEventListener("mousemove",Z.mousemove),Z.mousemove=null),16&te?Z.wheel||(F.addEventListener("wheel",fe.wheel,{passive:!1}),Z.wheel=fe.wheel):(F.removeEventListener("wheel",Z.wheel),Z.wheel=null),2&te?Z.mouseup||(Z.mouseup=fe.mouseup):(this._document.removeEventListener("mouseup",Z.mouseup),Z.mouseup=null),4&te?Z.mousedrag||(Z.mousedrag=fe.mousedrag):(this._document.removeEventListener("mousemove",Z.mousedrag),Z.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,s.addDisposableDomListener)(F,"mousedown",te=>{if(te.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(te))return X(te),Z.mouseup&&this._document.addEventListener("mouseup",Z.mouseup),Z.mousedrag&&this._document.addEventListener("mousemove",Z.mousedrag),this.cancel(te)})),this.register((0,s.addDisposableDomListener)(F,"wheel",te=>{if(!Z.wheel){if(!this.buffer.hasScrollback){const be=this.viewport.getLinesScrolled(te);if(be===0)return;const ye=p.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(te.deltaY<0?"A":"B");let Se="";for(let ve=0;ve<Math.abs(be);ve++)Se+=ye;return this.coreService.triggerDataEvent(Se,!0),this.cancel(te,!0)}return this.viewport.handleWheel(te)?this.cancel(te):void 0}},{passive:!1})),this.register((0,s.addDisposableDomListener)(F,"touchstart",te=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(te),this.cancel(te)},{passive:!0})),this.register((0,s.addDisposableDomListener)(F,"touchmove",te=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(te)?void 0:this.cancel(te)},{passive:!1}))}refresh(P,F){var X;(X=this._renderService)===null||X===void 0||X.refreshRows(P,F)}updateCursorStyle(P){var F;!((F=this._selectionService)===null||F===void 0)&&F.shouldColumnSelect(P)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(P,F,X=0){super.scrollLines(P,F,X),this.refresh(0,this.rows-1)}paste(P){(0,c.paste)(P,this.textarea,this.coreService)}attachCustomKeyEventHandler(P){this._customKeyEventHandler=P}registerLinkProvider(P){return this.linkifier2.registerLinkProvider(P)}registerCharacterJoiner(P){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const F=this._characterJoinerService.register(P);return this.refresh(0,this.rows-1),F}deregisterCharacterJoiner(P){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(P)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}addMarker(P){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+P)}registerDecoration(P){return this._decorationService.registerDecoration(P)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(P,F,X){this._selectionService.setSelection(P,F,X)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var P;(P=this._selectionService)===null||P===void 0||P.clearSelection()}selectAll(){var P;(P=this._selectionService)===null||P===void 0||P.selectAll()}selectLines(P,F){var X;(X=this._selectionService)===null||X===void 0||X.selectLines(P,F)}_keyDown(P){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(P)===!1)return!1;const F=this.browser.isMac&&this.options.macOptionIsMeta&&P.altKey;if(!F&&!this._compositionHelper.keydown(P))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;F||P.key!=="Dead"&&P.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const X=(0,b.evaluateKeyboardEvent)(P,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(P),X.type===3||X.type===2){const Z=this.rows-1;return this.scrollLines(X.type===2?-Z:Z),this.cancel(P,!0)}return X.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,P)||(X.cancel&&this.cancel(P,!0),!X.key||!!(P.key&&!P.ctrlKey&&!P.altKey&&!P.metaKey&&P.key.length===1&&P.key.charCodeAt(0)>=65&&P.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(X.key!==p.C0.ETX&&X.key!==p.C0.CR||(this.textarea.value=""),this._onKey.fire({key:X.key,domEvent:P}),this._showCursor(),this.coreService.triggerDataEvent(X.key,!0),!this.optionsService.rawOptions.screenReaderMode||P.altKey||P.ctrlKey?this.cancel(P,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(P,F){const X=P.isMac&&!this.options.macOptionIsMeta&&F.altKey&&!F.ctrlKey&&!F.metaKey||P.isWindows&&F.altKey&&F.ctrlKey&&!F.metaKey||P.isWindows&&F.getModifierState("AltGraph");return F.type==="keypress"?X:X&&(!F.keyCode||F.keyCode>47)}_keyUp(P){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(P)===!1||(function(F){return F.keyCode===16||F.keyCode===17||F.keyCode===18}(P)||this.focus(),this.updateCursorStyle(P),this._keyPressHandled=!1)}_keyPress(P){let F;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(P)===!1)return!1;if(this.cancel(P),P.charCode)F=P.charCode;else if(P.which===null||P.which===void 0)F=P.keyCode;else{if(P.which===0||P.charCode===0)return!1;F=P.which}return!(!F||(P.altKey||P.ctrlKey||P.metaKey)&&!this._isThirdLevelShift(this.browser,P)||(F=String.fromCharCode(F),this._onKey.fire({key:F,domEvent:P}),this._showCursor(),this.coreService.triggerDataEvent(F,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(P){if(P.data&&P.inputType==="insertText"&&(!P.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const F=P.data;return this.coreService.triggerDataEvent(F,!0),this.cancel(P),!0}return!1}resize(P,F){P!==this.cols||F!==this.rows?super.resize(P,F):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(P,F){var X,Z;(X=this._charSizeService)===null||X===void 0||X.measure(),(Z=this.viewport)===null||Z===void 0||Z.syncScrollArea(!0)}clear(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let P=1;P<this.rows;P++)this.buffer.lines.push(this.buffer.getBlankLine(y.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}}reset(){var P,F;this.options.rows=this.rows,this.options.cols=this.cols;const X=this._customKeyEventHandler;this._setup(),super.reset(),(P=this._selectionService)===null||P===void 0||P.reset(),this._decorationService.reset(),this._customKeyEventHandler=X,this.refresh(0,this.rows-1),(F=this.viewport)===null||F===void 0||F.syncScrollArea()}clearTextureAtlas(){var P;(P=this._renderService)===null||P===void 0||P.clearTextureAtlas()}_reportFocus(){var P;!((P=this.element)===null||P===void 0)&&P.classList.contains("focus")?this.coreService.triggerDataEvent(p.C0.ESC+"[I"):this.coreService.triggerDataEvent(p.C0.ESC+"[O")}_reportWindowsOptions(P){if(this._renderService)switch(P){case S.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const F=this._renderService.dimensions.css.canvas.width.toFixed(0),X=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${p.C0.ESC}[4;${X};${F}t`);break;case S.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const Z=this._renderService.dimensions.css.cell.width.toFixed(0),fe=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${p.C0.ESC}[6;${fe};${Z}t`)}}cancel(P,F){if(this.options.cancelEvents||F)return P.preventDefault(),P.stopPropagation(),!1}}i.Terminal=ie},9924:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TimeBasedDebouncer=void 0,i.TimeBasedDebouncer=class{constructor(n,l=1e3){this._renderCallback=n,this._debounceThresholdMS=l,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(n,l,u){this._rowCount=u,n=n!==void 0?n:0,l=l!==void 0?l:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,n):n,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,l):l;const c=Date.now();if(c-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=c,this._innerRefresh();else if(!this._additionalRefreshRequested){const p=c-this._lastRefreshMs,S=this._debounceThresholdMS-p;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},S)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const n=Math.max(this._rowStart,0),l=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(n,l)}}},1680:function(_,i,n){var l=this&&this.__decorate||function(s,f,h,a){var b,g=arguments.length,y=g<3?f:a===null?a=Object.getOwnPropertyDescriptor(f,h):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(s,f,h,a);else for(var E=s.length-1;E>=0;E--)(b=s[E])&&(y=(g<3?b(y):g>3?b(f,h,y):b(f,h))||y);return g>3&&y&&Object.defineProperty(f,h,y),y},u=this&&this.__param||function(s,f){return function(h,a){f(h,a,s)}};Object.defineProperty(i,"__esModule",{value:!0}),i.Viewport=void 0;const c=n(844),p=n(3656),S=n(4725),w=n(2585);let v=class extends c.Disposable{constructor(s,f,h,a,b,g,y,E,C){super(),this._scrollLines=s,this._viewportElement=f,this._scrollArea=h,this._bufferService=a,this._optionsService=b,this._charSizeService=g,this._renderService=y,this._coreBrowserService=E,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,p.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(k=>this._activeBuffer=k.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(k=>this._renderDimensions=k)),this._handleThemeChange(C.colors),this.register(C.onChangeColors(k=>this._handleThemeChange(k))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea(),0)}_handleThemeChange(s){this._viewportElement.style.backgroundColor=s.background.css}_refresh(s){if(s)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const f=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==f&&(this._lastRecordedBufferHeight=f,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const s=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==s&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=s),this._refreshAnimationFrame=null}syncScrollArea(s=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(s);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(s)}_handleScroll(s){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);const f=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(f)}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const s=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(s*(this._smoothScrollState.target-this._smoothScrollState.origin)),s<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(s,f){const h=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(f<0&&this._viewportElement.scrollTop!==0||f>0&&h<this._lastRecordedBufferHeight)||(s.cancelable&&s.preventDefault(),!1)}handleWheel(s){const f=this._getPixelsScrolled(s);return f!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+f:this._smoothScrollState.target+=f,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=f,this._bubbleScroll(s,f))}_getPixelsScrolled(s){if(s.deltaY===0||s.shiftKey)return 0;let f=this._applyScrollModifier(s.deltaY,s);return s.deltaMode===WheelEvent.DOM_DELTA_LINE?f*=this._currentRowHeight:s.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(f*=this._currentRowHeight*this._bufferService.rows),f}getBufferElements(s,f){var h;let a,b="";const g=[],y=f??this._bufferService.buffer.lines.length,E=this._bufferService.buffer.lines;for(let C=s;C<y;C++){const k=E.get(C);if(!k)continue;const R=(h=E.get(C+1))===null||h===void 0?void 0:h.isWrapped;if(b+=k.translateToString(!R),!R||C===E.length-1){const T=document.createElement("div");T.textContent=b,g.push(T),b.length>0&&(a=T),b=""}}return{bufferElements:g,cursorElement:a}}getLinesScrolled(s){if(s.deltaY===0||s.shiftKey)return 0;let f=this._applyScrollModifier(s.deltaY,s);return s.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(f/=this._currentRowHeight+0,this._wheelPartialScroll+=f,f=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):s.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(f*=this._bufferService.rows),f}_applyScrollModifier(s,f){const h=this._optionsService.rawOptions.fastScrollModifier;return h==="alt"&&f.altKey||h==="ctrl"&&f.ctrlKey||h==="shift"&&f.shiftKey?s*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:s*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(s){this._lastTouchY=s.touches[0].pageY}handleTouchMove(s){const f=this._lastTouchY-s.touches[0].pageY;return this._lastTouchY=s.touches[0].pageY,f!==0&&(this._viewportElement.scrollTop+=f,this._bubbleScroll(s,f))}};v=l([u(3,w.IBufferService),u(4,w.IOptionsService),u(5,S.ICharSizeService),u(6,S.IRenderService),u(7,S.ICoreBrowserService),u(8,S.IThemeService)],v),i.Viewport=v},3107:function(_,i,n){var l=this&&this.__decorate||function(s,f,h,a){var b,g=arguments.length,y=g<3?f:a===null?a=Object.getOwnPropertyDescriptor(f,h):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(s,f,h,a);else for(var E=s.length-1;E>=0;E--)(b=s[E])&&(y=(g<3?b(y):g>3?b(f,h,y):b(f,h))||y);return g>3&&y&&Object.defineProperty(f,h,y),y},u=this&&this.__param||function(s,f){return function(h,a){f(h,a,s)}};Object.defineProperty(i,"__esModule",{value:!0}),i.BufferDecorationRenderer=void 0;const c=n(3656),p=n(4725),S=n(844),w=n(2585);let v=class extends S.Disposable{constructor(s,f,h,a){super(),this._screenElement=s,this._bufferService=f,this._decorationService=h,this._renderService=a,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,c.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(b=>this._removeDecoration(b))),this.register((0,S.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const s of this._decorationService.decorations)this._renderDecoration(s);this._dimensionsChanged=!1}_renderDecoration(s){this._refreshStyle(s),this._dimensionsChanged&&this._refreshXPosition(s)}_createElement(s){var f,h;const a=document.createElement("div");a.classList.add("xterm-decoration"),a.classList.toggle("xterm-decoration-top-layer",((f=s==null?void 0:s.options)===null||f===void 0?void 0:f.layer)==="top"),a.style.width=`${Math.round((s.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,a.style.height=(s.options.height||1)*this._renderService.dimensions.css.cell.height+"px",a.style.top=(s.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",a.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const b=(h=s.options.x)!==null&&h!==void 0?h:0;return b&&b>this._bufferService.cols&&(a.style.display="none"),this._refreshXPosition(s,a),a}_refreshStyle(s){const f=s.marker.line-this._bufferService.buffers.active.ydisp;if(f<0||f>=this._bufferService.rows)s.element&&(s.element.style.display="none",s.onRenderEmitter.fire(s.element));else{let h=this._decorationElements.get(s);h||(h=this._createElement(s),s.element=h,this._decorationElements.set(s,h),this._container.appendChild(h)),h.style.top=f*this._renderService.dimensions.css.cell.height+"px",h.style.display=this._altBufferIsActive?"none":"block",s.onRenderEmitter.fire(h)}}_refreshXPosition(s,f=s.element){var h;if(!f)return;const a=(h=s.options.x)!==null&&h!==void 0?h:0;(s.options.anchor||"left")==="right"?f.style.right=a?a*this._renderService.dimensions.css.cell.width+"px":"":f.style.left=a?a*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(s){var f;(f=this._decorationElements.get(s))===null||f===void 0||f.remove(),this._decorationElements.delete(s),s.dispose()}};v=l([u(1,w.IBufferService),u(2,w.IDecorationService),u(3,p.IRenderService)],v),i.BufferDecorationRenderer=v},5871:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorZoneStore=void 0,i.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(n){if(n.options.overviewRulerOptions){for(const l of this._zones)if(l.color===n.options.overviewRulerOptions.color&&l.position===n.options.overviewRulerOptions.position){if(this._lineIntersectsZone(l,n.marker.line))return;if(this._lineAdjacentToZone(l,n.marker.line,n.options.overviewRulerOptions.position))return void this._addLineToZone(l,n.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=n.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=n.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=n.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=n.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:n.options.overviewRulerOptions.color,position:n.options.overviewRulerOptions.position,startBufferLine:n.marker.line,endBufferLine:n.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(n){this._linePadding=n}_lineIntersectsZone(n,l){return l>=n.startBufferLine&&l<=n.endBufferLine}_lineAdjacentToZone(n,l,u){return l>=n.startBufferLine-this._linePadding[u||"full"]&&l<=n.endBufferLine+this._linePadding[u||"full"]}_addLineToZone(n,l){n.startBufferLine=Math.min(n.startBufferLine,l),n.endBufferLine=Math.max(n.endBufferLine,l)}}},5744:function(_,i,n){var l=this&&this.__decorate||function(b,g,y,E){var C,k=arguments.length,R=k<3?g:E===null?E=Object.getOwnPropertyDescriptor(g,y):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(b,g,y,E);else for(var T=b.length-1;T>=0;T--)(C=b[T])&&(R=(k<3?C(R):k>3?C(g,y,R):C(g,y))||R);return k>3&&R&&Object.defineProperty(g,y,R),R},u=this&&this.__param||function(b,g){return function(y,E){g(y,E,b)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OverviewRulerRenderer=void 0;const c=n(5871),p=n(3656),S=n(4725),w=n(844),v=n(2585),s={full:0,left:0,center:0,right:0},f={full:0,left:0,center:0,right:0},h={full:0,left:0,center:0,right:0};let a=class extends w.Disposable{constructor(b,g,y,E,C,k,R){var T;super(),this._viewportElement=b,this._screenElement=g,this._bufferService=y,this._decorationService=E,this._renderService=C,this._optionsService=k,this._coreBrowseService=R,this._colorZoneStore=new c.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(T=this._viewportElement.parentElement)===null||T===void 0||T.insertBefore(this._canvas,this._viewportElement);const M=this._canvas.getContext("2d");if(!M)throw new Error("Ctx cannot be null");this._ctx=M,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,w.toDisposable)(()=>{var I;(I=this._canvas)===null||I===void 0||I.remove()}))}get _width(){return this._optionsService.options.overviewRulerWidth||0}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,p.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const b=Math.floor(this._canvas.width/3),g=Math.ceil(this._canvas.width/3);f.full=this._canvas.width,f.left=b,f.center=g,f.right=b,this._refreshDrawHeightConstants(),h.full=0,h.left=0,h.center=f.left,h.right=f.left+f.center}_refreshDrawHeightConstants(){s.full=Math.round(2*this._coreBrowseService.dpr);const b=this._canvas.height/this._bufferService.buffer.lines.length,g=Math.round(Math.max(Math.min(b,12),6)*this._coreBrowseService.dpr);s.left=g,s.center=g,s.right=g}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*s.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*s.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*s.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*s.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const g of this._decorationService.decorations)this._colorZoneStore.addDecoration(g);this._ctx.lineWidth=1;const b=this._colorZoneStore.zones;for(const g of b)g.position!=="full"&&this._renderColorZone(g);for(const g of b)g.position==="full"&&this._renderColorZone(g);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(b){this._ctx.fillStyle=b.color,this._ctx.fillRect(h[b.position||"full"],Math.round((this._canvas.height-1)*(b.startBufferLine/this._bufferService.buffers.active.lines.length)-s[b.position||"full"]/2),f[b.position||"full"],Math.round((this._canvas.height-1)*((b.endBufferLine-b.startBufferLine)/this._bufferService.buffers.active.lines.length)+s[b.position||"full"]))}_queueRefresh(b,g){this._shouldUpdateDimensions=b||this._shouldUpdateDimensions,this._shouldUpdateAnchor=g||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};a=l([u(2,v.IBufferService),u(3,v.IDecorationService),u(4,S.IRenderService),u(5,v.IOptionsService),u(6,S.ICoreBrowserService)],a),i.OverviewRulerRenderer=a},2950:function(_,i,n){var l=this&&this.__decorate||function(v,s,f,h){var a,b=arguments.length,g=b<3?s:h===null?h=Object.getOwnPropertyDescriptor(s,f):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(v,s,f,h);else for(var y=v.length-1;y>=0;y--)(a=v[y])&&(g=(b<3?a(g):b>3?a(s,f,g):a(s,f))||g);return b>3&&g&&Object.defineProperty(s,f,g),g},u=this&&this.__param||function(v,s){return function(f,h){s(f,h,v)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CompositionHelper=void 0;const c=n(4725),p=n(2585),S=n(2584);let w=class{constructor(v,s,f,h,a,b){this._textarea=v,this._compositionView=s,this._bufferService=f,this._optionsService=h,this._coreService=a,this._renderService=b,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}get isComposing(){return this._isComposing}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(v){this._compositionView.textContent=v.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(v){if(this._isComposing||this._isSendingComposition){if(v.keyCode===229||v.keyCode===16||v.keyCode===17||v.keyCode===18)return!1;this._finalizeComposition(!1)}return v.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(v){if(this._compositionView.classList.remove("active"),this._isComposing=!1,v){const s={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let f;this._isSendingComposition=!1,s.start+=this._dataAlreadySent.length,f=this._isComposing?this._textarea.value.substring(s.start,s.end):this._textarea.value.substring(s.start),f.length>0&&this._coreService.triggerDataEvent(f,!0)}},0)}else{this._isSendingComposition=!1;const s=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(s,!0)}}_handleAnyTextareaChanges(){const v=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const s=this._textarea.value,f=s.replace(v,"");this._dataAlreadySent=f,s.length>v.length?this._coreService.triggerDataEvent(f,!0):s.length<v.length?this._coreService.triggerDataEvent(`${S.C0.DEL}`,!0):s.length===v.length&&s!==v&&this._coreService.triggerDataEvent(s,!0)}},0)}updateCompositionElements(v){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const s=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),f=this._renderService.dimensions.css.cell.height,h=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,a=s*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=a+"px",this._compositionView.style.top=h+"px",this._compositionView.style.height=f+"px",this._compositionView.style.lineHeight=f+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const b=this._compositionView.getBoundingClientRect();this._textarea.style.left=a+"px",this._textarea.style.top=h+"px",this._textarea.style.width=Math.max(b.width,1)+"px",this._textarea.style.height=Math.max(b.height,1)+"px",this._textarea.style.lineHeight=b.height+"px"}v||setTimeout(()=>this.updateCompositionElements(!0),0)}}};w=l([u(2,p.IBufferService),u(3,p.IOptionsService),u(4,p.ICoreService),u(5,c.IRenderService)],w),i.CompositionHelper=w},9806:(_,i)=>{function n(l,u,c){const p=c.getBoundingClientRect(),S=l.getComputedStyle(c),w=parseInt(S.getPropertyValue("padding-left")),v=parseInt(S.getPropertyValue("padding-top"));return[u.clientX-p.left-w,u.clientY-p.top-v]}Object.defineProperty(i,"__esModule",{value:!0}),i.getCoords=i.getCoordsRelativeToElement=void 0,i.getCoordsRelativeToElement=n,i.getCoords=function(l,u,c,p,S,w,v,s,f){if(!w)return;const h=n(l,u,c);return h?(h[0]=Math.ceil((h[0]+(f?v/2:0))/v),h[1]=Math.ceil(h[1]/s),h[0]=Math.min(Math.max(h[0],1),p+(f?1:0)),h[1]=Math.min(Math.max(h[1],1),S),h):void 0}},9504:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.moveToCellSequence=void 0;const l=n(2584);function u(s,f,h,a){const b=s-c(s,h),g=f-c(f,h),y=Math.abs(b-g)-function(E,C,k){let R=0;const T=E-c(E,k),M=C-c(C,k);for(let I=0;I<Math.abs(T-M);I++){const K=p(E,C)==="A"?-1:1,z=k.buffer.lines.get(T+K*I);z!=null&&z.isWrapped&&R++}return R}(s,f,h);return v(y,w(p(s,f),a))}function c(s,f){let h=0,a=f.buffer.lines.get(s),b=a==null?void 0:a.isWrapped;for(;b&&s>=0&&s<f.rows;)h++,a=f.buffer.lines.get(--s),b=a==null?void 0:a.isWrapped;return h}function p(s,f){return s>f?"A":"B"}function S(s,f,h,a,b,g){let y=s,E=f,C="";for(;y!==h||E!==a;)y+=b?1:-1,b&&y>g.cols-1?(C+=g.buffer.translateBufferLineToString(E,!1,s,y),y=0,s=0,E++):!b&&y<0&&(C+=g.buffer.translateBufferLineToString(E,!1,0,s+1),y=g.cols-1,s=y,E--);return C+g.buffer.translateBufferLineToString(E,!1,s,y)}function w(s,f){const h=f?"O":"[";return l.C0.ESC+h+s}function v(s,f){s=Math.floor(s);let h="";for(let a=0;a<s;a++)h+=f;return h}i.moveToCellSequence=function(s,f,h,a){const b=h.buffer.x,g=h.buffer.y;if(!h.buffer.hasScrollback)return function(C,k,R,T,M,I){return u(k,T,M,I).length===0?"":v(S(C,k,C,k-c(k,M),!1,M).length,w("D",I))}(b,g,0,f,h,a)+u(g,f,h,a)+function(C,k,R,T,M,I){let K;K=u(k,T,M,I).length>0?T-c(T,M):k;const z=T,G=function(L,O,B,H,W,Y){let oe;return oe=u(B,H,W,Y).length>0?H-c(H,W):O,L<B&&oe<=H||L>=B&&oe<H?"C":"D"}(C,k,R,T,M,I);return v(S(C,K,R,z,G==="C",M).length,w(G,I))}(b,g,s,f,h,a);let y;if(g===f)return y=b>s?"D":"C",v(Math.abs(b-s),w(y,a));y=g>f?"D":"C";const E=Math.abs(g-f);return v(function(C,k){return k.cols-C}(g>f?s:b,h)+(E-1)*h.cols+1+((g>f?b:s)-1),w(y,a))}},1296:function(_,i,n){var l=this&&this.__decorate||function(E,C,k,R){var T,M=arguments.length,I=M<3?C:R===null?R=Object.getOwnPropertyDescriptor(C,k):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(E,C,k,R);else for(var K=E.length-1;K>=0;K--)(T=E[K])&&(I=(M<3?T(I):M>3?T(C,k,I):T(C,k))||I);return M>3&&I&&Object.defineProperty(C,k,I),I},u=this&&this.__param||function(E,C){return function(k,R){C(k,R,E)}};Object.defineProperty(i,"__esModule",{value:!0}),i.DomRenderer=void 0;const c=n(3787),p=n(2223),S=n(6171),w=n(4725),v=n(8055),s=n(8460),f=n(844),h=n(2585),a="xterm-dom-renderer-owner-",b="xterm-focus";let g=1,y=class extends f.Disposable{constructor(E,C,k,R,T,M,I,K,z,G){super(),this._element=E,this._screenElement=C,this._viewportElement=k,this._linkifier2=R,this._charSizeService=M,this._optionsService=I,this._bufferService=K,this._coreBrowserService=z,this._themeService=G,this._terminalClass=g++,this._rowElements=[],this._cellToRowElements=[],this.onRequestRedraw=this.register(new s.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add("xterm-rows"),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add("xterm-selection"),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,S.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(L=>this._injectCss(L))),this._injectCss(this._themeService.colors),this._rowFactory=T.createInstance(c.DomRendererRowFactory,document),this._element.classList.add(a+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(L=>this._handleLinkHover(L))),this.register(this._linkifier2.onHideLinkUnderline(L=>this._handleLinkLeave(L))),this.register((0,f.toDisposable)(()=>{this._element.classList.remove(a+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))}_updateDimensions(){const E=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*E,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*E),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/E),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/E),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const k of this._rowElements)k.style.width=`${this.dimensions.css.canvas.width}px`,k.style.height=`${this.dimensions.css.cell.height}px`,k.style.lineHeight=`${this.dimensions.css.cell.height}px`,k.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const C=`${this._terminalSelector} .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: ${this.dimensions.css.cell.width}px}`;this._dimensionsStyleElement.textContent=C,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(E){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let C=`${this._terminalSelector} .xterm-rows { color: ${E.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px;}`;C+=`${this._terminalSelector} .xterm-rows .xterm-dim { color: ${v.color.multiplyOpacity(E.foreground,.5).css};}`,C+=`${this._terminalSelector} span:not(.${c.BOLD_CLASS}) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.${c.BOLD_CLASS} { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.${c.ITALIC_CLASS} { font-style: italic;}`,C+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",C+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${E.cursor.css};  color: ${E.cursorAccent.css}; } 50% {  background-color: ${E.cursorAccent.css};  color: ${E.cursor.css}; }}`,C+=`${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${c.CURSOR_CLASS}.${c.CURSOR_STYLE_BLOCK_CLASS} ,${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${c.CURSOR_CLASS}.${c.CURSOR_STYLE_BAR_CLASS} ,${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${c.CURSOR_CLASS}.${c.CURSOR_STYLE_UNDERLINE_CLASS} { outline: 1px solid ${E.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .xterm-rows.xterm-focus .${c.CURSOR_CLASS}.${c.CURSOR_BLINK_CLASS}:not(.${c.CURSOR_STYLE_BLOCK_CLASS}) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${c.CURSOR_CLASS}.${c.CURSOR_BLINK_CLASS}.${c.CURSOR_STYLE_BLOCK_CLASS} { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${c.CURSOR_CLASS}.${c.CURSOR_STYLE_BLOCK_CLASS} { background-color: ${E.cursor.css}; color: ${E.cursorAccent.css};}${this._terminalSelector} .xterm-rows .${c.CURSOR_CLASS}.${c.CURSOR_STYLE_BAR_CLASS} { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${E.cursor.css} inset;}${this._terminalSelector} .xterm-rows .${c.CURSOR_CLASS}.${c.CURSOR_STYLE_UNDERLINE_CLASS} { box-shadow: 0 -1px 0 ${E.cursor.css} inset;}`,C+=`${this._terminalSelector} .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .xterm-selection div { position: absolute; background-color: ${E.selectionBackgroundOpaque.css};}${this._terminalSelector} .xterm-selection div { position: absolute; background-color: ${E.selectionInactiveBackgroundOpaque.css};}`;for(const[k,R]of E.ansi.entries())C+=`${this._terminalSelector} .xterm-fg-${k} { color: ${R.css}; }${this._terminalSelector} .xterm-fg-${k}.${c.DIM_CLASS} { color: ${v.color.multiplyOpacity(R,.5).css}; }${this._terminalSelector} .xterm-bg-${k} { background-color: ${R.css}; }`;C+=`${this._terminalSelector} .xterm-fg-${p.INVERTED_DEFAULT_COLOR} { color: ${v.color.opaque(E.background).css}; }${this._terminalSelector} .xterm-fg-${p.INVERTED_DEFAULT_COLOR}.${c.DIM_CLASS} { color: ${v.color.multiplyOpacity(v.color.opaque(E.background),.5).css}; }${this._terminalSelector} .xterm-bg-${p.INVERTED_DEFAULT_COLOR} { background-color: ${E.foreground.css}; }`,this._themeStyleElement.textContent=C}handleDevicePixelRatioChange(){this._updateDimensions()}_refreshRowElements(E,C){for(let k=this._rowElements.length;k<=C;k++){const R=document.createElement("div");this._rowContainer.appendChild(R),this._rowElements.push(R)}for(;this._rowElements.length>C;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(E,C){this._refreshRowElements(E,C),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions()}handleBlur(){this._rowContainer.classList.remove(b)}handleFocus(){this._rowContainer.classList.add(b)}handleSelectionChanged(E,C,k){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(this._rowFactory.handleSelectionChanged(E,C,k),this.renderRows(0,this._bufferService.rows-1),!E||!C)return;const R=E[1]-this._bufferService.buffer.ydisp,T=C[1]-this._bufferService.buffer.ydisp,M=Math.max(R,0),I=Math.min(T,this._bufferService.rows-1);if(M>=this._bufferService.rows||I<0)return;const K=document.createDocumentFragment();if(k){const z=E[0]>C[0];K.appendChild(this._createSelectionElement(M,z?C[0]:E[0],z?E[0]:C[0],I-M+1))}else{const z=R===M?E[0]:0,G=M===T?C[0]:this._bufferService.cols;K.appendChild(this._createSelectionElement(M,z,G));const L=I-M-1;if(K.appendChild(this._createSelectionElement(M+1,0,this._bufferService.cols,L)),M!==I){const O=T===I?C[0]:this._bufferService.cols;K.appendChild(this._createSelectionElement(I,0,O))}}this._selectionContainer.appendChild(K)}_createSelectionElement(E,C,k,R=1){const T=document.createElement("div");return T.style.height=R*this.dimensions.css.cell.height+"px",T.style.top=E*this.dimensions.css.cell.height+"px",T.style.left=C*this.dimensions.css.cell.width+"px",T.style.width=this.dimensions.css.cell.width*(k-C)+"px",T}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors)}clear(){for(const E of this._rowElements)E.replaceChildren()}renderRows(E,C){const k=this._bufferService.buffer.ybase+this._bufferService.buffer.y,R=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),T=this._optionsService.rawOptions.cursorBlink;for(let M=E;M<=C;M++){const I=this._rowElements[M],K=M+this._bufferService.buffer.ydisp,z=this._bufferService.buffer.lines.get(K),G=this._optionsService.rawOptions.cursorStyle;this._cellToRowElements[M]&&this._cellToRowElements[M].length===this._bufferService.cols||(this._cellToRowElements[M]=new Int16Array(this._bufferService.cols)),I.replaceChildren(this._rowFactory.createRow(z,K,K===k,G,R,T,this.dimensions.css.cell.width,this._bufferService.cols,this._cellToRowElements[M]))}}get _terminalSelector(){return`.${a}${this._terminalClass}`}_handleLinkHover(E){this._setCellUnderline(E.x1,E.x2,E.y1,E.y2,E.cols,!0)}_handleLinkLeave(E){this._setCellUnderline(E.x1,E.x2,E.y1,E.y2,E.cols,!1)}_setCellUnderline(E,C,k,R,T,M){k<0&&(E=0),R<0&&(C=0);const I=this._cellToRowElements.length-1;k=Math.max(Math.min(k,I),0),R=Math.max(Math.min(R,I),0);const K=this._cellToRowElements[k],z=this._cellToRowElements[R];if(!(E>=K.length||C>=z.length)&&(E=K[E],C=z[C],E!==-1&&C!==-1))for(;E!==C||k!==R;){const G=this._rowElements[k];if(!G)return;const L=G.children[E];L&&(L.style.textDecoration=M?"underline":"none"),++E>=T&&(E=0,k++)}}};y=l([u(4,h.IInstantiationService),u(5,w.ICharSizeService),u(6,h.IOptionsService),u(7,h.IBufferService),u(8,w.ICoreBrowserService),u(9,w.IThemeService)],y),i.DomRenderer=y},3787:function(_,i,n){var l=this&&this.__decorate||function(y,E,C,k){var R,T=arguments.length,M=T<3?E:k===null?k=Object.getOwnPropertyDescriptor(E,C):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(y,E,C,k);else for(var I=y.length-1;I>=0;I--)(R=y[I])&&(M=(T<3?R(M):T>3?R(E,C,M):R(E,C))||M);return T>3&&M&&Object.defineProperty(E,C,M),M},u=this&&this.__param||function(y,E){return function(C,k){E(C,k,y)}};Object.defineProperty(i,"__esModule",{value:!0}),i.DomRendererRowFactory=i.CURSOR_STYLE_UNDERLINE_CLASS=i.CURSOR_STYLE_BAR_CLASS=i.CURSOR_STYLE_BLOCK_CLASS=i.CURSOR_BLINK_CLASS=i.CURSOR_CLASS=i.STRIKETHROUGH_CLASS=i.OVERLINE_CLASS=i.UNDERLINE_CLASS=i.ITALIC_CLASS=i.DIM_CLASS=i.BOLD_CLASS=void 0;const c=n(2223),p=n(643),S=n(511),w=n(2585),v=n(8055),s=n(4725),f=n(4269),h=n(6171),a=n(3734);i.BOLD_CLASS="xterm-bold",i.DIM_CLASS="xterm-dim",i.ITALIC_CLASS="xterm-italic",i.UNDERLINE_CLASS="xterm-underline",i.OVERLINE_CLASS="xterm-overline",i.STRIKETHROUGH_CLASS="xterm-strikethrough",i.CURSOR_CLASS="xterm-cursor",i.CURSOR_BLINK_CLASS="xterm-cursor-blink",i.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",i.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",i.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";let b=class{constructor(y,E,C,k,R,T,M){this._document=y,this._characterJoinerService=E,this._optionsService=C,this._coreBrowserService=k,this._coreService=R,this._decorationService=T,this._themeService=M,this._workCell=new S.CellData,this._columnSelectMode=!1}handleSelectionChanged(y,E,C){this._selectionStart=y,this._selectionEnd=E,this._columnSelectMode=C}createRow(y,E,C,k,R,T,M,I,K){const z=this._document.createDocumentFragment(),G=this._characterJoinerService.getJoinedCharacters(E);let L=0;for(let W=Math.min(y.length,I)-1;W>=0;W--)if(y.loadCell(W,this._workCell).getCode()!==p.NULL_CELL_CODE||C&&W===R){L=W+1;break}const O=this._themeService.colors;let B=-1,H=0;for(;H<L;H++){y.loadCell(H,this._workCell);let W=this._workCell.getWidth();if(W===0){K[H]=B;continue}let Y=!1,oe=H,J=this._workCell;if(G.length>0&&H===G[0][0]){Y=!0;const ve=G.shift();J=new f.JoinedCellData(this._workCell,y.translateToString(!0,ve[0],ve[1]),ve[1]-ve[0]),oe=ve[1]-1,W=J.getWidth()}const ie=this._document.createElement("span");if(W>1&&(ie.style.width=M*W+"px"),Y&&(ie.style.display="inline",R>=H&&R<=oe&&(R=H)),!this._coreService.isCursorHidden&&C&&H===R)switch(ie.classList.add(i.CURSOR_CLASS),T&&ie.classList.add(i.CURSOR_BLINK_CLASS),k){case"bar":ie.classList.add(i.CURSOR_STYLE_BAR_CLASS);break;case"underline":ie.classList.add(i.CURSOR_STYLE_UNDERLINE_CLASS);break;default:ie.classList.add(i.CURSOR_STYLE_BLOCK_CLASS)}if(J.isBold()&&ie.classList.add(i.BOLD_CLASS),J.isItalic()&&ie.classList.add(i.ITALIC_CLASS),J.isDim()&&ie.classList.add(i.DIM_CLASS),J.isInvisible()?ie.textContent=p.WHITESPACE_CELL_CHAR:ie.textContent=J.getChars()||p.WHITESPACE_CELL_CHAR,J.isUnderline()&&(ie.classList.add(`${i.UNDERLINE_CLASS}-${J.extended.underlineStyle}`),ie.textContent===" "&&(ie.textContent=" "),!J.isUnderlineColorDefault()))if(J.isUnderlineColorRGB())ie.style.textDecorationColor=`rgb(${a.AttributeData.toColorRGB(J.getUnderlineColor()).join(",")})`;else{let ve=J.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&J.isBold()&&ve<8&&(ve+=8),ie.style.textDecorationColor=O.ansi[ve].css}J.isOverline()&&(ie.classList.add(i.OVERLINE_CLASS),ie.textContent===" "&&(ie.textContent=" ")),J.isStrikethrough()&&ie.classList.add(i.STRIKETHROUGH_CLASS);let $=J.getFgColor(),P=J.getFgColorMode(),F=J.getBgColor(),X=J.getBgColorMode();const Z=!!J.isInverse();if(Z){const ve=$;$=F,F=ve;const Je=P;P=X,X=Je}let fe,te,be=!1;this._decorationService.forEachDecorationAtCell(H,E,void 0,ve=>{ve.options.layer!=="top"&&be||(ve.backgroundColorRGB&&(X=50331648,F=ve.backgroundColorRGB.rgba>>8&16777215,fe=ve.backgroundColorRGB),ve.foregroundColorRGB&&(P=50331648,$=ve.foregroundColorRGB.rgba>>8&16777215,te=ve.foregroundColorRGB),be=ve.options.layer==="top")});const ye=this._isCellInSelection(H,E);let Se;switch(be||O.selectionForeground&&ye&&(P=50331648,$=O.selectionForeground.rgba>>8&16777215,te=O.selectionForeground),ye&&(fe=this._coreBrowserService.isFocused?O.selectionBackgroundOpaque:O.selectionInactiveBackgroundOpaque,be=!0),be&&ie.classList.add("xterm-decoration-top"),X){case 16777216:case 33554432:Se=O.ansi[F],ie.classList.add(`xterm-bg-${F}`);break;case 50331648:Se=v.rgba.toColor(F>>16,F>>8&255,255&F),this._addStyle(ie,`background-color:#${g((F>>>0).toString(16),"0",6)}`);break;default:Z?(Se=O.foreground,ie.classList.add(`xterm-bg-${c.INVERTED_DEFAULT_COLOR}`)):Se=O.background}switch(fe||J.isDim()&&(fe=v.color.multiplyOpacity(Se,.5)),P){case 16777216:case 33554432:J.isBold()&&$<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&($+=8),this._applyMinimumContrast(ie,Se,O.ansi[$],J,fe,void 0)||ie.classList.add(`xterm-fg-${$}`);break;case 50331648:const ve=v.rgba.toColor($>>16&255,$>>8&255,255&$);this._applyMinimumContrast(ie,Se,ve,J,fe,te)||this._addStyle(ie,`color:#${g($.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(ie,Se,O.foreground,J,fe,void 0)||Z&&ie.classList.add(`xterm-fg-${c.INVERTED_DEFAULT_COLOR}`)}z.appendChild(ie),K[H]=++B,H=oe}return H<I-1&&K.subarray(H).fill(++B),z}_applyMinimumContrast(y,E,C,k,R,T){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,h.excludeFromContrastRatioDemands)(k.getCode()))return!1;let M;return R||T||(M=this._themeService.colors.contrastCache.getColor(E.rgba,C.rgba)),M===void 0&&(M=v.color.ensureContrastRatio(R||E,T||C,this._optionsService.rawOptions.minimumContrastRatio),this._themeService.colors.contrastCache.setColor((R||E).rgba,(T||C).rgba,M??null)),!!M&&(this._addStyle(y,`color:${M.css}`),!0)}_addStyle(y,E){y.setAttribute("style",`${y.getAttribute("style")||""}${E};`)}_isCellInSelection(y,E){const C=this._selectionStart,k=this._selectionEnd;return!(!C||!k)&&(this._columnSelectMode?C[0]<=k[0]?y>=C[0]&&E>=C[1]&&y<k[0]&&E<=k[1]:y<C[0]&&E>=C[1]&&y>=k[0]&&E<=k[1]:E>C[1]&&E<k[1]||C[1]===k[1]&&E===C[1]&&y>=C[0]&&y<k[0]||C[1]<k[1]&&E===k[1]&&y<k[0]||C[1]<k[1]&&E===C[1]&&y>=C[0])}};function g(y,E,C){for(;y.length<C;)y=E+y;return y}b=l([u(1,s.ICharacterJoinerService),u(2,w.IOptionsService),u(3,s.ICoreBrowserService),u(4,w.ICoreService),u(5,w.IDecorationService),u(6,s.IThemeService)],b),i.DomRendererRowFactory=b},2223:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TEXT_BASELINE=i.DIM_OPACITY=i.INVERTED_DEFAULT_COLOR=void 0;const l=n(6114);i.INVERTED_DEFAULT_COLOR=257,i.DIM_OPACITY=.5,i.TEXT_BASELINE=l.isFirefox||l.isLegacyEdge?"bottom":"ideographic"},6171:(_,i)=>{function n(l){return 57508<=l&&l<=57558}Object.defineProperty(i,"__esModule",{value:!0}),i.createRenderDimensions=i.excludeFromContrastRatioDemands=i.isRestrictedPowerlineGlyph=i.isPowerlineGlyph=i.throwIfFalsy=void 0,i.throwIfFalsy=function(l){if(!l)throw new Error("value must not be falsy");return l},i.isPowerlineGlyph=n,i.isRestrictedPowerlineGlyph=function(l){return 57520<=l&&l<=57527},i.excludeFromContrastRatioDemands=function(l){return n(l)||function(u){return 9472<=u&&u<=9631}(l)},i.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SelectionModel=void 0,i.SelectionModel=class{constructor(n){this._bufferService=n,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const n=this.selectionStart[0]+this.selectionStartLength;return n>this._bufferService.cols?n%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(n/this._bufferService.cols)-1]:[n%this._bufferService.cols,this.selectionStart[1]+Math.floor(n/this._bufferService.cols)]:[n,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const n=this.selectionStart[0]+this.selectionStartLength;return n>this._bufferService.cols?[n%this._bufferService.cols,this.selectionStart[1]+Math.floor(n/this._bufferService.cols)]:[Math.max(n,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const n=this.selectionStart,l=this.selectionEnd;return!(!n||!l)&&(n[1]>l[1]||n[1]===l[1]&&n[0]>l[0])}handleTrim(n){return this.selectionStart&&(this.selectionStart[1]-=n),this.selectionEnd&&(this.selectionEnd[1]-=n),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(_,i,n){var l=this&&this.__decorate||function(s,f,h,a){var b,g=arguments.length,y=g<3?f:a===null?a=Object.getOwnPropertyDescriptor(f,h):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(s,f,h,a);else for(var E=s.length-1;E>=0;E--)(b=s[E])&&(y=(g<3?b(y):g>3?b(f,h,y):b(f,h))||y);return g>3&&y&&Object.defineProperty(f,h,y),y},u=this&&this.__param||function(s,f){return function(h,a){f(h,a,s)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CharSizeService=void 0;const c=n(2585),p=n(8460),S=n(844);let w=class extends S.Disposable{constructor(s,f,h){super(),this._optionsService=h,this.width=0,this.height=0,this._onCharSizeChange=this.register(new p.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new v(s,f,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}get hasValidSize(){return this.width>0&&this.height>0}measure(){const s=this._measureStrategy.measure();s.width===this.width&&s.height===this.height||(this.width=s.width,this.height=s.height,this._onCharSizeChange.fire())}};w=l([u(2,c.IOptionsService)],w),i.CharSizeService=w;class v{constructor(f,h,a){this._document=f,this._parentElement=h,this._optionsService=a,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const f=this._measureElement.getBoundingClientRect();return f.width!==0&&f.height!==0&&(this._result.width=f.width,this._result.height=Math.ceil(f.height)),this._result}}},4269:function(_,i,n){var l=this&&this.__decorate||function(f,h,a,b){var g,y=arguments.length,E=y<3?h:b===null?b=Object.getOwnPropertyDescriptor(h,a):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(f,h,a,b);else for(var C=f.length-1;C>=0;C--)(g=f[C])&&(E=(y<3?g(E):y>3?g(h,a,E):g(h,a))||E);return y>3&&E&&Object.defineProperty(h,a,E),E},u=this&&this.__param||function(f,h){return function(a,b){h(a,b,f)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CharacterJoinerService=i.JoinedCellData=void 0;const c=n(3734),p=n(643),S=n(511),w=n(2585);class v extends c.AttributeData{constructor(h,a,b){super(),this.content=0,this.combinedData="",this.fg=h.fg,this.bg=h.bg,this.combinedData=a,this._width=b}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(h){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}i.JoinedCellData=v;let s=class yr{constructor(h){this._bufferService=h,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new S.CellData}register(h){const a={id:this._nextCharacterJoinerId++,handler:h};return this._characterJoiners.push(a),a.id}deregister(h){for(let a=0;a<this._characterJoiners.length;a++)if(this._characterJoiners[a].id===h)return this._characterJoiners.splice(a,1),!0;return!1}getJoinedCharacters(h){if(this._characterJoiners.length===0)return[];const a=this._bufferService.buffer.lines.get(h);if(!a||a.length===0)return[];const b=[],g=a.translateToString(!0);let y=0,E=0,C=0,k=a.getFg(0),R=a.getBg(0);for(let T=0;T<a.getTrimmedLength();T++)if(a.loadCell(T,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==k||this._workCell.bg!==R){if(T-y>1){const M=this._getJoinedRanges(g,C,E,a,y);for(let I=0;I<M.length;I++)b.push(M[I])}y=T,C=E,k=this._workCell.fg,R=this._workCell.bg}E+=this._workCell.getChars().length||p.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-y>1){const T=this._getJoinedRanges(g,C,E,a,y);for(let M=0;M<T.length;M++)b.push(T[M])}return b}_getJoinedRanges(h,a,b,g,y){const E=h.substring(a,b);let C=[];try{C=this._characterJoiners[0].handler(E)}catch(k){console.error(k)}for(let k=1;k<this._characterJoiners.length;k++)try{const R=this._characterJoiners[k].handler(E);for(let T=0;T<R.length;T++)yr._mergeRanges(C,R[T])}catch(R){console.error(R)}return this._stringRangesToCellRanges(C,g,y),C}_stringRangesToCellRanges(h,a,b){let g=0,y=!1,E=0,C=h[g];if(C){for(let k=b;k<this._bufferService.cols;k++){const R=a.getWidth(k),T=a.getString(k).length||p.WHITESPACE_CELL_CHAR.length;if(R!==0){if(!y&&C[0]<=E&&(C[0]=k,y=!0),C[1]<=E){if(C[1]=k,C=h[++g],!C)break;C[0]<=E?(C[0]=k,y=!0):y=!1}E+=T}}C&&(C[1]=this._bufferService.cols)}}static _mergeRanges(h,a){let b=!1;for(let g=0;g<h.length;g++){const y=h[g];if(b){if(a[1]<=y[0])return h[g-1][1]=a[1],h;if(a[1]<=y[1])return h[g-1][1]=Math.max(a[1],y[1]),h.splice(g,1),h;h.splice(g,1),g--}else{if(a[1]<=y[0])return h.splice(g,0,a),h;if(a[1]<=y[1])return y[0]=Math.min(a[0],y[0]),h;a[0]<y[1]&&(y[0]=Math.min(a[0],y[0]),b=!0)}}return b?h[h.length-1][1]=a[1]:h.push(a),h}};s=l([u(0,w.IBufferService)],s),i.CharacterJoinerService=s},5114:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CoreBrowserService=void 0,i.CoreBrowserService=class{constructor(n,l){this._textarea=n,this.window=l,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(_,i,n){var l=this&&this.__decorate||function(w,v,s,f){var h,a=arguments.length,b=a<3?v:f===null?f=Object.getOwnPropertyDescriptor(v,s):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(w,v,s,f);else for(var g=w.length-1;g>=0;g--)(h=w[g])&&(b=(a<3?h(b):a>3?h(v,s,b):h(v,s))||b);return a>3&&b&&Object.defineProperty(v,s,b),b},u=this&&this.__param||function(w,v){return function(s,f){v(s,f,w)}};Object.defineProperty(i,"__esModule",{value:!0}),i.MouseService=void 0;const c=n(4725),p=n(9806);let S=class{constructor(w,v){this._renderService=w,this._charSizeService=v}getCoords(w,v,s,f,h){return(0,p.getCoords)(window,w,v,s,f,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,h)}getMouseReportCoords(w,v){const s=(0,p.getCoordsRelativeToElement)(window,w,v);if(!(!this._charSizeService.hasValidSize||s[0]<0||s[1]<0||s[0]>=this._renderService.dimensions.css.canvas.width||s[1]>=this._renderService.dimensions.css.canvas.height))return{col:Math.floor(s[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(s[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(s[0]),y:Math.floor(s[1])}}};S=l([u(0,c.IRenderService),u(1,c.ICharSizeService)],S),i.MouseService=S},3230:function(_,i,n){var l=this&&this.__decorate||function(b,g,y,E){var C,k=arguments.length,R=k<3?g:E===null?E=Object.getOwnPropertyDescriptor(g,y):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(b,g,y,E);else for(var T=b.length-1;T>=0;T--)(C=b[T])&&(R=(k<3?C(R):k>3?C(g,y,R):C(g,y))||R);return k>3&&R&&Object.defineProperty(g,y,R),R},u=this&&this.__param||function(b,g){return function(y,E){g(y,E,b)}};Object.defineProperty(i,"__esModule",{value:!0}),i.RenderService=void 0;const c=n(6193),p=n(8460),S=n(844),w=n(5596),v=n(3656),s=n(2585),f=n(4725),h=n(7226);let a=class extends S.Disposable{constructor(b,g,y,E,C,k,R,T){if(super(),this._rowCount=b,this._charSizeService=E,this._pausedResizeTask=new h.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new p.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new p.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new p.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new p.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this.register({dispose:()=>{var M;return(M=this._renderer)===null||M===void 0?void 0:M.dispose()}}),this._renderDebouncer=new c.RenderDebouncer(R.window,(M,I)=>this._renderRows(M,I)),this.register(this._renderDebouncer),this._screenDprMonitor=new w.ScreenDprMonitor(R.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(k.onResize(()=>this._fullRefresh())),this.register(k.buffers.onBufferActivate(()=>{var M;return(M=this._renderer)===null||M===void 0?void 0:M.clear()})),this.register(y.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(C.onDecorationRegistered(()=>this._fullRefresh())),this.register(C.onDecorationRemoved(()=>this._fullRefresh())),this.register(y.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(k.cols,k.rows),this._fullRefresh()})),this.register(y.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(k.buffer.y,k.buffer.y,!0))),this.register((0,v.addDisposableDomListener)(R.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(T.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in R.window){const M=new R.window.IntersectionObserver(I=>this._handleIntersectionChange(I[I.length-1]),{threshold:0});M.observe(g),this.register({dispose:()=>M.disconnect()})}}get dimensions(){return this._renderer.dimensions}_handleIntersectionChange(b){this._isPaused=b.isIntersecting===void 0?b.intersectionRatio===0:!b.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(b,g,y=!1){this._isPaused?this._needsFullRefresh=!0:(y||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(b,g,this._rowCount))}_renderRows(b,g){this._renderer&&(b=Math.min(b,this._rowCount-1),g=Math.min(g,this._rowCount-1),this._renderer.renderRows(b,g),this._needsSelectionRefresh&&(this._renderer.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:b,end:g}),this._onRender.fire({start:b,end:g}),this._isNextRenderRedrawOnly=!0)}resize(b,g){this._rowCount=g,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer&&(this._renderer.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions))}hasRenderer(){return!!this._renderer}setRenderer(b){var g;(g=this._renderer)===null||g===void 0||g.dispose(),this._renderer=b,this._renderer.onRequestRedraw(y=>this.refreshRows(y.start,y.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(b){return this._renderDebouncer.addRefreshCallback(b)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var b,g;this._renderer&&((g=(b=this._renderer).clearTextureAtlas)===null||g===void 0||g.call(b),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer&&(this._renderer.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(b,g){this._renderer&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.handleResize(b,g)):this._renderer.handleResize(b,g),this._fullRefresh())}handleCharSizeChanged(){var b;(b=this._renderer)===null||b===void 0||b.handleCharSizeChanged()}handleBlur(){var b;(b=this._renderer)===null||b===void 0||b.handleBlur()}handleFocus(){var b;(b=this._renderer)===null||b===void 0||b.handleFocus()}handleSelectionChanged(b,g,y){var E;this._selectionState.start=b,this._selectionState.end=g,this._selectionState.columnSelectMode=y,(E=this._renderer)===null||E===void 0||E.handleSelectionChanged(b,g,y)}handleCursorMove(){var b;(b=this._renderer)===null||b===void 0||b.handleCursorMove()}clear(){var b;(b=this._renderer)===null||b===void 0||b.clear()}};a=l([u(2,s.IOptionsService),u(3,f.ICharSizeService),u(4,s.IDecorationService),u(5,s.IBufferService),u(6,f.ICoreBrowserService),u(7,f.IThemeService)],a),i.RenderService=a},9312:function(_,i,n){var l=this&&this.__decorate||function(C,k,R,T){var M,I=arguments.length,K=I<3?k:T===null?T=Object.getOwnPropertyDescriptor(k,R):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(C,k,R,T);else for(var z=C.length-1;z>=0;z--)(M=C[z])&&(K=(I<3?M(K):I>3?M(k,R,K):M(k,R))||K);return I>3&&K&&Object.defineProperty(k,R,K),K},u=this&&this.__param||function(C,k){return function(R,T){k(R,T,C)}};Object.defineProperty(i,"__esModule",{value:!0}),i.SelectionService=void 0;const c=n(6114),p=n(456),S=n(511),w=n(8460),v=n(4725),s=n(2585),f=n(9806),h=n(9504),a=n(844),b=n(4841),g=String.fromCharCode(160),y=new RegExp(g,"g");let E=class extends a.Disposable{constructor(C,k,R,T,M,I,K,z,G){super(),this._element=C,this._screenElement=k,this._linkifier=R,this._bufferService=T,this._coreService=M,this._mouseService=I,this._optionsService=K,this._renderService=z,this._coreBrowserService=G,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new S.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new w.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new w.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new w.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new w.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=L=>this._handleMouseMove(L),this._mouseUpListener=L=>this._handleMouseUp(L),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(L=>this._handleTrim(L)),this.register(this._bufferService.buffers.onBufferActivate(L=>this._handleBufferActivate(L))),this.enable(),this._model=new p.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,a.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const C=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;return!(!C||!k||C[0]===k[0]&&C[1]===k[1])}get selectionText(){const C=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;if(!C||!k)return"";const R=this._bufferService.buffer,T=[];if(this._activeSelectionMode===3){if(C[0]===k[0])return"";const M=C[0]<k[0]?C[0]:k[0],I=C[0]<k[0]?k[0]:C[0];for(let K=C[1];K<=k[1];K++){const z=R.translateBufferLineToString(K,!0,M,I);T.push(z)}}else{const M=C[1]===k[1]?k[0]:void 0;T.push(R.translateBufferLineToString(C[1],!0,C[0],M));for(let I=C[1]+1;I<=k[1]-1;I++){const K=R.lines.get(I),z=R.translateBufferLineToString(I,!0);K!=null&&K.isWrapped?T[T.length-1]+=z:T.push(z)}if(C[1]!==k[1]){const I=R.lines.get(k[1]),K=R.translateBufferLineToString(k[1],!0,0,k[0]);I&&I.isWrapped?T[T.length-1]+=K:T.push(K)}}return T.map(M=>M.replace(y," ")).join(c.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(C){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),c.isLinux&&C&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(C){const k=this._getMouseBufferCoords(C),R=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;return!!(R&&T&&k)&&this._areCoordsInSelection(k,R,T)}isCellInSelection(C,k){const R=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;return!(!R||!T)&&this._areCoordsInSelection([C,k],R,T)}_areCoordsInSelection(C,k,R){return C[1]>k[1]&&C[1]<R[1]||k[1]===R[1]&&C[1]===k[1]&&C[0]>=k[0]&&C[0]<R[0]||k[1]<R[1]&&C[1]===R[1]&&C[0]<R[0]||k[1]<R[1]&&C[1]===k[1]&&C[0]>=k[0]}_selectWordAtCursor(C,k){var R,T;const M=(T=(R=this._linkifier.currentLink)===null||R===void 0?void 0:R.link)===null||T===void 0?void 0:T.range;if(M)return this._model.selectionStart=[M.start.x-1,M.start.y-1],this._model.selectionStartLength=(0,b.getRangeLength)(M,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const I=this._getMouseBufferCoords(C);return!!I&&(this._selectWordAt(I,k),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(C,k){this._model.clearSelection(),C=Math.max(C,0),k=Math.min(k,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,C],this._model.selectionEnd=[this._bufferService.cols,k],this.refresh(),this._onSelectionChange.fire()}_handleTrim(C){this._model.handleTrim(C)&&this.refresh()}_getMouseBufferCoords(C){const k=this._mouseService.getCoords(C,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(k)return k[0]--,k[1]--,k[1]+=this._bufferService.buffer.ydisp,k}_getMouseEventScrollAmount(C){let k=(0,f.getCoordsRelativeToElement)(this._coreBrowserService.window,C,this._screenElement)[1];const R=this._renderService.dimensions.css.canvas.height;return k>=0&&k<=R?0:(k>R&&(k-=R),k=Math.min(Math.max(k,-50),50),k/=50,k/Math.abs(k)+Math.round(14*k))}shouldForceSelection(C){return c.isMac?C.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:C.shiftKey}handleMouseDown(C){if(this._mouseDownTimeStamp=C.timeStamp,(C.button!==2||!this.hasSelection)&&C.button===0){if(!this._enabled){if(!this.shouldForceSelection(C))return;C.stopPropagation()}C.preventDefault(),this._dragScrollAmount=0,this._enabled&&C.shiftKey?this._handleIncrementalClick(C):C.detail===1?this._handleSingleClick(C):C.detail===2?this._handleDoubleClick(C):C.detail===3&&this._handleTripleClick(C),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(C){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(C))}_handleSingleClick(C){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(C)?3:0,this._model.selectionStart=this._getMouseBufferCoords(C),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const k=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);k&&k.length!==this._model.selectionStart[0]&&k.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(C){this._selectWordAtCursor(C,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(C){const k=this._getMouseBufferCoords(C);k&&(this._activeSelectionMode=2,this._selectLineAt(k[1]))}shouldColumnSelect(C){return C.altKey&&!(c.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(C){if(C.stopImmediatePropagation(),!this._model.selectionStart)return;const k=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(C),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(C),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const R=this._bufferService.buffer;if(this._model.selectionEnd[1]<R.lines.length){const T=R.lines.get(this._model.selectionEnd[1]);T&&T.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}k&&k[0]===this._model.selectionEnd[0]&&k[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const C=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(C.ydisp+this._bufferService.rows,C.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=C.ydisp),this.refresh()}}_handleMouseUp(C){const k=C.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&k<500&&C.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const R=this._mouseService.getCoords(C,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(R&&R[0]!==void 0&&R[1]!==void 0){const T=(0,h.moveToCellSequence)(R[0]-1,R[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(T,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const C=this._model.finalSelectionStart,k=this._model.finalSelectionEnd,R=!(!C||!k||C[0]===k[0]&&C[1]===k[1]);R?C&&k&&(this._oldSelectionStart&&this._oldSelectionEnd&&C[0]===this._oldSelectionStart[0]&&C[1]===this._oldSelectionStart[1]&&k[0]===this._oldSelectionEnd[0]&&k[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(C,k,R)):this._oldHasSelection&&this._fireOnSelectionChange(C,k,R)}_fireOnSelectionChange(C,k,R){this._oldSelectionStart=C,this._oldSelectionEnd=k,this._oldHasSelection=R,this._onSelectionChange.fire()}_handleBufferActivate(C){this.clearSelection(),this._trimListener.dispose(),this._trimListener=C.activeBuffer.lines.onTrim(k=>this._handleTrim(k))}_convertViewportColToCharacterIndex(C,k){let R=k;for(let T=0;k>=T;T++){const M=C.loadCell(T,this._workCell).getChars().length;this._workCell.getWidth()===0?R--:M>1&&k!==T&&(R+=M-1)}return R}setSelection(C,k,R){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[C,k],this._model.selectionStartLength=R,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(C){this._isClickInSelection(C)||(this._selectWordAtCursor(C,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(C,k,R=!0,T=!0){if(C[0]>=this._bufferService.cols)return;const M=this._bufferService.buffer,I=M.lines.get(C[1]);if(!I)return;const K=M.translateBufferLineToString(C[1],!1);let z=this._convertViewportColToCharacterIndex(I,C[0]),G=z;const L=C[0]-z;let O=0,B=0,H=0,W=0;if(K.charAt(z)===" "){for(;z>0&&K.charAt(z-1)===" ";)z--;for(;G<K.length&&K.charAt(G+1)===" ";)G++}else{let J=C[0],ie=C[0];I.getWidth(J)===0&&(O++,J--),I.getWidth(ie)===2&&(B++,ie++);const $=I.getString(ie).length;for($>1&&(W+=$-1,G+=$-1);J>0&&z>0&&!this._isCharWordSeparator(I.loadCell(J-1,this._workCell));){I.loadCell(J-1,this._workCell);const P=this._workCell.getChars().length;this._workCell.getWidth()===0?(O++,J--):P>1&&(H+=P-1,z-=P-1),z--,J--}for(;ie<I.length&&G+1<K.length&&!this._isCharWordSeparator(I.loadCell(ie+1,this._workCell));){I.loadCell(ie+1,this._workCell);const P=this._workCell.getChars().length;this._workCell.getWidth()===2?(B++,ie++):P>1&&(W+=P-1,G+=P-1),G++,ie++}}G++;let Y=z+L-O+H,oe=Math.min(this._bufferService.cols,G-z+O+B-H-W);if(k||K.slice(z,G).trim()!==""){if(R&&Y===0&&I.getCodePoint(0)!==32){const J=M.lines.get(C[1]-1);if(J&&I.isWrapped&&J.getCodePoint(this._bufferService.cols-1)!==32){const ie=this._getWordAt([this._bufferService.cols-1,C[1]-1],!1,!0,!1);if(ie){const $=this._bufferService.cols-ie.start;Y-=$,oe+=$}}}if(T&&Y+oe===this._bufferService.cols&&I.getCodePoint(this._bufferService.cols-1)!==32){const J=M.lines.get(C[1]+1);if(J!=null&&J.isWrapped&&J.getCodePoint(0)!==32){const ie=this._getWordAt([0,C[1]+1],!1,!1,!0);ie&&(oe+=ie.length)}}return{start:Y,length:oe}}}_selectWordAt(C,k){const R=this._getWordAt(C,k);if(R){for(;R.start<0;)R.start+=this._bufferService.cols,C[1]--;this._model.selectionStart=[R.start,C[1]],this._model.selectionStartLength=R.length}}_selectToWordAt(C){const k=this._getWordAt(C,!0);if(k){let R=C[1];for(;k.start<0;)k.start+=this._bufferService.cols,R--;if(!this._model.areSelectionValuesReversed())for(;k.start+k.length>this._bufferService.cols;)k.length-=this._bufferService.cols,R++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?k.start:k.start+k.length,R]}}_isCharWordSeparator(C){return C.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(C.getChars())>=0}_selectLineAt(C){const k=this._bufferService.buffer.getWrappedRangeForLine(C),R={start:{x:0,y:k.first},end:{x:this._bufferService.cols-1,y:k.last}};this._model.selectionStart=[0,k.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,b.getRangeLength)(R,this._bufferService.cols)}};E=l([u(3,s.IBufferService),u(4,s.ICoreService),u(5,v.IMouseService),u(6,s.IOptionsService),u(7,v.IRenderService),u(8,v.ICoreBrowserService)],E),i.SelectionService=E},4725:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.IThemeService=i.ICharacterJoinerService=i.ISelectionService=i.IRenderService=i.IMouseService=i.ICoreBrowserService=i.ICharSizeService=void 0;const l=n(8343);i.ICharSizeService=(0,l.createDecorator)("CharSizeService"),i.ICoreBrowserService=(0,l.createDecorator)("CoreBrowserService"),i.IMouseService=(0,l.createDecorator)("MouseService"),i.IRenderService=(0,l.createDecorator)("RenderService"),i.ISelectionService=(0,l.createDecorator)("SelectionService"),i.ICharacterJoinerService=(0,l.createDecorator)("CharacterJoinerService"),i.IThemeService=(0,l.createDecorator)("ThemeService")},6731:function(_,i,n){var l=this&&this.__decorate||function(E,C,k,R){var T,M=arguments.length,I=M<3?C:R===null?R=Object.getOwnPropertyDescriptor(C,k):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(E,C,k,R);else for(var K=E.length-1;K>=0;K--)(T=E[K])&&(I=(M<3?T(I):M>3?T(C,k,I):T(C,k))||I);return M>3&&I&&Object.defineProperty(C,k,I),I},u=this&&this.__param||function(E,C){return function(k,R){C(k,R,E)}};Object.defineProperty(i,"__esModule",{value:!0}),i.ThemeService=i.DEFAULT_ANSI_COLORS=void 0;const c=n(7239),p=n(8055),S=n(8460),w=n(844),v=n(2585),s=p.css.toColor("#ffffff"),f=p.css.toColor("#000000"),h=p.css.toColor("#ffffff"),a=p.css.toColor("#000000"),b={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};i.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const E=[p.css.toColor("#2e3436"),p.css.toColor("#cc0000"),p.css.toColor("#4e9a06"),p.css.toColor("#c4a000"),p.css.toColor("#3465a4"),p.css.toColor("#75507b"),p.css.toColor("#06989a"),p.css.toColor("#d3d7cf"),p.css.toColor("#555753"),p.css.toColor("#ef2929"),p.css.toColor("#8ae234"),p.css.toColor("#fce94f"),p.css.toColor("#729fcf"),p.css.toColor("#ad7fa8"),p.css.toColor("#34e2e2"),p.css.toColor("#eeeeec")],C=[0,95,135,175,215,255];for(let k=0;k<216;k++){const R=C[k/36%6|0],T=C[k/6%6|0],M=C[k%6];E.push({css:p.channels.toCss(R,T,M),rgba:p.channels.toRgba(R,T,M)})}for(let k=0;k<24;k++){const R=8+10*k;E.push({css:p.channels.toCss(R,R,R),rgba:p.channels.toRgba(R,R,R)})}return E})());let g=class extends w.Disposable{constructor(E){super(),this._optionsService=E,this._onChangeColors=this.register(new S.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._contrastCache=new c.ColorContrastCache,this._colors={foreground:s,background:f,cursor:h,cursorAccent:a,selectionForeground:void 0,selectionBackgroundTransparent:b,selectionBackgroundOpaque:p.color.blend(f,b),selectionInactiveBackgroundTransparent:b,selectionInactiveBackgroundOpaque:p.color.blend(f,b),ansi:i.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}get colors(){return this._colors}_setTheme(E={}){const C=this._colors;if(C.foreground=y(E.foreground,s),C.background=y(E.background,f),C.cursor=y(E.cursor,h),C.cursorAccent=y(E.cursorAccent,a),C.selectionBackgroundTransparent=y(E.selectionBackground,b),C.selectionBackgroundOpaque=p.color.blend(C.background,C.selectionBackgroundTransparent),C.selectionInactiveBackgroundTransparent=y(E.selectionInactiveBackground,C.selectionBackgroundTransparent),C.selectionInactiveBackgroundOpaque=p.color.blend(C.background,C.selectionInactiveBackgroundTransparent),C.selectionForeground=E.selectionForeground?y(E.selectionForeground,p.NULL_COLOR):void 0,C.selectionForeground===p.NULL_COLOR&&(C.selectionForeground=void 0),p.color.isOpaque(C.selectionBackgroundTransparent)&&(C.selectionBackgroundTransparent=p.color.opacity(C.selectionBackgroundTransparent,.3)),p.color.isOpaque(C.selectionInactiveBackgroundTransparent)&&(C.selectionInactiveBackgroundTransparent=p.color.opacity(C.selectionInactiveBackgroundTransparent,.3)),C.ansi=i.DEFAULT_ANSI_COLORS.slice(),C.ansi[0]=y(E.black,i.DEFAULT_ANSI_COLORS[0]),C.ansi[1]=y(E.red,i.DEFAULT_ANSI_COLORS[1]),C.ansi[2]=y(E.green,i.DEFAULT_ANSI_COLORS[2]),C.ansi[3]=y(E.yellow,i.DEFAULT_ANSI_COLORS[3]),C.ansi[4]=y(E.blue,i.DEFAULT_ANSI_COLORS[4]),C.ansi[5]=y(E.magenta,i.DEFAULT_ANSI_COLORS[5]),C.ansi[6]=y(E.cyan,i.DEFAULT_ANSI_COLORS[6]),C.ansi[7]=y(E.white,i.DEFAULT_ANSI_COLORS[7]),C.ansi[8]=y(E.brightBlack,i.DEFAULT_ANSI_COLORS[8]),C.ansi[9]=y(E.brightRed,i.DEFAULT_ANSI_COLORS[9]),C.ansi[10]=y(E.brightGreen,i.DEFAULT_ANSI_COLORS[10]),C.ansi[11]=y(E.brightYellow,i.DEFAULT_ANSI_COLORS[11]),C.ansi[12]=y(E.brightBlue,i.DEFAULT_ANSI_COLORS[12]),C.ansi[13]=y(E.brightMagenta,i.DEFAULT_ANSI_COLORS[13]),C.ansi[14]=y(E.brightCyan,i.DEFAULT_ANSI_COLORS[14]),C.ansi[15]=y(E.brightWhite,i.DEFAULT_ANSI_COLORS[15]),E.extendedAnsi){const k=Math.min(C.ansi.length-16,E.extendedAnsi.length);for(let R=0;R<k;R++)C.ansi[R+16]=y(E.extendedAnsi[R],i.DEFAULT_ANSI_COLORS[R+16])}this._contrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(E){this._restoreColor(E),this._onChangeColors.fire(this.colors)}_restoreColor(E){if(E!==void 0)switch(E){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[E]=this._restoreColors.ansi[E]}else for(let C=0;C<this._restoreColors.ansi.length;++C)this._colors.ansi[C]=this._restoreColors.ansi[C]}modifyColors(E){E(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function y(E,C){if(E!==void 0)try{return p.css.toColor(E)}catch{}return C}g=l([u(0,v.IOptionsService)],g),i.ThemeService=g},6349:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CircularList=void 0;const l=n(8460),u=n(844);class c extends u.Disposable{constructor(S){super(),this._maxLength=S,this.onDeleteEmitter=this.register(new l.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new l.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new l.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(S){if(this._maxLength===S)return;const w=new Array(S);for(let v=0;v<Math.min(S,this.length);v++)w[v]=this._array[this._getCyclicIndex(v)];this._array=w,this._maxLength=S,this._startIndex=0}get length(){return this._length}set length(S){if(S>this._length)for(let w=this._length;w<S;w++)this._array[w]=void 0;this._length=S}get(S){return this._array[this._getCyclicIndex(S)]}set(S,w){this._array[this._getCyclicIndex(S)]=w}push(S){this._array[this._getCyclicIndex(this._length)]=S,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(S,w,...v){if(w){for(let s=S;s<this._length-w;s++)this._array[this._getCyclicIndex(s)]=this._array[this._getCyclicIndex(s+w)];this._length-=w,this.onDeleteEmitter.fire({index:S,amount:w})}for(let s=this._length-1;s>=S;s--)this._array[this._getCyclicIndex(s+v.length)]=this._array[this._getCyclicIndex(s)];for(let s=0;s<v.length;s++)this._array[this._getCyclicIndex(S+s)]=v[s];if(v.length&&this.onInsertEmitter.fire({index:S,amount:v.length}),this._length+v.length>this._maxLength){const s=this._length+v.length-this._maxLength;this._startIndex+=s,this._length=this._maxLength,this.onTrimEmitter.fire(s)}else this._length+=v.length}trimStart(S){S>this._length&&(S=this._length),this._startIndex+=S,this._length-=S,this.onTrimEmitter.fire(S)}shiftElements(S,w,v){if(!(w<=0)){if(S<0||S>=this._length)throw new Error("start argument out of range");if(S+v<0)throw new Error("Cannot shift elements in list beyond index 0");if(v>0){for(let f=w-1;f>=0;f--)this.set(S+f+v,this.get(S+f));const s=S+w+v-this._length;if(s>0)for(this._length+=s;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let s=0;s<w;s++)this.set(S+s+v,this.get(S+s))}}_getCyclicIndex(S){return(this._startIndex+S)%this._maxLength}}i.CircularList=c},1439:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.clone=void 0,i.clone=function n(l,u=5){if(typeof l!="object")return l;const c=Array.isArray(l)?[]:{};for(const p in l)c[p]=u<=1?l[p]:l[p]&&n(l[p],u-1);return c}},8055:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.contrastRatio=i.toPaddedHex=i.rgba=i.rgb=i.css=i.color=i.channels=i.NULL_COLOR=void 0;const l=n(6114);let u=0,c=0,p=0,S=0;var w,v,s;function f(a){const b=a.toString(16);return b.length<2?"0"+b:b}function h(a,b){return a<b?(b+.05)/(a+.05):(a+.05)/(b+.05)}i.NULL_COLOR={css:"#00000000",rgba:0},function(a){a.toCss=function(b,g,y,E){return E!==void 0?`#${f(b)}${f(g)}${f(y)}${f(E)}`:`#${f(b)}${f(g)}${f(y)}`},a.toRgba=function(b,g,y,E=255){return(b<<24|g<<16|y<<8|E)>>>0}}(w=i.channels||(i.channels={})),function(a){function b(g,y){return S=Math.round(255*y),[u,c,p]=s.toChannels(g.rgba),{css:w.toCss(u,c,p,S),rgba:w.toRgba(u,c,p,S)}}a.blend=function(g,y){if(S=(255&y.rgba)/255,S===1)return{css:y.css,rgba:y.rgba};const E=y.rgba>>24&255,C=y.rgba>>16&255,k=y.rgba>>8&255,R=g.rgba>>24&255,T=g.rgba>>16&255,M=g.rgba>>8&255;return u=R+Math.round((E-R)*S),c=T+Math.round((C-T)*S),p=M+Math.round((k-M)*S),{css:w.toCss(u,c,p),rgba:w.toRgba(u,c,p)}},a.isOpaque=function(g){return(255&g.rgba)==255},a.ensureContrastRatio=function(g,y,E){const C=s.ensureContrastRatio(g.rgba,y.rgba,E);if(C)return s.toColor(C>>24&255,C>>16&255,C>>8&255)},a.opaque=function(g){const y=(255|g.rgba)>>>0;return[u,c,p]=s.toChannels(y),{css:w.toCss(u,c,p),rgba:y}},a.opacity=b,a.multiplyOpacity=function(g,y){return S=255&g.rgba,b(g,S*y/255)},a.toColorRGB=function(g){return[g.rgba>>24&255,g.rgba>>16&255,g.rgba>>8&255]}}(i.color||(i.color={})),function(a){let b,g;if(!l.isNode){const y=document.createElement("canvas");y.width=1,y.height=1;const E=y.getContext("2d",{willReadFrequently:!0});E&&(b=E,b.globalCompositeOperation="copy",g=b.createLinearGradient(0,0,1,1))}a.toColor=function(y){if(y.match(/#[\da-f]{3,8}/i))switch(y.length){case 4:return u=parseInt(y.slice(1,2).repeat(2),16),c=parseInt(y.slice(2,3).repeat(2),16),p=parseInt(y.slice(3,4).repeat(2),16),s.toColor(u,c,p);case 5:return u=parseInt(y.slice(1,2).repeat(2),16),c=parseInt(y.slice(2,3).repeat(2),16),p=parseInt(y.slice(3,4).repeat(2),16),S=parseInt(y.slice(4,5).repeat(2),16),s.toColor(u,c,p,S);case 7:return{css:y,rgba:(parseInt(y.slice(1),16)<<8|255)>>>0};case 9:return{css:y,rgba:parseInt(y.slice(1),16)>>>0}}const E=y.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(E)return u=parseInt(E[1]),c=parseInt(E[2]),p=parseInt(E[3]),S=Math.round(255*(E[5]===void 0?1:parseFloat(E[5]))),s.toColor(u,c,p,S);if(!b||!g)throw new Error("css.toColor: Unsupported css format");if(b.fillStyle=g,b.fillStyle=y,typeof b.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(b.fillRect(0,0,1,1),[u,c,p,S]=b.getImageData(0,0,1,1).data,S!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:w.toRgba(u,c,p,S),css:y}}}(i.css||(i.css={})),function(a){function b(g,y,E){const C=g/255,k=y/255,R=E/255;return .2126*(C<=.03928?C/12.92:Math.pow((C+.055)/1.055,2.4))+.7152*(k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4))+.0722*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))}a.relativeLuminance=function(g){return b(g>>16&255,g>>8&255,255&g)},a.relativeLuminance2=b}(v=i.rgb||(i.rgb={})),function(a){function b(y,E,C){const k=y>>24&255,R=y>>16&255,T=y>>8&255;let M=E>>24&255,I=E>>16&255,K=E>>8&255,z=h(v.relativeLuminance2(M,I,K),v.relativeLuminance2(k,R,T));for(;z<C&&(M>0||I>0||K>0);)M-=Math.max(0,Math.ceil(.1*M)),I-=Math.max(0,Math.ceil(.1*I)),K-=Math.max(0,Math.ceil(.1*K)),z=h(v.relativeLuminance2(M,I,K),v.relativeLuminance2(k,R,T));return(M<<24|I<<16|K<<8|255)>>>0}function g(y,E,C){const k=y>>24&255,R=y>>16&255,T=y>>8&255;let M=E>>24&255,I=E>>16&255,K=E>>8&255,z=h(v.relativeLuminance2(M,I,K),v.relativeLuminance2(k,R,T));for(;z<C&&(M<255||I<255||K<255);)M=Math.min(255,M+Math.ceil(.1*(255-M))),I=Math.min(255,I+Math.ceil(.1*(255-I))),K=Math.min(255,K+Math.ceil(.1*(255-K))),z=h(v.relativeLuminance2(M,I,K),v.relativeLuminance2(k,R,T));return(M<<24|I<<16|K<<8|255)>>>0}a.ensureContrastRatio=function(y,E,C){const k=v.relativeLuminance(y>>8),R=v.relativeLuminance(E>>8);if(h(k,R)<C){if(R<k){const I=b(y,E,C),K=h(k,v.relativeLuminance(I>>8));if(K<C){const z=g(y,E,C);return K>h(k,v.relativeLuminance(z>>8))?I:z}return I}const T=g(y,E,C),M=h(k,v.relativeLuminance(T>>8));if(M<C){const I=b(y,E,C);return M>h(k,v.relativeLuminance(I>>8))?T:I}return T}},a.reduceLuminance=b,a.increaseLuminance=g,a.toChannels=function(y){return[y>>24&255,y>>16&255,y>>8&255,255&y]},a.toColor=function(y,E,C,k){return{css:w.toCss(y,E,C,k),rgba:w.toRgba(y,E,C,k)}}}(s=i.rgba||(i.rgba={})),i.toPaddedHex=f,i.contrastRatio=h},8969:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CoreTerminal=void 0;const l=n(844),u=n(2585),c=n(4348),p=n(7866),S=n(744),w=n(7302),v=n(6975),s=n(8460),f=n(1753),h=n(1480),a=n(7994),b=n(9282),g=n(5435),y=n(5981),E=n(2660);let C=!1;class k extends l.Disposable{constructor(T){super(),this._onBinary=this.register(new s.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new s.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new s.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new s.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new s.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new s.EventEmitter),this._instantiationService=new c.InstantiationService,this.optionsService=this.register(new w.OptionsService(T)),this._instantiationService.setService(u.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(S.BufferService)),this._instantiationService.setService(u.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(p.LogService)),this._instantiationService.setService(u.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(v.CoreService)),this._instantiationService.setService(u.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(f.CoreMouseService)),this._instantiationService.setService(u.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(h.UnicodeService)),this._instantiationService.setService(u.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(a.CharsetService),this._instantiationService.setService(u.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(E.OscLinkService),this._instantiationService.setService(u.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new g.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,s.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,s.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,s.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,s.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(M=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(M=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new y.WriteBuffer((M,I)=>this._inputHandler.parse(M,I))),this.register((0,s.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed)),this.register((0,l.toDisposable)(()=>{var M;(M=this._windowsWrappingHeuristics)===null||M===void 0||M.dispose(),this._windowsWrappingHeuristics=void 0}))}get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new s.EventEmitter),this._onScroll.event(T=>{var M;(M=this._onScrollApi)===null||M===void 0||M.fire(T.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(T){for(const M in T)this.optionsService.options[M]=T[M]}write(T,M){this._writeBuffer.write(T,M)}writeSync(T,M){this._logService.logLevel<=u.LogLevelEnum.WARN&&!C&&(this._logService.warn("writeSync is unreliable and will be removed soon."),C=!0),this._writeBuffer.writeSync(T,M)}resize(T,M){isNaN(T)||isNaN(M)||(T=Math.max(T,S.MINIMUM_COLS),M=Math.max(M,S.MINIMUM_ROWS),this._bufferService.resize(T,M))}scroll(T,M=!1){this._bufferService.scroll(T,M)}scrollLines(T,M,I){this._bufferService.scrollLines(T,M,I)}scrollPages(T){this._bufferService.scrollPages(T)}scrollToTop(){this._bufferService.scrollToTop()}scrollToBottom(){this._bufferService.scrollToBottom()}scrollToLine(T){this._bufferService.scrollToLine(T)}registerEscHandler(T,M){return this._inputHandler.registerEscHandler(T,M)}registerDcsHandler(T,M){return this._inputHandler.registerDcsHandler(T,M)}registerCsiHandler(T,M){return this._inputHandler.registerCsiHandler(T,M)}registerOscHandler(T,M){return this._inputHandler.registerOscHandler(T,M)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){var T;let M=!1;const I=this.optionsService.rawOptions.windowsPty;I&&I.buildNumber!==void 0&&I.buildNumber!==void 0?M=I.backend==="conpty"&&I.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(M=!0),M?this._enableWindowsWrappingHeuristics():((T=this._windowsWrappingHeuristics)===null||T===void 0||T.dispose(),this._windowsWrappingHeuristics=void 0)}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics){const T=[];T.push(this.onLineFeed(b.updateWindowsModeWrappedState.bind(null,this._bufferService))),T.push(this.registerCsiHandler({final:"H"},()=>((0,b.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics=(0,l.toDisposable)(()=>{for(const M of T)M.dispose()})}}}i.CoreTerminal=k},8460:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.forwardEvent=i.EventEmitter=void 0,i.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=n=>(this._listeners.push(n),{dispose:()=>{if(!this._disposed){for(let l=0;l<this._listeners.length;l++)if(this._listeners[l]===n)return void this._listeners.splice(l,1)}}})),this._event}fire(n,l){const u=[];for(let c=0;c<this._listeners.length;c++)u.push(this._listeners[c]);for(let c=0;c<u.length;c++)u[c].call(void 0,n,l)}dispose(){this._listeners&&(this._listeners.length=0),this._disposed=!0}},i.forwardEvent=function(n,l){return n(u=>l.fire(u))}},5435:function(_,i,n){var l=this&&this.__decorate||function(G,L,O,B){var H,W=arguments.length,Y=W<3?L:B===null?B=Object.getOwnPropertyDescriptor(L,O):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(G,L,O,B);else for(var oe=G.length-1;oe>=0;oe--)(H=G[oe])&&(Y=(W<3?H(Y):W>3?H(L,O,Y):H(L,O))||Y);return W>3&&Y&&Object.defineProperty(L,O,Y),Y},u=this&&this.__param||function(G,L){return function(O,B){L(O,B,G)}};Object.defineProperty(i,"__esModule",{value:!0}),i.InputHandler=i.WindowsOptionsReportType=void 0;const c=n(2584),p=n(7116),S=n(2015),w=n(844),v=n(482),s=n(8437),f=n(8460),h=n(643),a=n(511),b=n(3734),g=n(2585),y=n(6242),E=n(6351),C=n(5941),k={"(":0,")":1,"*":2,"+":3,"-":1,".":2},R=131072;function T(G,L){if(G>24)return L.setWinLines||!1;switch(G){case 1:return!!L.restoreWin;case 2:return!!L.minimizeWin;case 3:return!!L.setWinPosition;case 4:return!!L.setWinSizePixels;case 5:return!!L.raiseWin;case 6:return!!L.lowerWin;case 7:return!!L.refreshWin;case 8:return!!L.setWinSizeChars;case 9:return!!L.maximizeWin;case 10:return!!L.fullscreenWin;case 11:return!!L.getWinState;case 13:return!!L.getWinPosition;case 14:return!!L.getWinSizePixels;case 15:return!!L.getScreenSizePixels;case 16:return!!L.getCellSizePixels;case 18:return!!L.getWinSizeChars;case 19:return!!L.getScreenSizeChars;case 20:return!!L.getIconTitle;case 21:return!!L.getWinTitle;case 22:return!!L.pushTitle;case 23:return!!L.popTitle;case 24:return!!L.setWinLines}return!1}var M;(function(G){G[G.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",G[G.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(M=i.WindowsOptionsReportType||(i.WindowsOptionsReportType={}));let I=0;class K extends w.Disposable{constructor(L,O,B,H,W,Y,oe,J,ie=new S.EscapeSequenceParser){super(),this._bufferService=L,this._charsetService=O,this._coreService=B,this._logService=H,this._optionsService=W,this._oscLinkService=Y,this._coreMouseService=oe,this._unicodeService=J,this._parser=ie,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new v.StringToUtf32,this._utf8Decoder=new v.Utf8ToUtf32,this._workCell=new a.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=s.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=s.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new f.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new f.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new f.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new f.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new f.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new f.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new f.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new f.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new f.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new f.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new f.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new f.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new f.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new z(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate($=>this._activeBuffer=$.activeBuffer)),this._parser.setCsiHandlerFallback(($,P)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString($),params:P.toArray()})}),this._parser.setEscHandlerFallback($=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString($)})}),this._parser.setExecuteHandlerFallback($=>{this._logService.debug("Unknown EXECUTE code: ",{code:$})}),this._parser.setOscHandlerFallback(($,P,F)=>{this._logService.debug("Unknown OSC code: ",{identifier:$,action:P,data:F})}),this._parser.setDcsHandlerFallback(($,P,F)=>{P==="HOOK"&&(F=F.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString($),action:P,payload:F})}),this._parser.setPrintHandler(($,P,F)=>this.print($,P,F)),this._parser.registerCsiHandler({final:"@"},$=>this.insertChars($)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},$=>this.scrollLeft($)),this._parser.registerCsiHandler({final:"A"},$=>this.cursorUp($)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},$=>this.scrollRight($)),this._parser.registerCsiHandler({final:"B"},$=>this.cursorDown($)),this._parser.registerCsiHandler({final:"C"},$=>this.cursorForward($)),this._parser.registerCsiHandler({final:"D"},$=>this.cursorBackward($)),this._parser.registerCsiHandler({final:"E"},$=>this.cursorNextLine($)),this._parser.registerCsiHandler({final:"F"},$=>this.cursorPrecedingLine($)),this._parser.registerCsiHandler({final:"G"},$=>this.cursorCharAbsolute($)),this._parser.registerCsiHandler({final:"H"},$=>this.cursorPosition($)),this._parser.registerCsiHandler({final:"I"},$=>this.cursorForwardTab($)),this._parser.registerCsiHandler({final:"J"},$=>this.eraseInDisplay($,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},$=>this.eraseInDisplay($,!0)),this._parser.registerCsiHandler({final:"K"},$=>this.eraseInLine($,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},$=>this.eraseInLine($,!0)),this._parser.registerCsiHandler({final:"L"},$=>this.insertLines($)),this._parser.registerCsiHandler({final:"M"},$=>this.deleteLines($)),this._parser.registerCsiHandler({final:"P"},$=>this.deleteChars($)),this._parser.registerCsiHandler({final:"S"},$=>this.scrollUp($)),this._parser.registerCsiHandler({final:"T"},$=>this.scrollDown($)),this._parser.registerCsiHandler({final:"X"},$=>this.eraseChars($)),this._parser.registerCsiHandler({final:"Z"},$=>this.cursorBackwardTab($)),this._parser.registerCsiHandler({final:"`"},$=>this.charPosAbsolute($)),this._parser.registerCsiHandler({final:"a"},$=>this.hPositionRelative($)),this._parser.registerCsiHandler({final:"b"},$=>this.repeatPrecedingCharacter($)),this._parser.registerCsiHandler({final:"c"},$=>this.sendDeviceAttributesPrimary($)),this._parser.registerCsiHandler({prefix:">",final:"c"},$=>this.sendDeviceAttributesSecondary($)),this._parser.registerCsiHandler({final:"d"},$=>this.linePosAbsolute($)),this._parser.registerCsiHandler({final:"e"},$=>this.vPositionRelative($)),this._parser.registerCsiHandler({final:"f"},$=>this.hVPosition($)),this._parser.registerCsiHandler({final:"g"},$=>this.tabClear($)),this._parser.registerCsiHandler({final:"h"},$=>this.setMode($)),this._parser.registerCsiHandler({prefix:"?",final:"h"},$=>this.setModePrivate($)),this._parser.registerCsiHandler({final:"l"},$=>this.resetMode($)),this._parser.registerCsiHandler({prefix:"?",final:"l"},$=>this.resetModePrivate($)),this._parser.registerCsiHandler({final:"m"},$=>this.charAttributes($)),this._parser.registerCsiHandler({final:"n"},$=>this.deviceStatus($)),this._parser.registerCsiHandler({prefix:"?",final:"n"},$=>this.deviceStatusPrivate($)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},$=>this.softReset($)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},$=>this.setCursorStyle($)),this._parser.registerCsiHandler({final:"r"},$=>this.setScrollRegion($)),this._parser.registerCsiHandler({final:"s"},$=>this.saveCursor($)),this._parser.registerCsiHandler({final:"t"},$=>this.windowOptions($)),this._parser.registerCsiHandler({final:"u"},$=>this.restoreCursor($)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},$=>this.insertColumns($)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},$=>this.deleteColumns($)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},$=>this.selectProtected($)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},$=>this.requestMode($,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},$=>this.requestMode($,!1)),this._parser.setExecuteHandler(c.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(c.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(c.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(c.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(c.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(c.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(c.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(c.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(c.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(c.C1.IND,()=>this.index()),this._parser.setExecuteHandler(c.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(c.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new y.OscHandler($=>(this.setTitle($),this.setIconName($),!0))),this._parser.registerOscHandler(1,new y.OscHandler($=>this.setIconName($))),this._parser.registerOscHandler(2,new y.OscHandler($=>this.setTitle($))),this._parser.registerOscHandler(4,new y.OscHandler($=>this.setOrReportIndexedColor($))),this._parser.registerOscHandler(8,new y.OscHandler($=>this.setHyperlink($))),this._parser.registerOscHandler(10,new y.OscHandler($=>this.setOrReportFgColor($))),this._parser.registerOscHandler(11,new y.OscHandler($=>this.setOrReportBgColor($))),this._parser.registerOscHandler(12,new y.OscHandler($=>this.setOrReportCursorColor($))),this._parser.registerOscHandler(104,new y.OscHandler($=>this.restoreIndexedColor($))),this._parser.registerOscHandler(110,new y.OscHandler($=>this.restoreFgColor($))),this._parser.registerOscHandler(111,new y.OscHandler($=>this.restoreBgColor($))),this._parser.registerOscHandler(112,new y.OscHandler($=>this.restoreCursorColor($))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const $ in p.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:$},()=>this.selectCharset("("+$)),this._parser.registerEscHandler({intermediates:")",final:$},()=>this.selectCharset(")"+$)),this._parser.registerEscHandler({intermediates:"*",final:$},()=>this.selectCharset("*"+$)),this._parser.registerEscHandler({intermediates:"+",final:$},()=>this.selectCharset("+"+$)),this._parser.registerEscHandler({intermediates:"-",final:$},()=>this.selectCharset("-"+$)),this._parser.registerEscHandler({intermediates:".",final:$},()=>this.selectCharset("."+$)),this._parser.registerEscHandler({intermediates:"/",final:$},()=>this.selectCharset("/"+$));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler($=>(this._logService.error("Parsing error: ",$),$)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new E.DcsHandler(($,P)=>this.requestStatusString($,P)))}getAttrData(){return this._curAttrData}_preserveStack(L,O,B,H){this._parseStack.paused=!0,this._parseStack.cursorStartX=L,this._parseStack.cursorStartY=O,this._parseStack.decodedLength=B,this._parseStack.position=H}_logSlowResolvingAsync(L){this._logService.logLevel<=g.LogLevelEnum.WARN&&Promise.race([L,new Promise((O,B)=>setTimeout(()=>B("#SLOW_TIMEOUT"),5e3))]).catch(O=>{if(O!=="#SLOW_TIMEOUT")throw O;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(L,O){let B,H=this._activeBuffer.x,W=this._activeBuffer.y,Y=0;const oe=this._parseStack.paused;if(oe){if(B=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,O))return this._logSlowResolvingAsync(B),B;H=this._parseStack.cursorStartX,W=this._parseStack.cursorStartY,this._parseStack.paused=!1,L.length>R&&(Y=this._parseStack.position+R)}if(this._logService.logLevel<=g.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof L=="string"?` "${L}"`:` "${Array.prototype.map.call(L,J=>String.fromCharCode(J)).join("")}"`),typeof L=="string"?L.split("").map(J=>J.charCodeAt(0)):L),this._parseBuffer.length<L.length&&this._parseBuffer.length<R&&(this._parseBuffer=new Uint32Array(Math.min(L.length,R))),oe||this._dirtyRowTracker.clearRange(),L.length>R)for(let J=Y;J<L.length;J+=R){const ie=J+R<L.length?J+R:L.length,$=typeof L=="string"?this._stringDecoder.decode(L.substring(J,ie),this._parseBuffer):this._utf8Decoder.decode(L.subarray(J,ie),this._parseBuffer);if(B=this._parser.parse(this._parseBuffer,$))return this._preserveStack(H,W,$,J),this._logSlowResolvingAsync(B),B}else if(!oe){const J=typeof L=="string"?this._stringDecoder.decode(L,this._parseBuffer):this._utf8Decoder.decode(L,this._parseBuffer);if(B=this._parser.parse(this._parseBuffer,J))return this._preserveStack(H,W,J,0),this._logSlowResolvingAsync(B),B}this._activeBuffer.x===H&&this._activeBuffer.y===W||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(L,O,B){let H,W;const Y=this._charsetService.charset,oe=this._optionsService.rawOptions.screenReaderMode,J=this._bufferService.cols,ie=this._coreService.decPrivateModes.wraparound,$=this._coreService.modes.insertMode,P=this._curAttrData;let F=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&B-O>0&&F.getWidth(this._activeBuffer.x-1)===2&&F.setCellFromCodePoint(this._activeBuffer.x-1,0,1,P.fg,P.bg,P.extended);for(let X=O;X<B;++X){if(H=L[X],W=this._unicodeService.wcwidth(H),H<127&&Y){const Z=Y[String.fromCharCode(H)];Z&&(H=Z.charCodeAt(0))}if(oe&&this._onA11yChar.fire((0,v.stringFromCodePoint)(H)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),W||!this._activeBuffer.x){if(this._activeBuffer.x+W-1>=J){if(ie){for(;this._activeBuffer.x<J;)F.setCellFromCodePoint(this._activeBuffer.x++,0,1,P.fg,P.bg,P.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),F=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=J-1,W===2)continue}if($&&(F.insertCells(this._activeBuffer.x,W,this._activeBuffer.getNullCell(P),P),F.getWidth(J-1)===2&&F.setCellFromCodePoint(J-1,h.NULL_CELL_CODE,h.NULL_CELL_WIDTH,P.fg,P.bg,P.extended)),F.setCellFromCodePoint(this._activeBuffer.x++,H,W,P.fg,P.bg,P.extended),W>0)for(;--W;)F.setCellFromCodePoint(this._activeBuffer.x++,0,0,P.fg,P.bg,P.extended)}else F.getWidth(this._activeBuffer.x-1)?F.addCodepointToCell(this._activeBuffer.x-1,H):F.addCodepointToCell(this._activeBuffer.x-2,H)}B-O>0&&(F.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<J&&B-O>0&&F.getWidth(this._activeBuffer.x)===0&&!F.hasContent(this._activeBuffer.x)&&F.setCellFromCodePoint(this._activeBuffer.x,0,1,P.fg,P.bg,P.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(L,O){return L.final!=="t"||L.prefix||L.intermediates?this._parser.registerCsiHandler(L,O):this._parser.registerCsiHandler(L,B=>!T(B.params[0],this._optionsService.rawOptions.windowOptions)||O(B))}registerDcsHandler(L,O){return this._parser.registerDcsHandler(L,new E.DcsHandler(O))}registerEscHandler(L,O){return this._parser.registerEscHandler(L,O)}registerOscHandler(L,O){return this._parser.registerOscHandler(L,new y.OscHandler(O))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var L;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||L===void 0)&&L.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);O.hasWidth(this._activeBuffer.x)&&!O.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const L=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-L),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(L=this._bufferService.cols-1){this._activeBuffer.x=Math.min(L,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(L,O){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=L,this._activeBuffer.y=this._activeBuffer.scrollTop+O):(this._activeBuffer.x=L,this._activeBuffer.y=O),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(L,O){this._restrictCursor(),this._setCursor(this._activeBuffer.x+L,this._activeBuffer.y+O)}cursorUp(L){const O=this._activeBuffer.y-this._activeBuffer.scrollTop;return O>=0?this._moveCursor(0,-Math.min(O,L.params[0]||1)):this._moveCursor(0,-(L.params[0]||1)),!0}cursorDown(L){const O=this._activeBuffer.scrollBottom-this._activeBuffer.y;return O>=0?this._moveCursor(0,Math.min(O,L.params[0]||1)):this._moveCursor(0,L.params[0]||1),!0}cursorForward(L){return this._moveCursor(L.params[0]||1,0),!0}cursorBackward(L){return this._moveCursor(-(L.params[0]||1),0),!0}cursorNextLine(L){return this.cursorDown(L),this._activeBuffer.x=0,!0}cursorPrecedingLine(L){return this.cursorUp(L),this._activeBuffer.x=0,!0}cursorCharAbsolute(L){return this._setCursor((L.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(L){return this._setCursor(L.length>=2?(L.params[1]||1)-1:0,(L.params[0]||1)-1),!0}charPosAbsolute(L){return this._setCursor((L.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(L){return this._moveCursor(L.params[0]||1,0),!0}linePosAbsolute(L){return this._setCursor(this._activeBuffer.x,(L.params[0]||1)-1),!0}vPositionRelative(L){return this._moveCursor(0,L.params[0]||1),!0}hVPosition(L){return this.cursorPosition(L),!0}tabClear(L){const O=L.params[0];return O===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:O===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(L){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let O=L.params[0]||1;for(;O--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(L){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let O=L.params[0]||1;for(;O--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(L){const O=L.params[0];return O===1&&(this._curAttrData.bg|=536870912),O!==2&&O!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(L,O,B,H=!1,W=!1){const Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);Y.replaceCells(O,B,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),W),H&&(Y.isWrapped=!1)}_resetBufferLine(L,O=!1){const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);B&&(B.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),O),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+L),B.isWrapped=!1)}eraseInDisplay(L,O=!1){let B;switch(this._restrictCursor(this._bufferService.cols),L.params[0]){case 0:for(B=this._activeBuffer.y,this._dirtyRowTracker.markDirty(B),this._eraseInBufferLine(B++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,O);B<this._bufferService.rows;B++)this._resetBufferLine(B,O);this._dirtyRowTracker.markDirty(B);break;case 1:for(B=this._activeBuffer.y,this._dirtyRowTracker.markDirty(B),this._eraseInBufferLine(B,0,this._activeBuffer.x+1,!0,O),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(B+1).isWrapped=!1);B--;)this._resetBufferLine(B,O);this._dirtyRowTracker.markDirty(0);break;case 2:for(B=this._bufferService.rows,this._dirtyRowTracker.markDirty(B-1);B--;)this._resetBufferLine(B,O);this._dirtyRowTracker.markDirty(0);break;case 3:const H=this._activeBuffer.lines.length-this._bufferService.rows;H>0&&(this._activeBuffer.lines.trimStart(H),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-H,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-H,0),this._onScroll.fire(0))}return!0}eraseInLine(L,O=!1){switch(this._restrictCursor(this._bufferService.cols),L.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,O);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,O);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,O)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(L){this._restrictCursor();let O=L.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=this._activeBuffer.ybase+this._activeBuffer.y,H=this._bufferService.rows-1-this._activeBuffer.scrollBottom,W=this._bufferService.rows-1+this._activeBuffer.ybase-H+1;for(;O--;)this._activeBuffer.lines.splice(W-1,1),this._activeBuffer.lines.splice(B,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(L){this._restrictCursor();let O=L.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=this._activeBuffer.ybase+this._activeBuffer.y;let H;for(H=this._bufferService.rows-1-this._activeBuffer.scrollBottom,H=this._bufferService.rows-1+this._activeBuffer.ybase-H;O--;)this._activeBuffer.lines.splice(B,1),this._activeBuffer.lines.splice(H,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(L){this._restrictCursor();const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return O&&(O.insertCells(this._activeBuffer.x,L.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(L){this._restrictCursor();const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return O&&(O.deleteCells(this._activeBuffer.x,L.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(L){let O=L.params[0]||1;for(;O--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(L){let O=L.params[0]||1;for(;O--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(s.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const O=L.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);H.deleteCells(0,O,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),H.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const O=L.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);H.insertCells(0,O,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),H.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const O=L.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);H.insertCells(this._activeBuffer.x,O,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),H.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const O=L.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);H.deleteCells(this._activeBuffer.x,O,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),H.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(L){this._restrictCursor();const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return O&&(O.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(L.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(L){if(!this._parser.precedingCodepoint)return!0;const O=L.params[0]||1,B=new Uint32Array(O);for(let H=0;H<O;++H)B[H]=this._parser.precedingCodepoint;return this.print(B,0,B.length),!0}sendDeviceAttributesPrimary(L){return L.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(c.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(c.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(L){return L.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(c.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(c.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(L.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(c.C0.ESC+"[>83;40003;0c")),!0}_is(L){return(this._optionsService.rawOptions.termName+"").indexOf(L)===0}setMode(L){for(let O=0;O<L.length;O++)switch(L.params[O]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(L){for(let O=0;O<L.length;O++)switch(L.params[O]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,p.DEFAULT_CHARSET),this._charsetService.setgCharset(1,p.DEFAULT_CHARSET),this._charsetService.setgCharset(2,p.DEFAULT_CHARSET),this._charsetService.setgCharset(3,p.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(L){for(let O=0;O<L.length;O++)switch(L.params[O]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(L){for(let O=0;O<L.length;O++)switch(L.params[O]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),L.params[O]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(L,O){const B=this._coreService.decPrivateModes,{activeProtocol:H,activeEncoding:W}=this._coreMouseService,Y=this._coreService,{buffers:oe,cols:J}=this._bufferService,{active:ie,alt:$}=oe,P=this._optionsService.rawOptions,F=te=>te?1:2,X=L.params[0];return Z=X,fe=O?X===2?4:X===4?F(Y.modes.insertMode):X===12?3:X===20?F(P.convertEol):0:X===1?F(B.applicationCursorKeys):X===3?P.windowOptions.setWinLines?J===80?2:J===132?1:0:0:X===6?F(B.origin):X===7?F(B.wraparound):X===8?3:X===9?F(H==="X10"):X===12?F(P.cursorBlink):X===25?F(!Y.isCursorHidden):X===45?F(B.reverseWraparound):X===66?F(B.applicationKeypad):X===67?4:X===1e3?F(H==="VT200"):X===1002?F(H==="DRAG"):X===1003?F(H==="ANY"):X===1004?F(B.sendFocus):X===1005?4:X===1006?F(W==="SGR"):X===1015?4:X===1016?F(W==="SGR_PIXELS"):X===1048?1:X===47||X===1047||X===1049?F(ie===$):X===2004?F(B.bracketedPasteMode):0,Y.triggerDataEvent(`${c.C0.ESC}[${O?"":"?"}${Z};${fe}$y`),!0;var Z,fe}_updateAttrColor(L,O,B,H,W){return O===2?(L|=50331648,L&=-16777216,L|=b.AttributeData.fromColorRGB([B,H,W])):O===5&&(L&=-50331904,L|=33554432|255&B),L}_extractColor(L,O,B){const H=[0,0,-1,0,0,0];let W=0,Y=0;do{if(H[Y+W]=L.params[O+Y],L.hasSubParams(O+Y)){const oe=L.getSubParams(O+Y);let J=0;do H[1]===5&&(W=1),H[Y+J+1+W]=oe[J];while(++J<oe.length&&J+Y+1+W<H.length);break}if(H[1]===5&&Y+W>=2||H[1]===2&&Y+W>=5)break;H[1]&&(W=1)}while(++Y+O<L.length&&Y+W<H.length);for(let oe=2;oe<H.length;++oe)H[oe]===-1&&(H[oe]=0);switch(H[0]){case 38:B.fg=this._updateAttrColor(B.fg,H[1],H[3],H[4],H[5]);break;case 48:B.bg=this._updateAttrColor(B.bg,H[1],H[3],H[4],H[5]);break;case 58:B.extended=B.extended.clone(),B.extended.underlineColor=this._updateAttrColor(B.extended.underlineColor,H[1],H[3],H[4],H[5])}return Y}_processUnderline(L,O){O.extended=O.extended.clone(),(!~L||L>5)&&(L=1),O.extended.underlineStyle=L,O.fg|=268435456,L===0&&(O.fg&=-268435457),O.updateExtended()}_processSGR0(L){L.fg=s.DEFAULT_ATTR_DATA.fg,L.bg=s.DEFAULT_ATTR_DATA.bg,L.extended=L.extended.clone(),L.extended.underlineStyle=0,L.extended.underlineColor&=-67108864,L.updateExtended()}charAttributes(L){if(L.length===1&&L.params[0]===0)return this._processSGR0(this._curAttrData),!0;const O=L.length;let B;const H=this._curAttrData;for(let W=0;W<O;W++)B=L.params[W],B>=30&&B<=37?(H.fg&=-50331904,H.fg|=16777216|B-30):B>=40&&B<=47?(H.bg&=-50331904,H.bg|=16777216|B-40):B>=90&&B<=97?(H.fg&=-50331904,H.fg|=16777224|B-90):B>=100&&B<=107?(H.bg&=-50331904,H.bg|=16777224|B-100):B===0?this._processSGR0(H):B===1?H.fg|=134217728:B===3?H.bg|=67108864:B===4?(H.fg|=268435456,this._processUnderline(L.hasSubParams(W)?L.getSubParams(W)[0]:1,H)):B===5?H.fg|=536870912:B===7?H.fg|=67108864:B===8?H.fg|=1073741824:B===9?H.fg|=2147483648:B===2?H.bg|=134217728:B===21?this._processUnderline(2,H):B===22?(H.fg&=-134217729,H.bg&=-134217729):B===23?H.bg&=-67108865:B===24?(H.fg&=-268435457,this._processUnderline(0,H)):B===25?H.fg&=-536870913:B===27?H.fg&=-67108865:B===28?H.fg&=-1073741825:B===29?H.fg&=2147483647:B===39?(H.fg&=-67108864,H.fg|=16777215&s.DEFAULT_ATTR_DATA.fg):B===49?(H.bg&=-67108864,H.bg|=16777215&s.DEFAULT_ATTR_DATA.bg):B===38||B===48||B===58?W+=this._extractColor(L,W,H):B===53?H.bg|=1073741824:B===55?H.bg&=-1073741825:B===59?(H.extended=H.extended.clone(),H.extended.underlineColor=-1,H.updateExtended()):B===100?(H.fg&=-67108864,H.fg|=16777215&s.DEFAULT_ATTR_DATA.fg,H.bg&=-67108864,H.bg|=16777215&s.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",B);return!0}deviceStatus(L){switch(L.params[0]){case 5:this._coreService.triggerDataEvent(`${c.C0.ESC}[0n`);break;case 6:const O=this._activeBuffer.y+1,B=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${c.C0.ESC}[${O};${B}R`)}return!0}deviceStatusPrivate(L){if(L.params[0]===6){const O=this._activeBuffer.y+1,B=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${c.C0.ESC}[?${O};${B}R`)}return!0}softReset(L){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=s.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(L){const O=L.params[0]||1;switch(O){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const B=O%2==1;return this._optionsService.options.cursorBlink=B,!0}setScrollRegion(L){const O=L.params[0]||1;let B;return(L.length<2||(B=L.params[1])>this._bufferService.rows||B===0)&&(B=this._bufferService.rows),B>O&&(this._activeBuffer.scrollTop=O-1,this._activeBuffer.scrollBottom=B-1,this._setCursor(0,0)),!0}windowOptions(L){if(!T(L.params[0],this._optionsService.rawOptions.windowOptions))return!0;const O=L.length>1?L.params[1]:0;switch(L.params[0]){case 14:O!==2&&this._onRequestWindowsOptionsReport.fire(M.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(M.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${c.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:O!==0&&O!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),O!==0&&O!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:O!==0&&O!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),O!==0&&O!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(L){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(L){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(L){return this._windowTitle=L,this._onTitleChange.fire(L),!0}setIconName(L){return this._iconName=L,!0}setOrReportIndexedColor(L){const O=[],B=L.split(";");for(;B.length>1;){const H=B.shift(),W=B.shift();if(/^\d+$/.exec(H)){const Y=parseInt(H);if(0<=Y&&Y<256)if(W==="?")O.push({type:0,index:Y});else{const oe=(0,C.parseColor)(W);oe&&O.push({type:1,index:Y,color:oe})}}}return O.length&&this._onColor.fire(O),!0}setHyperlink(L){const O=L.split(";");return!(O.length<2)&&(O[1]?this._createHyperlink(O[0],O[1]):!O[0]&&this._finishHyperlink())}_createHyperlink(L,O){this._getCurrentLinkId()&&this._finishHyperlink();const B=L.split(":");let H;const W=B.findIndex(Y=>Y.startsWith("id="));return W!==-1&&(H=B[W].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:H,uri:O}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(L,O){const B=L.split(";");for(let H=0;H<B.length&&!(O>=this._specialColors.length);++H,++O)if(B[H]==="?")this._onColor.fire([{type:0,index:this._specialColors[O]}]);else{const W=(0,C.parseColor)(B[H]);W&&this._onColor.fire([{type:1,index:this._specialColors[O],color:W}])}return!0}setOrReportFgColor(L){return this._setOrReportSpecialColor(L,0)}setOrReportBgColor(L){return this._setOrReportSpecialColor(L,1)}setOrReportCursorColor(L){return this._setOrReportSpecialColor(L,2)}restoreIndexedColor(L){if(!L)return this._onColor.fire([{type:2}]),!0;const O=[],B=L.split(";");for(let H=0;H<B.length;++H)if(/^\d+$/.exec(B[H])){const W=parseInt(B[H]);0<=W&&W<256&&O.push({type:2,index:W})}return O.length&&this._onColor.fire(O),!0}restoreFgColor(L){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(L){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(L){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,p.DEFAULT_CHARSET),!0}selectCharset(L){return L.length!==2?(this.selectDefaultCharset(),!0):(L[0]==="/"||this._charsetService.setgCharset(k[L[0]],p.CHARSETS[L[1]]||p.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const L=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,L,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=s.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=s.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(L){return this._charsetService.setgLevel(L),!0}screenAlignmentPattern(){const L=new a.CellData;L.content=4194304|"E".charCodeAt(0),L.fg=this._curAttrData.fg,L.bg=this._curAttrData.bg,this._setCursor(0,0);for(let O=0;O<this._bufferService.rows;++O){const B=this._activeBuffer.ybase+this._activeBuffer.y+O,H=this._activeBuffer.lines.get(B);H&&(H.fill(L),H.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(L,O){const B=this._bufferService.buffer,H=this._optionsService.rawOptions;return(W=>(this._coreService.triggerDataEvent(`${c.C0.ESC}${W}${c.C0.ESC}\\`),!0))(L==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:L==='"p'?'P1$r61;1"p':L==="r"?`P1$r${B.scrollTop+1};${B.scrollBottom+1}r`:L==="m"?"P1$r0m":L===" q"?`P1$r${{block:2,underline:4,bar:6}[H.cursorStyle]-(H.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(L,O){this._dirtyRowTracker.markRangeDirty(L,O)}}i.InputHandler=K;let z=class{constructor(G){this._bufferService=G,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(G){G<this.start?this.start=G:G>this.end&&(this.end=G)}markRangeDirty(G,L){G>L&&(I=G,G=L,L=I),G<this.start&&(this.start=G),L>this.end&&(this.end=L)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};z=l([u(0,g.IBufferService)],z)},844:(_,i)=>{function n(l){for(const u of l)u.dispose();l.length=0}Object.defineProperty(i,"__esModule",{value:!0}),i.getDisposeArrayDisposable=i.disposeArray=i.toDisposable=i.Disposable=void 0,i.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const l of this._disposables)l.dispose();this._disposables.length=0}register(l){return this._disposables.push(l),l}unregister(l){const u=this._disposables.indexOf(l);u!==-1&&this._disposables.splice(u,1)}},i.toDisposable=function(l){return{dispose:l}},i.disposeArray=n,i.getDisposeArrayDisposable=function(l){return{dispose:()=>n(l)}}},1505:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FourKeyMap=i.TwoKeyMap=void 0;class n{constructor(){this._data={}}set(u,c,p){this._data[u]||(this._data[u]={}),this._data[u][c]=p}get(u,c){return this._data[u]?this._data[u][c]:void 0}clear(){this._data={}}}i.TwoKeyMap=n,i.FourKeyMap=class{constructor(){this._data=new n}set(l,u,c,p,S){this._data.get(l,u)||this._data.set(l,u,new n),this._data.get(l,u).set(c,p,S)}get(l,u,c,p){var S;return(S=this._data.get(l,u))===null||S===void 0?void 0:S.get(c,p)}clear(){this._data.clear()}}},6114:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isChromeOS=i.isLinux=i.isWindows=i.isIphone=i.isIpad=i.isMac=i.getSafariVersion=i.isSafari=i.isLegacyEdge=i.isFirefox=i.isNode=void 0,i.isNode=typeof navigator>"u";const n=i.isNode?"node":navigator.userAgent,l=i.isNode?"node":navigator.platform;i.isFirefox=n.includes("Firefox"),i.isLegacyEdge=n.includes("Edge"),i.isSafari=/^((?!chrome|android).)*safari/i.test(n),i.getSafariVersion=function(){if(!i.isSafari)return 0;const u=n.match(/Version\/(\d+)/);return u===null||u.length<2?0:parseInt(u[1])},i.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(l),i.isIpad=l==="iPad",i.isIphone=l==="iPhone",i.isWindows=["Windows","Win16","Win32","WinCE"].includes(l),i.isLinux=l.indexOf("Linux")>=0,i.isChromeOS=/\bCrOS\b/.test(n)},6106:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SortedList=void 0;let n=0;i.SortedList=class{constructor(l){this._getKey=l,this._array=[]}clear(){this._array.length=0}insert(l){this._array.length!==0?(n=this._search(this._getKey(l),0,this._array.length-1),this._array.splice(n,0,l)):this._array.push(l)}delete(l){if(this._array.length===0)return!1;const u=this._getKey(l);if(u===void 0||(n=this._search(u,0,this._array.length-1),n===-1)||this._getKey(this._array[n])!==u)return!1;do if(this._array[n]===l)return this._array.splice(n,1),!0;while(++n<this._array.length&&this._getKey(this._array[n])===u);return!1}*getKeyIterator(l){if(this._array.length!==0&&(n=this._search(l,0,this._array.length-1),!(n<0||n>=this._array.length)&&this._getKey(this._array[n])===l))do yield this._array[n];while(++n<this._array.length&&this._getKey(this._array[n])===l)}forEachByKey(l,u){if(this._array.length!==0&&(n=this._search(l,0,this._array.length-1),!(n<0||n>=this._array.length)&&this._getKey(this._array[n])===l))do u(this._array[n]);while(++n<this._array.length&&this._getKey(this._array[n])===l)}values(){return this._array.values()}_search(l,u,c){if(c<u)return u;let p=Math.floor((u+c)/2);const S=this._getKey(this._array[p]);if(S>l)return this._search(l,u,p-1);if(S<l)return this._search(l,p+1,c);for(;p>0&&this._getKey(this._array[p-1])===l;)p--;return p}}},7226:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DebouncedIdleTask=i.IdleTaskQueue=i.PriorityTaskQueue=void 0;const l=n(6114);class u{constructor(){this._tasks=[],this._i=0}enqueue(S){this._tasks.push(S),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(S){this._idleCallback=void 0;let w=0,v=0,s=S.timeRemaining(),f=0;for(;this._i<this._tasks.length;){if(w=Date.now(),this._tasks[this._i]()||this._i++,w=Math.max(1,Date.now()-w),v=Math.max(w,v),f=S.timeRemaining(),1.5*v>f)return s-w<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(s-w))}ms`),void this._start();s=f}this.clear()}}class c extends u{_requestCallback(S){return setTimeout(()=>S(this._createDeadline(16)))}_cancelCallback(S){clearTimeout(S)}_createDeadline(S){const w=Date.now()+S;return{timeRemaining:()=>Math.max(0,w-Date.now())}}}i.PriorityTaskQueue=c,i.IdleTaskQueue=!l.isNode&&"requestIdleCallback"in window?class extends u{_requestCallback(p){return requestIdleCallback(p)}_cancelCallback(p){cancelIdleCallback(p)}}:c,i.DebouncedIdleTask=class{constructor(){this._queue=new i.IdleTaskQueue}set(p){this._queue.clear(),this._queue.enqueue(p)}flush(){this._queue.flush()}}},9282:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.updateWindowsModeWrappedState=void 0;const l=n(643);i.updateWindowsModeWrappedState=function(u){const c=u.buffer.lines.get(u.buffer.ybase+u.buffer.y-1),p=c==null?void 0:c.get(u.cols-1),S=u.buffer.lines.get(u.buffer.ybase+u.buffer.y);S&&p&&(S.isWrapped=p[l.CHAR_DATA_CODE_INDEX]!==l.NULL_CELL_CODE&&p[l.CHAR_DATA_CODE_INDEX]!==l.WHITESPACE_CELL_CODE)}},3734:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ExtendedAttrs=i.AttributeData=void 0;class n{constructor(){this.fg=0,this.bg=0,this.extended=new l}static toColorRGB(c){return[c>>>16&255,c>>>8&255,255&c]}static fromColorRGB(c){return(255&c[0])<<16|(255&c[1])<<8|255&c[2]}clone(){const c=new n;return c.fg=this.fg,c.bg=this.bg,c.extended=this.extended.clone(),c}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}i.AttributeData=n;class l{constructor(c=0,p=0){this._ext=0,this._urlId=0,this._ext=c,this._urlId=p}get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(c){this._ext=c}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(c){this._ext&=-469762049,this._ext|=c<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(c){this._ext&=-67108864,this._ext|=67108863&c}get urlId(){return this._urlId}set urlId(c){this._urlId=c}clone(){return new l(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}i.ExtendedAttrs=l},9092:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Buffer=i.MAX_BUFFER_SIZE=void 0;const l=n(6349),u=n(8437),c=n(511),p=n(643),S=n(4634),w=n(4863),v=n(7116),s=n(3734),f=n(7226);i.MAX_BUFFER_SIZE=4294967295,i.Buffer=class{constructor(h,a,b){this._hasScrollback=h,this._optionsService=a,this._bufferService=b,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=u.DEFAULT_ATTR_DATA.clone(),this.savedCharset=v.DEFAULT_CHARSET,this.markers=[],this._nullCell=c.CellData.fromCharData([0,p.NULL_CELL_CHAR,p.NULL_CELL_WIDTH,p.NULL_CELL_CODE]),this._whitespaceCell=c.CellData.fromCharData([0,p.WHITESPACE_CELL_CHAR,p.WHITESPACE_CELL_WIDTH,p.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new f.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new l.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(h){return h?(this._nullCell.fg=h.fg,this._nullCell.bg=h.bg,this._nullCell.extended=h.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new s.ExtendedAttrs),this._nullCell}getWhitespaceCell(h){return h?(this._whitespaceCell.fg=h.fg,this._whitespaceCell.bg=h.bg,this._whitespaceCell.extended=h.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new s.ExtendedAttrs),this._whitespaceCell}getBlankLine(h,a){return new u.BufferLine(this._bufferService.cols,this.getNullCell(h),a)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const h=this.ybase+this.y-this.ydisp;return h>=0&&h<this._rows}_getCorrectBufferLength(h){if(!this._hasScrollback)return h;const a=h+this._optionsService.rawOptions.scrollback;return a>i.MAX_BUFFER_SIZE?i.MAX_BUFFER_SIZE:a}fillViewportRows(h){if(this.lines.length===0){h===void 0&&(h=u.DEFAULT_ATTR_DATA);let a=this._rows;for(;a--;)this.lines.push(this.getBlankLine(h))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new l.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(h,a){const b=this.getNullCell(u.DEFAULT_ATTR_DATA);let g=0;const y=this._getCorrectBufferLength(a);if(y>this.lines.maxLength&&(this.lines.maxLength=y),this.lines.length>0){if(this._cols<h)for(let C=0;C<this.lines.length;C++)g+=+this.lines.get(C).resize(h,b);let E=0;if(this._rows<a)for(let C=this._rows;C<a;C++)this.lines.length<a+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new u.BufferLine(h,b)):this.ybase>0&&this.lines.length<=this.ybase+this.y+E+1?(this.ybase--,E++,this.ydisp>0&&this.ydisp--):this.lines.push(new u.BufferLine(h,b)));else for(let C=this._rows;C>a;C--)this.lines.length>a+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(y<this.lines.maxLength){const C=this.lines.length-y;C>0&&(this.lines.trimStart(C),this.ybase=Math.max(this.ybase-C,0),this.ydisp=Math.max(this.ydisp-C,0),this.savedY=Math.max(this.savedY-C,0)),this.lines.maxLength=y}this.x=Math.min(this.x,h-1),this.y=Math.min(this.y,a-1),E&&(this.y+=E),this.savedX=Math.min(this.savedX,h-1),this.scrollTop=0}if(this.scrollBottom=a-1,this._isReflowEnabled&&(this._reflow(h,a),this._cols>h))for(let E=0;E<this.lines.length;E++)g+=+this.lines.get(E).resize(h,b);this._cols=h,this._rows=a,this._memoryCleanupQueue.clear(),g>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let h=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,h=!1);let a=0;for(;this._memoryCleanupPosition<this.lines.length;)if(a+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),a>100)return!0;return h}get _isReflowEnabled(){const h=this._optionsService.rawOptions.windowsPty;return h&&h.buildNumber?this._hasScrollback&&h.backend==="conpty"&&h.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(h,a){this._cols!==h&&(h>this._cols?this._reflowLarger(h,a):this._reflowSmaller(h,a))}_reflowLarger(h,a){const b=(0,S.reflowLargerGetLinesToRemove)(this.lines,this._cols,h,this.ybase+this.y,this.getNullCell(u.DEFAULT_ATTR_DATA));if(b.length>0){const g=(0,S.reflowLargerCreateNewLayout)(this.lines,b);(0,S.reflowLargerApplyNewLayout)(this.lines,g.layout),this._reflowLargerAdjustViewport(h,a,g.countRemoved)}}_reflowLargerAdjustViewport(h,a,b){const g=this.getNullCell(u.DEFAULT_ATTR_DATA);let y=b;for(;y-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<a&&this.lines.push(new u.BufferLine(h,g))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-b,0)}_reflowSmaller(h,a){const b=this.getNullCell(u.DEFAULT_ATTR_DATA),g=[];let y=0;for(let E=this.lines.length-1;E>=0;E--){let C=this.lines.get(E);if(!C||!C.isWrapped&&C.getTrimmedLength()<=h)continue;const k=[C];for(;C.isWrapped&&E>0;)C=this.lines.get(--E),k.unshift(C);const R=this.ybase+this.y;if(R>=E&&R<E+k.length)continue;const T=k[k.length-1].getTrimmedLength(),M=(0,S.reflowSmallerGetNewLineLengths)(k,this._cols,h),I=M.length-k.length;let K;K=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+I):Math.max(0,this.lines.length-this.lines.maxLength+I);const z=[];for(let W=0;W<I;W++){const Y=this.getBlankLine(u.DEFAULT_ATTR_DATA,!0);z.push(Y)}z.length>0&&(g.push({start:E+k.length+y,newLines:z}),y+=z.length),k.push(...z);let G=M.length-1,L=M[G];L===0&&(G--,L=M[G]);let O=k.length-I-1,B=T;for(;O>=0;){const W=Math.min(B,L);if(k[G]===void 0)break;if(k[G].copyCellsFrom(k[O],B-W,L-W,W,!0),L-=W,L===0&&(G--,L=M[G]),B-=W,B===0){O--;const Y=Math.max(O,0);B=(0,S.getWrappedLineTrimmedLength)(k,Y,this._cols)}}for(let W=0;W<k.length;W++)M[W]<h&&k[W].setCell(M[W],b);let H=I-K;for(;H-- >0;)this.ybase===0?this.y<a-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+y)-a&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+I,this.ybase+a-1)}if(g.length>0){const E=[],C=[];for(let G=0;G<this.lines.length;G++)C.push(this.lines.get(G));const k=this.lines.length;let R=k-1,T=0,M=g[T];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+y);let I=0;for(let G=Math.min(this.lines.maxLength-1,k+y-1);G>=0;G--)if(M&&M.start>R+I){for(let L=M.newLines.length-1;L>=0;L--)this.lines.set(G--,M.newLines[L]);G++,E.push({index:R+1,amount:M.newLines.length}),I+=M.newLines.length,M=g[++T]}else this.lines.set(G,C[R--]);let K=0;for(let G=E.length-1;G>=0;G--)E[G].index+=K,this.lines.onInsertEmitter.fire(E[G]),K+=E[G].amount;const z=Math.max(0,k+y-this.lines.maxLength);z>0&&this.lines.onTrimEmitter.fire(z)}}translateBufferLineToString(h,a,b=0,g){const y=this.lines.get(h);return y?y.translateToString(a,b,g):""}getWrappedRangeForLine(h){let a=h,b=h;for(;a>0&&this.lines.get(a).isWrapped;)a--;for(;b+1<this.lines.length&&this.lines.get(b+1).isWrapped;)b++;return{first:a,last:b}}setupTabStops(h){for(h!=null?this.tabs[h]||(h=this.prevStop(h)):(this.tabs={},h=0);h<this._cols;h+=this._optionsService.rawOptions.tabStopWidth)this.tabs[h]=!0}prevStop(h){for(h==null&&(h=this.x);!this.tabs[--h]&&h>0;);return h>=this._cols?this._cols-1:h<0?0:h}nextStop(h){for(h==null&&(h=this.x);!this.tabs[++h]&&h<this._cols;);return h>=this._cols?this._cols-1:h<0?0:h}clearMarkers(h){this._isClearing=!0;for(let a=0;a<this.markers.length;a++)this.markers[a].line===h&&(this.markers[a].dispose(),this.markers.splice(a--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let h=0;h<this.markers.length;h++)this.markers[h].dispose(),this.markers.splice(h--,1);this._isClearing=!1}addMarker(h){const a=new w.Marker(h);return this.markers.push(a),a.register(this.lines.onTrim(b=>{a.line-=b,a.line<0&&a.dispose()})),a.register(this.lines.onInsert(b=>{a.line>=b.index&&(a.line+=b.amount)})),a.register(this.lines.onDelete(b=>{a.line>=b.index&&a.line<b.index+b.amount&&a.dispose(),a.line>b.index&&(a.line-=b.amount)})),a.register(a.onDispose(()=>this._removeMarker(a))),a}_removeMarker(h){this._isClearing||this.markers.splice(this.markers.indexOf(h),1)}}},8437:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferLine=i.DEFAULT_ATTR_DATA=void 0;const l=n(482),u=n(643),c=n(511),p=n(3734);i.DEFAULT_ATTR_DATA=Object.freeze(new p.AttributeData);let S=0;class w{constructor(s,f,h=!1){this.isWrapped=h,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*s);const a=f||c.CellData.fromCharData([0,u.NULL_CELL_CHAR,u.NULL_CELL_WIDTH,u.NULL_CELL_CODE]);for(let b=0;b<s;++b)this.setCell(b,a);this.length=s}get(s){const f=this._data[3*s+0],h=2097151&f;return[this._data[3*s+1],2097152&f?this._combined[s]:h?(0,l.stringFromCodePoint)(h):"",f>>22,2097152&f?this._combined[s].charCodeAt(this._combined[s].length-1):h]}set(s,f){this._data[3*s+1]=f[u.CHAR_DATA_ATTR_INDEX],f[u.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[s]=f[1],this._data[3*s+0]=2097152|s|f[u.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*s+0]=f[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|f[u.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(s){return this._data[3*s+0]>>22}hasWidth(s){return 12582912&this._data[3*s+0]}getFg(s){return this._data[3*s+1]}getBg(s){return this._data[3*s+2]}hasContent(s){return 4194303&this._data[3*s+0]}getCodePoint(s){const f=this._data[3*s+0];return 2097152&f?this._combined[s].charCodeAt(this._combined[s].length-1):2097151&f}isCombined(s){return 2097152&this._data[3*s+0]}getString(s){const f=this._data[3*s+0];return 2097152&f?this._combined[s]:2097151&f?(0,l.stringFromCodePoint)(2097151&f):""}isProtected(s){return 536870912&this._data[3*s+2]}loadCell(s,f){return S=3*s,f.content=this._data[S+0],f.fg=this._data[S+1],f.bg=this._data[S+2],2097152&f.content&&(f.combinedData=this._combined[s]),268435456&f.bg&&(f.extended=this._extendedAttrs[s]),f}setCell(s,f){2097152&f.content&&(this._combined[s]=f.combinedData),268435456&f.bg&&(this._extendedAttrs[s]=f.extended),this._data[3*s+0]=f.content,this._data[3*s+1]=f.fg,this._data[3*s+2]=f.bg}setCellFromCodePoint(s,f,h,a,b,g){268435456&b&&(this._extendedAttrs[s]=g),this._data[3*s+0]=f|h<<22,this._data[3*s+1]=a,this._data[3*s+2]=b}addCodepointToCell(s,f){let h=this._data[3*s+0];2097152&h?this._combined[s]+=(0,l.stringFromCodePoint)(f):(2097151&h?(this._combined[s]=(0,l.stringFromCodePoint)(2097151&h)+(0,l.stringFromCodePoint)(f),h&=-2097152,h|=2097152):h=f|4194304,this._data[3*s+0]=h)}insertCells(s,f,h,a){if((s%=this.length)&&this.getWidth(s-1)===2&&this.setCellFromCodePoint(s-1,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new p.ExtendedAttrs),f<this.length-s){const b=new c.CellData;for(let g=this.length-s-f-1;g>=0;--g)this.setCell(s+f+g,this.loadCell(s+g,b));for(let g=0;g<f;++g)this.setCell(s+g,h)}else for(let b=s;b<this.length;++b)this.setCell(b,h);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new p.ExtendedAttrs)}deleteCells(s,f,h,a){if(s%=this.length,f<this.length-s){const b=new c.CellData;for(let g=0;g<this.length-s-f;++g)this.setCell(s+g,this.loadCell(s+f+g,b));for(let g=this.length-f;g<this.length;++g)this.setCell(g,h)}else for(let b=s;b<this.length;++b)this.setCell(b,h);s&&this.getWidth(s-1)===2&&this.setCellFromCodePoint(s-1,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new p.ExtendedAttrs),this.getWidth(s)!==0||this.hasContent(s)||this.setCellFromCodePoint(s,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new p.ExtendedAttrs)}replaceCells(s,f,h,a,b=!1){if(b)for(s&&this.getWidth(s-1)===2&&!this.isProtected(s-1)&&this.setCellFromCodePoint(s-1,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new p.ExtendedAttrs),f<this.length&&this.getWidth(f-1)===2&&!this.isProtected(f)&&this.setCellFromCodePoint(f,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new p.ExtendedAttrs);s<f&&s<this.length;)this.isProtected(s)||this.setCell(s,h),s++;else for(s&&this.getWidth(s-1)===2&&this.setCellFromCodePoint(s-1,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new p.ExtendedAttrs),f<this.length&&this.getWidth(f-1)===2&&this.setCellFromCodePoint(f,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new p.ExtendedAttrs);s<f&&s<this.length;)this.setCell(s++,h)}resize(s,f){if(s===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const h=3*s;if(s>this.length){if(this._data.buffer.byteLength>=4*h)this._data=new Uint32Array(this._data.buffer,0,h);else{const a=new Uint32Array(h);a.set(this._data),this._data=a}for(let a=this.length;a<s;++a)this.setCell(a,f)}else{this._data=this._data.subarray(0,h);const a=Object.keys(this._combined);for(let g=0;g<a.length;g++){const y=parseInt(a[g],10);y>=s&&delete this._combined[y]}const b=Object.keys(this._extendedAttrs);for(let g=0;g<b.length;g++){const y=parseInt(b[g],10);y>=s&&delete this._extendedAttrs[y]}}return this.length=s,4*h*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const s=new Uint32Array(this._data.length);return s.set(this._data),this._data=s,1}return 0}fill(s,f=!1){if(f)for(let h=0;h<this.length;++h)this.isProtected(h)||this.setCell(h,s);else{this._combined={},this._extendedAttrs={};for(let h=0;h<this.length;++h)this.setCell(h,s)}}copyFrom(s){this.length!==s.length?this._data=new Uint32Array(s._data):this._data.set(s._data),this.length=s.length,this._combined={};for(const f in s._combined)this._combined[f]=s._combined[f];this._extendedAttrs={};for(const f in s._extendedAttrs)this._extendedAttrs[f]=s._extendedAttrs[f];this.isWrapped=s.isWrapped}clone(){const s=new w(0);s._data=new Uint32Array(this._data),s.length=this.length;for(const f in this._combined)s._combined[f]=this._combined[f];for(const f in this._extendedAttrs)s._extendedAttrs[f]=this._extendedAttrs[f];return s.isWrapped=this.isWrapped,s}getTrimmedLength(){for(let s=this.length-1;s>=0;--s)if(4194303&this._data[3*s+0])return s+(this._data[3*s+0]>>22);return 0}copyCellsFrom(s,f,h,a,b){const g=s._data;if(b)for(let E=a-1;E>=0;E--){for(let C=0;C<3;C++)this._data[3*(h+E)+C]=g[3*(f+E)+C];268435456&g[3*(f+E)+2]&&(this._extendedAttrs[h+E]=s._extendedAttrs[f+E])}else for(let E=0;E<a;E++){for(let C=0;C<3;C++)this._data[3*(h+E)+C]=g[3*(f+E)+C];268435456&g[3*(f+E)+2]&&(this._extendedAttrs[h+E]=s._extendedAttrs[f+E])}const y=Object.keys(s._combined);for(let E=0;E<y.length;E++){const C=parseInt(y[E],10);C>=f&&(this._combined[C-f+h]=s._combined[C])}}translateToString(s=!1,f=0,h=this.length){s&&(h=Math.min(h,this.getTrimmedLength()));let a="";for(;f<h;){const b=this._data[3*f+0],g=2097151&b;a+=2097152&b?this._combined[f]:g?(0,l.stringFromCodePoint)(g):u.WHITESPACE_CELL_CHAR,f+=b>>22||1}return a}}i.BufferLine=w},4841:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getRangeLength=void 0,i.getRangeLength=function(n,l){if(n.start.y>n.end.y)throw new Error(`Buffer range end (${n.end.x}, ${n.end.y}) cannot be before start (${n.start.x}, ${n.start.y})`);return l*(n.end.y-n.start.y)+(n.end.x-n.start.x+1)}},4634:(_,i)=>{function n(l,u,c){if(u===l.length-1)return l[u].getTrimmedLength();const p=!l[u].hasContent(c-1)&&l[u].getWidth(c-1)===1,S=l[u+1].getWidth(0)===2;return p&&S?c-1:c}Object.defineProperty(i,"__esModule",{value:!0}),i.getWrappedLineTrimmedLength=i.reflowSmallerGetNewLineLengths=i.reflowLargerApplyNewLayout=i.reflowLargerCreateNewLayout=i.reflowLargerGetLinesToRemove=void 0,i.reflowLargerGetLinesToRemove=function(l,u,c,p,S){const w=[];for(let v=0;v<l.length-1;v++){let s=v,f=l.get(++s);if(!f.isWrapped)continue;const h=[l.get(v)];for(;s<l.length&&f.isWrapped;)h.push(f),f=l.get(++s);if(p>=v&&p<s){v+=h.length-1;continue}let a=0,b=n(h,a,u),g=1,y=0;for(;g<h.length;){const C=n(h,g,u),k=C-y,R=c-b,T=Math.min(k,R);h[a].copyCellsFrom(h[g],y,b,T,!1),b+=T,b===c&&(a++,b=0),y+=T,y===C&&(g++,y=0),b===0&&a!==0&&h[a-1].getWidth(c-1)===2&&(h[a].copyCellsFrom(h[a-1],c-1,b++,1,!1),h[a-1].setCell(c-1,S))}h[a].replaceCells(b,c,S);let E=0;for(let C=h.length-1;C>0&&(C>a||h[C].getTrimmedLength()===0);C--)E++;E>0&&(w.push(v+h.length-E),w.push(E)),v+=h.length-1}return w},i.reflowLargerCreateNewLayout=function(l,u){const c=[];let p=0,S=u[p],w=0;for(let v=0;v<l.length;v++)if(S===v){const s=u[++p];l.onDeleteEmitter.fire({index:v-w,amount:s}),v+=s-1,w+=s,S=u[++p]}else c.push(v);return{layout:c,countRemoved:w}},i.reflowLargerApplyNewLayout=function(l,u){const c=[];for(let p=0;p<u.length;p++)c.push(l.get(u[p]));for(let p=0;p<c.length;p++)l.set(p,c[p]);l.length=u.length},i.reflowSmallerGetNewLineLengths=function(l,u,c){const p=[],S=l.map((f,h)=>n(l,h,u)).reduce((f,h)=>f+h);let w=0,v=0,s=0;for(;s<S;){if(S-s<c){p.push(S-s);break}w+=c;const f=n(l,v,u);w>f&&(w-=f,v++);const h=l[v].getWidth(w-1)===2;h&&w--;const a=h?c-1:c;p.push(a),s+=a}return p},i.getWrappedLineTrimmedLength=n},5295:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferSet=void 0;const l=n(9092),u=n(8460),c=n(844);class p extends c.Disposable{constructor(w,v){super(),this._optionsService=w,this._bufferService=v,this._onBufferActivate=this.register(new u.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new l.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new l.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(w){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(w),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(w,v){this._normal.resize(w,v),this._alt.resize(w,v),this.setupTabStops(w)}setupTabStops(w){this._normal.setupTabStops(w),this._alt.setupTabStops(w)}}i.BufferSet=p},511:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CellData=void 0;const l=n(482),u=n(643),c=n(3734);class p extends c.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new c.ExtendedAttrs,this.combinedData=""}static fromCharData(w){const v=new p;return v.setFromCharData(w),v}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,l.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(w){this.fg=w[u.CHAR_DATA_ATTR_INDEX],this.bg=0;let v=!1;if(w[u.CHAR_DATA_CHAR_INDEX].length>2)v=!0;else if(w[u.CHAR_DATA_CHAR_INDEX].length===2){const s=w[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=s&&s<=56319){const f=w[u.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=f&&f<=57343?this.content=1024*(s-55296)+f-56320+65536|w[u.CHAR_DATA_WIDTH_INDEX]<<22:v=!0}else v=!0}else this.content=w[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|w[u.CHAR_DATA_WIDTH_INDEX]<<22;v&&(this.combinedData=w[u.CHAR_DATA_CHAR_INDEX],this.content=2097152|w[u.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}i.CellData=p},643:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WHITESPACE_CELL_CODE=i.WHITESPACE_CELL_WIDTH=i.WHITESPACE_CELL_CHAR=i.NULL_CELL_CODE=i.NULL_CELL_WIDTH=i.NULL_CELL_CHAR=i.CHAR_DATA_CODE_INDEX=i.CHAR_DATA_WIDTH_INDEX=i.CHAR_DATA_CHAR_INDEX=i.CHAR_DATA_ATTR_INDEX=i.DEFAULT_EXT=i.DEFAULT_ATTR=i.DEFAULT_COLOR=void 0,i.DEFAULT_COLOR=0,i.DEFAULT_ATTR=256|i.DEFAULT_COLOR<<9,i.DEFAULT_EXT=0,i.CHAR_DATA_ATTR_INDEX=0,i.CHAR_DATA_CHAR_INDEX=1,i.CHAR_DATA_WIDTH_INDEX=2,i.CHAR_DATA_CODE_INDEX=3,i.NULL_CELL_CHAR="",i.NULL_CELL_WIDTH=1,i.NULL_CELL_CODE=0,i.WHITESPACE_CELL_CHAR=" ",i.WHITESPACE_CELL_WIDTH=1,i.WHITESPACE_CELL_CODE=32},4863:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Marker=void 0;const l=n(8460),u=n(844);class c{constructor(S){this.line=S,this.isDisposed=!1,this._disposables=[],this._id=c._nextId++,this._onDispose=this.register(new l.EventEmitter),this.onDispose=this._onDispose.event}get id(){return this._id}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,u.disposeArray)(this._disposables),this._disposables.length=0)}register(S){return this._disposables.push(S),S}}i.Marker=c,c._nextId=1},7116:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_CHARSET=i.CHARSETS=void 0,i.CHARSETS={},i.DEFAULT_CHARSET=i.CHARSETS.B,i.CHARSETS[0]={"`":"◆",a:"▒",b:"␉",c:"␌",d:"␍",e:"␊",f:"°",g:"±",h:"␤",i:"␋",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},i.CHARSETS.A={"#":"£"},i.CHARSETS.B=void 0,i.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},i.CHARSETS.C=i.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},i.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},i.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},i.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},i.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},i.CHARSETS.E=i.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},i.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},i.CHARSETS.H=i.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},i.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},2584:(_,i)=>{var n,l;Object.defineProperty(i,"__esModule",{value:!0}),i.C1_ESCAPED=i.C1=i.C0=void 0,function(u){u.NUL="\0",u.SOH="",u.STX="",u.ETX="",u.EOT="",u.ENQ="",u.ACK="",u.BEL="\x07",u.BS="\b",u.HT="	",u.LF=`
`,u.VT="\v",u.FF="\f",u.CR="\r",u.SO="",u.SI="",u.DLE="",u.DC1="",u.DC2="",u.DC3="",u.DC4="",u.NAK="",u.SYN="",u.ETB="",u.CAN="",u.EM="",u.SUB="",u.ESC="\x1B",u.FS="",u.GS="",u.RS="",u.US="",u.SP=" ",u.DEL=""}(n=i.C0||(i.C0={})),(l=i.C1||(i.C1={})).PAD="",l.HOP="",l.BPH="",l.NBH="",l.IND="",l.NEL="",l.SSA="",l.ESA="",l.HTS="",l.HTJ="",l.VTS="",l.PLD="",l.PLU="",l.RI="",l.SS2="",l.SS3="",l.DCS="",l.PU1="",l.PU2="",l.STS="",l.CCH="",l.MW="",l.SPA="",l.EPA="",l.SOS="",l.SGCI="",l.SCI="",l.CSI="",l.ST="",l.OSC="",l.PM="",l.APC="",(i.C1_ESCAPED||(i.C1_ESCAPED={})).ST=`${n.ESC}\\`},7399:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.evaluateKeyboardEvent=void 0;const l=n(2584),u={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};i.evaluateKeyboardEvent=function(c,p,S,w){const v={type:0,cancel:!1,key:void 0},s=(c.shiftKey?1:0)|(c.altKey?2:0)|(c.ctrlKey?4:0)|(c.metaKey?8:0);switch(c.keyCode){case 0:c.key==="UIKeyInputUpArrow"?v.key=p?l.C0.ESC+"OA":l.C0.ESC+"[A":c.key==="UIKeyInputLeftArrow"?v.key=p?l.C0.ESC+"OD":l.C0.ESC+"[D":c.key==="UIKeyInputRightArrow"?v.key=p?l.C0.ESC+"OC":l.C0.ESC+"[C":c.key==="UIKeyInputDownArrow"&&(v.key=p?l.C0.ESC+"OB":l.C0.ESC+"[B");break;case 8:if(c.altKey){v.key=l.C0.ESC+l.C0.DEL;break}v.key=l.C0.DEL;break;case 9:if(c.shiftKey){v.key=l.C0.ESC+"[Z";break}v.key=l.C0.HT,v.cancel=!0;break;case 13:v.key=c.altKey?l.C0.ESC+l.C0.CR:l.C0.CR,v.cancel=!0;break;case 27:v.key=l.C0.ESC,c.altKey&&(v.key=l.C0.ESC+l.C0.ESC),v.cancel=!0;break;case 37:if(c.metaKey)break;s?(v.key=l.C0.ESC+"[1;"+(s+1)+"D",v.key===l.C0.ESC+"[1;3D"&&(v.key=l.C0.ESC+(S?"b":"[1;5D"))):v.key=p?l.C0.ESC+"OD":l.C0.ESC+"[D";break;case 39:if(c.metaKey)break;s?(v.key=l.C0.ESC+"[1;"+(s+1)+"C",v.key===l.C0.ESC+"[1;3C"&&(v.key=l.C0.ESC+(S?"f":"[1;5C"))):v.key=p?l.C0.ESC+"OC":l.C0.ESC+"[C";break;case 38:if(c.metaKey)break;s?(v.key=l.C0.ESC+"[1;"+(s+1)+"A",S||v.key!==l.C0.ESC+"[1;3A"||(v.key=l.C0.ESC+"[1;5A")):v.key=p?l.C0.ESC+"OA":l.C0.ESC+"[A";break;case 40:if(c.metaKey)break;s?(v.key=l.C0.ESC+"[1;"+(s+1)+"B",S||v.key!==l.C0.ESC+"[1;3B"||(v.key=l.C0.ESC+"[1;5B")):v.key=p?l.C0.ESC+"OB":l.C0.ESC+"[B";break;case 45:c.shiftKey||c.ctrlKey||(v.key=l.C0.ESC+"[2~");break;case 46:v.key=s?l.C0.ESC+"[3;"+(s+1)+"~":l.C0.ESC+"[3~";break;case 36:v.key=s?l.C0.ESC+"[1;"+(s+1)+"H":p?l.C0.ESC+"OH":l.C0.ESC+"[H";break;case 35:v.key=s?l.C0.ESC+"[1;"+(s+1)+"F":p?l.C0.ESC+"OF":l.C0.ESC+"[F";break;case 33:c.shiftKey?v.type=2:c.ctrlKey?v.key=l.C0.ESC+"[5;"+(s+1)+"~":v.key=l.C0.ESC+"[5~";break;case 34:c.shiftKey?v.type=3:c.ctrlKey?v.key=l.C0.ESC+"[6;"+(s+1)+"~":v.key=l.C0.ESC+"[6~";break;case 112:v.key=s?l.C0.ESC+"[1;"+(s+1)+"P":l.C0.ESC+"OP";break;case 113:v.key=s?l.C0.ESC+"[1;"+(s+1)+"Q":l.C0.ESC+"OQ";break;case 114:v.key=s?l.C0.ESC+"[1;"+(s+1)+"R":l.C0.ESC+"OR";break;case 115:v.key=s?l.C0.ESC+"[1;"+(s+1)+"S":l.C0.ESC+"OS";break;case 116:v.key=s?l.C0.ESC+"[15;"+(s+1)+"~":l.C0.ESC+"[15~";break;case 117:v.key=s?l.C0.ESC+"[17;"+(s+1)+"~":l.C0.ESC+"[17~";break;case 118:v.key=s?l.C0.ESC+"[18;"+(s+1)+"~":l.C0.ESC+"[18~";break;case 119:v.key=s?l.C0.ESC+"[19;"+(s+1)+"~":l.C0.ESC+"[19~";break;case 120:v.key=s?l.C0.ESC+"[20;"+(s+1)+"~":l.C0.ESC+"[20~";break;case 121:v.key=s?l.C0.ESC+"[21;"+(s+1)+"~":l.C0.ESC+"[21~";break;case 122:v.key=s?l.C0.ESC+"[23;"+(s+1)+"~":l.C0.ESC+"[23~";break;case 123:v.key=s?l.C0.ESC+"[24;"+(s+1)+"~":l.C0.ESC+"[24~";break;default:if(!c.ctrlKey||c.shiftKey||c.altKey||c.metaKey)if(S&&!w||!c.altKey||c.metaKey)!S||c.altKey||c.ctrlKey||c.shiftKey||!c.metaKey?c.key&&!c.ctrlKey&&!c.altKey&&!c.metaKey&&c.keyCode>=48&&c.key.length===1?v.key=c.key:c.key&&c.ctrlKey&&(c.key==="_"&&(v.key=l.C0.US),c.key==="@"&&(v.key=l.C0.NUL)):c.keyCode===65&&(v.type=1);else{const f=u[c.keyCode],h=f==null?void 0:f[c.shiftKey?1:0];if(h)v.key=l.C0.ESC+h;else if(c.keyCode>=65&&c.keyCode<=90){const a=c.ctrlKey?c.keyCode-64:c.keyCode+32;let b=String.fromCharCode(a);c.shiftKey&&(b=b.toUpperCase()),v.key=l.C0.ESC+b}else if(c.keyCode===32)v.key=l.C0.ESC+(c.ctrlKey?l.C0.NUL:" ");else if(c.key==="Dead"&&c.code.startsWith("Key")){let a=c.code.slice(3,4);c.shiftKey||(a=a.toLowerCase()),v.key=l.C0.ESC+a,v.cancel=!0}}else c.keyCode>=65&&c.keyCode<=90?v.key=String.fromCharCode(c.keyCode-64):c.keyCode===32?v.key=l.C0.NUL:c.keyCode>=51&&c.keyCode<=55?v.key=String.fromCharCode(c.keyCode-51+27):c.keyCode===56?v.key=l.C0.DEL:c.keyCode===219?v.key=l.C0.ESC:c.keyCode===220?v.key=l.C0.FS:c.keyCode===221&&(v.key=l.C0.GS)}return v}},482:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Utf8ToUtf32=i.StringToUtf32=i.utf32ToString=i.stringFromCodePoint=void 0,i.stringFromCodePoint=function(n){return n>65535?(n-=65536,String.fromCharCode(55296+(n>>10))+String.fromCharCode(n%1024+56320)):String.fromCharCode(n)},i.utf32ToString=function(n,l=0,u=n.length){let c="";for(let p=l;p<u;++p){let S=n[p];S>65535?(S-=65536,c+=String.fromCharCode(55296+(S>>10))+String.fromCharCode(S%1024+56320)):c+=String.fromCharCode(S)}return c},i.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(n,l){const u=n.length;if(!u)return 0;let c=0,p=0;if(this._interim){const S=n.charCodeAt(p++);56320<=S&&S<=57343?l[c++]=1024*(this._interim-55296)+S-56320+65536:(l[c++]=this._interim,l[c++]=S),this._interim=0}for(let S=p;S<u;++S){const w=n.charCodeAt(S);if(55296<=w&&w<=56319){if(++S>=u)return this._interim=w,c;const v=n.charCodeAt(S);56320<=v&&v<=57343?l[c++]=1024*(w-55296)+v-56320+65536:(l[c++]=w,l[c++]=v)}else w!==65279&&(l[c++]=w)}return c}},i.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(n,l){const u=n.length;if(!u)return 0;let c,p,S,w,v=0,s=0,f=0;if(this.interim[0]){let b=!1,g=this.interim[0];g&=(224&g)==192?31:(240&g)==224?15:7;let y,E=0;for(;(y=63&this.interim[++E])&&E<4;)g<<=6,g|=y;const C=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,k=C-E;for(;f<k;){if(f>=u)return 0;if(y=n[f++],(192&y)!=128){f--,b=!0;break}this.interim[E++]=y,g<<=6,g|=63&y}b||(C===2?g<128?f--:l[v++]=g:C===3?g<2048||g>=55296&&g<=57343||g===65279||(l[v++]=g):g<65536||g>1114111||(l[v++]=g)),this.interim.fill(0)}const h=u-4;let a=f;for(;a<u;){for(;!(!(a<h)||128&(c=n[a])||128&(p=n[a+1])||128&(S=n[a+2])||128&(w=n[a+3]));)l[v++]=c,l[v++]=p,l[v++]=S,l[v++]=w,a+=4;if(c=n[a++],c<128)l[v++]=c;else if((224&c)==192){if(a>=u)return this.interim[0]=c,v;if(p=n[a++],(192&p)!=128){a--;continue}if(s=(31&c)<<6|63&p,s<128){a--;continue}l[v++]=s}else if((240&c)==224){if(a>=u)return this.interim[0]=c,v;if(p=n[a++],(192&p)!=128){a--;continue}if(a>=u)return this.interim[0]=c,this.interim[1]=p,v;if(S=n[a++],(192&S)!=128){a--;continue}if(s=(15&c)<<12|(63&p)<<6|63&S,s<2048||s>=55296&&s<=57343||s===65279)continue;l[v++]=s}else if((248&c)==240){if(a>=u)return this.interim[0]=c,v;if(p=n[a++],(192&p)!=128){a--;continue}if(a>=u)return this.interim[0]=c,this.interim[1]=p,v;if(S=n[a++],(192&S)!=128){a--;continue}if(a>=u)return this.interim[0]=c,this.interim[1]=p,this.interim[2]=S,v;if(w=n[a++],(192&w)!=128){a--;continue}if(s=(7&c)<<18|(63&p)<<12|(63&S)<<6|63&w,s<65536||s>1114111)continue;l[v++]=s}}return v}}},225:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeV6=void 0;const n=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],l=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let u;i.UnicodeV6=class{constructor(){if(this.version="6",!u){u=new Uint8Array(65536),u.fill(1),u[0]=0,u.fill(0,1,32),u.fill(0,127,160),u.fill(2,4352,4448),u[9001]=2,u[9002]=2,u.fill(2,11904,42192),u[12351]=1,u.fill(2,44032,55204),u.fill(2,63744,64256),u.fill(2,65040,65050),u.fill(2,65072,65136),u.fill(2,65280,65377),u.fill(2,65504,65511);for(let c=0;c<n.length;++c)u.fill(0,n[c][0],n[c][1]+1)}}wcwidth(c){return c<32?0:c<127?1:c<65536?u[c]:function(p,S){let w,v=0,s=S.length-1;if(p<S[0][0]||p>S[s][1])return!1;for(;s>=v;)if(w=v+s>>1,p>S[w][1])v=w+1;else{if(!(p<S[w][0]))return!0;s=w-1}return!1}(c,l)?0:c>=131072&&c<=196605||c>=196608&&c<=262141?2:1}}},5981:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WriteBuffer=void 0;const l=n(8460),u=n(844);class c extends u.Disposable{constructor(S){super(),this._action=S,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new l.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(S,w){if(w!==void 0&&this._syncCalls>w)return void(this._syncCalls=0);if(this._pendingData+=S.length,this._writeBuffer.push(S),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let v;for(this._isSyncWriting=!0;v=this._writeBuffer.shift();){this._action(v);const s=this._callbacks.shift();s&&s()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(S,w){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=S.length,this._writeBuffer.push(S),this._callbacks.push(w),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=S.length,this._writeBuffer.push(S),this._callbacks.push(w)}_innerWrite(S=0,w=!0){const v=S||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const s=this._writeBuffer[this._bufferOffset],f=this._action(s,w);if(f){const a=b=>Date.now()-v>=12?setTimeout(()=>this._innerWrite(0,b)):this._innerWrite(v,b);return void f.catch(b=>(queueMicrotask(()=>{throw b}),Promise.resolve(!1))).then(a)}const h=this._callbacks[this._bufferOffset];if(h&&h(),this._bufferOffset++,this._pendingData-=s.length,Date.now()-v>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}i.WriteBuffer=c},5941:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.toRgbString=i.parseColor=void 0;const n=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,l=/^[\da-f]+$/;function u(c,p){const S=c.toString(16),w=S.length<2?"0"+S:S;switch(p){case 4:return S[0];case 8:return w;case 12:return(w+w).slice(0,3);default:return w+w}}i.parseColor=function(c){if(!c)return;let p=c.toLowerCase();if(p.indexOf("rgb:")===0){p=p.slice(4);const S=n.exec(p);if(S){const w=S[1]?15:S[4]?255:S[7]?4095:65535;return[Math.round(parseInt(S[1]||S[4]||S[7]||S[10],16)/w*255),Math.round(parseInt(S[2]||S[5]||S[8]||S[11],16)/w*255),Math.round(parseInt(S[3]||S[6]||S[9]||S[12],16)/w*255)]}}else if(p.indexOf("#")===0&&(p=p.slice(1),l.exec(p)&&[3,6,9,12].includes(p.length))){const S=p.length/3,w=[0,0,0];for(let v=0;v<3;++v){const s=parseInt(p.slice(S*v,S*v+S),16);w[v]=S===1?s<<4:S===2?s:S===3?s>>4:s>>8}return w}},i.toRgbString=function(c,p=16){const[S,w,v]=c;return`rgb:${u(S,p)}/${u(w,p)}/${u(v,p)}`}},5770:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PAYLOAD_LIMIT=void 0,i.PAYLOAD_LIMIT=1e7},6351:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DcsHandler=i.DcsParser=void 0;const l=n(482),u=n(8742),c=n(5770),p=[];i.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=p,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=p}registerHandler(w,v){this._handlers[w]===void 0&&(this._handlers[w]=[]);const s=this._handlers[w];return s.push(v),{dispose:()=>{const f=s.indexOf(v);f!==-1&&s.splice(f,1)}}}clearHandler(w){this._handlers[w]&&delete this._handlers[w]}setHandlerFallback(w){this._handlerFb=w}reset(){if(this._active.length)for(let w=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;w>=0;--w)this._active[w].unhook(!1);this._stack.paused=!1,this._active=p,this._ident=0}hook(w,v){if(this.reset(),this._ident=w,this._active=this._handlers[w]||p,this._active.length)for(let s=this._active.length-1;s>=0;s--)this._active[s].hook(v);else this._handlerFb(this._ident,"HOOK",v)}put(w,v,s){if(this._active.length)for(let f=this._active.length-1;f>=0;f--)this._active[f].put(w,v,s);else this._handlerFb(this._ident,"PUT",(0,l.utf32ToString)(w,v,s))}unhook(w,v=!0){if(this._active.length){let s=!1,f=this._active.length-1,h=!1;if(this._stack.paused&&(f=this._stack.loopPosition-1,s=v,h=this._stack.fallThrough,this._stack.paused=!1),!h&&s===!1){for(;f>=0&&(s=this._active[f].unhook(w),s!==!0);f--)if(s instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!1,s;f--}for(;f>=0;f--)if(s=this._active[f].unhook(!1),s instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!0,s}else this._handlerFb(this._ident,"UNHOOK",w);this._active=p,this._ident=0}};const S=new u.Params;S.addParam(0),i.DcsHandler=class{constructor(w){this._handler=w,this._data="",this._params=S,this._hitLimit=!1}hook(w){this._params=w.length>1||w.params[0]?w.clone():S,this._data="",this._hitLimit=!1}put(w,v,s){this._hitLimit||(this._data+=(0,l.utf32ToString)(w,v,s),this._data.length>c.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(w){let v=!1;if(this._hitLimit)v=!1;else if(w&&(v=this._handler(this._data,this._params),v instanceof Promise))return v.then(s=>(this._params=S,this._data="",this._hitLimit=!1,s));return this._params=S,this._data="",this._hitLimit=!1,v}}},2015:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.EscapeSequenceParser=i.VT500_TRANSITION_TABLE=i.TransitionTable=void 0;const l=n(844),u=n(8742),c=n(6242),p=n(6351);class S{constructor(f){this.table=new Uint8Array(f)}setDefault(f,h){this.table.fill(f<<4|h)}add(f,h,a,b){this.table[h<<8|f]=a<<4|b}addMany(f,h,a,b){for(let g=0;g<f.length;g++)this.table[h<<8|f[g]]=a<<4|b}}i.TransitionTable=S;const w=160;i.VT500_TRANSITION_TABLE=function(){const s=new S(4095),f=Array.apply(null,Array(256)).map((E,C)=>C),h=(E,C)=>f.slice(E,C),a=h(32,127),b=h(0,24);b.push(25),b.push.apply(b,h(28,32));const g=h(0,14);let y;for(y in s.setDefault(1,0),s.addMany(a,0,2,0),g)s.addMany([24,26,153,154],y,3,0),s.addMany(h(128,144),y,3,0),s.addMany(h(144,152),y,3,0),s.add(156,y,0,0),s.add(27,y,11,1),s.add(157,y,4,8),s.addMany([152,158,159],y,0,7),s.add(155,y,11,3),s.add(144,y,11,9);return s.addMany(b,0,3,0),s.addMany(b,1,3,1),s.add(127,1,0,1),s.addMany(b,8,0,8),s.addMany(b,3,3,3),s.add(127,3,0,3),s.addMany(b,4,3,4),s.add(127,4,0,4),s.addMany(b,6,3,6),s.addMany(b,5,3,5),s.add(127,5,0,5),s.addMany(b,2,3,2),s.add(127,2,0,2),s.add(93,1,4,8),s.addMany(a,8,5,8),s.add(127,8,5,8),s.addMany([156,27,24,26,7],8,6,0),s.addMany(h(28,32),8,0,8),s.addMany([88,94,95],1,0,7),s.addMany(a,7,0,7),s.addMany(b,7,0,7),s.add(156,7,0,0),s.add(127,7,0,7),s.add(91,1,11,3),s.addMany(h(64,127),3,7,0),s.addMany(h(48,60),3,8,4),s.addMany([60,61,62,63],3,9,4),s.addMany(h(48,60),4,8,4),s.addMany(h(64,127),4,7,0),s.addMany([60,61,62,63],4,0,6),s.addMany(h(32,64),6,0,6),s.add(127,6,0,6),s.addMany(h(64,127),6,0,0),s.addMany(h(32,48),3,9,5),s.addMany(h(32,48),5,9,5),s.addMany(h(48,64),5,0,6),s.addMany(h(64,127),5,7,0),s.addMany(h(32,48),4,9,5),s.addMany(h(32,48),1,9,2),s.addMany(h(32,48),2,9,2),s.addMany(h(48,127),2,10,0),s.addMany(h(48,80),1,10,0),s.addMany(h(81,88),1,10,0),s.addMany([89,90,92],1,10,0),s.addMany(h(96,127),1,10,0),s.add(80,1,11,9),s.addMany(b,9,0,9),s.add(127,9,0,9),s.addMany(h(28,32),9,0,9),s.addMany(h(32,48),9,9,12),s.addMany(h(48,60),9,8,10),s.addMany([60,61,62,63],9,9,10),s.addMany(b,11,0,11),s.addMany(h(32,128),11,0,11),s.addMany(h(28,32),11,0,11),s.addMany(b,10,0,10),s.add(127,10,0,10),s.addMany(h(28,32),10,0,10),s.addMany(h(48,60),10,8,10),s.addMany([60,61,62,63],10,0,11),s.addMany(h(32,48),10,9,12),s.addMany(b,12,0,12),s.add(127,12,0,12),s.addMany(h(28,32),12,0,12),s.addMany(h(32,48),12,9,12),s.addMany(h(48,64),12,0,11),s.addMany(h(64,127),12,12,13),s.addMany(h(64,127),10,12,13),s.addMany(h(64,127),9,12,13),s.addMany(b,13,13,13),s.addMany(a,13,13,13),s.add(127,13,0,13),s.addMany([27,156,24,26],13,14,0),s.add(w,0,2,0),s.add(w,8,5,8),s.add(w,6,0,6),s.add(w,11,0,11),s.add(w,13,13,13),s}();class v extends l.Disposable{constructor(f=i.VT500_TRANSITION_TABLE){super(),this._transitions=f,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new u.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(h,a,b)=>{},this._executeHandlerFb=h=>{},this._csiHandlerFb=(h,a)=>{},this._escHandlerFb=h=>{},this._errorHandlerFb=h=>h,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,l.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new c.OscParser),this._dcsParser=this.register(new p.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(f,h=[64,126]){let a=0;if(f.prefix){if(f.prefix.length>1)throw new Error("only one byte as prefix supported");if(a=f.prefix.charCodeAt(0),a&&60>a||a>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(f.intermediates){if(f.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let g=0;g<f.intermediates.length;++g){const y=f.intermediates.charCodeAt(g);if(32>y||y>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");a<<=8,a|=y}}if(f.final.length!==1)throw new Error("final must be a single byte");const b=f.final.charCodeAt(0);if(h[0]>b||b>h[1])throw new Error(`final must be in range ${h[0]} .. ${h[1]}`);return a<<=8,a|=b,a}identToString(f){const h=[];for(;f;)h.push(String.fromCharCode(255&f)),f>>=8;return h.reverse().join("")}setPrintHandler(f){this._printHandler=f}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(f,h){const a=this._identifier(f,[48,126]);this._escHandlers[a]===void 0&&(this._escHandlers[a]=[]);const b=this._escHandlers[a];return b.push(h),{dispose:()=>{const g=b.indexOf(h);g!==-1&&b.splice(g,1)}}}clearEscHandler(f){this._escHandlers[this._identifier(f,[48,126])]&&delete this._escHandlers[this._identifier(f,[48,126])]}setEscHandlerFallback(f){this._escHandlerFb=f}setExecuteHandler(f,h){this._executeHandlers[f.charCodeAt(0)]=h}clearExecuteHandler(f){this._executeHandlers[f.charCodeAt(0)]&&delete this._executeHandlers[f.charCodeAt(0)]}setExecuteHandlerFallback(f){this._executeHandlerFb=f}registerCsiHandler(f,h){const a=this._identifier(f);this._csiHandlers[a]===void 0&&(this._csiHandlers[a]=[]);const b=this._csiHandlers[a];return b.push(h),{dispose:()=>{const g=b.indexOf(h);g!==-1&&b.splice(g,1)}}}clearCsiHandler(f){this._csiHandlers[this._identifier(f)]&&delete this._csiHandlers[this._identifier(f)]}setCsiHandlerFallback(f){this._csiHandlerFb=f}registerDcsHandler(f,h){return this._dcsParser.registerHandler(this._identifier(f),h)}clearDcsHandler(f){this._dcsParser.clearHandler(this._identifier(f))}setDcsHandlerFallback(f){this._dcsParser.setHandlerFallback(f)}registerOscHandler(f,h){return this._oscParser.registerHandler(f,h)}clearOscHandler(f){this._oscParser.clearHandler(f)}setOscHandlerFallback(f){this._oscParser.setHandlerFallback(f)}setErrorHandler(f){this._errorHandler=f}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(f,h,a,b,g){this._parseStack.state=f,this._parseStack.handlers=h,this._parseStack.handlerPos=a,this._parseStack.transition=b,this._parseStack.chunkPos=g}parse(f,h,a){let b,g=0,y=0,E=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,E=this._parseStack.chunkPos+1;else{if(a===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const C=this._parseStack.handlers;let k=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(a===!1&&k>-1){for(;k>=0&&(b=C[k](this._params),b!==!0);k--)if(b instanceof Promise)return this._parseStack.handlerPos=k,b}this._parseStack.handlers=[];break;case 4:if(a===!1&&k>-1){for(;k>=0&&(b=C[k](),b!==!0);k--)if(b instanceof Promise)return this._parseStack.handlerPos=k,b}this._parseStack.handlers=[];break;case 6:if(g=f[this._parseStack.chunkPos],b=this._dcsParser.unhook(g!==24&&g!==26,a),b)return b;g===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(g=f[this._parseStack.chunkPos],b=this._oscParser.end(g!==24&&g!==26,a),b)return b;g===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,E=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let C=E;C<h;++C){switch(g=f[C],y=this._transitions.table[this.currentState<<8|(g<160?g:w)],y>>4){case 2:for(let I=C+1;;++I){if(I>=h||(g=f[I])<32||g>126&&g<w){this._printHandler(f,C,I),C=I-1;break}if(++I>=h||(g=f[I])<32||g>126&&g<w){this._printHandler(f,C,I),C=I-1;break}if(++I>=h||(g=f[I])<32||g>126&&g<w){this._printHandler(f,C,I),C=I-1;break}if(++I>=h||(g=f[I])<32||g>126&&g<w){this._printHandler(f,C,I),C=I-1;break}}break;case 3:this._executeHandlers[g]?this._executeHandlers[g]():this._executeHandlerFb(g),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:C,code:g,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const k=this._csiHandlers[this._collect<<8|g];let R=k?k.length-1:-1;for(;R>=0&&(b=k[R](this._params),b!==!0);R--)if(b instanceof Promise)return this._preserveStack(3,k,R,y,C),b;R<0&&this._csiHandlerFb(this._collect<<8|g,this._params),this.precedingCodepoint=0;break;case 8:do switch(g){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(g-48)}while(++C<h&&(g=f[C])>47&&g<60);C--;break;case 9:this._collect<<=8,this._collect|=g;break;case 10:const T=this._escHandlers[this._collect<<8|g];let M=T?T.length-1:-1;for(;M>=0&&(b=T[M](),b!==!0);M--)if(b instanceof Promise)return this._preserveStack(4,T,M,y,C),b;M<0&&this._escHandlerFb(this._collect<<8|g),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|g,this._params);break;case 13:for(let I=C+1;;++I)if(I>=h||(g=f[I])===24||g===26||g===27||g>127&&g<w){this._dcsParser.put(f,C,I),C=I-1;break}break;case 14:if(b=this._dcsParser.unhook(g!==24&&g!==26),b)return this._preserveStack(6,[],0,y,C),b;g===27&&(y|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let I=C+1;;I++)if(I>=h||(g=f[I])<32||g>127&&g<w){this._oscParser.put(f,C,I),C=I-1;break}break;case 6:if(b=this._oscParser.end(g!==24&&g!==26),b)return this._preserveStack(5,[],0,y,C),b;g===27&&(y|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&y}}}i.EscapeSequenceParser=v},6242:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OscHandler=i.OscParser=void 0;const l=n(5770),u=n(482),c=[];i.OscParser=class{constructor(){this._state=0,this._active=c,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(p,S){this._handlers[p]===void 0&&(this._handlers[p]=[]);const w=this._handlers[p];return w.push(S),{dispose:()=>{const v=w.indexOf(S);v!==-1&&w.splice(v,1)}}}clearHandler(p){this._handlers[p]&&delete this._handlers[p]}setHandlerFallback(p){this._handlerFb=p}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=c}reset(){if(this._state===2)for(let p=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;p>=0;--p)this._active[p].end(!1);this._stack.paused=!1,this._active=c,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||c,this._active.length)for(let p=this._active.length-1;p>=0;p--)this._active[p].start();else this._handlerFb(this._id,"START")}_put(p,S,w){if(this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].put(p,S,w);else this._handlerFb(this._id,"PUT",(0,u.utf32ToString)(p,S,w))}start(){this.reset(),this._state=1}put(p,S,w){if(this._state!==3){if(this._state===1)for(;S<w;){const v=p[S++];if(v===59){this._state=2,this._start();break}if(v<48||57<v)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+v-48}this._state===2&&w-S>0&&this._put(p,S,w)}}end(p,S=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let w=!1,v=this._active.length-1,s=!1;if(this._stack.paused&&(v=this._stack.loopPosition-1,w=S,s=this._stack.fallThrough,this._stack.paused=!1),!s&&w===!1){for(;v>=0&&(w=this._active[v].end(p),w!==!0);v--)if(w instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=v,this._stack.fallThrough=!1,w;v--}for(;v>=0;v--)if(w=this._active[v].end(!1),w instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=v,this._stack.fallThrough=!0,w}else this._handlerFb(this._id,"END",p);this._active=c,this._id=-1,this._state=0}}},i.OscHandler=class{constructor(p){this._handler=p,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(p,S,w){this._hitLimit||(this._data+=(0,u.utf32ToString)(p,S,w),this._data.length>l.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(p){let S=!1;if(this._hitLimit)S=!1;else if(p&&(S=this._handler(this._data),S instanceof Promise))return S.then(w=>(this._data="",this._hitLimit=!1,w));return this._data="",this._hitLimit=!1,S}}},8742:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Params=void 0;const n=2147483647;class l{constructor(c=32,p=32){if(this.maxLength=c,this.maxSubParamsLength=p,p>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(c),this.length=0,this._subParams=new Int32Array(p),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(c),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}static fromArray(c){const p=new l;if(!c.length)return p;for(let S=Array.isArray(c[0])?1:0;S<c.length;++S){const w=c[S];if(Array.isArray(w))for(let v=0;v<w.length;++v)p.addSubParam(w[v]);else p.addParam(w)}return p}clone(){const c=new l(this.maxLength,this.maxSubParamsLength);return c.params.set(this.params),c.length=this.length,c._subParams.set(this._subParams),c._subParamsLength=this._subParamsLength,c._subParamsIdx.set(this._subParamsIdx),c._rejectDigits=this._rejectDigits,c._rejectSubDigits=this._rejectSubDigits,c._digitIsSub=this._digitIsSub,c}toArray(){const c=[];for(let p=0;p<this.length;++p){c.push(this.params[p]);const S=this._subParamsIdx[p]>>8,w=255&this._subParamsIdx[p];w-S>0&&c.push(Array.prototype.slice.call(this._subParams,S,w))}return c}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(c){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(c<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=c>n?n:c}}addSubParam(c){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(c<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=c>n?n:c,this._subParamsIdx[this.length-1]++}}hasSubParams(c){return(255&this._subParamsIdx[c])-(this._subParamsIdx[c]>>8)>0}getSubParams(c){const p=this._subParamsIdx[c]>>8,S=255&this._subParamsIdx[c];return S-p>0?this._subParams.subarray(p,S):null}getSubParamsAll(){const c={};for(let p=0;p<this.length;++p){const S=this._subParamsIdx[p]>>8,w=255&this._subParamsIdx[p];w-S>0&&(c[p]=this._subParams.slice(S,w))}return c}addDigit(c){let p;if(this._rejectDigits||!(p=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const S=this._digitIsSub?this._subParams:this.params,w=S[p-1];S[p-1]=~w?Math.min(10*w+c,n):c}}i.Params=l},5741:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.AddonManager=void 0,i.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let n=this._addons.length-1;n>=0;n--)this._addons[n].instance.dispose()}loadAddon(n,l){const u={instance:l,dispose:l.dispose,isDisposed:!1};this._addons.push(u),l.dispose=()=>this._wrappedAddonDispose(u),l.activate(n)}_wrappedAddonDispose(n){if(n.isDisposed)return;let l=-1;for(let u=0;u<this._addons.length;u++)if(this._addons[u]===n){l=u;break}if(l===-1)throw new Error("Could not dispose an addon that has not been loaded");n.isDisposed=!0,n.dispose.apply(n.instance),this._addons.splice(l,1)}}},8771:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferApiView=void 0;const l=n(3785),u=n(511);i.BufferApiView=class{constructor(c,p){this._buffer=c,this.type=p}init(c){return this._buffer=c,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(c){const p=this._buffer.lines.get(c);if(p)return new l.BufferLineApiView(p)}getNullCell(){return new u.CellData}}},3785:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferLineApiView=void 0;const l=n(511);i.BufferLineApiView=class{constructor(u){this._line=u}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(u,c){if(!(u<0||u>=this._line.length))return c?(this._line.loadCell(u,c),c):this._line.loadCell(u,new l.CellData)}translateToString(u,c,p){return this._line.translateToString(u,c,p)}}},8285:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferNamespaceApi=void 0;const l=n(8771),u=n(8460);i.BufferNamespaceApi=class{constructor(c){this._core=c,this._onBufferChange=new u.EventEmitter,this.onBufferChange=this._onBufferChange.event,this._normal=new l.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new l.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}},7975:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ParserApi=void 0,i.ParserApi=class{constructor(n){this._core=n}registerCsiHandler(n,l){return this._core.registerCsiHandler(n,u=>l(u.toArray()))}addCsiHandler(n,l){return this.registerCsiHandler(n,l)}registerDcsHandler(n,l){return this._core.registerDcsHandler(n,(u,c)=>l(u,c.toArray()))}addDcsHandler(n,l){return this.registerDcsHandler(n,l)}registerEscHandler(n,l){return this._core.registerEscHandler(n,l)}addEscHandler(n,l){return this.registerEscHandler(n,l)}registerOscHandler(n,l){return this._core.registerOscHandler(n,l)}addOscHandler(n,l){return this.registerOscHandler(n,l)}}},7090:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeApi=void 0,i.UnicodeApi=class{constructor(n){this._core=n}register(n){this._core.unicodeService.register(n)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(n){this._core.unicodeService.activeVersion=n}}},744:function(_,i,n){var l=this&&this.__decorate||function(s,f,h,a){var b,g=arguments.length,y=g<3?f:a===null?a=Object.getOwnPropertyDescriptor(f,h):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(s,f,h,a);else for(var E=s.length-1;E>=0;E--)(b=s[E])&&(y=(g<3?b(y):g>3?b(f,h,y):b(f,h))||y);return g>3&&y&&Object.defineProperty(f,h,y),y},u=this&&this.__param||function(s,f){return function(h,a){f(h,a,s)}};Object.defineProperty(i,"__esModule",{value:!0}),i.BufferService=i.MINIMUM_ROWS=i.MINIMUM_COLS=void 0;const c=n(2585),p=n(5295),S=n(8460),w=n(844);i.MINIMUM_COLS=2,i.MINIMUM_ROWS=1;let v=class extends w.Disposable{constructor(s){super(),this.isUserScrolling=!1,this._onResize=this.register(new S.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new S.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(s.rawOptions.cols||0,i.MINIMUM_COLS),this.rows=Math.max(s.rawOptions.rows||0,i.MINIMUM_ROWS),this.buffers=this.register(new p.BufferSet(s,this))}get buffer(){return this.buffers.active}resize(s,f){this.cols=s,this.rows=f,this.buffers.resize(s,f),this._onResize.fire({cols:s,rows:f})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(s,f=!1){const h=this.buffer;let a;a=this._cachedBlankLine,a&&a.length===this.cols&&a.getFg(0)===s.fg&&a.getBg(0)===s.bg||(a=h.getBlankLine(s,f),this._cachedBlankLine=a),a.isWrapped=f;const b=h.ybase+h.scrollTop,g=h.ybase+h.scrollBottom;if(h.scrollTop===0){const y=h.lines.isFull;g===h.lines.length-1?y?h.lines.recycle().copyFrom(a):h.lines.push(a.clone()):h.lines.splice(g+1,0,a.clone()),y?this.isUserScrolling&&(h.ydisp=Math.max(h.ydisp-1,0)):(h.ybase++,this.isUserScrolling||h.ydisp++)}else{const y=g-b+1;h.lines.shiftElements(b+1,y-1,-1),h.lines.set(g,a.clone())}this.isUserScrolling||(h.ydisp=h.ybase),this._onScroll.fire(h.ydisp)}scrollLines(s,f,h){const a=this.buffer;if(s<0){if(a.ydisp===0)return;this.isUserScrolling=!0}else s+a.ydisp>=a.ybase&&(this.isUserScrolling=!1);const b=a.ydisp;a.ydisp=Math.max(Math.min(a.ydisp+s,a.ybase),0),b!==a.ydisp&&(f||this._onScroll.fire(a.ydisp))}scrollPages(s){this.scrollLines(s*(this.rows-1))}scrollToTop(){this.scrollLines(-this.buffer.ydisp)}scrollToBottom(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)}scrollToLine(s){const f=s-this.buffer.ydisp;f!==0&&this.scrollLines(f)}};v=l([u(0,c.IOptionsService)],v),i.BufferService=v},7994:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CharsetService=void 0,i.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(n){this.glevel=n,this.charset=this._charsets[n]}setgCharset(n,l){this._charsets[n]=l,this.glevel===n&&(this.charset=l)}}},1753:function(_,i,n){var l=this&&this.__decorate||function(a,b,g,y){var E,C=arguments.length,k=C<3?b:y===null?y=Object.getOwnPropertyDescriptor(b,g):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(a,b,g,y);else for(var R=a.length-1;R>=0;R--)(E=a[R])&&(k=(C<3?E(k):C>3?E(b,g,k):E(b,g))||k);return C>3&&k&&Object.defineProperty(b,g,k),k},u=this&&this.__param||function(a,b){return function(g,y){b(g,y,a)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CoreMouseService=void 0;const c=n(2585),p=n(8460),S=n(844),w={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:a=>a.button!==4&&a.action===1&&(a.ctrl=!1,a.alt=!1,a.shift=!1,!0)},VT200:{events:19,restrict:a=>a.action!==32},DRAG:{events:23,restrict:a=>a.action!==32||a.button!==3},ANY:{events:31,restrict:a=>!0}};function v(a,b){let g=(a.ctrl?16:0)|(a.shift?4:0)|(a.alt?8:0);return a.button===4?(g|=64,g|=a.action):(g|=3&a.button,4&a.button&&(g|=64),8&a.button&&(g|=128),a.action===32?g|=32:a.action!==0||b||(g|=3)),g}const s=String.fromCharCode,f={DEFAULT:a=>{const b=[v(a,!1)+32,a.col+32,a.row+32];return b[0]>255||b[1]>255||b[2]>255?"":`\x1B[M${s(b[0])}${s(b[1])}${s(b[2])}`},SGR:a=>{const b=a.action===0&&a.button!==4?"m":"M";return`\x1B[<${v(a,!0)};${a.col};${a.row}${b}`},SGR_PIXELS:a=>{const b=a.action===0&&a.button!==4?"m":"M";return`\x1B[<${v(a,!0)};${a.x};${a.y}${b}`}};let h=class extends S.Disposable{constructor(a,b){super(),this._bufferService=a,this._coreService=b,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new p.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const g of Object.keys(w))this.addProtocol(g,w[g]);for(const g of Object.keys(f))this.addEncoding(g,f[g]);this.reset()}addProtocol(a,b){this._protocols[a]=b}addEncoding(a,b){this._encodings[a]=b}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(a){if(!this._protocols[a])throw new Error(`unknown protocol "${a}"`);this._activeProtocol=a,this._onProtocolChange.fire(this._protocols[a].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(a){if(!this._encodings[a])throw new Error(`unknown encoding "${a}"`);this._activeEncoding=a}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(a){if(a.col<0||a.col>=this._bufferService.cols||a.row<0||a.row>=this._bufferService.rows||a.button===4&&a.action===32||a.button===3&&a.action!==32||a.button!==4&&(a.action===2||a.action===3)||(a.col++,a.row++,a.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,a,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(a))return!1;const b=this._encodings[this._activeEncoding](a);return b&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(b):this._coreService.triggerDataEvent(b,!0)),this._lastEvent=a,!0}explainEvents(a){return{down:!!(1&a),up:!!(2&a),drag:!!(4&a),move:!!(8&a),wheel:!!(16&a)}}_equalEvents(a,b,g){if(g){if(a.x!==b.x||a.y!==b.y)return!1}else if(a.col!==b.col||a.row!==b.row)return!1;return a.button===b.button&&a.action===b.action&&a.ctrl===b.ctrl&&a.alt===b.alt&&a.shift===b.shift}};h=l([u(0,c.IBufferService),u(1,c.ICoreService)],h),i.CoreMouseService=h},6975:function(_,i,n){var l=this&&this.__decorate||function(h,a,b,g){var y,E=arguments.length,C=E<3?a:g===null?g=Object.getOwnPropertyDescriptor(a,b):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(h,a,b,g);else for(var k=h.length-1;k>=0;k--)(y=h[k])&&(C=(E<3?y(C):E>3?y(a,b,C):y(a,b))||C);return E>3&&C&&Object.defineProperty(a,b,C),C},u=this&&this.__param||function(h,a){return function(b,g){a(b,g,h)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CoreService=void 0;const c=n(2585),p=n(8460),S=n(1439),w=n(844),v=Object.freeze({insertMode:!1}),s=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let f=class extends w.Disposable{constructor(h,a,b){super(),this._bufferService=h,this._logService=a,this._optionsService=b,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new p.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new p.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new p.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new p.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,S.clone)(v),this.decPrivateModes=(0,S.clone)(s)}reset(){this.modes=(0,S.clone)(v),this.decPrivateModes=(0,S.clone)(s)}triggerDataEvent(h,a=!1){if(this._optionsService.rawOptions.disableStdin)return;const b=this._bufferService.buffer;a&&this._optionsService.rawOptions.scrollOnUserInput&&b.ybase!==b.ydisp&&this._onRequestScrollToBottom.fire(),a&&this._onUserInput.fire(),this._logService.debug(`sending data "${h}"`,()=>h.split("").map(g=>g.charCodeAt(0))),this._onData.fire(h)}triggerBinaryEvent(h){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${h}"`,()=>h.split("").map(a=>a.charCodeAt(0))),this._onBinary.fire(h))}};f=l([u(0,c.IBufferService),u(1,c.ILogService),u(2,c.IOptionsService)],f),i.CoreService=f},9074:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DecorationService=void 0;const l=n(8055),u=n(8460),c=n(844),p=n(6106);let S=0,w=0;class v extends c.Disposable{constructor(){super(),this._decorations=new p.SortedList(h=>h==null?void 0:h.marker.line),this._onDecorationRegistered=this.register(new u.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new u.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,c.toDisposable)(()=>{for(const h of this._decorations.values())this._onDecorationRemoved.fire(h);this.reset()}))}get decorations(){return this._decorations.values()}registerDecoration(h){if(h.marker.isDisposed)return;const a=new s(h);if(a){const b=a.marker.onDispose(()=>a.dispose());a.onDispose(()=>{a&&(this._decorations.delete(a)&&this._onDecorationRemoved.fire(a),b.dispose())}),this._decorations.insert(a),this._onDecorationRegistered.fire(a)}return a}reset(){for(const h of this._decorations.values())h.dispose();this._decorations.clear()}*getDecorationsAtCell(h,a,b){var g,y,E;let C=0,k=0;for(const R of this._decorations.getKeyIterator(a))C=(g=R.options.x)!==null&&g!==void 0?g:0,k=C+((y=R.options.width)!==null&&y!==void 0?y:1),h>=C&&h<k&&(!b||((E=R.options.layer)!==null&&E!==void 0?E:"bottom")===b)&&(yield R)}forEachDecorationAtCell(h,a,b,g){this._decorations.forEachByKey(a,y=>{var E,C,k;S=(E=y.options.x)!==null&&E!==void 0?E:0,w=S+((C=y.options.width)!==null&&C!==void 0?C:1),h>=S&&h<w&&(!b||((k=y.options.layer)!==null&&k!==void 0?k:"bottom")===b)&&g(y)})}dispose(){for(const h of this._decorations.values())this._onDecorationRemoved.fire(h);this.reset()}}i.DecorationService=v;class s extends c.Disposable{constructor(h){super(),this.options=h,this.onRenderEmitter=this.register(new u.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new u.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=h.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=l.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=l.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.InstantiationService=i.ServiceCollection=void 0;const l=n(2585),u=n(8343);class c{constructor(...S){this._entries=new Map;for(const[w,v]of S)this.set(w,v)}set(S,w){const v=this._entries.get(S);return this._entries.set(S,w),v}forEach(S){for(const[w,v]of this._entries.entries())S(w,v)}has(S){return this._entries.has(S)}get(S){return this._entries.get(S)}}i.ServiceCollection=c,i.InstantiationService=class{constructor(){this._services=new c,this._services.set(l.IInstantiationService,this)}setService(p,S){this._services.set(p,S)}getService(p){return this._services.get(p)}createInstance(p,...S){const w=(0,u.getServiceDependencies)(p).sort((f,h)=>f.index-h.index),v=[];for(const f of w){const h=this._services.get(f.id);if(!h)throw new Error(`[createInstance] ${p.name} depends on UNKNOWN service ${f.id}.`);v.push(h)}const s=w.length>0?w[0].index:S.length;if(S.length!==s)throw new Error(`[createInstance] First service dependency of ${p.name} at position ${s+1} conflicts with ${S.length} static arguments`);return new p(...S,...v)}}},7866:function(_,i,n){var l=this&&this.__decorate||function(v,s,f,h){var a,b=arguments.length,g=b<3?s:h===null?h=Object.getOwnPropertyDescriptor(s,f):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(v,s,f,h);else for(var y=v.length-1;y>=0;y--)(a=v[y])&&(g=(b<3?a(g):b>3?a(s,f,g):a(s,f))||g);return b>3&&g&&Object.defineProperty(s,f,g),g},u=this&&this.__param||function(v,s){return function(f,h){s(f,h,v)}};Object.defineProperty(i,"__esModule",{value:!0}),i.LogService=void 0;const c=n(844),p=n(2585),S={debug:p.LogLevelEnum.DEBUG,info:p.LogLevelEnum.INFO,warn:p.LogLevelEnum.WARN,error:p.LogLevelEnum.ERROR,off:p.LogLevelEnum.OFF};let w=class extends c.Disposable{constructor(v){super(),this._optionsService=v,this.logLevel=p.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel()))}_updateLogLevel(){this.logLevel=S[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(v){for(let s=0;s<v.length;s++)typeof v[s]=="function"&&(v[s]=v[s]())}_log(v,s,f){this._evalLazyOptionalParams(f),v.call(console,"xterm.js: "+s,...f)}debug(v,...s){this.logLevel<=p.LogLevelEnum.DEBUG&&this._log(console.log,v,s)}info(v,...s){this.logLevel<=p.LogLevelEnum.INFO&&this._log(console.info,v,s)}warn(v,...s){this.logLevel<=p.LogLevelEnum.WARN&&this._log(console.warn,v,s)}error(v,...s){this.logLevel<=p.LogLevelEnum.ERROR&&this._log(console.error,v,s)}};w=l([u(0,p.IOptionsService)],w),i.LogService=w},7302:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OptionsService=i.DEFAULT_OPTIONS=void 0;const l=n(8460),u=n(6114),c=n(844);i.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:u.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const p=["normal","bold","100","200","300","400","500","600","700","800","900"];class S extends c.Disposable{constructor(v){super(),this._onOptionChange=this.register(new l.EventEmitter),this.onOptionChange=this._onOptionChange.event;const s=Object.assign({},i.DEFAULT_OPTIONS);for(const f in v)if(f in s)try{const h=v[f];s[f]=this._sanitizeAndValidateOption(f,h)}catch(h){console.error(h)}this.rawOptions=s,this.options=Object.assign({},s),this._setupOptions()}onSpecificOptionChange(v,s){return this.onOptionChange(f=>{f===v&&s(this.rawOptions[v])})}onMultipleOptionChange(v,s){return this.onOptionChange(f=>{v.indexOf(f)!==-1&&s()})}_setupOptions(){const v=f=>{if(!(f in i.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);return this.rawOptions[f]},s=(f,h)=>{if(!(f in i.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);h=this._sanitizeAndValidateOption(f,h),this.rawOptions[f]!==h&&(this.rawOptions[f]=h,this._onOptionChange.fire(f))};for(const f in this.rawOptions){const h={get:v.bind(this,f),set:s.bind(this,f)};Object.defineProperty(this.options,f,h)}}_sanitizeAndValidateOption(v,s){switch(v){case"cursorStyle":if(s||(s=i.DEFAULT_OPTIONS[v]),!function(f){return f==="block"||f==="underline"||f==="bar"}(s))throw new Error(`"${s}" is not a valid value for ${v}`);break;case"wordSeparator":s||(s=i.DEFAULT_OPTIONS[v]);break;case"fontWeight":case"fontWeightBold":if(typeof s=="number"&&1<=s&&s<=1e3)break;s=p.includes(s)?s:i.DEFAULT_OPTIONS[v];break;case"cursorWidth":s=Math.floor(s);case"lineHeight":case"tabStopWidth":if(s<1)throw new Error(`${v} cannot be less than 1, value: ${s}`);break;case"minimumContrastRatio":s=Math.max(1,Math.min(21,Math.round(10*s)/10));break;case"scrollback":if((s=Math.min(s,4294967295))<0)throw new Error(`${v} cannot be less than 0, value: ${s}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(s<=0)throw new Error(`${v} cannot be less than or equal to 0, value: ${s}`);break;case"rows":case"cols":if(!s&&s!==0)throw new Error(`${v} must be numeric, value: ${s}`);break;case"windowsPty":s=s??{}}return s}}i.OptionsService=S},2660:function(_,i,n){var l=this&&this.__decorate||function(S,w,v,s){var f,h=arguments.length,a=h<3?w:s===null?s=Object.getOwnPropertyDescriptor(w,v):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(S,w,v,s);else for(var b=S.length-1;b>=0;b--)(f=S[b])&&(a=(h<3?f(a):h>3?f(w,v,a):f(w,v))||a);return h>3&&a&&Object.defineProperty(w,v,a),a},u=this&&this.__param||function(S,w){return function(v,s){w(v,s,S)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OscLinkService=void 0;const c=n(2585);let p=class{constructor(S){this._bufferService=S,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(S){const w=this._bufferService.buffer;if(S.id===void 0){const b=w.addMarker(w.ybase+w.y),g={data:S,id:this._nextId++,lines:[b]};return b.onDispose(()=>this._removeMarkerFromLink(g,b)),this._dataByLinkId.set(g.id,g),g.id}const v=S,s=this._getEntryIdKey(v),f=this._entriesWithId.get(s);if(f)return this.addLineToLink(f.id,w.ybase+w.y),f.id;const h=w.addMarker(w.ybase+w.y),a={id:this._nextId++,key:this._getEntryIdKey(v),data:v,lines:[h]};return h.onDispose(()=>this._removeMarkerFromLink(a,h)),this._entriesWithId.set(a.key,a),this._dataByLinkId.set(a.id,a),a.id}addLineToLink(S,w){const v=this._dataByLinkId.get(S);if(v&&v.lines.every(s=>s.line!==w)){const s=this._bufferService.buffer.addMarker(w);v.lines.push(s),s.onDispose(()=>this._removeMarkerFromLink(v,s))}}getLinkData(S){var w;return(w=this._dataByLinkId.get(S))===null||w===void 0?void 0:w.data}_getEntryIdKey(S){return`${S.id};;${S.uri}`}_removeMarkerFromLink(S,w){const v=S.lines.indexOf(w);v!==-1&&(S.lines.splice(v,1),S.lines.length===0&&(S.data.id!==void 0&&this._entriesWithId.delete(S.key),this._dataByLinkId.delete(S.id)))}};p=l([u(0,c.IBufferService)],p),i.OscLinkService=p},8343:(_,i)=>{function n(l,u,c){u.di$target===u?u.di$dependencies.push({id:l,index:c}):(u.di$dependencies=[{id:l,index:c}],u.di$target=u)}Object.defineProperty(i,"__esModule",{value:!0}),i.createDecorator=i.getServiceDependencies=i.serviceRegistry=void 0,i.serviceRegistry=new Map,i.getServiceDependencies=function(l){return l.di$dependencies||[]},i.createDecorator=function(l){if(i.serviceRegistry.has(l))return i.serviceRegistry.get(l);const u=function(c,p,S){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");n(u,c,S)};return u.toString=()=>l,i.serviceRegistry.set(l,u),u}},2585:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.IDecorationService=i.IUnicodeService=i.IOscLinkService=i.IOptionsService=i.ILogService=i.LogLevelEnum=i.IInstantiationService=i.ICharsetService=i.ICoreService=i.ICoreMouseService=i.IBufferService=void 0;const l=n(8343);var u;i.IBufferService=(0,l.createDecorator)("BufferService"),i.ICoreMouseService=(0,l.createDecorator)("CoreMouseService"),i.ICoreService=(0,l.createDecorator)("CoreService"),i.ICharsetService=(0,l.createDecorator)("CharsetService"),i.IInstantiationService=(0,l.createDecorator)("InstantiationService"),(u=i.LogLevelEnum||(i.LogLevelEnum={}))[u.DEBUG=0]="DEBUG",u[u.INFO=1]="INFO",u[u.WARN=2]="WARN",u[u.ERROR=3]="ERROR",u[u.OFF=4]="OFF",i.ILogService=(0,l.createDecorator)("LogService"),i.IOptionsService=(0,l.createDecorator)("OptionsService"),i.IOscLinkService=(0,l.createDecorator)("OscLinkService"),i.IUnicodeService=(0,l.createDecorator)("UnicodeService"),i.IDecorationService=(0,l.createDecorator)("DecorationService")},1480:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeService=void 0;const l=n(8460),u=n(225);i.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new l.EventEmitter,this.onChange=this._onChange.event;const c=new u.UnicodeV6;this.register(c),this._active=c.version,this._activeProvider=c}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(c){if(!this._providers[c])throw new Error(`unknown Unicode version "${c}"`);this._active=c,this._activeProvider=this._providers[c],this._onChange.fire(c)}register(c){this._providers[c.version]=c}wcwidth(c){return this._activeProvider.wcwidth(c)}getStringCellWidth(c){let p=0;const S=c.length;for(let w=0;w<S;++w){let v=c.charCodeAt(w);if(55296<=v&&v<=56319){if(++w>=S)return p+this.wcwidth(v);const s=c.charCodeAt(w);56320<=s&&s<=57343?v=1024*(v-55296)+s-56320+65536:p+=this.wcwidth(s)}p+=this.wcwidth(v)}return p}}}},r={};function d(_){var i=r[_];if(i!==void 0)return i.exports;var n=r[_]={exports:{}};return t[_].call(n.exports,n,n.exports,d),n.exports}var m={};return(()=>{var _=m;Object.defineProperty(_,"__esModule",{value:!0}),_.Terminal=void 0;const i=d(3236),n=d(9042),l=d(7975),u=d(7090),c=d(5741),p=d(8285),S=["cols","rows"];_.Terminal=class{constructor(w){this._core=new i.Terminal(w),this._addonManager=new c.AddonManager,this._publicOptions=Object.assign({},this._core.options);const v=f=>this._core.options[f],s=(f,h)=>{this._checkReadonlyOptions(f),this._core.options[f]=h};for(const f in this._core.options){const h={get:v.bind(this,f),set:s.bind(this,f)};Object.defineProperty(this._publicOptions,f,h)}}_checkReadonlyOptions(w){if(S.includes(w))throw new Error(`Option "${w}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new l.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new u.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=new p.BufferNamespaceApi(this._core)),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const w=this._core.coreService.decPrivateModes;let v="none";switch(this._core.coreMouseService.activeProtocol){case"X10":v="x10";break;case"VT200":v="vt200";break;case"DRAG":v="drag";break;case"ANY":v="any"}return{applicationCursorKeysMode:w.applicationCursorKeys,applicationKeypadMode:w.applicationKeypad,bracketedPasteMode:w.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:v,originMode:w.origin,reverseWraparoundMode:w.reverseWraparound,sendFocusMode:w.sendFocus,wraparoundMode:w.wraparound}}get options(){return this._publicOptions}set options(w){for(const v in w)this._publicOptions[v]=w[v]}blur(){this._core.blur()}focus(){this._core.focus()}resize(w,v){this._verifyIntegers(w,v),this._core.resize(w,v)}open(w){this._core.open(w)}attachCustomKeyEventHandler(w){this._core.attachCustomKeyEventHandler(w)}registerLinkProvider(w){return this._core.registerLinkProvider(w)}registerCharacterJoiner(w){return this._checkProposedApi(),this._core.registerCharacterJoiner(w)}deregisterCharacterJoiner(w){this._checkProposedApi(),this._core.deregisterCharacterJoiner(w)}registerMarker(w=0){return this._verifyIntegers(w),this._core.addMarker(w)}registerDecoration(w){var v,s,f;return this._checkProposedApi(),this._verifyPositiveIntegers((v=w.x)!==null&&v!==void 0?v:0,(s=w.width)!==null&&s!==void 0?s:0,(f=w.height)!==null&&f!==void 0?f:0),this._core.registerDecoration(w)}hasSelection(){return this._core.hasSelection()}select(w,v,s){this._verifyIntegers(w,v,s),this._core.select(w,v,s)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(w,v){this._verifyIntegers(w,v),this._core.selectLines(w,v)}dispose(){this._addonManager.dispose(),this._core.dispose()}scrollLines(w){this._verifyIntegers(w),this._core.scrollLines(w)}scrollPages(w){this._verifyIntegers(w),this._core.scrollPages(w)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(w){this._verifyIntegers(w),this._core.scrollToLine(w)}clear(){this._core.clear()}write(w,v){this._core.write(w,v)}writeln(w,v){this._core.write(w),this._core.write(`\r
`,v)}paste(w){this._core.paste(w)}refresh(w,v){this._verifyIntegers(w,v),this._core.refresh(w,v)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(w){return this._addonManager.loadAddon(this,w)}static get strings(){return n}_verifyIntegers(...w){for(const v of w)if(v===1/0||isNaN(v)||v%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...w){for(const v of w)if(v&&(v===1/0||isNaN(v)||v%1!=0||v<0))throw new Error("This API only accepts positive integers")}}})(),m})())})(wr);var vl=wr.exports,kr={exports:{}};(function(o,e){(function(t,r){o.exports=r()})(self,()=>(()=>{var t={};return(()=>{var r=t;Object.defineProperty(r,"__esModule",{value:!0}),r.FitAddon=void 0,r.FitAddon=class{activate(d){this._terminal=d}dispose(){}fit(){const d=this.proposeDimensions();if(!d||!this._terminal||isNaN(d.cols)||isNaN(d.rows))return;const m=this._terminal._core;this._terminal.rows===d.rows&&this._terminal.cols===d.cols||(m._renderService.clear(),this._terminal.resize(d.cols,d.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const d=this._terminal._core,m=d._renderService.dimensions;if(m.css.cell.width===0||m.css.cell.height===0)return;const _=this._terminal.options.scrollback===0?0:d.viewport.scrollBarWidth,i=window.getComputedStyle(this._terminal.element.parentElement),n=parseInt(i.getPropertyValue("height")),l=Math.max(0,parseInt(i.getPropertyValue("width"))),u=window.getComputedStyle(this._terminal.element),c=n-(parseInt(u.getPropertyValue("padding-top"))+parseInt(u.getPropertyValue("padding-bottom"))),p=l-(parseInt(u.getPropertyValue("padding-right"))+parseInt(u.getPropertyValue("padding-left")))-_;return{cols:Math.max(2,Math.floor(p/m.css.cell.width)),rows:Math.max(1,Math.floor(c/m.css.cell.height))}}}})(),t})())})(kr);var gl=kr.exports;function bl(o){let e,t,r,d,m,_,i,n,l,u,c,p,S,w,v,s,f,h,a,b;return v=new ue({props:{icon:ln}}),{c(){e=x("form"),t=x("div"),r=x("div"),d=x("input"),m=q(),_=x("label"),_.textContent="Command",i=q(),n=x("div"),l=x("input"),u=q(),c=x("label"),c.textContent="User",p=q(),S=x("div"),w=x("button"),ne(v.$$.fragment),s=Q(`
          Open Terminal`),D(d,"type","text"),D(d,"class","form-control"),D(d,"id","inpTerminalCmd"),D(_,"for","inpTerminalCmd"),D(r,"class","form-floating mb-2"),D(l,"type","text"),D(l,"class","form-control"),D(l,"id","inpTerminalUser"),D(c,"for","inpTerminalUser"),D(n,"class","form-floating mb-2"),D(w,"type","submit"),D(w,"class","btn btn-primary w-100"),D(S,"class","col-12"),D(t,"class","container"),ge(t,"max-width","400px"),D(e,"class","container login-form")},m(g,y){j(g,e,y),A(e,t),A(t,r),A(r,d),je(d,o[2]),A(r,m),A(r,_),A(t,i),A(t,n),A(n,l),je(l,o[3]),A(n,u),A(n,c),A(t,p),A(t,S),A(S,w),se(v,w,null),A(w,s),h=!0,a||(b=[_e(d,"input",o[10]),_e(l,"input",o[11]),_e(e,"submit",Xt(o[5]))],a=!0)},p(g,y){y&4&&d.value!==g[2]&&je(d,g[2]),y&8&&l.value!==g[3]&&je(l,g[3])},i(g){h||(N(v.$$.fragment,g),g&&Te(()=>{h&&(f||(f=ze(e,Pe,{},!0)),f.run(1))}),h=!0)},o(g){V(v.$$.fragment,g),g&&(f||(f=ze(e,Pe,{},!1)),f.run(0)),h=!1},d(g){g&&U(e),re(v),g&&f&&f.end(),a=!1,Ne(b)}}}function Sl(o){let e,t,r,d,m,_,i,n,l,u,c;return r=new ue({props:{icon:pr,size:"lg",color:"#666"}}),_=new ue({props:{icon:zn,size:"lg",color:"#666"}}),{c(){e=x("div"),t=x("button"),ne(r.$$.fragment),d=q(),m=x("button"),ne(_.$$.fragment),i=q(),n=x("div"),D(t,"type","button"),D(t,"class","btn mx-3"),D(t,"title","Fullscreen"),D(m,"type","button"),D(m,"class","btn mx-3"),D(m,"title","Close Terminal"),D(e,"class","d-flex justify-content-end mb-2"),D(n,"class","border"),ge(n,"height","calc(100vh - 280px)")},m(p,S){j(p,e,S),A(e,t),se(r,t,null),A(e,d),A(e,m),se(_,m,null),j(p,i,S),j(p,n,S),o[9](n),l=!0,u||(c=[_e(t,"click",o[6]),_e(m,"click",o[8])],u=!0)},p:ce,i(p){l||(N(r.$$.fragment,p),N(_.$$.fragment,p),l=!0)},o(p){V(r.$$.fragment,p),V(_.$$.fragment,p),l=!1},d(p){p&&(U(e),U(i),U(n)),re(r),re(_),o[9](null),u=!1,Ne(c)}}}function Cl(o){let e,t,r,d,m,_;const i=[Sl,bl],n=[];function l(u,c){return u[1]?0:1}return e=l(o),t=n[e]=i[e](o),{c(){t.c(),r=Xe()},m(u,c){n[e].m(u,c),j(u,r,c),d=!0,m||(_=_e(window,"resize",o[4]),m=!0)},p(u,[c]){let p=e;e=l(u),e===p?n[e].p(u,c):(pe(),V(n[p],1,1,()=>{n[p]=null}),me(),t=n[e],t?t.p(u,c):(t=n[e]=i[e](u),t.c()),N(t,1),t.m(r.parentNode,r))},i(u){d||(N(t),d=!0)},o(u){V(t),d=!1},d(u){u&&U(r),n[e].d(u),m=!1,_()}}}const Ps="sh",Hs="root";function wl(o,e,t){let{container_id:r}=e,d,m,_=!1,i=Ps,n=Hs;const l=new vl.Terminal({theme:{background:"#222",cursor:"white",cursorAccent:"#222"},cursorBlink:!0}),u=new gl.FitAddon;Rt(()=>{r!==d&&(_&&(le.send("close_terminal"),S()),d=r)}),Ue(()=>{le.register("spawn_terminal",()=>{c(),l.focus()},a=>Ce.add({text:a,type:"error"})),le.register("close_terminal",()=>{Ce.add({text:"Terminal has been closed",type:"info"}),S()},a=>Ce.add({text:a,type:"error"})),le.register("receive_terminal_output",async a=>{l.write(new Uint8Array(await a.blob.arrayBuffer()))},a=>Ce.add({text:a,type:"error"})),l.onResize(a=>{le.send("resize_terminal",a)}),l.loadAddon(u),l.onData(a=>{le.send("transmit_terminal_input",{data:a})})}),et(()=>{_&&le.send("close_terminal"),le.unregister("spawn_terminal"),le.unregister("close_terminal"),le.unregister("receive_terminal_output")});function c(){_&&u.fit()}async function p(){t(1,_=!0),le.send("spawn_terminal",{container_id:r,cmd:i,user:n}),await cr(),l.open(m)}function S(){t(1,_=!1),l.reset(),l.clear(),t(2,i=Ps),t(3,n=Hs)}function w(){m!=null&&m.requestFullscreen&&m.requestFullscreen({navigationUI:"show"})}const v=()=>le.send("close_terminal");function s(a){tt[a?"unshift":"push"](()=>{m=a,t(0,m)})}function f(){i=this.value,t(2,i)}function h(){n=this.value,t(3,n)}return o.$$set=a=>{"container_id"in a&&t(7,r=a.container_id)},[m,_,i,n,c,p,w,r,v,s,f,h]}class yl extends Oe{constructor(e){super(),xe(this,e,wl,Cl,Be,{container_id:7})}}var kl={prefix:"fab",iconName:"docker",icon:[640,512,[],"f395","M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"]},El={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]};function Ll(o){let e,t,r,d,m,_,i,n=o[1].os+"",l,u,c,p,S,w=o[1].cpus+"",v,s,f,h,a,b,g=$e(o[1].mem)+"",y,E,C,k,R,T,M=o[1].engine_version+"",I,K,z,G,L,O=o[1].containers.running+"",B,H,W=o[1].containers.total+"",Y,oe,J,ie,$,P,F,X;return _=new ue({props:{icon:mn,size:"lg",style:"width: 3rem"}}),p=new ue({props:{icon:mr,size:"lg",style:"width: 3rem"}}),a=new ue({props:{icon:_r,size:"lg",style:"width: 3rem"}}),R=new ue({props:{icon:kl,size:"lg",style:"width: 3rem"}}),G=new ue({props:{icon:vr,size:"lg",style:"width: 3rem"}}),P=new ue({props:{icon:El,size:"sm"}}),{c(){e=x("div"),t=x("div"),r=x("div"),r.textContent="Host",d=q(),m=x("div"),ne(_.$$.fragment),i=q(),l=Q(n),u=q(),c=x("div"),ne(p.$$.fragment),S=q(),v=Q(w),s=Q(" CPUs"),f=q(),h=x("div"),ne(a.$$.fragment),b=q(),y=Q(g),E=Q(`
          Memory`),C=q(),k=x("div"),ne(R.$$.fragment),T=q(),I=Q(M),K=q(),z=x("div"),ne(G.$$.fragment),L=q(),B=Q(O),H=Q("/"),Y=Q(W),oe=Q(" Containers running"),J=q(),ie=x("div"),$=x("a"),ne(P.$$.fragment),F=Q(`
            CaaSa on Github`),D(r,"class","fs-4 text-uppercase mb-3"),D(m,"class","d-flex align-items-center mb-2"),D(c,"class","d-flex align-items-center mb-2"),D(h,"class","d-flex align-items-center mb-2"),D(k,"class","d-flex align-items-center mb-2"),D(z,"class","d-flex align-items-center mb-2"),D($,"href","https://github.com/knrdl/caasa"),D($,"target","_blank"),D($,"rel","noopener noreferrer"),D($,"class","text-decoration-none"),D(ie,"class","mt-3"),D(t,"class","card-body"),D(e,"class","card")},m(Z,fe){j(Z,e,fe),A(e,t),A(t,r),A(t,d),A(t,m),se(_,m,null),A(m,i),A(m,l),A(t,u),A(t,c),se(p,c,null),A(c,S),A(c,v),A(c,s),A(t,f),A(t,h),se(a,h,null),A(h,b),A(h,y),A(h,E),A(t,C),A(t,k),se(R,k,null),A(k,T),A(k,I),A(t,K),A(t,z),se(G,z,null),A(z,L),A(z,B),A(z,H),A(z,Y),A(z,oe),A(t,J),A(t,ie),A(ie,$),se(P,$,null),A($,F),X=!0},p(Z,fe){(!X||fe&2)&&n!==(n=Z[1].os+"")&&ae(l,n),(!X||fe&2)&&w!==(w=Z[1].cpus+"")&&ae(v,w),(!X||fe&2)&&g!==(g=$e(Z[1].mem)+"")&&ae(y,g),(!X||fe&2)&&M!==(M=Z[1].engine_version+"")&&ae(I,M),(!X||fe&2)&&O!==(O=Z[1].containers.running+"")&&ae(B,O),(!X||fe&2)&&W!==(W=Z[1].containers.total+"")&&ae(Y,W)},i(Z){X||(N(_.$$.fragment,Z),N(p.$$.fragment,Z),N(a.$$.fragment,Z),N(R.$$.fragment,Z),N(G.$$.fragment,Z),N(P.$$.fragment,Z),X=!0)},o(Z){V(_.$$.fragment,Z),V(p.$$.fragment,Z),V(a.$$.fragment,Z),V(R.$$.fragment,Z),V(G.$$.fragment,Z),V(P.$$.fragment,Z),X=!1},d(Z){Z&&U(e),re(_),re(p),re(a),re(R),re(G),re(P)}}}function Rl(o){let e;return{c(){e=x("div"),e.innerHTML='<strong class="mx-5">Loading...</strong> <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div>',D(e,"class","d-flex align-items-center")},m(t,r){j(t,e,r)},p:ce,i:ce,o:ce,d(t){t&&U(e)}}}function Dl(o){let e,t,r,d;const m=[Rl,Ll],_=[];function i(n,l){return n[0]?0:n[1]?1:-1}return~(t=i(o))&&(r=_[t]=m[t](o)),{c(){e=x("div"),r&&r.c(),D(e,"class","flex-grow-1 d-flex justify-content-center align-items-start mt-5")},m(n,l){j(n,e,l),~t&&_[t].m(e,null),d=!0},p(n,[l]){let u=t;t=i(n),t===u?~t&&_[t].p(n,l):(r&&(pe(),V(_[u],1,1,()=>{_[u]=null}),me()),~t?(r=_[t],r?r.p(n,l):(r=_[t]=m[t](n),r.c()),N(r,1),r.m(e,null)):r=null)},i(n){d||(N(r),d=!0)},o(n){V(r),d=!1},d(n){n&&U(e),~t&&_[t].d()}}}function Al(o,e,t){let r=!0,d;return Ue(()=>{le.register("get_system_info",m=>{t(1,d=m),t(0,r=!1)},m=>{t(0,r=!1),Ce.add({text:m,type:"error"})}),le.send("get_system_info")}),et(()=>{le.unregister("get_system_info")}),[r,d]}class Tl extends Oe{constructor(e){super(),xe(this,e,Al,Dl,Be,{})}}function $s(o,e,t){const r=o.slice();r[7]=e[t];const d=r[1]&&r[1].id===r[7].id;return r[8]=d,r}function Fs(o){let e;function t(m,_){return m[0].length===0?Ml:Bl}let r=t(o),d=r(o);return{c(){d.c(),e=Xe()},m(m,_){d.m(m,_),j(m,e,_)},p(m,_){r===(r=t(m))&&d?d.p(m,_):(d.d(1),d=r(m),d&&(d.c(),d.m(e.parentNode,e)))},d(m){m&&U(e),d.d(m)}}}function Bl(o){let e,t,r,d,m,_=we(o[3]),i=[];for(let l=0;l<_.length;l+=1)i[l]=Ns($s(o,_,l));let n=null;return _.length||(n=zs()),{c(){e=x("input"),t=q();for(let l=0;l<i.length;l+=1)i[l].c();r=Xe(),n&&n.c(),D(e,"type","search"),D(e,"class","form-control svelte-6rcsrg"),D(e,"placeholder","Search"),e.value=o[2]},m(l,u){j(l,e,u),j(l,t,u);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(l,u);j(l,r,u),n&&n.m(l,u),d||(m=_e(e,"input",o[5]),d=!0)},p(l,u){if(u&4&&e.value!==l[2]&&(e.value=l[2]),u&26){_=we(l[3]);let c;for(c=0;c<_.length;c+=1){const p=$s(l,_,c);i[c]?i[c].p(p,u):(i[c]=Ns(p),i[c].c(),i[c].m(r.parentNode,r))}for(;c<i.length;c+=1)i[c].d(1);i.length=_.length,!_.length&&n?n.p(l,u):_.length?n&&(n.d(1),n=null):(n=zs(),n.c(),n.m(r.parentNode,r))}},d(l){l&&(U(e),U(t),U(r)),Fe(i,l),n&&n.d(l),d=!1,m()}}}function Ml(o){let e;return{c(){e=x("p"),e.textContent="No containers found",D(e,"class","mx-5 my-2")},m(t,r){j(t,e,r)},p:ce,d(t){t&&U(e)}}}function zs(o){let e;return{c(){e=x("p"),e.textContent="No containers match search term",D(e,"class","mx-2 my-1")},m(t,r){j(t,e,r)},p:ce,d(t){t&&U(e)}}}function Ns(o){let e,t,r,d,m,_=(o[7].namespace||"")+"",i,n,l,u=o[7].name+"",c,p,S,w;function v(){return o[6](o[7])}return{c(){var s;e=x("div"),t=x("div"),r=q(),d=x("div"),m=x("div"),i=Q(_),n=q(),l=x("div"),c=Q(u),p=q(),ge(t,"width","10px"),ge(t,"flex","none"),he(t,"bg-success",o[7].status==="running"),he(t,"bg-danger",["exited","dead","removing"].includes(o[7].status)),he(t,"bg-warning",["created","paused","restarting"].includes(o[7].status)),D(m,"class","text-uppercase"),he(m,"text-muted",((s=o[1])==null?void 0:s.id)!==o[7].id),D(d,"class","p-2 pe-4"),D(e,"class","d-flex border-top border-bottom"),ge(e,"cursor","pointer"),he(e,"bg-dark",o[8]),he(e,"text-light",o[8])},m(s,f){j(s,e,f),A(e,t),A(e,r),A(e,d),A(d,m),A(m,i),A(d,n),A(d,l),A(l,c),A(e,p),S||(w=_e(e,"click",v),S=!0)},p(s,f){var h;o=s,f&8&&he(t,"bg-success",o[7].status==="running"),f&8&&he(t,"bg-danger",["exited","dead","removing"].includes(o[7].status)),f&8&&he(t,"bg-warning",["created","paused","restarting"].includes(o[7].status)),f&8&&_!==(_=(o[7].namespace||"")+"")&&ae(i,_),f&10&&he(m,"text-muted",((h=o[1])==null?void 0:h.id)!==o[7].id),f&8&&u!==(u=o[7].name+"")&&ae(c,u),f&10&&he(e,"bg-dark",o[8]),f&10&&he(e,"text-light",o[8])},d(s){s&&U(e),S=!1,w()}}}function xl(o){let e,t=o[0]&&Fs(o);return{c(){e=x("aside"),t&&t.c(),D(e,"class","d-flex flex-column pb-1 svelte-6rcsrg")},m(r,d){j(r,e,d),t&&t.m(e,null)},p(r,[d]){r[0]?t?t.p(r,d):(t=Fs(r),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:ce,o:ce,d(r){r&&U(e),t&&t.d()}}}function Ol(o,e,t){let r,{containers:d}=e,{selectedContainer:m}=e;const _=or();let i="";const n=u=>t(2,i=u.target.value.toLowerCase()),l=u=>_("select-container",u);return o.$$set=u=>{"containers"in u&&t(0,d=u.containers),"selectedContainer"in u&&t(1,m=u.selectedContainer)},o.$$.update=()=>{o.$$.dirty&5&&t(3,r=d==null?void 0:d.filter(u=>{var c;return u.name.toLowerCase().replace(/\s+/g,"").includes(i.replace(/\s+/g,""))||((c=u.namespace)==null?void 0:c.toLowerCase().replace(/\s+/g,"").includes(i.replace(/\s+/g,"")))}))},[d,m,i,r,_,n,l]}class Er extends Oe{constructor(e){super(),xe(this,e,Ol,xl,Be,{containers:0,selectedContainer:1})}}function Us(o){let e,t;return e=new br({}),{c(){ne(e.$$.fragment)},m(r,d){se(e,r,d),t=!0},i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){re(e,r)}}}function Ws(o){let e,t,r,d;return t=new Er({props:{containers:o[4],selectedContainer:o[0]?null:o[2]}}),t.$on("select-container",o[10]),{c(){e=x("div"),ne(t.$$.fragment),D(e,"class","position-absolute")},m(m,_){j(m,e,_),se(t,e,null),d=!0},p(m,_){const i={};_&16&&(i.containers=m[4]),_&5&&(i.selectedContainer=m[0]?null:m[2]),t.$set(i)},i(m){d||(N(t.$$.fragment,m),m&&Te(()=>{d&&(r||(r=ze(e,qt,{y:-50,duration:200},!0)),r.run(1))}),d=!0)},o(m){V(t.$$.fragment,m),m&&(r||(r=ze(e,qt,{y:-50,duration:200},!1)),r.run(0)),d=!1},d(m){m&&U(e),re(t),m&&r&&r.end()}}}function Il(o){var T,M,I,K,z,G,L,O,B,H;let e,t,r,d=(M=(T=o[2])==null?void 0:T.permissions)==null?void 0:M.includes("info"),m,_=(K=(I=o[2])==null?void 0:I.permissions)==null?void 0:K.includes("logs"),i,n=o[6]&&((G=(z=o[2])==null?void 0:z.permissions)==null?void 0:G.includes("term")),l,u=o[6]&&((O=(L=o[2])==null?void 0:L.permissions)==null?void 0:O.includes("procs")),c,p=o[6]&&((H=(B=o[2])==null?void 0:B.permissions)==null?void 0:H.includes("files")),S,w,v,s,f,h,a=d&&js(o),b=_&&Vs(o),g=n&&Ks(o),y=u&&qs(o),E=p&&Gs(o);const C=[Nl,zl,Fl,$l,Hl],k=[];function R(W,Y){return W[5]==="info"?0:W[5]==="logs"?1:W[5]==="term"?2:W[5]==="procs"?3:W[5]==="files"?4:-1}return~(v=R(o))&&(s=k[v]=C[v](o)),{c(){e=x("div"),t=x("div"),r=x("ul"),a&&a.c(),m=q(),b&&b.c(),i=q(),g&&g.c(),l=q(),y&&y.c(),c=q(),E&&E.c(),S=q(),w=x("div"),s&&s.c(),D(r,"class","card-header"),D(w,"class","card-body py-4"),D(t,"class","card tabs"),D(e,"class","container-md"),ge(e,"overflow","hidden")},m(W,Y){j(W,e,Y),A(e,t),A(t,r),a&&a.m(r,null),A(r,m),b&&b.m(r,null),A(r,i),g&&g.m(r,null),A(r,l),y&&y.m(r,null),A(r,c),E&&E.m(r,null),A(t,S),A(t,w),~v&&k[v].m(w,null),h=!0},p(W,Y){var J,ie,$,P,F,X,Z,fe,te,be;Y&4&&(d=(ie=(J=W[2])==null?void 0:J.permissions)==null?void 0:ie.includes("info")),d?a?a.p(W,Y):(a=js(W),a.c(),a.m(r,m)):a&&(a.d(1),a=null),Y&4&&(_=(P=($=W[2])==null?void 0:$.permissions)==null?void 0:P.includes("logs")),_?b?b.p(W,Y):(b=Vs(W),b.c(),b.m(r,i)):b&&(b.d(1),b=null),Y&68&&(n=W[6]&&((X=(F=W[2])==null?void 0:F.permissions)==null?void 0:X.includes("term"))),n?g?g.p(W,Y):(g=Ks(W),g.c(),g.m(r,l)):g&&(g.d(1),g=null),Y&68&&(u=W[6]&&((fe=(Z=W[2])==null?void 0:Z.permissions)==null?void 0:fe.includes("procs"))),u?y?y.p(W,Y):(y=qs(W),y.c(),y.m(r,c)):y&&(y.d(1),y=null),Y&68&&(p=W[6]&&((be=(te=W[2])==null?void 0:te.permissions)==null?void 0:be.includes("files"))),p?E?E.p(W,Y):(E=Gs(W),E.c(),E.m(r,null)):E&&(E.d(1),E=null);let oe=v;v=R(W),v===oe?~v&&k[v].p(W,Y):(s&&(pe(),V(k[oe],1,1,()=>{k[oe]=null}),me()),~v?(s=k[v],s?s.p(W,Y):(s=k[v]=C[v](W),s.c()),N(s,1),s.m(w,null)):s=null)},i(W){h||(N(s),W&&Te(()=>{h&&(f||(f=ze(e,qt,{x:300,duration:200},!0)),f.run(1))}),h=!0)},o(W){V(s),W&&(f||(f=ze(e,qt,{x:300,duration:200},!1)),f.run(0)),h=!1},d(W){W&&U(e),a&&a.d(),b&&b.d(),g&&g.d(),y&&y.d(),E&&E.d(),~v&&k[v].d(),W&&f&&f.end()}}}function Pl(o){let e,t;return e=new Tl({}),{c(){ne(e.$$.fragment)},m(r,d){se(e,r,d),t=!0},p:ce,i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){re(e,r)}}}function js(o){let e,t,r,d;return{c(){e=x("li"),t=x("button"),t.textContent="Info",D(t,"type","button"),D(t,"class","text-uppercase"),he(t,"active",o[5]==="info")},m(m,_){j(m,e,_),A(e,t),r||(d=_e(t,"click",o[12]),r=!0)},p(m,_){_&32&&he(t,"active",m[5]==="info")},d(m){m&&U(e),r=!1,d()}}}function Vs(o){let e,t,r,d;return{c(){e=x("li"),t=x("button"),t.textContent="Logs",D(t,"type","button"),D(t,"class","text-uppercase"),he(t,"active",o[5]==="logs")},m(m,_){j(m,e,_),A(e,t),r||(d=_e(t,"click",o[13]),r=!0)},p(m,_){_&32&&he(t,"active",m[5]==="logs")},d(m){m&&U(e),r=!1,d()}}}function Ks(o){let e,t,r,d;return{c(){e=x("li"),t=x("button"),t.textContent="Terminal",D(t,"type","button"),D(t,"class","text-uppercase"),he(t,"active",o[5]==="term")},m(m,_){j(m,e,_),A(e,t),r||(d=_e(t,"click",o[14]),r=!0)},p(m,_){_&32&&he(t,"active",m[5]==="term")},d(m){m&&U(e),r=!1,d()}}}function qs(o){let e,t,r,d;return{c(){e=x("li"),t=x("button"),t.textContent="Processes",D(t,"type","button"),D(t,"class","text-uppercase"),he(t,"active",o[5]==="procs")},m(m,_){j(m,e,_),A(e,t),r||(d=_e(t,"click",o[15]),r=!0)},p(m,_){_&32&&he(t,"active",m[5]==="procs")},d(m){m&&U(e),r=!1,d()}}}function Gs(o){let e,t,r,d;return{c(){e=x("li"),t=x("button"),t.textContent="Files",D(t,"type","button"),D(t,"class","text-uppercase"),he(t,"active",o[5]==="files")},m(m,_){j(m,e,_),A(e,t),r||(d=_e(t,"click",o[16]),r=!0)},p(m,_){_&32&&he(t,"active",m[5]==="files")},d(m){m&&U(e),r=!1,d()}}}function Hl(o){let e,t,r,d;return t=new dl({props:{container_id:o[2].id,allow_download:o[2].permissions.includes("files-read"),allow_upload:o[2].permissions.includes("files-write")}}),{c(){e=x("div"),ne(t.$$.fragment)},m(m,_){j(m,e,_),se(t,e,null),d=!0},p(m,_){const i={};_&4&&(i.container_id=m[2].id),_&4&&(i.allow_download=m[2].permissions.includes("files-read")),_&4&&(i.allow_upload=m[2].permissions.includes("files-write")),t.$set(i)},i(m){d||(N(t.$$.fragment,m),m&&(r||Te(()=>{r=ct(e,Pe,{}),r.start()})),d=!0)},o(m){V(t.$$.fragment,m),d=!1},d(m){m&&U(e),re(t)}}}function $l(o){let e,t,r,d;return t=new ml({props:{container_id:o[2].id}}),{c(){e=x("div"),ne(t.$$.fragment)},m(m,_){j(m,e,_),se(t,e,null),d=!0},p(m,_){const i={};_&4&&(i.container_id=m[2].id),t.$set(i)},i(m){d||(N(t.$$.fragment,m),m&&(r||Te(()=>{r=ct(e,Pe,{}),r.start()})),d=!0)},o(m){V(t.$$.fragment,m),d=!1},d(m){m&&U(e),re(t)}}}function Fl(o){let e,t,r,d;return t=new yl({props:{container_id:o[2].id}}),{c(){e=x("div"),ne(t.$$.fragment)},m(m,_){j(m,e,_),se(t,e,null),d=!0},p(m,_){const i={};_&4&&(i.container_id=m[2].id),t.$set(i)},i(m){d||(N(t.$$.fragment,m),m&&(r||Te(()=>{r=ct(e,Pe,{}),r.start()})),d=!0)},o(m){V(t.$$.fragment,m),d=!1},d(m){m&&U(e),re(t)}}}function zl(o){let e,t,r,d;return t=new Wo({props:{container_id:o[2].id}}),{c(){e=x("div"),ne(t.$$.fragment)},m(m,_){j(m,e,_),se(t,e,null),d=!0},p(m,_){const i={};_&4&&(i.container_id=m[2].id),t.$set(i)},i(m){d||(N(t.$$.fragment,m),m&&(r||Te(()=>{r=ct(e,Pe,{}),r.start()})),d=!0)},o(m){V(t.$$.fragment,m),d=!1},d(m){m&&U(e),re(t)}}}function Nl(o){let e,t,r,d;return t=new Mo({props:{container_id:o[2].id,enable_actions:o[2].permissions.includes("state")}}),{c(){e=x("div"),ne(t.$$.fragment)},m(m,_){j(m,e,_),se(t,e,null),d=!0},p(m,_){const i={};_&4&&(i.container_id=m[2].id),_&4&&(i.enable_actions=m[2].permissions.includes("state")),t.$set(i)},i(m){d||(N(t.$$.fragment,m),m&&(r||Te(()=>{r=ct(e,Pe,{}),r.start()})),d=!0)},o(m){V(t.$$.fragment,m),d=!1},d(m){m&&U(e),re(t)}}}function Ul(o){let e,t,r,d,m,_,i,n,l,u,c,p,S,w,v=o[3]&&Us(),s=o[1]&&Ws(o);n=new Er({props:{containers:o[4],selectedContainer:o[0]?null:o[2]}}),n.$on("select-container",o[11]);const f=[Pl,Il],h=[];function a(b,g){return b[0]?0:1}return u=a(o),c=h[u]=f[u](o),{c(){v&&v.c(),e=q(),t=x("div"),r=x("div"),d=q(),s&&s.c(),m=q(),_=x("div"),i=x("aside"),ne(n.$$.fragment),l=q(),c.c(),D(r,"class","position-fixed top-0 bottom-0 start-0 end-0"),ge(r,"background","rgba(0, 0, 0, .55)"),D(t,"class","d-md-none position-relative"),ge(t,"z-index","100"),he(t,"d-none",!o[1]),D(i,"class","d-none d-md-block me-4"),D(_,"class","d-flex pb-3 align-items-start")},m(b,g){v&&v.m(b,g),j(b,e,g),j(b,t,g),A(t,r),A(t,d),s&&s.m(t,null),j(b,m,g),j(b,_,g),A(_,i),se(n,i,null),A(_,l),h[u].m(_,null),p=!0,S||(w=_e(r,"click",o[9]),S=!0)},p(b,[g]){b[3]?v?g&8&&N(v,1):(v=Us(),v.c(),N(v,1),v.m(e.parentNode,e)):v&&(pe(),V(v,1,1,()=>{v=null}),me()),b[1]?s?(s.p(b,g),g&2&&N(s,1)):(s=Ws(b),s.c(),N(s,1),s.m(t,null)):s&&(pe(),V(s,1,1,()=>{s=null}),me()),(!p||g&2)&&he(t,"d-none",!b[1]);const y={};g&16&&(y.containers=b[4]),g&5&&(y.selectedContainer=b[0]?null:b[2]),n.$set(y);let E=u;u=a(b),u===E?h[u].p(b,g):(pe(),V(h[E],1,1,()=>{h[E]=null}),me(),c=h[u],c?c.p(b,g):(c=h[u]=f[u](b),c.c()),N(c,1),c.m(_,null))},i(b){p||(N(v),N(s),N(n.$$.fragment,b),N(c),p=!0)},o(b){V(v),V(s),V(n.$$.fragment,b),V(c),p=!1},d(b){b&&(U(e),U(t),U(m),U(_)),v&&v.d(b),s&&s.d(),re(n),h[u].d(),S=!1,w()}}}function Wl(o,e,t){let r,d,m=!0,_,i,{showHostInfo:n}=e,{showContainerListOverlay:l}=e,u=null;Ue(()=>{le.register("get_container_list",g=>{t(4,_=g),t(3,m=!1)},g=>Ce.add({text:g,type:"error"})),le.send("get_container_list"),d=setInterval(()=>{le.send("get_container_list")},3e3)}),et(()=>{le.unregister("get_container_list"),clearInterval(d)});function c(g){t(5,u=null),t(0,n=!1),t(1,l=!1),t(2,i=null),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{var E;t(2,i=g);const y=["info","logs","procs","term","files"];for(let C of y)if((E=i==null?void 0:i.permissions)!=null&&E.includes(C)){t(5,u=C);break}u||(t(2,i=null),Ce.add({type:"warning",text:"No permissions to access container"}))},100)}function p(g){t(5,u=g)}const S=()=>t(1,l=!1),w=g=>c(g.detail),v=g=>c(g.detail),s=()=>p("info"),f=()=>p("logs"),h=()=>p("term"),a=()=>p("procs"),b=()=>p("files");return o.$$set=g=>{"showHostInfo"in g&&t(0,n=g.showHostInfo),"showContainerListOverlay"in g&&t(1,l=g.showContainerListOverlay)},o.$$.update=()=>{o.$$.dirty&4&&t(6,r=(i==null?void 0:i.status)==="running")},[n,l,i,m,_,u,r,c,p,S,w,v,s,f,h,a,b]}class jl extends Oe{constructor(e){super(),xe(this,e,Wl,Ul,Be,{showHostInfo:0,showContainerListOverlay:1})}}const{window:Vl}=Br;function Xs(o){let e,t,r,d,m;return t=new ue({props:{icon:an,color:"#123",size:"2x",style:"width: 3rem;height: 3rem;"}}),{c(){e=x("a"),ne(t.$$.fragment),D(e,"href","/#/"),D(e,"class","d-md-none d-flex justify-content-center align-items-center svelte-1b5nrvg")},m(_,i){j(_,e,i),se(t,e,null),r=!0,d||(m=_e(e,"click",Xt(o[5])),d=!0)},p:ce,i(_){r||(N(t.$$.fragment,_),r=!0)},o(_){V(t.$$.fragment,_),r=!1},d(_){_&&U(e),re(t),d=!1,m()}}}function Zs(o){let e,t,r,d,m,_;return t=new ue({props:{icon:on,color:"#333",size:"2x"}}),{c(){e=x("button"),ne(t.$$.fragment),D(e,"type","button"),D(e,"class","btn mx-2"),D(e,"title",r="Logout "+o[0])},m(i,n){j(i,e,n),se(t,e,null),d=!0,m||(_=_e(e,"click",o[4]),m=!0)},p(i,n){(!d||n&1&&r!==(r="Logout "+i[0]))&&D(e,"title",r)},i(i){d||(N(t.$$.fragment,i),d=!0)},o(i){V(t.$$.fragment,i),d=!1},d(i){i&&U(e),re(t),m=!1,_()}}}function Kl(o){let e,t;return e=new co({}),e.$on("login",o[9]),{c(){ne(e.$$.fragment)},m(r,d){se(e,r,d),t=!0},p:ce,i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){re(e,r)}}}function ql(o){let e,t,r,d;function m(n){o[7](n)}function _(n){o[8](n)}let i={};return o[2]!==void 0&&(i.showHostInfo=o[2]),o[3]!==void 0&&(i.showContainerListOverlay=o[3]),e=new jl({props:i}),tt.push(()=>xi(e,"showHostInfo",m)),tt.push(()=>xi(e,"showContainerListOverlay",_)),{c(){ne(e.$$.fragment)},m(n,l){se(e,n,l),d=!0},p(n,l){const u={};!t&&l&4&&(t=!0,u.showHostInfo=n[2],Mi(()=>t=!1)),!r&&l&8&&(r=!0,u.showContainerListOverlay=n[3],Mi(()=>r=!1)),e.$set(u)},i(n){d||(N(e.$$.fragment,n),d=!0)},o(n){V(e.$$.fragment,n),d=!1},d(n){re(e,n)}}}function Gl(o){let e,t,r,d,m,_,i,n,l,u,c,p,S,w,v,s,f,h,a,b;e=new Yr({});let g=o[0]&&Xs(o);n=new ue({props:{icon:Sn,color:"#123",size:"2x",style:"width: 3rem;height: 3rem;"}}),S=new qn({});let y=o[0]&&o[1]&&Zs(o);const E=[ql,Kl],C=[];function k(R,T){return R[0]?0:1}return s=k(o),f=C[s]=E[s](o),{c(){ne(e.$$.fragment),t=q(),r=x("main"),d=x("header"),g&&g.c(),m=q(),_=x("a"),i=x("span"),ne(n.$$.fragment),l=q(),u=x("span"),u.textContent="Container as a Service admin",c=q(),p=x("div"),ne(S.$$.fragment),w=q(),y&&y.c(),v=q(),f.c(),he(i,"d-none",o[0]),he(i,"d-md-block",o[0]),D(u,"class","text-black ps-2 fs-2 fw-light"),D(_,"href","/#/"),D(_,"class","d-flex justify-content-center align-items-center svelte-1b5nrvg"),D(p,"class","items-right svelte-1b5nrvg"),D(d,"class","svelte-1b5nrvg"),D(r,"class","svelte-1b5nrvg")},m(R,T){se(e,R,T),j(R,t,T),j(R,r,T),A(r,d),g&&g.m(d,null),A(d,m),A(d,_),A(_,i),se(n,i,null),A(_,l),A(_,u),A(d,c),A(d,p),se(S,p,null),A(p,w),y&&y.m(p,null),A(r,v),C[s].m(r,null),h=!0,a||(b=[_e(Vl,"error",Xl),_e(_,"click",Xt(o[6]))],a=!0)},p(R,[T]){R[0]?g?(g.p(R,T),T&1&&N(g,1)):(g=Xs(R),g.c(),N(g,1),g.m(d,m)):g&&(pe(),V(g,1,1,()=>{g=null}),me()),(!h||T&1)&&he(i,"d-none",R[0]),(!h||T&1)&&he(i,"d-md-block",R[0]),R[0]&&R[1]?y?(y.p(R,T),T&3&&N(y,1)):(y=Zs(R),y.c(),N(y,1),y.m(p,null)):y&&(pe(),V(y,1,1,()=>{y=null}),me());let M=s;s=k(R),s===M?C[s].p(R,T):(pe(),V(C[M],1,1,()=>{C[M]=null}),me(),f=C[s],f?f.p(R,T):(f=C[s]=E[s](R),f.c()),N(f,1),f.m(r,null))},i(R){h||(N(e.$$.fragment,R),N(g),N(n.$$.fragment,R),N(S.$$.fragment,R),N(y),N(f),h=!0)},o(R){V(e.$$.fragment,R),V(g),V(n.$$.fragment,R),V(S.$$.fragment,R),V(y),V(f),h=!1},d(R){R&&(U(t),U(r)),re(e,R),g&&g.d(),re(n),re(S),y&&y.d(),C[s].d(),a=!1,Ne(b)}}}function Xl(){alert("An error occurred!")}function Zl(o,e,t){let r=null,d=!0,m=!0,_=!1;Ue(async()=>{le.register("ws-error",null,S=>Ce.add({text:S,type:"error"})),le.register("ws-close",null,S=>{Ce.add({text:S,type:"error"}),t(0,r=null),alert("Lost connection. Reconnect?"),window.location.reload()}),le.register("webproxy_auth",({username:S})=>{t(0,r=S),t(1,d=!1)},S=>{Ce.add({text:S,type:"error"})}),await le.init()});function i(){le.close(),t(0,r=null),Ce.add({text:"Logged out",type:"info"}),window.location.reload()}const n=()=>t(3,_=!_),l=()=>t(2,m=!0);function u(S){m=S,t(2,m)}function c(S){_=S,t(3,_)}return[r,d,m,_,i,n,l,u,c,S=>t(0,r=S.detail.username)]}class Yl extends Oe{constructor(e){super(),xe(this,e,Zl,Gl,Be,{})}}new Yl({target:document.getElementById("app")});
