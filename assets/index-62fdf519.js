var kr=Object.defineProperty;var Er=(o,e,t)=>e in o?kr(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var xe=(o,e,t)=>(Er(o,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))s(f);new MutationObserver(f=>{for(const m of f)if(m.type==="childList")for(const _ of m.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&s(_)}).observe(document,{childList:!0,subtree:!0});function t(f){const m={};return f.integrity&&(m.integrity=f.integrity),f.referrerPolicy&&(m.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?m.credentials="include":f.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function s(f){if(f.ep)return;f.ep=!0;const m=t(f);fetch(f.href,m)}})();function se(){}const Zs=o=>o;function Lr(o,e){for(const t in e)o[t]=e[t];return o}function Ys(o){return o()}function Ai(){return Object.create(null)}function ze(o){o.forEach(Ys)}function qt(o){return typeof o=="function"}function Te(o,e){return o!=o?e==e:o!==e||o&&typeof o=="object"||typeof o=="function"}function Rr(o){return Object.keys(o).length===0}function Dr(o,...e){if(o==null)return se;const t=o.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ei(o){let e;return Dr(o,t=>e=t)(),e}function zt(o,e,t,s){if(o){const f=Js(o,e,t,s);return o[0](f)}}function Js(o,e,t,s){return o[1]&&s?Lr(t.ctx.slice(),o[1](s(e))):t.ctx}function Nt(o,e,t,s){if(o[2]&&s){const f=o[2](s(t));if(e.dirty===void 0)return f;if(typeof f=="object"){const m=[],_=Math.max(e.dirty.length,f.length);for(let i=0;i<_;i+=1)m[i]=e.dirty[i]|f[i];return m}return e.dirty|f}return e.dirty}function Ut(o,e,t,s,f,m){if(f){const _=Js(e,t,s,m);o.p(_,f)}}function Wt(o){if(o.ctx.length>32){const e=[],t=o.ctx.length/32;for(let s=0;s<t;s++)e[s]=-1;return e}return-1}function ii(o){const e=typeof o=="string"&&o.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[o,"px"]}const Qs=typeof window<"u";let er=Qs?()=>window.performance.now():()=>Date.now(),ci=Qs?o=>requestAnimationFrame(o):se;const ot=new Set;function tr(o){ot.forEach(e=>{e.c(o)||(ot.delete(e),e.f())}),ot.size!==0&&ci(tr)}function ir(o){let e;return ot.size===0&&ci(tr),{promise:new Promise(t=>{ot.add(e={c:o,f:t})}),abort(){ot.delete(e)}}}const Ar=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function A(o,e){o.appendChild(e)}function sr(o){if(!o)return document;const e=o.getRootNode?o.getRootNode():o.ownerDocument;return e&&e.host?e:o.ownerDocument}function Tr(o){const e=x("style");return Br(sr(o),e),e.sheet}function Br(o,e){return A(o.head||o,e),e.sheet}function W(o,e,t){o.insertBefore(e,t||null)}function U(o){o.parentNode&&o.parentNode.removeChild(o)}function $e(o,e){for(let t=0;t<o.length;t+=1)o[t]&&o[t].d(e)}function x(o){return document.createElement(o)}function ye(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function ee(o){return document.createTextNode(o)}function K(){return ee(" ")}function qe(){return ee("")}function _e(o,e,t,s){return o.addEventListener(e,t,s),()=>o.removeEventListener(e,t,s)}function Gt(o){return function(e){return e.preventDefault(),o.call(this,e)}}function D(o,e,t){t==null?o.removeAttribute(e):o.getAttribute(e)!==t&&o.setAttribute(e,t)}function hi(o,e,t){o.setAttributeNS("http://www.w3.org/1999/xlink",e,t)}function Mr(o){return Array.from(o.childNodes)}function ce(o,e){e=""+e,o.data!==e&&(o.data=e)}function Je(o,e){o.value=e??""}function ge(o,e,t,s){t==null?o.style.removeProperty(e):o.style.setProperty(e,t,s?"important":"")}function Ti(o,e,t){for(let s=0;s<o.options.length;s+=1){const f=o.options[s];if(f.__value===e){f.selected=!0;return}}(!t||e!==void 0)&&(o.selectedIndex=-1)}function xr(o){const e=o.querySelector(":checked");return e&&e.__value}function he(o,e,t){o.classList[t?"add":"remove"](e)}function rr(o,e,{bubbles:t=!1,cancelable:s=!1}={}){const f=document.createEvent("CustomEvent");return f.initCustomEvent(o,t,s,e),f}const jt=new Map;let Vt=0;function Or(o){let e=5381,t=o.length;for(;t--;)e=(e<<5)-e^o.charCodeAt(t);return e>>>0}function Ir(o,e){const t={stylesheet:Tr(e),rules:{}};return jt.set(o,t),t}function si(o,e,t,s,f,m,_,i=0){const n=16.666/s;let l=`{
`;for(let r=0;r<=1;r+=n){const d=e+(t-e)*m(r);l+=r*100+`%{${_(d,1-d)}}
`}const u=l+`100% {${_(t,1-t)}}
}`,c=`__svelte_${Or(u)}_${i}`,p=sr(o),{stylesheet:g,rules:w}=jt.get(p)||Ir(p,o);w[c]||(w[c]=!0,g.insertRule(`@keyframes ${c} ${u}`,g.cssRules.length));const v=o.style.animation||"";return o.style.animation=`${v?`${v}, `:""}${c} ${s}ms linear ${f}ms 1 both`,Vt+=1,c}function ri(o,e){const t=(o.style.animation||"").split(", "),s=t.filter(e?m=>m.indexOf(e)<0:m=>m.indexOf("__svelte")===-1),f=t.length-s.length;f&&(o.style.animation=s.join(", "),Vt-=f,Vt||Pr())}function Pr(){ci(()=>{Vt||(jt.forEach(o=>{const{ownerNode:e}=o.stylesheet;e&&U(e)}),jt.clear())})}let wt;function St(o){wt=o}function Xt(){if(!wt)throw new Error("Function called outside component initialization");return wt}function Lt(o){Xt().$$.before_update.push(o)}function Ne(o){Xt().$$.on_mount.push(o)}function Qe(o){Xt().$$.on_destroy.push(o)}function nr(){const o=Xt();return(e,t,{cancelable:s=!1}={})=>{const f=o.$$.callbacks[e];if(f){const m=rr(e,t,{cancelable:s});return f.slice().forEach(_=>{_.call(o,m)}),!m.defaultPrevented}return!0}}function Hr(o,e){const t=o.$$.callbacks[e.type];t&&t.slice().forEach(s=>s.call(this,e))}const nt=[],et=[];let lt=[];const ni=[],or=Promise.resolve();let oi=!1;function lr(){oi||(oi=!0,or.then(cr))}function ar(){return lr(),or}function Ae(o){lt.push(o)}function Bi(o){ni.push(o)}const ti=new Set;let st=0;function cr(){if(st!==0)return;const o=wt;do{try{for(;st<nt.length;){const e=nt[st];st++,St(e),$r(e.$$)}}catch(e){throw nt.length=0,st=0,e}for(St(null),nt.length=0,st=0;et.length;)et.pop()();for(let e=0;e<lt.length;e+=1){const t=lt[e];ti.has(t)||(ti.add(t),t())}lt.length=0}while(nt.length);for(;ni.length;)ni.pop()();oi=!1,ti.clear(),St(o)}function $r(o){if(o.fragment!==null){o.update(),ze(o.before_update);const e=o.dirty;o.dirty=[-1],o.fragment&&o.fragment.p(o.ctx,e),o.after_update.forEach(Ae)}}function Fr(o){const e=[],t=[];lt.forEach(s=>o.indexOf(s)===-1?e.push(s):t.push(s)),t.forEach(s=>s()),lt=e}let bt;function hr(){return bt||(bt=Promise.resolve(),bt.then(()=>{bt=null})),bt}function Ct(o,e,t){o.dispatchEvent(rr(`${e?"intro":"outro"}${t}`))}const Ft=new Set;let Xe;function pe(){Xe={r:0,c:[],p:Xe}}function me(){Xe.r||ze(Xe.c),Xe=Xe.p}function N(o,e){o&&o.i&&(Ft.delete(o),o.i(e))}function V(o,e,t,s){if(o&&o.o){if(Ft.has(o))return;Ft.add(o),Xe.c.push(()=>{Ft.delete(o),s&&(t&&o.d(1),s())}),o.o(e)}else s&&s()}const fr={duration:0};function at(o,e,t){const s={direction:"in"};let f=e(o,t,s),m=!1,_,i,n=0;function l(){_&&ri(o,_)}function u(){const{delay:p=0,duration:g=300,easing:w=Zs,tick:v=se,css:r}=f||fr;r&&(_=si(o,0,1,g,p,w,r,n++)),v(0,1);const d=er()+p,h=d+g;i&&i.abort(),m=!0,Ae(()=>Ct(o,!0,"start")),i=ir(a=>{if(m){if(a>=h)return v(1,0),Ct(o,!0,"end"),l(),m=!1;if(a>=d){const S=w((a-d)/g);v(S,1-S)}}return m})}let c=!1;return{start(){c||(c=!0,ri(o),qt(f)?(f=f(s),hr().then(u)):u())},invalidate(){c=!1},end(){m&&(l(),m=!1)}}}function Fe(o,e,t,s){const f={direction:"both"};let m=e(o,t,f),_=s?0:1,i=null,n=null,l=null;function u(){l&&ri(o,l)}function c(g,w){const v=g.b-_;return w*=Math.abs(v),{a:_,b:g.b,d:v,duration:w,start:g.start,end:g.start+w,group:g.group}}function p(g){const{delay:w=0,duration:v=300,easing:r=Zs,tick:d=se,css:h}=m||fr,a={start:er()+w,b:g};g||(a.group=Xe,Xe.r+=1),i||n?n=a:(h&&(u(),l=si(o,_,g,v,w,r,h)),g&&d(0,1),i=c(a,v),Ae(()=>Ct(o,g,"start")),ir(S=>{if(n&&S>n.start&&(i=c(n,v),n=null,Ct(o,i.b,"start"),h&&(u(),l=si(o,_,i.b,i.duration,0,r,m.css))),i){if(S>=i.end)d(_=i.b,1-_),Ct(o,i.b,"end"),n||(i.b?u():--i.group.r||ze(i.group.c)),i=null;else if(S>=i.start){const b=S-i.start;_=i.a+i.d*r(b/i.duration),d(_,1-_)}}return!!(i||n)}))}return{run(g){qt(m)?hr().then(()=>{m=m(f),p(g)}):p(g)},end(){u(),i=n=null}}}function Mi(o,e,t){const s=o.$$.props[e];s!==void 0&&(o.$$.bound[s]=t,t(o.$$.ctx[s]))}function oe(o){o&&o.c()}function re(o,e,t,s){const{fragment:f,after_update:m}=o.$$;f&&f.m(e,t),s||Ae(()=>{const _=o.$$.on_mount.map(Ys).filter(qt);o.$$.on_destroy?o.$$.on_destroy.push(..._):ze(_),o.$$.on_mount=[]}),m.forEach(Ae)}function ne(o,e){const t=o.$$;t.fragment!==null&&(Fr(t.after_update),ze(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function zr(o,e){o.$$.dirty[0]===-1&&(nt.push(o),lr(),o.$$.dirty.fill(0)),o.$$.dirty[e/31|0]|=1<<e%31}function Be(o,e,t,s,f,m,_,i=[-1]){const n=wt;St(o);const l=o.$$={fragment:null,ctx:[],props:m,update:se,not_equal:f,bound:Ai(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(n?n.$$.context:[])),callbacks:Ai(),dirty:i,skip_bound:!1,root:e.target||n.$$.root};_&&_(l.root);let u=!1;if(l.ctx=t?t(o,e.props||{},(c,p,...g)=>{const w=g.length?g[0]:p;return l.ctx&&f(l.ctx[c],l.ctx[c]=w)&&(!l.skip_bound&&l.bound[c]&&l.bound[c](w),u&&zr(o,c)),p}):[],l.update(),u=!0,ze(l.before_update),l.fragment=s?s(l.ctx):!1,e.target){if(e.hydrate){const c=Mr(e.target);l.fragment&&l.fragment.l(c),c.forEach(U)}else l.fragment&&l.fragment.c();e.intro&&N(o.$$.fragment),re(o,e.target,e.anchor,e.customElement),cr()}St(n)}class Me{$destroy(){ne(this,1),this.$destroy=se}$on(e,t){if(!qt(t))return se;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const f=s.indexOf(t);f!==-1&&s.splice(f,1)}}$set(e){this.$$set&&!Rr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const rt=[];function Nr(o,e=se){let t;const s=new Set;function f(i){if(Te(o,i)&&(o=i,t)){const n=!rt.length;for(const l of s)l[1](),rt.push(l,o);if(n){for(let l=0;l<rt.length;l+=2)rt[l][0](rt[l+1]);rt.length=0}}}function m(i){f(i(o))}function _(i,n=se){const l=[i,n];return s.add(l),s.size===1&&(t=e(f)||se),i(o),()=>{s.delete(l),s.size===0&&t&&(t(),t=null)}}return{set:f,update:m,subscribe:_}}const Ur=10,Wr=function(){let o=Nr([]);return setInterval(()=>{let e=ei(o);const t=Math.floor(new Date().getTime()/1e3),s=e.filter(f=>f.created_at+Ur>t);s.length!==e.length&&o.set(s)},1e3),{add(e){let t=ei(o);t.push({...e,created_at:Math.floor(new Date().getTime()/1e3)}),o.set(t)},remove(e){let t=ei(o);o.set(t.filter(s=>!["created_at","type","text"].every(f=>s[f]===e[f])))},subscribe:o.subscribe}},Ce=Wr();function jr(o){return o<.5?4*o*o*o:.5*Math.pow(2*o-2,3)+1}function dr(o){const e=o-1;return e*e*e+1}function Vr(o,{delay:e=0,duration:t=400,easing:s=jr,amount:f=5,opacity:m=0}={}){const _=getComputedStyle(o),i=+_.opacity,n=_.filter==="none"?"":_.filter,l=i*(1-m),[u,c]=ii(f);return{delay:e,duration:t,easing:s,css:(p,g)=>`opacity: ${i-l*g}; filter: ${n} blur(${g*u}${c});`}}function Kt(o,{delay:e=0,duration:t=400,easing:s=dr,x:f=0,y:m=0,opacity:_=0}={}){const i=getComputedStyle(o),n=+i.opacity,l=i.transform==="none"?"":i.transform,u=n*(1-_),[c,p]=ii(f),[g,w]=ii(m);return{delay:e,duration:t,easing:s,css:(v,r)=>`
			transform: ${l} translate(${(1-v)*c}${p}, ${(1-v)*g}${w});
			opacity: ${n-u*r}`}}function Ie(o,{delay:e=0,duration:t=400,easing:s=dr,axis:f="y"}={}){const m=getComputedStyle(o),_=+m.opacity,i=f==="y"?"height":"width",n=parseFloat(m[i]),l=f==="y"?["top","bottom"]:["left","right"],u=l.map(d=>`${d[0].toUpperCase()}${d.slice(1)}`),c=parseFloat(m[`padding${u[0]}`]),p=parseFloat(m[`padding${u[1]}`]),g=parseFloat(m[`margin${u[0]}`]),w=parseFloat(m[`margin${u[1]}`]),v=parseFloat(m[`border${u[0]}Width`]),r=parseFloat(m[`border${u[1]}Width`]);return{delay:e,duration:t,easing:s,css:d=>`overflow: hidden;opacity: ${Math.min(d*20,1)*_};${i}: ${d*n}px;padding-${l[0]}: ${d*c}px;padding-${l[1]}: ${d*p}px;margin-${l[0]}: ${d*g}px;margin-${l[1]}: ${d*w}px;border-${l[0]}-width: ${d*v}px;border-${l[1]}-width: ${d*r}px;`}}function xi(o,e,t){const s=o.slice();return s[2]=e[t],s}function Oi(o){let e,t,s,f=o[2].text+"",m,_,i,n,l,u,c,p;function g(){return o[1](o[2])}return{c(){e=x("div"),t=x("div"),s=x("div"),m=ee(f),_=K(),i=x("button"),n=K(),D(s,"class","toast-body"),D(i,"type","button"),D(i,"class","btn-close btn-close-white me-2 m-auto"),D(t,"class","d-flex"),D(e,"class","toast show align-items-center text-white border-0 mb-2"),he(e,"bg-danger",o[2].type==="error"),he(e,"bg-warning",o[2].type==="warning"),he(e,"bg-success",o[2].type==="success"),he(e,"bg-primary",o[2].type==="info")},m(w,v){W(w,e,v),A(e,t),A(t,s),A(s,m),A(t,_),A(t,i),A(e,n),u=!0,c||(p=_e(i,"click",g),c=!0)},p(w,v){o=w,(!u||v&1)&&f!==(f=o[2].text+"")&&ce(m,f),(!u||v&1)&&he(e,"bg-danger",o[2].type==="error"),(!u||v&1)&&he(e,"bg-warning",o[2].type==="warning"),(!u||v&1)&&he(e,"bg-success",o[2].type==="success"),(!u||v&1)&&he(e,"bg-primary",o[2].type==="info")},i(w){u||(w&&Ae(()=>{u&&(l||(l=Fe(e,Ie,{},!0)),l.run(1))}),u=!0)},o(w){w&&(l||(l=Fe(e,Ie,{},!1)),l.run(0)),u=!1},d(w){w&&U(e),w&&l&&l.end(),c=!1,p()}}}function Kr(o){let e,t,s=o[0],f=[];for(let _=0;_<s.length;_+=1)f[_]=Oi(xi(o,s,_));const m=_=>V(f[_],1,1,()=>{f[_]=null});return{c(){e=x("div");for(let _=0;_<f.length;_+=1)f[_].c();D(e,"class","position-fixed bottom-0 end-0 p-3"),ge(e,"z-index","470")},m(_,i){W(_,e,i);for(let n=0;n<f.length;n+=1)f[n]&&f[n].m(e,null);t=!0},p(_,[i]){if(i&1){s=_[0];let n;for(n=0;n<s.length;n+=1){const l=xi(_,s,n);f[n]?(f[n].p(l,i),N(f[n],1)):(f[n]=Oi(l),f[n].c(),N(f[n],1),f[n].m(e,null))}for(pe(),n=s.length;n<f.length;n+=1)m(n);me()}},i(_){if(!t){for(let i=0;i<s.length;i+=1)N(f[i]);t=!0}},o(_){f=f.filter(Boolean);for(let i=0;i<f.length;i+=1)V(f[i]);t=!1},d(_){_&&U(e),$e(f,_)}}}function qr(o,e,t){let s=[];return Ne(()=>{Ce.subscribe(m=>t(0,s=m))}),[s,m=>Ce.remove(m)]}class Gr extends Me{constructor(e){super(),Be(this,e,qr,Kr,Te,{})}}const Ht=parseFloat;function li(o,e=";"){let t;if(Array.isArray(o))t=o.filter(s=>s);else{t=[];for(const s in o)o[s]&&t.push(`${s}:${o[s]}`)}return t.join(e)}function Xr(o,e,t,s){let f,m;const _="1em";let i,n,l,u="-.125em";const c="visible";return s&&(l="center",m="1.25em"),t&&(f=t),e&&(e=="lg"?(n="1.33333em",i=".75em",u="-.225em"):e=="xs"?n=".75em":e=="sm"?n=".875em":n=e.replace("x","em")),li([li({float:f,width:m,height:_,"line-height":i,"font-size":n,"text-align":l,"vertical-align":u,"transform-origin":"center",overflow:c}),o])}function Zr(o,e,t,s,f,m=1,_="",i=""){let n=1,l=1;return f&&(f=="horizontal"?n=-1:f=="vertical"?l=-1:n=l=-1),li([`translate(${Ht(e)*m}${_},${Ht(t)*m}${_})`,`scale(${n*Ht(o)},${l*Ht(o)})`,s&&`rotate(${s}${i})`]," ")}function Ii(o){let e,t,s,f,m,_,i,n;function l(p,g){return typeof p[10][4]=="string"?Jr:Yr}let u=l(o),c=u(o);return{c(){e=ye("svg"),t=ye("g"),s=ye("g"),c.c(),D(s,"transform",o[12]),D(t,"transform",f="translate("+o[10][0]/2+" "+o[10][1]/2+")"),D(t,"transform-origin",m=o[10][0]/4+" 0"),D(e,"id",_=o[1]||void 0),D(e,"class",i="svelte-fa "+o[0]+" svelte-1cj2gr0"),D(e,"style",o[11]),D(e,"viewBox",n="0 0 "+o[10][0]+" "+o[10][1]),D(e,"aria-hidden","true"),D(e,"role","img"),D(e,"xmlns","http://www.w3.org/2000/svg"),he(e,"pulse",o[4]),he(e,"spin",o[3])},m(p,g){W(p,e,g),A(e,t),A(t,s),c.m(s,null)},p(p,g){u===(u=l(p))&&c?c.p(p,g):(c.d(1),c=u(p),c&&(c.c(),c.m(s,null))),g&4096&&D(s,"transform",p[12]),g&1024&&f!==(f="translate("+p[10][0]/2+" "+p[10][1]/2+")")&&D(t,"transform",f),g&1024&&m!==(m=p[10][0]/4+" 0")&&D(t,"transform-origin",m),g&2&&_!==(_=p[1]||void 0)&&D(e,"id",_),g&1&&i!==(i="svelte-fa "+p[0]+" svelte-1cj2gr0")&&D(e,"class",i),g&2048&&D(e,"style",p[11]),g&1024&&n!==(n="0 0 "+p[10][0]+" "+p[10][1])&&D(e,"viewBox",n),g&17&&he(e,"pulse",p[4]),g&9&&he(e,"spin",p[3])},d(p){p&&U(e),c.d()}}}function Yr(o){let e,t,s,f,m,_,i,n,l,u;return{c(){e=ye("path"),_=ye("path"),D(e,"d",t=o[10][4][0]),D(e,"fill",s=o[6]||o[2]||"currentColor"),D(e,"fill-opacity",f=o[9]!=!1?o[7]:o[8]),D(e,"transform",m="translate("+o[10][0]/-2+" "+o[10][1]/-2+")"),D(_,"d",i=o[10][4][1]),D(_,"fill",n=o[5]||o[2]||"currentColor"),D(_,"fill-opacity",l=o[9]!=!1?o[8]:o[7]),D(_,"transform",u="translate("+o[10][0]/-2+" "+o[10][1]/-2+")")},m(c,p){W(c,e,p),W(c,_,p)},p(c,p){p&1024&&t!==(t=c[10][4][0])&&D(e,"d",t),p&68&&s!==(s=c[6]||c[2]||"currentColor")&&D(e,"fill",s),p&896&&f!==(f=c[9]!=!1?c[7]:c[8])&&D(e,"fill-opacity",f),p&1024&&m!==(m="translate("+c[10][0]/-2+" "+c[10][1]/-2+")")&&D(e,"transform",m),p&1024&&i!==(i=c[10][4][1])&&D(_,"d",i),p&36&&n!==(n=c[5]||c[2]||"currentColor")&&D(_,"fill",n),p&896&&l!==(l=c[9]!=!1?c[8]:c[7])&&D(_,"fill-opacity",l),p&1024&&u!==(u="translate("+c[10][0]/-2+" "+c[10][1]/-2+")")&&D(_,"transform",u)},d(c){c&&U(e),c&&U(_)}}}function Jr(o){let e,t,s,f;return{c(){e=ye("path"),D(e,"d",t=o[10][4]),D(e,"fill",s=o[2]||o[5]||"currentColor"),D(e,"transform",f="translate("+o[10][0]/-2+" "+o[10][1]/-2+")")},m(m,_){W(m,e,_)},p(m,_){_&1024&&t!==(t=m[10][4])&&D(e,"d",t),_&36&&s!==(s=m[2]||m[5]||"currentColor")&&D(e,"fill",s),_&1024&&f!==(f="translate("+m[10][0]/-2+" "+m[10][1]/-2+")")&&D(e,"transform",f)},d(m){m&&U(e)}}}function Qr(o){let e,t=o[10][4]&&Ii(o);return{c(){t&&t.c(),e=qe()},m(s,f){t&&t.m(s,f),W(s,e,f)},p(s,[f]){s[10][4]?t?t.p(s,f):(t=Ii(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:se,o:se,d(s){t&&t.d(s),s&&U(e)}}}function en(o,e,t){let{class:s=""}=e,{id:f=""}=e,{style:m=""}=e,{icon:_}=e,{size:i=""}=e,{color:n=""}=e,{fw:l=!1}=e,{pull:u=""}=e,{scale:c=1}=e,{translateX:p=0}=e,{translateY:g=0}=e,{rotate:w=""}=e,{flip:v=!1}=e,{spin:r=!1}=e,{pulse:d=!1}=e,{primaryColor:h=""}=e,{secondaryColor:a=""}=e,{primaryOpacity:S=1}=e,{secondaryOpacity:b=.4}=e,{swapOpacity:y=!1}=e,E,C,k;return o.$$set=R=>{"class"in R&&t(0,s=R.class),"id"in R&&t(1,f=R.id),"style"in R&&t(13,m=R.style),"icon"in R&&t(14,_=R.icon),"size"in R&&t(15,i=R.size),"color"in R&&t(2,n=R.color),"fw"in R&&t(16,l=R.fw),"pull"in R&&t(17,u=R.pull),"scale"in R&&t(18,c=R.scale),"translateX"in R&&t(19,p=R.translateX),"translateY"in R&&t(20,g=R.translateY),"rotate"in R&&t(21,w=R.rotate),"flip"in R&&t(22,v=R.flip),"spin"in R&&t(3,r=R.spin),"pulse"in R&&t(4,d=R.pulse),"primaryColor"in R&&t(5,h=R.primaryColor),"secondaryColor"in R&&t(6,a=R.secondaryColor),"primaryOpacity"in R&&t(7,S=R.primaryOpacity),"secondaryOpacity"in R&&t(8,b=R.secondaryOpacity),"swapOpacity"in R&&t(9,y=R.swapOpacity)},o.$$.update=()=>{o.$$.dirty&16384&&t(10,E=_&&_.icon||[0,0,"",[],""]),o.$$.dirty&237568&&t(11,C=Xr(m,i,u,l)),o.$$.dirty&8126464&&t(12,k=Zr(c,p,g,w,v,512))},[s,f,n,r,d,h,a,S,b,y,E,C,k,m,_,i,l,u,c,p,g,w,v]}class ue extends Me{constructor(e){super(),Be(this,e,en,Qr,Te,{class:0,id:1,style:13,icon:14,size:15,color:2,fw:16,pull:17,scale:18,translateX:19,translateY:20,rotate:21,flip:22,spin:3,pulse:4,primaryColor:5,secondaryColor:6,primaryOpacity:7,secondaryOpacity:8,swapOpacity:9})}}var tn={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"]},sn=tn,rn={prefix:"fas",iconName:"laptop-code",icon:[640,512,[],"f5fc","M64 96c0-35.3 28.7-64 64-64H512c35.3 0 64 28.7 64 64V352H512V96H128V352H64V96zM0 403.2C0 392.6 8.6 384 19.2 384H620.8c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"]},nn={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},on={prefix:"fas",iconName:"square-up-right",icon:[448,512,[8599,"external-link-square-alt"],"f360","M384 32c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96C0 60.7 28.7 32 64 32H384zM320 313.4V176c0-8.8-7.2-16-16-16H166.6c-12.5 0-22.6 10.1-22.6 22.6c0 6 2.4 11.8 6.6 16L184 232l-66.3 66.3C114 302 112 306.9 112 312s2 10 5.7 13.7l36.7 36.7c3.6 3.6 8.5 5.7 13.7 5.7s10-2 13.7-5.7L248 296l33.4 33.4c4.2 4.2 10 6.6 16 6.6c12.5 0 22.6-10.1 22.6-22.6z"]},ln=on,an={prefix:"fas",iconName:"circle-chevron-down",icon:[512,512,["chevron-circle-down"],"f13a","M256 0a256 256 0 1 0 0 512A256 256 0 1 0 256 0zM135 241c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l87 87 87-87c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9L273 345c-9.4 9.4-24.6 9.4-33.9 0L135 241z"]},cn=an,ur={prefix:"fas",iconName:"memory",icon:[576,512,[],"f538","M64 64C28.7 64 0 92.7 0 128v7.4c0 6.8 4.4 12.6 10.1 16.3C23.3 160.3 32 175.1 32 192s-8.7 31.7-21.9 40.3C4.4 236 0 241.8 0 248.6V320H576V248.6c0-6.8-4.4-12.6-10.1-16.3C552.7 223.7 544 208.9 544 192s8.7-31.7 21.9-40.3c5.7-3.7 10.1-9.5 10.1-16.3V128c0-35.3-28.7-64-64-64H64zM576 352H0v64c0 17.7 14.3 32 32 32H80V416c0-8.8 7.2-16 16-16s16 7.2 16 16v32h96V416c0-8.8 7.2-16 16-16s16 7.2 16 16v32h96V416c0-8.8 7.2-16 16-16s16 7.2 16 16v32h96V416c0-8.8 7.2-16 16-16s16 7.2 16 16v32h48c17.7 0 32-14.3 32-32V352zM192 160v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V160c0-17.7 14.3-32 32-32s32 14.3 32 32zm128 0v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V160c0-17.7 14.3-32 32-32s32 14.3 32 32zm128 0v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V160c0-17.7 14.3-32 32-32s32 14.3 32 32z"]},hn={prefix:"fas",iconName:"folder",icon:[512,512,[128193,128447,61716,"folder-blank"],"f07b","M64 480H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H288c-10.1 0-19.6-4.7-25.6-12.8L243.2 57.6C231.1 41.5 212.1 32 192 32H64C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64z"]},fn={prefix:"fas",iconName:"box",icon:[448,512,[128230],"f466","M50.7 58.5L0 160H208V32H93.7C75.5 32 58.9 42.3 50.7 58.5zM240 160H448L397.3 58.5C389.1 42.3 372.5 32 354.3 32H240V160zm208 32H0V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192z"]},dn={prefix:"fas",iconName:"maximize",icon:[512,512,["expand-arrows-alt"],"f31e","M200 32H56C42.7 32 32 42.7 32 56V200c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2l40-40 79 79-79 79L73 295c-6.9-6.9-17.2-8.9-26.2-5.2S32 302.3 32 312V456c0 13.3 10.7 24 24 24H200c9.7 0 18.5-5.8 22.2-14.8s1.7-19.3-5.2-26.2l-40-40 79-79 79 79-40 40c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H456c13.3 0 24-10.7 24-24V312c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2l-40 40-79-79 79-79 40 40c6.9 6.9 17.2 8.9 26.2 5.2s14.8-12.5 14.8-22.2V56c0-13.3-10.7-24-24-24H312c-9.7 0-18.5 5.8-22.2 14.8s-1.7 19.3 5.2 26.2l40 40-79 79-79-79 40-40c6.9-6.9 8.9-17.2 5.2-26.2S209.7 32 200 32z"]},_r=dn,un={prefix:"fas",iconName:"server",icon:[512,512,[],"f233","M64 32C28.7 32 0 60.7 0 96v64c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm280 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm48 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zM64 288c-35.3 0-64 28.7-64 64v64c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V352c0-35.3-28.7-64-64-64H64zm280 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm56 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0z"]},pr={prefix:"fas",iconName:"microchip",icon:[512,512,[],"f2db","M176 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64c-35.3 0-64 28.7-64 64H24c-13.3 0-24 10.7-24 24s10.7 24 24 24H64v56H24c-13.3 0-24 10.7-24 24s10.7 24 24 24H64v56H24c-13.3 0-24 10.7-24 24s10.7 24 24 24H64c0 35.3 28.7 64 64 64v40c0 13.3 10.7 24 24 24s24-10.7 24-24V448h56v40c0 13.3 10.7 24 24 24s24-10.7 24-24V448h56v40c0 13.3 10.7 24 24 24s24-10.7 24-24V448c35.3 0 64-28.7 64-64h40c13.3 0 24-10.7 24-24s-10.7-24-24-24H448V280h40c13.3 0 24-10.7 24-24s-10.7-24-24-24H448V176h40c13.3 0 24-10.7 24-24s-10.7-24-24-24H448c0-35.3-28.7-64-64-64V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H280V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H176V24zM160 128H352c17.7 0 32 14.3 32 32V352c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32zm192 32H160V352H352V160z"]},_n={prefix:"fas",iconName:"circle-chevron-up",icon:[512,512,["chevron-circle-up"],"f139","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM377 271c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-87-87-87 87c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9L239 167c9.4-9.4 24.6-9.4 33.9 0L377 271z"]},pn=_n,mr={prefix:"fas",iconName:"box-open",icon:[640,512,[],"f49e","M58.9 42.1c3-6.1 9.6-9.6 16.3-8.7L320 64 564.8 33.4c6.7-.8 13.3 2.7 16.3 8.7l41.7 83.4c9 17.9-.6 39.6-19.8 45.1L439.6 217.3c-13.9 4-28.8-1.9-36.2-14.3L320 64 236.6 203c-7.4 12.4-22.3 18.3-36.2 14.3L37.1 170.6c-19.3-5.5-28.8-27.2-19.8-45.1L58.9 42.1zM321.1 128l54.9 91.4c14.9 24.8 44.6 36.6 72.5 28.6L576 211.6v167c0 22-15 41.2-36.4 46.6l-204.1 51c-10.2 2.6-20.9 2.6-31 0l-204.1-51C79 419.7 64 400.5 64 378.5v-167L191.6 248c27.8 8 57.6-3.8 72.5-28.6L318.9 128h2.2z"]},mn={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H463.5c0 0 0 0 0 0h.4c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1V448c0 17.7 14.3 32 32 32s32-14.3 32-32V396.9l17.6 17.5 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352H176c17.7 0 32-14.3 32-32s-14.3-32-32-32H48.4c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"]},vr=mn,vn={prefix:"fas",iconName:"house-user",icon:[576,512,["home-user"],"e1b0","M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c.2 35.5-28.5 64.3-64 64.3H128.1c-35.3 0-64-28.7-64-64V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24zM352 224a64 64 0 1 0 -128 0 64 64 0 1 0 128 0zm-96 96c-44.2 0-80 35.8-80 80c0 8.8 7.2 16 16 16H384c8.8 0 16-7.2 16-16c0-44.2-35.8-80-80-80H256z"]},gn={prefix:"fas",iconName:"tags",icon:[512,512,[],"f02c","M345 39.1L472.8 168.4c52.4 53 52.4 138.2 0 191.2L360.8 472.9c-9.3 9.4-24.5 9.5-33.9 .2s-9.5-24.5-.2-33.9L438.6 325.9c33.9-34.3 33.9-89.4 0-123.7L310.9 72.9c-9.3-9.4-9.2-24.6 .2-33.9s24.6-9.2 33.9 .2zM0 229.5V80C0 53.5 21.5 32 48 32H197.5c17 0 33.3 6.7 45.3 18.7l168 168c25 25 25 65.5 0 90.5L277.3 442.7c-25 25-65.5 25-90.5 0l-168-168C6.7 262.7 0 246.5 0 229.5zM144 144a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},bn={prefix:"fas",iconName:"terminal",icon:[576,512,[],"f120","M9.4 86.6C-3.1 74.1-3.1 53.9 9.4 41.4s32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L178.7 256 9.4 86.6zM256 416H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H256c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},Sn={prefix:"fas",iconName:"tag",icon:[448,512,[127991],"f02b","M0 80V229.5c0 17 6.7 33.3 18.7 45.3l176 176c25 25 65.5 25 90.5 0L418.7 317.3c25-25 25-65.5 0-90.5l-176-176c-12-12-28.3-18.7-45.3-18.7H48C21.5 32 0 53.5 0 80zm112 32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},Cn={prefix:"fas",iconName:"hard-drive",icon:[512,512,[128436,"hdd"],"f0a0","M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V280.4c-17-15.2-39.4-24.4-64-24.4H64c-24.6 0-47 9.2-64 24.4V96zM64 288H448c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V352c0-35.3 28.7-64 64-64zM320 416a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm128-32a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},wn=Cn,yn={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},kn=yn,En={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},Ln={prefix:"fas",iconName:"network-wired",icon:[640,512,[],"f6ff","M256 64H384v64H256V64zM240 0c-26.5 0-48 21.5-48 48v96c0 26.5 21.5 48 48 48h48v32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96v32H80c-26.5 0-48 21.5-48 48v96c0 26.5 21.5 48 48 48H240c26.5 0 48-21.5 48-48V368c0-26.5-21.5-48-48-48H192V288H448v32H400c-26.5 0-48 21.5-48 48v96c0 26.5 21.5 48 48 48H560c26.5 0 48-21.5 48-48V368c0-26.5-21.5-48-48-48H512V288h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H352V192h48c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48H240zM96 448V384H224v64H96zm320-64H544v64H416V384z"]},Rn={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},Dn=Rn,An={prefix:"fas",iconName:"stop",icon:[384,512,[9209],"f04d","M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128z"]},Tn={prefix:"fas",iconName:"sun",icon:[512,512,[9728],"f185","M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"]},Bn={prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z"]},Mn={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"]},xn={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},On={prefix:"fas",iconName:"moon",icon:[384,512,[127769,9214],"f186","M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"]},In={prefix:"fas",iconName:"rectangle-xmark",icon:[512,512,[62164,"rectangle-times","times-rectangle","window-close"],"f410","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]},Pn=In,Hn={prefix:"fas",iconName:"turn-up",icon:[384,512,[10548,"level-up-alt"],"f3bf","M350 177.5c3.8-8.8 2-19-4.6-26l-136-144C204.9 2.7 198.6 0 192 0s-12.9 2.7-17.4 7.5l-136 144c-6.6 7-8.4 17.2-4.6 26s12.5 14.5 22 14.5h88l0 192c0 17.7-14.3 32-32 32H32c-17.7 0-32 14.3-32 32v32c0 17.7 14.3 32 32 32l80 0c70.7 0 128-57.3 128-128l0-192h88c9.6 0 18.2-5.7 22-14.5z"]},$n=Hn;function Fn(o){let e,t;return e=new ue({props:{icon:Tn,color:"#333",size:"2x"}}),{c(){oe(e.$$.fragment)},m(s,f){re(e,s,f),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}function zn(o){let e,t;return e=new ue({props:{icon:On,color:"#333",size:"2x"}}),{c(){oe(e.$$.fragment)},m(s,f){re(e,s,f),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}function Nn(o){let e,t,s,f,m,_;const i=[zn,Fn],n=[];function l(u,c){return u[0]==="dark"?0:1}return t=l(o),s=n[t]=i[t](o),{c(){e=x("button"),s.c(),D(e,"type","button"),D(e,"class","btn mx-2"),D(e,"title","Switch Theme")},m(u,c){W(u,e,c),n[t].m(e,null),f=!0,m||(_=_e(e,"click",o[1]),m=!0)},p(u,[c]){let p=t;t=l(u),t===p?n[t].p(u,c):(pe(),V(n[p],1,1,()=>{n[p]=null}),me(),s=n[t],s?s.p(u,c):(s=n[t]=i[t](u),s.c()),N(s,1),s.m(e,null))},i(u){f||(N(s),f=!0)},o(u){V(s),f=!1},d(u){u&&U(e),n[t].d(),m=!1,_()}}}function Un(o,e,t){let s;function f(){s==="light"?(t(0,s="dark"),document.querySelector("html").classList.add("dark")):(t(0,s="light"),document.querySelector("html").classList.remove("dark"))}return Ne(()=>{t(0,s="dark"),s==="dark"&&document.querySelector("html").classList.add("dark")}),[s,f]}class Wn extends Me{constructor(e){super(),Be(this,e,Un,Nn,Te,{})}}function Pi(o){let e,t,s,f,m,_,i;function n(v,r){if(v[0]==="error"||v[0]==="warning")return Kn;if(v[0]==="success")return Vn;if(v[0]==="info")return jn}let l=n(o),u=l&&l(o),c=o[0]==="error"&&Hi();const p=o[4].default,g=zt(p,o,o[3],null);let w=o[1]&&$i(o);return{c(){e=x("div"),u&&u.c(),t=K(),s=x("div"),c&&c.c(),f=K(),g&&g.c(),m=K(),w&&w.c(),D(e,"class","alert d-flex align-items-center"),D(e,"role","alert"),he(e,"alert-danger",o[0]==="error"),he(e,"alert-warning",o[0]==="warning"),he(e,"alert-success",o[0]==="success"),he(e,"alert-info",o[0]==="info"),he(e,"alert-dismissible",o[1])},m(v,r){W(v,e,r),u&&u.m(e,null),A(e,t),A(e,s),c&&c.m(s,null),A(s,f),g&&g.m(s,null),A(s,m),w&&w.m(s,null),i=!0},p(v,r){l!==(l=n(v))&&(u&&u.d(1),u=l&&l(v),u&&(u.c(),u.m(e,t))),v[0]==="error"?c||(c=Hi(),c.c(),c.m(s,f)):c&&(c.d(1),c=null),g&&g.p&&(!i||r&8)&&Ut(g,p,v,v[3],i?Nt(p,v[3],r,null):Wt(v[3]),null),v[1]?w?w.p(v,r):(w=$i(v),w.c(),w.m(s,null)):w&&(w.d(1),w=null),(!i||r&1)&&he(e,"alert-danger",v[0]==="error"),(!i||r&1)&&he(e,"alert-warning",v[0]==="warning"),(!i||r&1)&&he(e,"alert-success",v[0]==="success"),(!i||r&1)&&he(e,"alert-info",v[0]==="info"),(!i||r&2)&&he(e,"alert-dismissible",v[1])},i(v){i||(N(g,v),v&&Ae(()=>{i&&(_||(_=Fe(e,Ie,{},!0)),_.run(1))}),i=!0)},o(v){V(g,v),v&&(_||(_=Fe(e,Ie,{},!1)),_.run(0)),i=!1},d(v){v&&U(e),u&&u.d(),c&&c.d(),g&&g.d(v),w&&w.d(),v&&_&&_.end()}}}function jn(o){let e,t;return{c(){e=ye("svg"),t=ye("use"),hi(t,"xlink:href","#info-fill"),D(e,"class","bi flex-shrink-0 me-2"),D(e,"width","24"),D(e,"height","24"),D(e,"role","img"),D(e,"aria-label","Info:")},m(s,f){W(s,e,f),A(e,t)},d(s){s&&U(e)}}}function Vn(o){let e,t;return{c(){e=ye("svg"),t=ye("use"),hi(t,"xlink:href","#check-circle-fill"),D(e,"class","bi flex-shrink-0 me-2"),D(e,"width","24"),D(e,"height","24"),D(e,"role","img"),D(e,"aria-label","Success:")},m(s,f){W(s,e,f),A(e,t)},d(s){s&&U(e)}}}function Kn(o){let e,t;return{c(){e=ye("svg"),t=ye("use"),hi(t,"xlink:href","#exclamation-triangle-fill"),D(e,"class","bi flex-shrink-0 me-2"),D(e,"width","24"),D(e,"height","24"),D(e,"role","img"),D(e,"aria-label","Danger:")},m(s,f){W(s,e,f),A(e,t)},d(s){s&&U(e)}}}function Hi(o){let e;return{c(){e=x("strong"),e.textContent="Error:"},m(t,s){W(t,e,s)},d(t){t&&U(e)}}}function $i(o){let e,t,s;return{c(){e=x("button"),D(e,"type","button"),D(e,"class","btn-close"),D(e,"data-bs-dismiss","alert"),D(e,"aria-label","Close")},m(f,m){W(f,e,m),t||(s=_e(e,"click",o[5]),t=!0)},p:se,d(f){f&&U(e),t=!1,s()}}}function qn(o){let e,t,s,f,m,_,i,n,l,u,c=!o[2]&&Pi(o);return{c(){e=ye("svg"),t=ye("symbol"),s=ye("path"),f=ye("symbol"),m=ye("path"),_=ye("symbol"),i=ye("path"),n=K(),c&&c.c(),l=qe(),D(s,"d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"),D(t,"id","check-circle-fill"),D(t,"fill","currentColor"),D(t,"viewBox","0 0 16 16"),D(m,"d","M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"),D(f,"id","info-fill"),D(f,"fill","currentColor"),D(f,"viewBox","0 0 16 16"),D(i,"d","M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"),D(_,"id","exclamation-triangle-fill"),D(_,"fill","currentColor"),D(_,"viewBox","0 0 16 16"),D(e,"xmlns","http://www.w3.org/2000/svg"),ge(e,"display","none")},m(p,g){W(p,e,g),A(e,t),A(t,s),A(e,f),A(f,m),A(e,_),A(_,i),W(p,n,g),c&&c.m(p,g),W(p,l,g),u=!0},p(p,[g]){p[2]?c&&(pe(),V(c,1,1,()=>{c=null}),me()):c?(c.p(p,g),g&4&&N(c,1)):(c=Pi(p),c.c(),N(c,1),c.m(l.parentNode,l))},i(p){u||(N(c),u=!0)},o(p){V(c),u=!1},d(p){p&&U(e),p&&U(n),c&&c.d(p),p&&U(l)}}}function Gn(o,e,t){let{$$slots:s={},$$scope:f}=e,{type:m}=e,{dismissible:_=!1}=e,i=!1;const n=()=>t(2,i=!0);return o.$$set=l=>{"type"in l&&t(0,m=l.type),"dismissible"in l&&t(1,_=l.dismissible),"$$scope"in l&&t(3,f=l.$$scope)},[m,_,i,f,s,n]}class Xn extends Me{constructor(e){super(),Be(this,e,Gn,qn,Te,{type:0,dismissible:1})}}function Zn(o){switch(o.request){case"login":return`{"response": "login", "payload": {"username": "${o.payload.username}"}}`;case"get_system_info":return'{"response": "get_system_info", "payload": {"engine_version": "Docker 20.10.7", "containers": {"total": 178, "running": 170, "stopped": 0}, "os": "Ubuntu 20.04.3 LTS", "cpus": 24, "mem": 31277850624}}';case"get_container_list":return`{"response": "get_container_list", "payload": [
                {"id": "2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8586", "name": "CaaSa Demo", "namespace": null, "status": "running", "permissions": ["info", "info-annotations", "procs", "files-read", "files-write", "files", "logs", "state", "term"]},
                {"id": "2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8587", "name": "Backend", "namespace": "Cool Web App", "status": "running", "permissions": ["info", "info-annotations", "procs", "files-read", "files-write", "files", "logs", "state", "term"]},
                {"id": "2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8588", "name": "Gateway", "namespace": "Cool Web App", "status": "running", "permissions": ["info", "info-annotations", "procs", "files-read", "files-write", "files", "logs", "state", "term"]}
               ]}`;case"get_processes":return'{"response": "get_processes", "payload": [{"pid": "45756", "ppid": "45733", "%cpu": "0.0", "%mem": "0.0", "user": "root", "stime": "16:24", "command": "nginx: master process nginx -g daemon off;", "level": 0}, {"pid": "45822", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45823", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45824", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45825", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45826", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45827", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45828", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45829", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45830", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45831", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45832", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45833", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "46825", "ppid": "45733", "%cpu": "0.0", "%mem": "0.0", "user": "root", "stime": "16:34", "command": "sh", "level": 0}]}';case"get_container_info":const e={"2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8586":"/caasa_demo","2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8587":"/cool_web_app_backend_1","2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8588":"/cool_web_app_gateway_1"};return`{"response": "get_container_info", "payload": {"id": "${o.payload.container_id}", "name": "${e[o.payload.container_id]}", "status": "running", "command": "/docker-entrypoint.sh nginx -g daemon off;", "created_at": "2021-12-02T10:33:16.628618832Z", "started_at": "2021-12-02T10:33:17.015866729Z", "finished_at": "0001-01-01T00:00:00Z", "crashes": 0, "env": {"PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin", "NGINX_VERSION": "1.21.1", "NJS_VERSION": "0.6.1", "PKG_RELEASE": "1"}, "labels": {"caasa.admin.full": "user1,user2", "maintainer": "NGINX Docker Maintainers <docker-maint@nginx.com>"}, "image": {"name": "nginx:alpine", "hash": "sha256:b9e2356ea1be9452f3777a587b0b6a30bc16c295fe6190eda6a0776522f27439"}, "mem": {"used": 10452992, "max_used": 19345408, "total": 52428800}, "cpu": {"perc": ${Math.random()*10}}, "net": {"rx_bytes": 18201, "tx_bytes": 0}, "ports": ["80/tcp"]}}`;case"get_container_logs":return o.payload.onlynew?'{"response": "get_container_logs", "payload":[]}':'{"response": "get_container_logs", "payload": ["2021-12-02T10:33:17.021946340Z /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration","2021-12-02T10:33:17.021988550Z /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/","2021-12-02T10:33:17.023417432Z /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh","2021-12-02T10:33:17.031231257Z 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf","2021-12-02T10:33:17.055742664Z 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf","2021-12-02T10:33:17.056041305Z /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh","2021-12-02T10:33:17.059979717Z /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh","2021-12-02T10:33:17.062059371Z /docker-entrypoint.sh: Configuration complete; ready for start up","2021-12-02T10:33:17.074027144Z 2021/12/02 10:33:17 [notice] 1#1: using the \\"epoll\\" event method","2021-12-02T10:33:17.074056600Z 2021/12/02 10:33:17 [notice] 1#1: nginx/1.21.1","2021-12-02T10:33:17.074063653Z 2021/12/02 10:33:17 [notice] 1#1: built by gcc 10.3.1 20210424 (Alpine 10.3.1_git20210424) ","2021-12-02T10:33:17.074069845Z 2021/12/02 10:33:17 [notice] 1#1: OS: Linux 5.11.0-40-generic","2021-12-02T10:33:17.074075475Z 2021/12/02 10:33:17 [notice] 1#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576","2021-12-02T10:33:17.074245905Z 2021/12/02 10:33:17 [notice] 1#1: start worker processes","2021-12-02T10:33:17.074276953Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 32","2021-12-02T10:33:17.074379486Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 33","2021-12-02T10:33:17.074401427Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 34","2021-12-02T10:33:17.074513127Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 35","2021-12-02T10:33:17.074601242Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 36","2021-12-02T10:33:17.074666745Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 37","2021-12-02T10:33:17.074817979Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 38","2021-12-02T10:33:17.074873423Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 39","2021-12-02T10:33:17.075007344Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 40","2021-12-02T10:33:17.075141746Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 41","2021-12-02T10:33:17.075279715Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 42","2021-12-02T10:33:17.075393118Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 43"]}';case"get_filesystem_info":return'{"response": "get_filesystem_info", "payload": {"workdir": "", "mounts": [{"type": "bind", "destination": "/etc/ssl/certs", "readonly": true, "source": "/etc/ssl/certs"}]}}';case"get_directory_list":return o.payload.path===""||o.payload.path==="/"?'{"response": "get_directory_list", "payload": {"entries": [{"type": "f", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "0B", "modtime": "2021-12-02 16:19:13", "name": ".dockerenv"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "bin"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "360B", "modtime": "2021-12-02 16:19:13", "name": "dev"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-07-06 19:40:27", "name": "docker-entrypoint.d"}, {"type": "f", "permissions": "rwxrwxr-x", "owner": "root", "group": "root", "filesize": "1.2KB", "modtime": "2021-07-06 19:40:16", "name": "docker-entrypoint.sh"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-12-02 16:19:13", "name": "etc"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "home"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "lib"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "media"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "mnt"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "opt"}, {"type": "d", "permissions": "r-xr-xr-x", "owner": "root", "group": "root", "filesize": "0B", "modtime": "2021-12-02 16:19:13", "name": "proc"}, {"type": "d", "permissions": "rwx------", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "root"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-12-02 16:19:13", "name": "run"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "sbin"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "srv"}, {"type": "d", "permissions": "r-xr-xr-x", "owner": "root", "group": "root", "filesize": "0B", "modtime": "2021-12-02 16:19:13", "name": "sys"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "usr"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "var"}], "path": "/"}}':!1;case"spawn_terminal":return'{"response": "spawn_terminal", "payload": {"execId": "2680be7b4aa3c0b6599edf3521f5813a770ccec7966a59c57cfdac5b4e3b7e9a"}}';case"resize_terminal":return!0;case"transmit_terminal_input":return o.payload.data==="\r"?`56!{"response": "receive_terminal_output", "payload": null}\r
This is just a demo`:'56!{"response": "receive_terminal_output", "payload": null}'+o.payload.data;default:return!1}}class Yn{constructor(e){xe(this,"binaryType");xe(this,"bufferedAmount");xe(this,"extensions");xe(this,"onclose");xe(this,"onerror");xe(this,"onmessage");xe(this,"onopen");xe(this,"protocol");xe(this,"readyState");xe(this,"url");xe(this,"CLOSED");xe(this,"CLOSING");xe(this,"CONNECTING");xe(this,"OPEN")}close(e,t){}addEventListener(e,t,s){throw new Error("Method not implemented.")}removeEventListener(e,t,s){throw new Error("Method not implemented.")}dispatchEvent(e){throw new Error("Method not implemented.")}send(e){const t=JSON.parse(e),s=Zn(t),f={data:void 0,...new Event("api-mock")};if(s===!1?f.data=`{"response": "${t.request}", "error": "Sorry, command not mocked in demo"}`:s===!0||(s[0]!=="{"?f.data=new Blob([s]):f.data=s),f.data&&(setTimeout(()=>this.onmessage(f),200),typeof f.data=="string"&&f.data.includes("spawn_terminal"))){console.log("extra response for terminal");const m={data:void 0,...new Event("api-mock")};m.data=new Blob(['56!{"response": "receive_terminal_output", "payload": null}/ # ']),setTimeout(()=>this.onmessage(m),300)}}}let Ge,yt={},kt={};function Fi(o,e){o in yt?yt[o](e):console.error("WS-API Unknown websocket event:",o)}function $t(o,e){o in kt?kt[o](e):console.error("WS-API Unknown websocket event:",o)}function zi(){yt={},kt={}}const ae={init(){try{Ge&&Ge.close(1e3),Ge=new Yn(`${window.location.protocol.replace("http","ws")}//${window.location.host}/ws`),Ge.binaryType="blob",Ge.onclose=o=>{$t("ws-close",o.reason||"Connection closed"),zi()},Ge.onmessage=async o=>{if(o.data instanceof Blob){const e=parseInt(await o.data.slice(0,10).text()),t=e.toString().length+1,s=await o.data.slice(t,t+e).text(),f=JSON.parse(s);f.error?$t(f.response,f.error):Fi(f.response,{payload:f.payload,blob:o.data.slice(t+e)})}else{const e=JSON.parse(o.data);e.error?$t(e.response,e.error):Fi(e.response,e.payload)}},Ge.onerror=o=>{$t("ws-error","Connection error")}}catch(o){alert(o)}},register(o,e,t){e&&(yt[o]=e),t&&(kt[o]=t)},unregister(...o){o.forEach(e=>{delete kt[e],delete yt[e]})},send(o,e){Ge.send(JSON.stringify({request:o,payload:e}))},close(){zi(),Ge.close()}};function Jn(o,e,t){const s=o.slice();return s[2]=e[t],s}function Ni(o){let e,t,s,f,m,_=[1,2,3],i=[];for(let l=0;l<3;l+=1)i[l]=Qn(Jn(o,_,l));let n=o[0]&&Ui(o);return{c(){e=x("div"),t=x("div"),s=x("div");for(let l=0;l<3;l+=1)i[l].c();f=K(),n&&n.c(),D(s,"class","d-flex justify-content-center align-items-center"),D(t,"class","bg-inner d-flex flex-column rounded p-3 svelte-om3sp1"),D(e,"class","bg-outer position-fixed d-flex justify-content-center align-items-center top-0 start-0 end-0 bottom-0 svelte-om3sp1")},m(l,u){W(l,e,u),A(e,t),A(t,s);for(let c=0;c<3;c+=1)i[c]&&i[c].m(s,null);A(t,f),n&&n.m(t,null)},p(l,u){l[0]?n?n.p(l,u):(n=Ui(l),n.c(),n.m(t,null)):n&&(n.d(1),n=null)},i(l){m||Ae(()=>{m=at(e,Vr,{}),m.start()})},o:se,d(l){l&&U(e),$e(i,l),n&&n.d()}}}function Qn(o){let e;return{c(){e=x("div"),e.innerHTML=`<span class="visually-hidden">Loading...</span> 
                    `,D(e,"class","spinner-grow mx-2 text-light"),D(e,"role","status")},m(t,s){W(t,e,s)},p:se,d(t){t&&U(e)}}}function Ui(o){let e,t;return{c(){e=x("div"),t=ee(o[0]),D(e,"class","mt-4 text-light")},m(s,f){W(s,e,f),A(e,t)},p(s,f){f&1&&ce(t,s[0])},d(s){s&&U(e)}}}function eo(o){let e,t=o[1]&&Ni(o);return{c(){t&&t.c(),e=qe()},m(s,f){t&&t.m(s,f),W(s,e,f)},p(s,[f]){s[1]?t?(t.p(s,f),f&2&&N(t,1)):(t=Ni(s),t.c(),N(t,1),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i(s){N(t)},o:se,d(s){t&&t.d(s),s&&U(e)}}}function to(o,e,t){let{text:s=""}=e,f=!1;return Ne(()=>{setTimeout(()=>t(1,f=!0),250)}),o.$$set=m=>{"text"in m&&t(0,s=m.text)},[s,f]}class gr extends Me{constructor(e){super(),Be(this,e,to,eo,Te,{text:0})}}function Wi(o){let e,t;return e=new gr({}),{c(){oe(e.$$.fragment)},m(s,f){re(e,s,f),t=!0},i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}function ji(o){let e,t;return e=new Xn({props:{type:"error",dismissible:!0,$$slots:{default:[io]},$$scope:{ctx:o}}}),{c(){oe(e.$$.fragment)},m(s,f){re(e,s,f),t=!0},p(s,f){const m={};f&1032&&(m.$$scope={dirty:f,ctx:s}),e.$set(m)},i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}function io(o){let e;return{c(){e=ee(o[3])},m(t,s){W(t,e,s)},p(t,s){s&8&&ce(e,t[3])},d(t){t&&U(e)}}}function so(o){let e,t,s,f,m,_,i,n,l,u,c,p,g,w,v,r,d,h,a,S=o[2]&&Wi(),b=o[3]&&ji(o);return{c(){S&&S.c(),e=K(),t=x("div"),b&&b.c(),s=K(),f=x("form"),m=x("div"),_=x("input"),i=K(),n=x("label"),n.textContent="Username",l=K(),u=x("div"),c=x("input"),p=K(),g=x("label"),g.textContent="Password",w=K(),v=x("div"),v.innerHTML='<button type="submit" class="btn btn-primary w-100">Login</button>',D(_,"type","text"),D(_,"class","form-control"),D(_,"id","loginName"),D(_,"placeholder"," "),_.required=!0,D(_,"autocomplete","username"),D(n,"for","loginName"),D(m,"class","form-floating mb-2"),D(c,"type","password"),D(c,"class","form-control"),D(c,"id","loginPw"),D(c,"placeholder"," "),c.required=!0,D(c,"autocomplete","current-password"),D(g,"for","loginPw"),D(u,"class","form-floating mb-2"),D(v,"class","col-12"),D(f,"class","container login-form svelte-16lqpzh"),D(t,"class","container pt-5")},m(y,E){S&&S.m(y,E),W(y,e,E),W(y,t,E),b&&b.m(t,null),A(t,s),A(t,f),A(f,m),A(m,_),Je(_,o[0]),A(m,i),A(m,n),A(f,l),A(f,u),A(u,c),Je(c,o[1]),A(u,p),A(u,g),A(f,w),A(f,v),d=!0,h||(a=[_e(_,"input",o[5]),_e(_,"input",o[6]),_e(c,"input",o[7]),_e(f,"submit",Gt(o[8]))],h=!0)},p(y,[E]){y[2]?S?E&4&&N(S,1):(S=Wi(),S.c(),N(S,1),S.m(e.parentNode,e)):S&&(pe(),V(S,1,1,()=>{S=null}),me()),y[3]?b?(b.p(y,E),E&8&&N(b,1)):(b=ji(y),b.c(),N(b,1),b.m(t,s)):b&&(pe(),V(b,1,1,()=>{b=null}),me()),E&1&&_.value!==y[0]&&Je(_,y[0]),E&2&&c.value!==y[1]&&Je(c,y[1])},i(y){d||(N(S),N(b),y&&Ae(()=>{d&&(r||(r=Fe(f,Ie,{},!0)),r.run(1))}),d=!0)},o(y){V(S),V(b),y&&(r||(r=Fe(f,Ie,{},!1)),r.run(0)),d=!1},d(y){S&&S.d(y),y&&U(e),y&&U(t),b&&b.d(),y&&r&&r.end(),h=!1,ze(a)}}}function ro(o,e,t){let{username:s="admin"}=e,f="123456",m=!1,_="";const i=nr();Ne(()=>{ae.register("login",({username:g})=>{i("login",{username:g})},g=>{t(2,m=!1),Ce.add({text:g,type:"error"})})}),Qe(()=>{ae.unregister("login")});async function n(){t(2,m=!0),ae.send("login",{username:s,password:f}),t(3,_=""),t(1,f="")}function l(){s=this.value,t(0,s)}const u=()=>{t(0,s=s.toLowerCase().trim())};function c(){f=this.value,t(1,f)}const p=()=>n();return o.$$set=g=>{"username"in g&&t(0,s=g.username)},[s,f,m,_,n,l,u,c,p]}class no extends Me{constructor(e){super(),Be(this,e,ro,so,Te,{username:0})}}function Et(o,e=0){return Math.round(o*10**e)/10**e}function He(o){const e=["","Ki","Mi","Gi","Ti"];let t=0;for(;o>=1024;)o/=1024,t++;const s=Math.max(Math.floor(Math.log10(Math.floor(o))),0);return Et(o,2-s)+" "+e[t]+"B"}function Ke(o){return new Date(o).toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function oo(o,e){var t;if((t=window==null?void 0:window.navigator)!=null&&t.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(o,e);else{const s=document.createElement("a");document.body.appendChild(s);const f=window.URL.createObjectURL(o);s.href=f,s.download=e,s.click(),setTimeout(()=>{window.URL.revokeObjectURL(f),document.body.removeChild(s)},0)}}function Vi(o,e,t){const s=o.slice();return s[15]=e[t][0],s[16]=e[t][1],s}function Ki(o,e,t){const s=o.slice();return s[15]=e[t][0],s[16]=e[t][1],s}function qi(o,e,t){const s=o.slice();return s[21]=e[t],s}function lo(o){var yi,ki,Ei;let e,t,s,f,m,_,i,n,l,u,c,p,g=o[1].id.substring(0,12)+"",w,v,r,d,h=o[1].name.replace(/^\//,"")+"",a,S,b,y,E,C,k,R=o[1].command+"",T,O,I,q,z,G,L,M,B,H,j,Y,le,J,ie,$,P,F,X,Z,de,te,be,we,Se,ve,Ze,fi,tt,Rt,di,Pe,ct,it,Dt,ui,At=Ke(o[1].created_at)+"",Zt,_i,ht,ft,Tt,Bt=o[1].crashes+"",Yt,pi,mi,dt,ut,vi,_t,pt,gi,mt,vt,bi,Mt,xt=o[1].status.charAt(0).toUpperCase()+o[1].status.slice(1).toLowerCase()+"",Jt,Qt,gt,Ue;s=new ue({props:{icon:mr,size:"2x"}});let ke=o[0]&&Gi(o);E=new ue({props:{icon:bn}}),z=new ue({props:{icon:fn,size:"2x"}});let Oe=((yi=o[1].image)==null?void 0:yi.hash)!==((Ei=(ki=o[1])==null?void 0:ki.image)==null?void 0:Ei.name)&&Yi(o);function Si(Q,fe){return fe&32&&(J=null),fe&32&&(ie=null),J==null&&(J=!Q[5].includes("/")),J?So:(ie==null&&(ie=!!Q[5].match(/^\w+\/\w+$/)),ie?bo:go)}let Ot=Si(o,-1),We=Ot(o);F=new ue({props:{icon:Sn}});let Ee=o[1].cpu&&Ji(o),Le=o[1].mem&&Qi(o),Re=o[1].net&&ns(o);Ze=new ue({props:{icon:En,size:"2x"}});function Ci(Q,fe){return Q[1].finished_at<Q[1].started_at?wo:Co}let It=Ci(o),je=It(o);function wi(Q,fe){return Q[1].finished_at>Q[1].started_at?Lo:Eo}let Pt=wi(o),Ve=Pt(o),De=(o[1].env||o[1].labels)&&as(o);return{c(){e=x("div"),t=x("div"),oe(s.$$.fragment),f=K(),m=x("div"),_=x("div"),i=x("div"),n=x("div"),l=x("span"),l.textContent="Container",u=K(),c=x("span"),p=ee("#"),w=ee(g),v=K(),r=x("div"),d=x("h6"),a=ee(h),S=K(),ke&&ke.c(),b=K(),y=x("div"),oe(E.$$.fragment),C=K(),k=x("code"),T=ee(R),O=K(),I=x("div"),q=x("div"),oe(z.$$.fragment),G=K(),L=x("div"),M=x("div"),B=x("span"),B.textContent="Image",H=K(),Oe&&Oe.c(),j=K(),Y=x("div"),le=x("h6"),We.c(),$=K(),P=x("span"),oe(F.$$.fragment),X=K(),Z=ee(o[4]),de=K(),Ee&&Ee.c(),te=K(),Le&&Le.c(),be=K(),Re&&Re.c(),we=K(),Se=x("div"),ve=x("div"),oe(Ze.$$.fragment),fi=K(),tt=x("div"),Rt=x("div"),Rt.textContent="Timeline",di=K(),Pe=x("div"),ct=x("div"),it=x("div"),Dt=x("div"),Dt.textContent="Created",ui=K(),Zt=ee(At),_i=K(),ht=x("div"),ft=x("div"),Tt=x("div"),Yt=ee(Bt),pi=ee(`
                            Crashes`),mi=K(),dt=x("div"),ut=x("div"),je.c(),vi=K(),_t=x("div"),pt=x("div"),Ve.c(),gi=K(),mt=x("div"),vt=x("div"),bi=ee(`Currently
                            `),Mt=x("div"),Jt=ee(xt),Qt=K(),De&&De.c(),gt=qe(),D(t,"class","icon-left ms-1 me-3 svelte-djo6mi"),D(l,"class","me-2"),D(c,"class","text-muted font-monospace"),D(n,"class","mb-1"),D(i,"class","flex-grow-1"),D(_,"class","flex-grow-1 d-flex align-items-center justify-content-between"),D(m,"class","d-flex flex-column flex-grow-1"),D(e,"class","d-flex mb-3"),D(q,"class","icon-left ms-1 me-3 svelte-djo6mi"),D(B,"class","me-2"),D(M,"class","mb-1"),D(P,"class","ms-1"),D(L,"class","flex-grow-1"),D(I,"class","d-flex mb-3"),D(ve,"class","icon-left ms-1 me-3 svelte-djo6mi"),D(Rt,"class","mb-1"),D(Dt,"class","fw-bold"),D(it,"class","popup svelte-djo6mi"),D(ct,"class","tl-container svelte-djo6mi"),ge(ct,"margin-left","5%"),D(Tt,"class","fw-bold"),D(ft,"class","popup svelte-djo6mi"),D(ht,"class","tl-container svelte-djo6mi"),ge(ht,"margin-left","27%"),D(ut,"class","popup svelte-djo6mi"),D(dt,"class","tl-container svelte-djo6mi"),ge(dt,"margin-left","49%"),D(pt,"class","popup svelte-djo6mi"),D(_t,"class","tl-container svelte-djo6mi"),ge(_t,"margin-left","71%"),D(Mt,"class","fw-bold"),D(vt,"class","popup svelte-djo6mi"),D(mt,"class","tl-container svelte-djo6mi"),ge(mt,"margin-left","93%"),D(Pe,"class","timeline mt-2 svelte-djo6mi"),D(tt,"class","flex-grow-1 pb-5 mb-5"),D(Se,"class","d-flex mb-3")},m(Q,fe){W(Q,e,fe),A(e,t),re(s,t,null),A(e,f),A(e,m),A(m,_),A(_,i),A(i,n),A(n,l),A(n,u),A(n,c),A(c,p),A(c,w),A(i,v),A(i,r),A(r,d),A(d,a),A(_,S),ke&&ke.m(_,null),A(m,b),A(m,y),re(E,y,null),A(y,C),A(y,k),A(k,T),W(Q,O,fe),W(Q,I,fe),A(I,q),re(z,q,null),A(I,G),A(I,L),A(L,M),A(M,B),A(M,H),Oe&&Oe.m(M,null),A(L,j),A(L,Y),A(Y,le),We.m(le,null),A(le,$),A(le,P),re(F,P,null),A(P,X),A(P,Z),W(Q,de,fe),Ee&&Ee.m(Q,fe),W(Q,te,fe),Le&&Le.m(Q,fe),W(Q,be,fe),Re&&Re.m(Q,fe),W(Q,we,fe),W(Q,Se,fe),A(Se,ve),re(Ze,ve,null),A(Se,fi),A(Se,tt),A(tt,Rt),A(tt,di),A(tt,Pe),A(Pe,ct),A(ct,it),A(it,Dt),A(it,ui),A(it,Zt),A(Pe,_i),A(Pe,ht),A(ht,ft),A(ft,Tt),A(Tt,Yt),A(ft,pi),A(Pe,mi),A(Pe,dt),A(dt,ut),je.m(ut,null),A(Pe,vi),A(Pe,_t),A(_t,pt),Ve.m(pt,null),A(Pe,gi),A(Pe,mt),A(mt,vt),A(vt,bi),A(vt,Mt),A(Mt,Jt),W(Q,Qt,fe),De&&De.m(Q,fe),W(Q,gt,fe),Ue=!0},p(Q,fe){var Li,Ri,Di;(!Ue||fe&2)&&g!==(g=Q[1].id.substring(0,12)+"")&&ce(w,g),(!Ue||fe&2)&&h!==(h=Q[1].name.replace(/^\//,"")+"")&&ce(a,h),Q[0]?ke?(ke.p(Q,fe),fe&1&&N(ke,1)):(ke=Gi(Q),ke.c(),N(ke,1),ke.m(_,null)):ke&&(pe(),V(ke,1,1,()=>{ke=null}),me()),(!Ue||fe&2)&&R!==(R=Q[1].command+"")&&ce(T,R),((Li=Q[1].image)==null?void 0:Li.hash)!==((Di=(Ri=Q[1])==null?void 0:Ri.image)==null?void 0:Di.name)?Oe?Oe.p(Q,fe):(Oe=Yi(Q),Oe.c(),Oe.m(M,null)):Oe&&(Oe.d(1),Oe=null),Ot===(Ot=Si(Q,fe))&&We?We.p(Q,fe):(We.d(1),We=Ot(Q),We&&(We.c(),We.m(le,$))),(!Ue||fe&16)&&ce(Z,Q[4]),Q[1].cpu?Ee?(Ee.p(Q,fe),fe&2&&N(Ee,1)):(Ee=Ji(Q),Ee.c(),N(Ee,1),Ee.m(te.parentNode,te)):Ee&&(pe(),V(Ee,1,1,()=>{Ee=null}),me()),Q[1].mem?Le?(Le.p(Q,fe),fe&2&&N(Le,1)):(Le=Qi(Q),Le.c(),N(Le,1),Le.m(be.parentNode,be)):Le&&(pe(),V(Le,1,1,()=>{Le=null}),me()),Q[1].net?Re?(Re.p(Q,fe),fe&2&&N(Re,1)):(Re=ns(Q),Re.c(),N(Re,1),Re.m(we.parentNode,we)):Re&&(pe(),V(Re,1,1,()=>{Re=null}),me()),(!Ue||fe&2)&&At!==(At=Ke(Q[1].created_at)+"")&&ce(Zt,At),(!Ue||fe&2)&&Bt!==(Bt=Q[1].crashes+"")&&ce(Yt,Bt),It===(It=Ci(Q))&&je?je.p(Q,fe):(je.d(1),je=It(Q),je&&(je.c(),je.m(ut,null))),Pt===(Pt=wi(Q))&&Ve?Ve.p(Q,fe):(Ve.d(1),Ve=Pt(Q),Ve&&(Ve.c(),Ve.m(pt,null))),(!Ue||fe&2)&&xt!==(xt=Q[1].status.charAt(0).toUpperCase()+Q[1].status.slice(1).toLowerCase()+"")&&ce(Jt,xt),Q[1].env||Q[1].labels?De?(De.p(Q,fe),fe&2&&N(De,1)):(De=as(Q),De.c(),N(De,1),De.m(gt.parentNode,gt)):De&&(pe(),V(De,1,1,()=>{De=null}),me())},i(Q){Ue||(N(s.$$.fragment,Q),N(ke),N(E.$$.fragment,Q),N(z.$$.fragment,Q),N(F.$$.fragment,Q),N(Ee),N(Le),N(Re),N(Ze.$$.fragment,Q),N(De),Ue=!0)},o(Q){V(s.$$.fragment,Q),V(ke),V(E.$$.fragment,Q),V(z.$$.fragment,Q),V(F.$$.fragment,Q),V(Ee),V(Le),V(Re),V(Ze.$$.fragment,Q),V(De),Ue=!1},d(Q){Q&&U(e),ne(s),ke&&ke.d(),ne(E),Q&&U(O),Q&&U(I),ne(z),Oe&&Oe.d(),We.d(),ne(F),Q&&U(de),Ee&&Ee.d(Q),Q&&U(te),Le&&Le.d(Q),Q&&U(be),Re&&Re.d(Q),Q&&U(we),Q&&U(Se),ne(Ze),je.d(),Ve.d(),Q&&U(Qt),De&&De.d(Q),Q&&U(gt)}}}function ao(o){let e;return{c(){e=x("div"),e.innerHTML=`<strong>Loading...</strong> 
            <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div>`,D(e,"class","d-flex align-items-center")},m(t,s){W(t,e,s)},p:se,i:se,o:se,d(t){t&&U(e)}}}function Gi(o){let e,t,s,f;const m=[ho,co],_=[];function i(n,l){return n[1].status==="running"?0:!n[3]||n[3]==="start"?1:-1}return~(t=i(o))&&(s=_[t]=m[t](o)),{c(){e=x("div"),s&&s.c(),D(e,"class","ms-4")},m(n,l){W(n,e,l),~t&&_[t].m(e,null),f=!0},p(n,l){let u=t;t=i(n),t===u?~t&&_[t].p(n,l):(s&&(pe(),V(_[u],1,1,()=>{_[u]=null}),me()),~t?(s=_[t],s?s.p(n,l):(s=_[t]=m[t](n),s.c()),N(s,1),s.m(e,null)):s=null)},i(n){f||(N(s),f=!0)},o(n){V(s),f=!1},d(n){n&&U(e),~t&&_[t].d()}}}function co(o){let e,t,s,f,m,_,i,n;const l=[uo,fo],u=[];function c(p,g){return p[3]?1:0}return t=c(o),s=u[t]=l[t](o),{c(){e=x("button"),s.c(),f=ee(`
                                        Start`),D(e,"type","button"),D(e,"class","btn btn-outline-success"),e.disabled=m=!!o[3]},m(p,g){W(p,e,g),u[t].m(e,null),A(e,f),_=!0,i||(n=_e(e,"click",o[12]),i=!0)},p(p,g){let w=t;t=c(p),t===w?u[t].p(p,g):(pe(),V(u[w],1,1,()=>{u[w]=null}),me(),s=u[t],s?s.p(p,g):(s=u[t]=l[t](p),s.c()),N(s,1),s.m(e,f)),(!_||g&8&&m!==(m=!!p[3]))&&(e.disabled=m)},i(p){_||(N(s),_=!0)},o(p){V(s),_=!1},d(p){p&&U(e),u[t].d(),i=!1,n()}}}function ho(o){let e,t,s,f=(!o[3]||o[3]==="restart")&&Xi(o),m=(!o[3]||o[3]==="stop")&&Zi(o);return{c(){f&&f.c(),e=K(),m&&m.c(),t=qe()},m(_,i){f&&f.m(_,i),W(_,e,i),m&&m.m(_,i),W(_,t,i),s=!0},p(_,i){!_[3]||_[3]==="restart"?f?(f.p(_,i),i&8&&N(f,1)):(f=Xi(_),f.c(),N(f,1),f.m(e.parentNode,e)):f&&(pe(),V(f,1,1,()=>{f=null}),me()),!_[3]||_[3]==="stop"?m?(m.p(_,i),i&8&&N(m,1)):(m=Zi(_),m.c(),N(m,1),m.m(t.parentNode,t)):m&&(pe(),V(m,1,1,()=>{m=null}),me())},i(_){s||(N(f),N(m),s=!0)},o(_){V(f),V(m),s=!1},d(_){f&&f.d(_),_&&U(e),m&&m.d(_),_&&U(t)}}}function fo(o){let e;return{c(){e=x("span"),D(e,"class","spinner-grow spinner-grow-sm"),D(e,"role","status"),D(e,"aria-hidden","true")},m(t,s){W(t,e,s)},p:se,i:se,o:se,d(t){t&&U(e)}}}function uo(o){let e,t;return e=new ue({props:{icon:Mn}}),{c(){oe(e.$$.fragment)},m(s,f){re(e,s,f),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}function Xi(o){let e,t,s,f,m,_,i,n;const l=[po,_o],u=[];function c(p,g){return p[3]?1:0}return t=c(o),s=u[t]=l[t](o),{c(){e=x("button"),s.c(),f=ee(`
                                        Restart`),D(e,"type","button"),D(e,"class","btn btn-outline-warning"),e.disabled=m=!!o[3]},m(p,g){W(p,e,g),u[t].m(e,null),A(e,f),_=!0,i||(n=_e(e,"click",o[10]),i=!0)},p(p,g){let w=t;t=c(p),t===w?u[t].p(p,g):(pe(),V(u[w],1,1,()=>{u[w]=null}),me(),s=u[t],s?s.p(p,g):(s=u[t]=l[t](p),s.c()),N(s,1),s.m(e,f)),(!_||g&8&&m!==(m=!!p[3]))&&(e.disabled=m)},i(p){_||(N(s),_=!0)},o(p){V(s),_=!1},d(p){p&&U(e),u[t].d(),i=!1,n()}}}function _o(o){let e;return{c(){e=x("span"),D(e,"class","spinner-grow spinner-grow-sm"),D(e,"role","status"),D(e,"aria-hidden","true")},m(t,s){W(t,e,s)},p:se,i:se,o:se,d(t){t&&U(e)}}}function po(o){let e,t;return e=new ue({props:{icon:vr}}),{c(){oe(e.$$.fragment)},m(s,f){re(e,s,f),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}function Zi(o){let e,t,s,f,m,_,i,n;const l=[vo,mo],u=[];function c(p,g){return p[3]?1:0}return t=c(o),s=u[t]=l[t](o),{c(){e=x("button"),s.c(),f=ee(`
                                        Stop`),D(e,"type","button"),D(e,"class","btn btn-outline-danger"),e.disabled=m=!!o[3]},m(p,g){W(p,e,g),u[t].m(e,null),A(e,f),_=!0,i||(n=_e(e,"click",o[11]),i=!0)},p(p,g){let w=t;t=c(p),t===w?u[t].p(p,g):(pe(),V(u[w],1,1,()=>{u[w]=null}),me(),s=u[t],s?s.p(p,g):(s=u[t]=l[t](p),s.c()),N(s,1),s.m(e,f)),(!_||g&8&&m!==(m=!!p[3]))&&(e.disabled=m)},i(p){_||(N(s),_=!0)},o(p){V(s),_=!1},d(p){p&&U(e),u[t].d(),i=!1,n()}}}function mo(o){let e;return{c(){e=x("span"),D(e,"class","spinner-grow spinner-grow-sm"),D(e,"role","status"),D(e,"aria-hidden","true")},m(t,s){W(t,e,s)},p:se,i:se,o:se,d(t){t&&U(e)}}}function vo(o){let e,t;return e=new ue({props:{icon:An}}),{c(){oe(e.$$.fragment)},m(s,f){re(e,s,f),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}function Yi(o){let e,t=o[1].image.hash.substring(0,19)+"",s;return{c(){e=x("span"),s=ee(t),D(e,"class","text-muted font-monospace")},m(f,m){W(f,e,m),A(e,s)},p(f,m){m&2&&t!==(t=f[1].image.hash.substring(0,12+7)+"")&&ce(s,t)},d(f){f&&U(e)}}}function go(o){let e;return{c(){e=ee(o[5])},m(t,s){W(t,e,s)},p(t,s){s&32&&ce(e,t[5])},d(t){t&&U(e)}}}function bo(o){let e,t,s;return{c(){e=x("a"),t=ee(o[5]),D(e,"href",s="https://hub.docker.com/r/"+o[5]),D(e,"target","_blank"),D(e,"rel","noopener noreferrer"),D(e,"class","text-decoration-none")},m(f,m){W(f,e,m),A(e,t)},p(f,m){m&32&&ce(t,f[5]),m&32&&s!==(s="https://hub.docker.com/r/"+f[5])&&D(e,"href",s)},d(f){f&&U(e)}}}function So(o){let e,t,s;return{c(){e=x("a"),t=ee(o[5]),D(e,"href",s="https://hub.docker.com/_/"+o[5]),D(e,"target","_blank"),D(e,"rel","noopener noreferrer"),D(e,"class","text-decoration-none")},m(f,m){W(f,e,m),A(e,t)},p(f,m){m&32&&ce(t,f[5]),m&32&&s!==(s="https://hub.docker.com/_/"+f[5])&&D(e,"href",s)},d(f){f&&U(e)}}}function Ji(o){let e,t,s,f,m,_,i,n,l,u=Et(o[1].cpu.perc)+"",c,p,g;return s=new ue({props:{icon:pr,size:"2x"}}),{c(){e=x("div"),t=x("div"),oe(s.$$.fragment),f=K(),m=x("div"),_=x("div"),_.textContent="Processor",i=K(),n=x("div"),l=x("div"),c=ee(u),p=ee("%"),D(t,"class","icon-left ms-1 me-3 svelte-djo6mi"),D(_,"class","mb-1"),D(l,"class","progress-bar text-white overflow-visible ps-1"),ge(l,"width",o[1].cpu.perc+"%"),D(n,"class","progress"),D(m,"class","flex-grow-1"),D(e,"class","d-flex mb-3")},m(w,v){W(w,e,v),A(e,t),re(s,t,null),A(e,f),A(e,m),A(m,_),A(m,i),A(m,n),A(n,l),A(l,c),A(l,p),g=!0},p(w,v){(!g||v&2)&&u!==(u=Et(w[1].cpu.perc)+"")&&ce(c,u),(!g||v&2)&&ge(l,"width",w[1].cpu.perc+"%")},i(w){g||(N(s.$$.fragment,w),g=!0)},o(w){V(s.$$.fragment,w),g=!1},d(w){w&&U(e),ne(s)}}}function Qi(o){let e,t,s,f,m,_,i,n,l,u,c,p;s=new ue({props:{icon:ur,size:"2x"}});let g=o[1].mem.used!==null&&es(o),w=o[1].mem.max_used!==null&&ts(o),v=o[1].mem.total!==null&&is(o),r=o[1].mem.used!==null&&o[1].mem.total!==null&&ss(o);return{c(){e=x("div"),t=x("div"),oe(s.$$.fragment),f=K(),m=x("div"),_=x("div"),i=x("span"),i.textContent="Memory",n=K(),g&&g.c(),l=K(),w&&w.c(),u=K(),v&&v.c(),c=K(),r&&r.c(),D(t,"class","icon-left ms-1 me-3 svelte-djo6mi"),D(i,"class","me-2"),D(_,"class","mb-1"),D(m,"class","flex-grow-1"),D(e,"class","d-flex mb-3")},m(d,h){W(d,e,h),A(e,t),re(s,t,null),A(e,f),A(e,m),A(m,_),A(_,i),A(_,n),g&&g.m(_,null),A(_,l),w&&w.m(_,null),A(_,u),v&&v.m(_,null),A(m,c),r&&r.m(m,null),p=!0},p(d,h){d[1].mem.used!==null?g?g.p(d,h):(g=es(d),g.c(),g.m(_,l)):g&&(g.d(1),g=null),d[1].mem.max_used!==null?w?w.p(d,h):(w=ts(d),w.c(),w.m(_,u)):w&&(w.d(1),w=null),d[1].mem.total!==null?v?v.p(d,h):(v=is(d),v.c(),v.m(_,null)):v&&(v.d(1),v=null),d[1].mem.used!==null&&d[1].mem.total!==null?r?r.p(d,h):(r=ss(d),r.c(),r.m(m,null)):r&&(r.d(1),r=null)},i(d){p||(N(s.$$.fragment,d),p=!0)},o(d){V(s.$$.fragment,d),p=!1},d(d){d&&U(e),ne(s),g&&g.d(),w&&w.d(),v&&v.d(),r&&r.d()}}}function es(o){let e,t,s=He(o[1].mem.used)+"",f;return{c(){e=x("span"),t=ee("Now "),f=ee(s),D(e,"class","badge rounded-pill bg-primary ms-2")},m(m,_){W(m,e,_),A(e,t),A(e,f)},p(m,_){_&2&&s!==(s=He(m[1].mem.used)+"")&&ce(f,s)},d(m){m&&U(e)}}}function ts(o){let e,t,s=He(o[1].mem.max_used)+"",f;return{c(){e=x("span"),t=ee("Max "),f=ee(s),D(e,"class","badge rounded-pill bg-warning ms-2")},m(m,_){W(m,e,_),A(e,t),A(e,f)},p(m,_){_&2&&s!==(s=He(m[1].mem.max_used)+"")&&ce(f,s)},d(m){m&&U(e)}}}function is(o){let e,t,s=He(o[1].mem.total)+"",f;return{c(){e=x("span"),t=ee("Limit "),f=ee(s),D(e,"class","badge rounded-pill bg-info ms-2")},m(m,_){W(m,e,_),A(e,t),A(e,f)},p(m,_){_&2&&s!==(s=He(m[1].mem.total)+"")&&ce(f,s)},d(m){m&&U(e)}}}function ss(o){let e,t,s=Et(o[7])+"",f,m,_,i=o[1].mem.max_used!==null&&rs(o);return{c(){e=x("div"),t=x("div"),f=ee(s),m=ee("%"),_=K(),i&&i.c(),D(t,"class","progress-bar text-white overflow-visible ps-1"),ge(t,"width",o[7]+"%"),ge(t,"z-index","2"),D(e,"class","progress")},m(n,l){W(n,e,l),A(e,t),A(t,f),A(t,m),A(e,_),i&&i.m(e,null)},p(n,l){l&128&&s!==(s=Et(n[7])+"")&&ce(f,s),l&128&&ge(t,"width",n[7]+"%"),n[1].mem.max_used!==null?i?i.p(n,l):(i=rs(n),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(n){n&&U(e),i&&i.d()}}}function rs(o){let e;return{c(){e=x("div"),D(e,"class","progress-bar progress-bar-striped bg-warning"),ge(e,"width",o[6]-o[7]+"%")},m(t,s){W(t,e,s)},p(t,s){s&192&&ge(e,"width",t[6]-t[7]+"%")},d(t){t&&U(e)}}}function ns(o){var S;let e,t,s,f,m,_,i,n,l,u=He(o[1].net.rx_bytes)+"",c,p,g,w,v=He(o[1].net.tx_bytes)+"",r,d,h;s=new ue({props:{icon:Ln,size:"2x"}});let a=((S=o[1].ports)==null?void 0:S.length)>0&&os(o);return{c(){e=x("div"),t=x("div"),oe(s.$$.fragment),f=K(),m=x("div"),_=x("div"),_.textContent="Network",i=K(),n=x("span"),l=ee(" "),c=ee(u),p=K(),g=x("span"),w=ee(" "),r=ee(v),d=K(),a&&a.c(),D(t,"class","icon-left ms-1 me-3 svelte-djo6mi"),D(_,"class","mb-1"),D(n,"title","Received Traffic"),D(n,"class","me-3"),D(g,"title","Sent Traffic"),D(m,"class","me-5"),D(e,"class","d-flex mb-3")},m(b,y){W(b,e,y),A(e,t),re(s,t,null),A(e,f),A(e,m),A(m,_),A(m,i),A(m,n),A(n,l),A(n,c),A(m,p),A(m,g),A(g,w),A(g,r),A(e,d),a&&a.m(e,null),h=!0},p(b,y){var E;(!h||y&2)&&u!==(u=He(b[1].net.rx_bytes)+"")&&ce(c,u),(!h||y&2)&&v!==(v=He(b[1].net.tx_bytes)+"")&&ce(r,v),((E=b[1].ports)==null?void 0:E.length)>0?a?a.p(b,y):(a=os(b),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(b){h||(N(s.$$.fragment,b),h=!0)},o(b){V(s.$$.fragment,b),h=!1},d(b){b&&U(e),ne(s),a&&a.d()}}}function os(o){let e,t,s,f=o[1].ports,m=[];for(let _=0;_<f.length;_+=1)m[_]=ls(qi(o,f,_));return{c(){e=x("div"),t=x("div"),t.textContent="Ports",s=K();for(let _=0;_<m.length;_+=1)m[_].c();D(t,"class","mb-1"),D(e,"class","flex-grow-1")},m(_,i){W(_,e,i),A(e,t),A(e,s);for(let n=0;n<m.length;n+=1)m[n]&&m[n].m(e,null)},p(_,i){if(i&2){f=_[1].ports;let n;for(n=0;n<f.length;n+=1){const l=qi(_,f,n);m[n]?m[n].p(l,i):(m[n]=ls(l),m[n].c(),m[n].m(e,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=f.length}},d(_){_&&U(e),$e(m,_)}}}function ls(o){let e,t=o[21]+"",s;return{c(){e=x("span"),s=ee(t),D(e,"class","badge bg-dark me-2")},m(f,m){W(f,e,m),A(e,s)},p(f,m){m&2&&t!==(t=f[21]+"")&&ce(s,t)},d(f){f&&U(e)}}}function Co(o){let e,t,s=Ke(o[1].started_at)+"",f;return{c(){e=x("div"),e.textContent="Started",t=K(),f=ee(s),D(e,"class","fw-bold")},m(m,_){W(m,e,_),W(m,t,_),W(m,f,_)},p(m,_){_&2&&s!==(s=Ke(m[1].started_at)+"")&&ce(f,s)},d(m){m&&U(e),m&&U(t),m&&U(f)}}}function wo(o){let e,t,s;function f(i,n){return i[1].finished_at<i[1].created_at?ko:yo}let m=f(o),_=m(o);return{c(){e=x("div"),e.textContent="Stopped",t=K(),_.c(),s=qe(),D(e,"class","fw-bold")},m(i,n){W(i,e,n),W(i,t,n),_.m(i,n),W(i,s,n)},p(i,n){m===(m=f(i))&&_?_.p(i,n):(_.d(1),_=m(i),_&&(_.c(),_.m(s.parentNode,s)))},d(i){i&&U(e),i&&U(t),_.d(i),i&&U(s)}}}function yo(o){let e=Ke(o[1].finished_at)+"",t;return{c(){t=ee(e)},m(s,f){W(s,t,f)},p(s,f){f&2&&e!==(e=Ke(s[1].finished_at)+"")&&ce(t,e)},d(s){s&&U(t)}}}function ko(o){let e;return{c(){e=ee("Never")},m(t,s){W(t,e,s)},p:se,d(t){t&&U(e)}}}function Eo(o){let e,t,s=Ke(o[1].started_at)+"",f;return{c(){e=x("div"),e.textContent="Started",t=K(),f=ee(s),D(e,"class","fw-bold")},m(m,_){W(m,e,_),W(m,t,_),W(m,f,_)},p(m,_){_&2&&s!==(s=Ke(m[1].started_at)+"")&&ce(f,s)},d(m){m&&U(e),m&&U(t),m&&U(f)}}}function Lo(o){let e,t,s=Ke(o[1].finished_at)+"",f;return{c(){e=x("div"),e.textContent="Stopped",t=K(),f=ee(s),D(e,"class","fw-bold")},m(m,_){W(m,e,_),W(m,t,_),W(m,f,_)},p(m,_){_&2&&s!==(s=Ke(m[1].finished_at)+"")&&ce(f,s)},d(m){m&&U(e),m&&U(t),m&&U(f)}}}function as(o){let e,t,s,f,m,_,i,n,l,u,c,p,g,w,v,r,d;s=new ue({props:{icon:gn,size:"2x"}});let h=Object.entries(o[1].env).sort(fs),a=[];for(let y=0;y<h.length;y+=1)a[y]=cs(Ki(o,h,y));let S=Object.entries(o[1].labels).sort(ds),b=[];for(let y=0;y<S.length;y+=1)b[y]=hs(Vi(o,S,y));return{c(){e=x("div"),t=x("div"),oe(s.$$.fragment),f=K(),m=x("div"),_=x("div"),i=x("table"),n=x("thead"),n.innerHTML='<tr><th scope="col" colspan="2" style="font-weight: normal">Environment Variables</th></tr>',l=K(),u=x("tbody");for(let y=0;y<a.length;y+=1)a[y].c();c=K(),p=x("div"),g=x("table"),w=x("thead"),w.innerHTML='<tr><th scope="col" colspan="2" style="font-weight: normal">Labels</th></tr>',v=K(),r=x("tbody");for(let y=0;y<b.length;y+=1)b[y].c();D(t,"class","icon-left ms-1 me-3 svelte-djo6mi"),D(i,"class","table table-striped border"),D(g,"class","table table-striped border"),D(m,"class","flex-grow-1 d-lg-flex"),ge(m,"font-size","small"),D(e,"class","d-flex mb-3")},m(y,E){W(y,e,E),A(e,t),re(s,t,null),A(e,f),A(e,m),A(m,_),A(_,i),A(i,n),A(i,l),A(i,u);for(let C=0;C<a.length;C+=1)a[C]&&a[C].m(u,null);A(m,c),A(m,p),A(p,g),A(g,w),A(g,v),A(g,r);for(let C=0;C<b.length;C+=1)b[C]&&b[C].m(r,null);d=!0},p(y,E){if(E&2){h=Object.entries(y[1].env).sort(fs);let C;for(C=0;C<h.length;C+=1){const k=Ki(y,h,C);a[C]?a[C].p(k,E):(a[C]=cs(k),a[C].c(),a[C].m(u,null))}for(;C<a.length;C+=1)a[C].d(1);a.length=h.length}if(E&2){S=Object.entries(y[1].labels).sort(ds);let C;for(C=0;C<S.length;C+=1){const k=Vi(y,S,C);b[C]?b[C].p(k,E):(b[C]=hs(k),b[C].c(),b[C].m(r,null))}for(;C<b.length;C+=1)b[C].d(1);b.length=S.length}},i(y){d||(N(s.$$.fragment,y),d=!0)},o(y){V(s.$$.fragment,y),d=!1},d(y){y&&U(e),ne(s),$e(a,y),$e(b,y)}}}function cs(o){let e,t,s=o[15]+"",f,m,_,i=o[16]+"",n,l;return{c(){e=x("tr"),t=x("td"),f=ee(s),m=K(),_=x("td"),n=ee(i),l=K(),D(t,"class","text-end border-end text-break"),D(_,"class","text-break")},m(u,c){W(u,e,c),A(e,t),A(t,f),A(e,m),A(e,_),A(_,n),A(e,l)},p(u,c){c&2&&s!==(s=u[15]+"")&&ce(f,s),c&2&&i!==(i=u[16]+"")&&ce(n,i)},d(u){u&&U(e)}}}function hs(o){let e,t,s=o[15]+"",f,m,_,i=o[16]+"",n,l;return{c(){e=x("tr"),t=x("td"),f=ee(s),m=K(),_=x("td"),n=ee(i),l=K(),D(t,"class","text-end border-end text-break"),D(_,"class","text-break")},m(u,c){W(u,e,c),A(e,t),A(t,f),A(e,m),A(e,_),A(_,n),A(e,l)},p(u,c){c&2&&s!==(s=u[15]+"")&&ce(f,s),c&2&&i!==(i=u[16]+"")&&ce(n,i)},d(u){u&&U(e)}}}function Ro(o){let e,t,s,f;const m=[ao,lo],_=[];function i(n,l){return n[2]?0:1}return t=i(o),s=_[t]=m[t](o),{c(){e=x("div"),s.c()},m(n,l){W(n,e,l),_[t].m(e,null),f=!0},p(n,[l]){let u=t;t=i(n),t===u?_[t].p(n,l):(pe(),V(_[u],1,1,()=>{_[u]=null}),me(),s=_[t],s?s.p(n,l):(s=_[t]=m[t](n),s.c()),N(s,1),s.m(e,null))},i(n){f||(N(s),f=!0)},o(n){V(s),f=!1},d(n){n&&U(e),_[t].d()}}}const fs=([o],[e])=>o.localeCompare(e),ds=([o],[e])=>o.localeCompare(e);function Do(o,e,t){let s,f,m,_,{enable_actions:i}=e,{container_id:n}=e,l,u,c=!0,p=null,g;Lt(()=>{n!==l&&(l=n,t(2,c=!0),t(3,p=null),n&&ae.send("get_container_info",{container_id:n}))}),Ne(()=>{window.scrollTo({top:0,behavior:"smooth"}),ae.register("get_container_info",h=>{h.id===n&&(t(1,g=h),t(2,c=!1))},h=>Ce.add({text:h,type:"error"})),ae.register("set_container_state",()=>{t(3,p=null)},h=>Ce.add({text:h,type:"error"})),u=setInterval(()=>{ae.send("get_container_info",{container_id:n})},3e3)}),Qe(()=>{clearInterval(u),ae.unregister("get_container_info"),ae.unregister("set_container_state")});function w(h){switch(ae.send("set_container_state",{container_id:n,action:h}),t(3,p=h),h){case"start":Ce.add({text:"Starting container ...",type:"success"});break;case"restart":Ce.add({text:"Restarting container ...",type:"info"});break;case"stop":Ce.add({text:"Stopping container ...",type:"info"});break}}const v=()=>w("restart"),r=()=>w("stop"),d=()=>w("start");return o.$$set=h=>{"enable_actions"in h&&t(0,i=h.enable_actions),"container_id"in h&&t(9,n=h.container_id)},o.$$.update=()=>{var h,a,S,b;o.$$.dirty&2&&t(7,s=((h=g==null?void 0:g.mem)==null?void 0:h.used)*100/((a=g==null?void 0:g.mem)==null?void 0:a.total)),o.$$.dirty&2&&t(6,f=((S=g==null?void 0:g.mem)==null?void 0:S.max_used)*100/((b=g==null?void 0:g.mem)==null?void 0:b.total)),o.$$.dirty&2&&t(5,m=g!=null&&g.image.name.includes(":")?g==null?void 0:g.image.name.slice(0,g==null?void 0:g.image.name.lastIndexOf(":")):g==null?void 0:g.image.name),o.$$.dirty&2&&t(4,_=g!=null&&g.image.name.includes(":")?g==null?void 0:g.image.name.split(":").pop():"latest")},[i,g,c,p,_,m,f,s,w,n,v,r,d]}class Ao extends Me{constructor(e){super(),Be(this,e,Do,Ro,Te,{enable_actions:0,container_id:9})}}function To({onlyFirst:o=!1}={}){const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,o?void 0:"g")}const Bo=To();function Mo(o){if(typeof o!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof o}\``);return o.replace(Bo,"")}function us(o,e,t){const s=o.slice();s[12]=e[t];const f=s[12].substring(0,s[12].indexOf(" "));s[13]=f;const m=s[12].substring(s[12].indexOf(" ")+1);return s[14]=m,s}function xo(o){let e,t,s,f,m,_,i,n,l,u,c,p,g,w,v,r,d,h,a,S,b;u=new ue({props:{icon:pn,size:"lg",color:"#666"}}),g=new ue({props:{icon:cn,size:"lg",color:"#666"}}),r=new ue({props:{icon:_r,size:"lg",color:"#666"}});let y=o[2],E=[];for(let C=0;C<y.length;C+=1)E[C]=ps(us(o,y,C));return{c(){e=x("div"),t=x("div"),s=x("select"),f=x("option"),f.textContent="hide timestamps",m=x("option"),m.textContent="local timestamps",_=x("option"),_.textContent="raw timestamps",i=K(),n=x("div"),l=x("button"),oe(u.$$.fragment),c=K(),p=x("button"),oe(g.$$.fragment),w=K(),v=x("button"),oe(r.$$.fragment),d=K(),h=x("pre");for(let C=0;C<E.length;C+=1)E[C].c();f.__value="off",f.value=f.__value,m.__value="local",m.value=m.__value,_.__value="raw",_.value=_.__value,D(s,"class","form-select"),o[3]===void 0&&Ae(()=>o[6].call(s)),D(l,"type","button"),D(l,"class","btn mx-1"),D(l,"title","Scroll to Top"),D(p,"type","button"),D(p,"class","btn mx-1"),D(p,"title","Scroll to Bottom"),D(v,"type","button"),D(v,"class","btn mx-1"),D(v,"title","Fullscreen"),D(e,"class","d-flex justify-content-between align-items-center mb-2"),D(h,"class","mb-0 svelte-1k30cnf")},m(C,k){W(C,e,k),A(e,t),A(t,s),A(s,f),A(s,m),A(s,_),Ti(s,o[3],!0),A(e,i),A(e,n),A(n,l),re(u,l,null),A(n,c),A(n,p),re(g,p,null),A(n,w),A(n,v),re(r,v,null),W(C,d,k),W(C,h,k);for(let R=0;R<E.length;R+=1)E[R]&&E[R].m(h,null);o[9](h),a=!0,S||(b=[_e(s,"change",o[6]),_e(l,"click",o[7]),_e(p,"click",o[8]),_e(v,"click",o[4])],S=!0)},p(C,k){if(k&8&&Ti(s,C[3]),k&12){y=C[2];let R;for(R=0;R<y.length;R+=1){const T=us(C,y,R);E[R]?E[R].p(T,k):(E[R]=ps(T),E[R].c(),E[R].m(h,null))}for(;R<E.length;R+=1)E[R].d(1);E.length=y.length}},i(C){a||(N(u.$$.fragment,C),N(g.$$.fragment,C),N(r.$$.fragment,C),a=!0)},o(C){V(u.$$.fragment,C),V(g.$$.fragment,C),V(r.$$.fragment,C),a=!1},d(C){C&&U(e),ne(u),ne(g),ne(r),C&&U(d),C&&U(h),$e(E,C),o[9](null),S=!1,ze(b)}}}function Oo(o){let e;return{c(){e=x("p"),e.textContent="No Log Output yet ..."},m(t,s){W(t,e,s)},p:se,i:se,o:se,d(t){t&&U(e)}}}function Io(o){let e;return{c(){e=x("div"),e.innerHTML=`<strong>Loading...</strong> 
            <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div>`,D(e,"class","d-flex align-items-center")},m(t,s){W(t,e,s)},p:se,i:se,o:se,d(t){t&&U(e)}}}function _s(o){let e,t;function s(_,i){return _[3]==="local"?Ho:Po}let f=s(o),m=f(o);return{c(){e=x("time"),m.c(),D(e,"datetime",t=o[13]),D(e,"class","me-1 px-1 svelte-1k30cnf")},m(_,i){W(_,e,i),m.m(e,null)},p(_,i){f===(f=s(_))&&m?m.p(_,i):(m.d(1),m=f(_),m&&(m.c(),m.m(e,null))),i&4&&t!==(t=_[13])&&D(e,"datetime",t)},d(_){_&&U(e),m.d()}}}function Po(o){let e=o[13]+"",t;return{c(){t=ee(e)},m(s,f){W(s,t,f)},p(s,f){f&4&&e!==(e=s[13]+"")&&ce(t,e)},d(s){s&&U(t)}}}function Ho(o){let e=ms(o[13])+"",t;return{c(){t=ee(e)},m(s,f){W(s,t,f)},p(s,f){f&4&&e!==(e=ms(s[13])+"")&&ce(t,e)},d(s){s&&U(t)}}}function ps(o){let e,t,s=o[14]+"",f,m=o[3]!=="off"&&_s(o);return{c(){e=x("span"),m&&m.c(),t=x("span"),f=ee(s),D(t,"class","pe-3"),D(e,"class","pe-3 svelte-1k30cnf")},m(_,i){W(_,e,i),m&&m.m(e,null),A(e,t),A(t,f)},p(_,i){_[3]!=="off"?m?m.p(_,i):(m=_s(_),m.c(),m.m(e,t)):m&&(m.d(1),m=null),i&4&&s!==(s=_[14]+"")&&ce(f,s)},d(_){_&&U(e),m&&m.d()}}}function $o(o){let e,t,s,f;const m=[Io,Oo,xo],_=[];function i(n,l){return n[1]?0:n[2].length===0?1:2}return t=i(o),s=_[t]=m[t](o),{c(){e=x("div"),s.c()},m(n,l){W(n,e,l),_[t].m(e,null),f=!0},p(n,[l]){let u=t;t=i(n),t===u?_[t].p(n,l):(pe(),V(_[u],1,1,()=>{_[u]=null}),me(),s=_[t],s?s.p(n,l):(s=_[t]=m[t](n),s.c()),N(s,1),s.m(e,null))},i(n){f||(N(s),f=!0)},o(n){V(s),f=!1},d(n){n&&U(e),_[t].d()}}}function ms(o){return new Date(o).toLocaleDateString(void 0,{weekday:"short",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function Fo(o,e,t){let{container_id:s}=e,f,m,_,i=!0,n=[],l="local";Lt(()=>{s!==f&&(f=s,t(1,i=!0),t(2,n=[]),s&&ae.send("get_container_logs",{container_id:s}))}),Ne(()=>{ae.register("get_container_logs",v=>{if(t(1,i=!1),(v==null?void 0:v.length)>0){let r=!n||m&&m.scrollTop>=m.scrollHeight-m.clientHeight;const d=n.length+v.length;d>5e3&&n.slice(d-5e3),n.push(...v.map(h=>Mo(h))),r&&ar().then(()=>t(0,m.scrollTop=m.scrollHeight,m))}},v=>Ce.add({text:v,type:"error"})),_=setInterval(()=>{ae.send("get_container_logs",{container_id:s,onlynew:!0})},3e3)}),Qe(()=>{clearInterval(_),ae.unregister("get_container_logs")});function u(){m!=null&&m.requestFullscreen&&m.requestFullscreen({navigationUI:"show"})}function c(){l=xr(this),t(3,l)}const p=()=>t(0,m.scrollTop=0,m),g=()=>t(0,m.scrollTop=m.scrollHeight,m);function w(v){et[v?"unshift":"push"](()=>{m=v,t(0,m)})}return o.$$set=v=>{"container_id"in v&&t(5,s=v.container_id)},[m,i,n,l,u,s,c,p,g,w]}class zo extends Me{constructor(e){super(),Be(this,e,Fo,$o,Te,{container_id:5})}}const No=o=>({}),vs=o=>({});function Uo(o){let e,t;return e=new ue({props:{icon:kn}}),{c(){oe(e.$$.fragment)},m(s,f){re(e,s,f),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}function Wo(o){let e,t,s,f,m,_;const i=o[2].button,n=zt(i,o,o[1],vs),l=n||Uo(),u=o[2].default,c=zt(u,o,o[1],null);return{c(){e=x("div"),t=x("button"),l&&l.c(),f=K(),m=x("ul"),c&&c.c(),D(t,"class",s="btn btn-"+o[0]+" dropdown-toggle svelte-1ogcpxv"),D(t,"type","button"),D(m,"class","dropdown-menu svelte-1ogcpxv"),D(e,"class","dropdown")},m(p,g){W(p,e,g),A(e,t),l&&l.m(t,null),A(e,f),A(e,m),c&&c.m(m,null),_=!0},p(p,[g]){n&&n.p&&(!_||g&2)&&Ut(n,i,p,p[1],_?Nt(i,p[1],g,No):Wt(p[1]),vs),(!_||g&1&&s!==(s="btn btn-"+p[0]+" dropdown-toggle svelte-1ogcpxv"))&&D(t,"class",s),c&&c.p&&(!_||g&2)&&Ut(c,u,p,p[1],_?Nt(u,p[1],g,null):Wt(p[1]),null)},i(p){_||(N(l,p),N(c,p),_=!0)},o(p){V(l,p),V(c,p),_=!1},d(p){p&&U(e),l&&l.d(p),c&&c.d(p)}}}function jo(o,e,t){let{$$slots:s={},$$scope:f}=e,{btnClass:m="secondary"}=e;return o.$$set=_=>{"btnClass"in _&&t(0,m=_.btnClass),"$$scope"in _&&t(1,f=_.$$scope)},[m,f,s]}class br extends Me{constructor(e){super(),Be(this,e,jo,Wo,Te,{btnClass:0})}}function Vo(o){let e,t,s,f,m;const _=o[2].default,i=zt(_,o,o[1],null);return{c(){e=x("li"),t=x("button"),i&&i.c(),D(t,"class","dropdown-item"),D(t,"type","button"),he(t,"active",o[0])},m(n,l){W(n,e,l),A(e,t),i&&i.m(t,null),s=!0,f||(m=_e(t,"click",o[3]),f=!0)},p(n,[l]){i&&i.p&&(!s||l&2)&&Ut(i,_,n,n[1],s?Nt(_,n[1],l,null):Wt(n[1]),null),(!s||l&1)&&he(t,"active",n[0])},i(n){s||(N(i,n),s=!0)},o(n){V(i,n),s=!1},d(n){n&&U(e),i&&i.d(n),f=!1,m()}}}function Ko(o,e,t){let{$$slots:s={},$$scope:f}=e,{active:m=!1}=e;function _(i){Hr.call(this,o,i)}return o.$$set=i=>{"active"in i&&t(0,m=i.active),"$$scope"in i&&t(1,f=i.$$scope)},[m,f,s,_]}class ai extends Me{constructor(e){super(),Be(this,e,Ko,Vo,Te,{active:0})}}function gs(o,e,t){const s=o.slice();return s[22]=e[t],s}function bs(o,e,t){const s=o.slice();return s[25]=e[t],s}function Ss(o,e,t){const s=o.slice();return s[28]=e[t],s}function qo(o){var I,q;let e,t,s,f,m,_,i,n,l,u,c,p,g,w,v,r,d,h,a,S,b;m=new ue({props:{icon:Dn}}),n=new ue({props:{icon:vr}});let y=o[7](),E=[];for(let z=0;z<y.length;z+=1)E[z]=Cs(Ss(o,y,z));let C=o[1]&&ws(o),k=((q=(I=o[6])==null?void 0:I.mounts)==null?void 0:q.length)>0&&ys(o),R=o[5]||[],T=[];for(let z=0;z<R.length;z+=1)T[z]=Rs(gs(o,R,z));const O=z=>V(T[z],1,1,()=>{T[z]=null});return{c(){e=x("div"),t=x("div"),s=x("div"),f=x("button"),oe(m.$$.fragment),_=K(),i=x("button"),oe(n.$$.fragment),l=K(),u=x("div");for(let z=0;z<E.length;z+=1)E[z].c();c=K(),p=x("div"),C&&C.c(),g=K(),k&&k.c(),w=K(),v=x("table"),r=x("thead"),r.innerHTML=`<tr><th scope="col">Name</th> 
                <th scope="col" class="text-end">Size</th> 
                <th scope="col" class="text-center">Owner</th> 
                <th scope="col" class="text-center">Modified</th> 
                <th scope="col" class="text-center">Permissions</th></tr>`,d=K(),h=x("tbody");for(let z=0;z<T.length;z+=1)T[z].c();D(f,"type","button"),D(f,"class","btn btn-outline-primary"),D(i,"type","button"),D(i,"class","btn btn-outline-primary"),D(s,"class","btn-group me-1"),D(u,"class","btn-group mx-2"),D(u,"role","group"),D(t,"class","d-flex"),D(p,"class","d-flex"),D(e,"class","d-flex justify-content-between align-items-center"),D(v,"class","table table-hover")},m(z,G){W(z,e,G),A(e,t),A(t,s),A(s,f),re(m,f,null),A(s,_),A(s,i),re(n,i,null),A(t,l),A(t,u);for(let L=0;L<E.length;L+=1)E[L]&&E[L].m(u,null);A(e,c),A(e,p),C&&C.m(p,null),A(p,g),k&&k.m(p,null),W(z,w,G),W(z,v,G),A(v,r),A(v,d),A(v,h);for(let L=0;L<T.length;L+=1)T[L]&&T[L].m(h,null);a=!0,S||(b=[_e(f,"click",o[14]),_e(i,"click",o[15])],S=!0)},p(z,G){var L,M;if(G[0]&640){y=z[7]();let B;for(B=0;B<y.length;B+=1){const H=Ss(z,y,B);E[B]?E[B].p(H,G):(E[B]=Cs(H),E[B].c(),E[B].m(u,null))}for(;B<E.length;B+=1)E[B].d(1);E.length=y.length}if(z[1]?C?(C.p(z,G),G[0]&2&&N(C,1)):(C=ws(z),C.c(),N(C,1),C.m(p,g)):C&&(pe(),V(C,1,1,()=>{C=null}),me()),((M=(L=z[6])==null?void 0:L.mounts)==null?void 0:M.length)>0?k?(k.p(z,G),G[0]&64&&N(k,1)):(k=ys(z),k.c(),N(k,1),k.m(p,null)):k&&(pe(),V(k,1,1,()=>{k=null}),me()),G[0]&1313){R=z[5]||[];let B;for(B=0;B<R.length;B+=1){const H=gs(z,R,B);T[B]?(T[B].p(H,G),N(T[B],1)):(T[B]=Rs(H),T[B].c(),N(T[B],1),T[B].m(h,null))}for(pe(),B=R.length;B<T.length;B+=1)O(B);me()}},i(z){if(!a){N(m.$$.fragment,z),N(n.$$.fragment,z),N(C),N(k);for(let G=0;G<R.length;G+=1)N(T[G]);a=!0}},o(z){V(m.$$.fragment,z),V(n.$$.fragment,z),V(C),V(k),T=T.filter(Boolean);for(let G=0;G<T.length;G+=1)V(T[G]);a=!1},d(z){z&&U(e),ne(m),ne(n),$e(E,z),C&&C.d(),k&&k.d(),z&&U(w),z&&U(v),$e(T,z),S=!1,ze(b)}}}function Go(o){let e;return{c(){e=x("div"),e.innerHTML=`<strong>Loading...</strong> 
            <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div>`,D(e,"class","d-flex align-items-center")},m(t,s){W(t,e,s)},p:se,i:se,o:se,d(t){t&&U(e)}}}function Cs(o){let e,t=(o[28].segment||"/")+"",s,f,m;function _(){return o[16](o[28])}return{c(){e=x("button"),s=ee(t),D(e,"type","button"),D(e,"class","btn btn-secondary border-dark")},m(i,n){W(i,e,n),A(e,s),f||(m=_e(e,"click",_),f=!0)},p(i,n){o=i,n[0]&128&&t!==(t=(o[28].segment||"/")+"")&&ce(s,t)},d(i){i&&U(e),f=!1,m()}}}function ws(o){let e,t,s,f,m,_;return e=new br({props:{btnClass:"outline-primary",$$slots:{button:[Jo],default:[Yo]},$$scope:{ctx:o}}}),{c(){oe(e.$$.fragment),t=K(),s=x("input"),D(s,"type","file"),ge(s,"display","none")},m(i,n){re(e,i,n),W(i,t,n),W(i,s,n),o[18](s),f=!0,m||(_=_e(s,"change",o[12]),m=!0)},p(i,n){const l={};n[0]&8|n[1]&1&&(l.$$scope={dirty:n,ctx:i}),e.$set(l)},i(i){f||(N(e.$$.fragment,i),f=!0)},o(i){V(e.$$.fragment,i),f=!1},d(i){ne(e,i),i&&U(t),i&&U(s),o[18](null),m=!1,_()}}}function Xo(o){let e;return{c(){e=ee("Add Folder")},m(t,s){W(t,e,s)},d(t){t&&U(e)}}}function Zo(o){let e;return{c(){e=ee("Upload File")},m(t,s){W(t,e,s)},d(t){t&&U(e)}}}function Yo(o){let e,t,s,f;return e=new ai({props:{$$slots:{default:[Xo]},$$scope:{ctx:o}}}),e.$on("click",o[11]),s=new ai({props:{$$slots:{default:[Zo]},$$scope:{ctx:o}}}),s.$on("click",o[17]),{c(){oe(e.$$.fragment),t=K(),oe(s.$$.fragment)},m(m,_){re(e,m,_),W(m,t,_),re(s,m,_),f=!0},p(m,_){const i={};_[1]&1&&(i.$$scope={dirty:_,ctx:m}),e.$set(i);const n={};_[1]&1&&(n.$$scope={dirty:_,ctx:m}),s.$set(n)},i(m){f||(N(e.$$.fragment,m),N(s.$$.fragment,m),f=!0)},o(m){V(e.$$.fragment,m),V(s.$$.fragment,m),f=!1},d(m){ne(e,m),m&&U(t),ne(s,m)}}}function Jo(o){let e,t,s,f;return t=new ue({props:{icon:xn}}),{c(){e=x("span"),oe(t.$$.fragment),s=ee(" Add"),D(e,"slot","button"),D(e,"class","me-1")},m(m,_){W(m,e,_),re(t,e,null),A(e,s),f=!0},p:se,i(m){f||(N(t.$$.fragment,m),f=!0)},o(m){V(t.$$.fragment,m),f=!1},d(m){m&&U(e),ne(t)}}}function ys(o){let e,t,s;return t=new br({props:{$$slots:{button:[tl],default:[el]},$$scope:{ctx:o}}}),{c(){e=x("div"),oe(t.$$.fragment),D(e,"class","ms-4")},m(f,m){W(f,e,m),re(t,e,null),s=!0},p(f,m){const _={};m[0]&64|m[1]&1&&(_.$$scope={dirty:m,ctx:f}),t.$set(_)},i(f){s||(N(t.$$.fragment,f),s=!0)},o(f){V(t.$$.fragment,f),s=!1},d(f){f&&U(e),ne(t)}}}function ks(o){let e;return{c(){e=x("span"),e.textContent="readonly",D(e,"class","badge bg-warning ms-2")},m(t,s){W(t,e,s)},d(t){t&&U(e)}}}function Qo(o){let e,t,s=o[25].destination+"",f,m,_,i,n,l=o[25].type+"",u,c,p=o[25].readonly&&ks();return{c(){e=x("div"),t=x("span"),f=ee(s),m=K(),_=x("span"),p&&p.c(),i=K(),n=x("span"),u=ee(l),c=K(),D(n,"class","badge bg-secondary ms-2"),D(e,"class","d-flex justify-content-between align-items-center")},m(g,w){W(g,e,w),A(e,t),A(t,f),A(e,m),A(e,_),p&&p.m(_,null),A(_,i),A(_,n),A(n,u),W(g,c,w)},p(g,w){w[0]&64&&s!==(s=g[25].destination+"")&&ce(f,s),g[25].readonly?p||(p=ks(),p.c(),p.m(_,i)):p&&(p.d(1),p=null),w[0]&64&&l!==(l=g[25].type+"")&&ce(u,l)},d(g){g&&U(e),p&&p.d(),g&&U(c)}}}function Es(o){let e,t;function s(){return o[19](o[25])}return e=new ai({props:{$$slots:{default:[Qo]},$$scope:{ctx:o}}}),e.$on("click",s),{c(){oe(e.$$.fragment)},m(f,m){re(e,f,m),t=!0},p(f,m){o=f;const _={};m[0]&64|m[1]&1&&(_.$$scope={dirty:m,ctx:o}),e.$set(_)},i(f){t||(N(e.$$.fragment,f),t=!0)},o(f){V(e.$$.fragment,f),t=!1},d(f){ne(e,f)}}}function el(o){let e,t,s=o[6].mounts,f=[];for(let _=0;_<s.length;_+=1)f[_]=Es(bs(o,s,_));const m=_=>V(f[_],1,1,()=>{f[_]=null});return{c(){for(let _=0;_<f.length;_+=1)f[_].c();e=qe()},m(_,i){for(let n=0;n<f.length;n+=1)f[n]&&f[n].m(_,i);W(_,e,i),t=!0},p(_,i){if(i[0]&576){s=_[6].mounts;let n;for(n=0;n<s.length;n+=1){const l=bs(_,s,n);f[n]?(f[n].p(l,i),N(f[n],1)):(f[n]=Es(l),f[n].c(),N(f[n],1),f[n].m(e.parentNode,e))}for(pe(),n=s.length;n<f.length;n+=1)m(n);me()}},i(_){if(!t){for(let i=0;i<s.length;i+=1)N(f[i]);t=!0}},o(_){f=f.filter(Boolean);for(let i=0;i<f.length;i+=1)V(f[i]);t=!1},d(_){$e(f,_),_&&U(e)}}}function tl(o){let e,t,s,f;return t=new ue({props:{icon:wn}}),{c(){e=x("span"),oe(t.$$.fragment),s=ee(" Volumes"),D(e,"slot","button"),D(e,"class","me-1")},m(m,_){W(m,e,_),re(t,e,null),A(e,s),f=!0},p:se,i(m){f||(N(t.$$.fragment,m),f=!0)},o(m){V(t.$$.fragment,m),f=!1},d(m){m&&U(e),ne(t)}}}function il(o){let e=o[22].type+"",t;return{c(){t=ee(e)},m(s,f){W(s,t,f)},p(s,f){f[0]&32&&e!==(e=s[22].type+"")&&ce(t,e)},i:se,o:se,d(s){s&&U(t)}}}function sl(o){let e,t;return e=new ue({props:{icon:ln,size:"lg",color:"#B36"}}),{c(){oe(e.$$.fragment)},m(s,f){re(e,s,f),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}function rl(o){let e,t;return e=new ue({props:{icon:Bn,size:"lg",color:"#36B"}}),{c(){oe(e.$$.fragment)},m(s,f){re(e,s,f),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}function nl(o){let e,t;return e=new ue({props:{icon:hn,size:"lg",color:"#3B6"}}),{c(){oe(e.$$.fragment)},m(s,f){re(e,s,f),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}function Ls(o){let e=o[22].filesize+"",t;return{c(){t=ee(e)},m(s,f){W(s,t,f)},p(s,f){f[0]&32&&e!==(e=s[22].filesize+"")&&ce(t,e)},d(s){s&&U(t)}}}function Rs(o){let e,t,s,f,m,_,i,n=o[22].name+"",l,u,c,p,g,w=o[22].owner+"",v,r,d,h=o[22].group+"",a,S,b,y=o[22].modtime+"",E,C,k,R=o[22].permissions+"",T,O,I,q,z;const G=[nl,rl,sl,il],L=[];function M(j,Y){return j[22].type==="d"?0:j[22].type==="f"?1:j[22].type==="l"?2:3}s=M(o),f=L[s]=G[s](o);let B=o[22].type==="f"&&Ls(o);function H(){return o[20](o[22])}return{c(){e=x("tr"),t=x("td"),f.c(),m=K(),_=x("wbr"),i=K(),l=ee(n),u=K(),c=x("td"),B&&B.c(),p=K(),g=x("td"),v=ee(w),r=K(),d=x("wbr"),a=ee(h),S=K(),b=x("td"),E=ee(y),C=K(),k=x("td"),T=ee(R),O=K(),D(c,"class","text-end"),ge(c,"word-break","break-all"),D(g,"class","text-center"),D(b,"class","text-center"),D(k,"class","text-center font-monospace"),ge(k,"word-break","break-all"),D(e,"class","svelte-s66s5j"),he(e,"clickable",o[22].type==="d"||o[0])},m(j,Y){W(j,e,Y),A(e,t),L[s].m(t,null),A(t,m),A(t,_),A(t,i),A(t,l),A(e,u),A(e,c),B&&B.m(c,null),A(e,p),A(e,g),A(g,v),A(g,r),A(g,d),A(g,a),A(e,S),A(e,b),A(b,E),A(e,C),A(e,k),A(k,T),A(e,O),I=!0,q||(z=_e(e,"click",H),q=!0)},p(j,Y){o=j;let le=s;s=M(o),s===le?L[s].p(o,Y):(pe(),V(L[le],1,1,()=>{L[le]=null}),me(),f=L[s],f?f.p(o,Y):(f=L[s]=G[s](o),f.c()),N(f,1),f.m(t,m)),(!I||Y[0]&32)&&n!==(n=o[22].name+"")&&ce(l,n),o[22].type==="f"?B?B.p(o,Y):(B=Ls(o),B.c(),B.m(c,null)):B&&(B.d(1),B=null),(!I||Y[0]&32)&&w!==(w=o[22].owner+"")&&ce(v,w),(!I||Y[0]&32)&&h!==(h=o[22].group+"")&&ce(a,h),(!I||Y[0]&32)&&y!==(y=o[22].modtime+"")&&ce(E,y),(!I||Y[0]&32)&&R!==(R=o[22].permissions+"")&&ce(T,R),(!I||Y[0]&33)&&he(e,"clickable",o[22].type==="d"||o[0])},i(j){I||(N(f),I=!0)},o(j){V(f),I=!1},d(j){j&&U(e),L[s].d(),B&&B.d(),q=!1,z()}}}function ol(o){let e,t,s,f;const m=[Go,qo],_=[];function i(n,l){return n[4]?0:1}return t=i(o),s=_[t]=m[t](o),{c(){e=x("div"),s.c(),ge(e,"overflow-x","auto")},m(n,l){W(n,e,l),_[t].m(e,null),f=!0},p(n,l){let u=t;t=i(n),t===u?_[t].p(n,l):(pe(),V(_[u],1,1,()=>{_[u]=null}),me(),s=_[t],s?s.p(n,l):(s=_[t]=m[t](n),s.c()),N(s,1),s.m(e,null))},i(n){f||(N(s),f=!0)},o(n){V(s),f=!1},d(n){n&&U(e),_[t].d()}}}function ll(o,e,t){let s,{container_id:f}=e,{allow_download:m}=e,{allow_upload:_}=e,i,n=!0,l,u="/",c=null,p=null;Lt(()=>{f!==l&&(l=f,t(4,n=!0),t(2,u="/"),t(5,c=null),t(6,p=null),f&&ae.send("get_filesystem_info",{container_id:f}))}),Ne(()=>{ae.register("get_filesystem_info",k=>{w(k.workdir),t(6,p=k)},k=>Ce.add({text:k,type:"error"})),ae.register("get_directory_list",k=>{window.scrollTo({top:0,behavior:"smooth"}),t(5,c=k.entries),t(2,u=k.path),t(4,n=!1)},k=>{Ce.add({text:k,type:"error"}),t(5,c=null),t(4,n=!1)}),ae.register("download_file",k=>{oo(k.blob,k.payload.path.split("/").pop())},k=>Ce.add({text:k,type:"error"})),ae.register("create_folder",()=>{w(u)},k=>Ce.add({text:k,type:"error"})),ae.register("upload_file",()=>{w(u)},k=>Ce.add({text:k,type:"error"}))}),Qe(()=>{ae.unregister("get_filesystem_info"),ae.unregister("get_directory_list"),ae.unregister("create_folder"),ae.unregister("upload_file"),ae.unregister("download_file")});function g(k){let R=u;R.endsWith("/")||(R+="/"),R+=k,w(R)}function w(k){t(2,u=k),ae.send("get_directory_list",{container_id:f,path:k}),t(4,n=!0),t(5,c=null)}function v(k){m&&ae.send("download_file",{container_id:f,path:`${u}/${k}`})}function r(){const k=prompt("Folder name:");k&&ae.send("create_folder",{container_id:f,path:`${u}/${k}`})}async function d(){const k=T=>new Promise((O,I)=>{const q=new FileReader;q.readAsDataURL(T),q.onload=()=>O(q.result.split(",")[1]),q.onerror=z=>I(z)}),R=i.files[0];confirm(`Upload file "${R.name}"?`)&&ae.send("upload_file",{container_id:f,path:`${u}/${R.name}`,content:await k(R)})}const h=()=>w(p.workdir),a=()=>w(u),S=k=>w(k.totalPath),b=()=>i.click();function y(k){et[k?"unshift":"push"](()=>{i=k,t(3,i)})}const E=k=>w(k.destination),C=k=>k.type==="d"?g(k.name):v(k.name);return o.$$set=k=>{"container_id"in k&&t(13,f=k.container_id),"allow_download"in k&&t(0,m=k.allow_download),"allow_upload"in k&&t(1,_=k.allow_upload)},o.$$.update=()=>{o.$$.dirty[0]&4&&t(7,s=()=>{const k=[],R=u.split("/");let T="";for(const O of R)O&&(T+="/"+O,k.push({segment:O,totalPath:T}));return k.unshift({segment:"/",totalPath:"/"}),k})},[m,_,u,i,n,c,p,s,g,w,v,r,d,f,h,a,S,b,y,E,C]}class al extends Me{constructor(e){super(),Be(this,e,ll,ol,Te,{container_id:13,allow_download:0,allow_upload:1},null,[-1,-1])}}function Ds(o,e,t){const s=o.slice();return s[7]=e[t],s}function As(o,e,t){const s=o.slice();return s[10]=e[t],s[12]=t,s}function cl(o){let e,t,s,f,m,_=o[1]||[],i=[];for(let l=0;l<_.length;l+=1)i[l]=Os(Ds(o,_,l));const n=l=>V(i[l],1,1,()=>{i[l]=null});return{c(){e=x("table"),t=x("thead"),t.innerHTML=`<tr><th scope="col" class="text-end" title="Process ID">PID</th> 
                <th scope="col" class="text-end" title="Processor Usage">CPU</th> 
                <th scope="col" class="text-end">Memory</th> 
                <th scope="col" class="text-center">Started At</th> 
                <th scope="col" class="text-center">User</th> 
                <th scope="col" class="text-start">Command</th></tr>`,s=K(),f=x("tbody");for(let l=0;l<i.length;l+=1)i[l].c();D(e,"class","table table-striped")},m(l,u){W(l,e,u),A(e,t),A(e,s),A(e,f);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(f,null);m=!0},p(l,u){if(u&2){_=l[1]||[];let c;for(c=0;c<_.length;c+=1){const p=Ds(l,_,c);i[c]?(i[c].p(p,u),N(i[c],1)):(i[c]=Os(p),i[c].c(),N(i[c],1),i[c].m(f,null))}for(pe(),c=_.length;c<i.length;c+=1)n(c);me()}},i(l){if(!m){for(let u=0;u<_.length;u+=1)N(i[u]);m=!0}},o(l){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)V(i[u]);m=!1},d(l){l&&U(e),$e(i,l)}}}function hl(o){let e;return{c(){e=x("div"),e.innerHTML=`<strong>Loading...</strong> 
            <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div>`,D(e,"class","d-flex align-items-center")},m(t,s){W(t,e,s)},p:se,i:se,o:se,d(t){t&&U(e)}}}function Ts(o){let e=o[7]["%cpu"]+"",t,s;return{c(){t=ee(e),s=ee("%")},m(f,m){W(f,t,m),W(f,s,m)},p(f,m){m&2&&e!==(e=f[7]["%cpu"]+"")&&ce(t,e)},d(f){f&&U(t),f&&U(s)}}}function Bs(o){let e=o[7]["%mem"]+"",t,s;return{c(){t=ee(e),s=ee("%")},m(f,m){W(f,t,m),W(f,s,m)},p(f,m){m&2&&e!==(e=f[7]["%mem"]+"")&&ce(t,e)},d(f){f&&U(t),f&&U(s)}}}function Ms(o){let e,t;return e=new ue({props:{icon:$n,rotate:90}}),{c(){oe(e.$$.fragment)},m(s,f){re(e,s,f),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}function xs(o){let e,t,s=o[7].level===o[12]+1&&Ms();return{c(){e=x("div"),s&&s.c(),ge(e,"width","2rem"),D(e,"class","me-2 d-flex justify-content-end align-items-center")},m(f,m){W(f,e,m),s&&s.m(e,null),t=!0},p(f,m){f[7].level===f[12]+1?s?(s.p(f,m),m&2&&N(s,1)):(s=Ms(),s.c(),N(s,1),s.m(e,null)):s&&(pe(),V(s,1,1,()=>{s=null}),me())},i(f){t||(N(s),t=!0)},o(f){V(s),t=!1},d(f){f&&U(e),s&&s.d()}}}function Os(o){let e,t,s=o[7].pid+"",f,m,_,i=Ye(o[7]["%cpu"],null),n,l,u=Ye(o[7]["%mem"],null),c,p,g=Ye(o[7].stime,"")+"",w,v,r,d=Ye(o[7].user,"")+"",h,a,S,b,y,E,C=o[7].command+"",k,R,T,O=i&&Ts(o),I=u&&Bs(o),q=Array(o[7].level),z=[];for(let L=0;L<q.length;L+=1)z[L]=xs(As(o,q,L));const G=L=>V(z[L],1,1,()=>{z[L]=null});return{c(){e=x("tr"),t=x("td"),f=ee(s),m=K(),_=x("td"),O&&O.c(),n=K(),l=x("td"),I&&I.c(),c=K(),p=x("td"),w=ee(g),v=K(),r=x("td"),h=ee(d),a=K(),S=x("td"),b=x("div");for(let L=0;L<z.length;L+=1)z[L].c();y=K(),E=x("div"),k=ee(C),R=K(),D(t,"class","text-end"),D(_,"class","text-end"),D(l,"class","text-end"),D(p,"class","text-center"),D(r,"class","text-center"),D(E,"class","font-monospace"),D(b,"class","d-flex"),D(S,"class","text-start")},m(L,M){W(L,e,M),A(e,t),A(t,f),A(e,m),A(e,_),O&&O.m(_,null),A(e,n),A(e,l),I&&I.m(l,null),A(e,c),A(e,p),A(p,w),A(e,v),A(e,r),A(r,h),A(e,a),A(e,S),A(S,b);for(let B=0;B<z.length;B+=1)z[B]&&z[B].m(b,null);A(b,y),A(b,E),A(E,k),A(e,R),T=!0},p(L,M){if((!T||M&2)&&s!==(s=L[7].pid+"")&&ce(f,s),M&2&&(i=Ye(L[7]["%cpu"],null)),i?O?O.p(L,M):(O=Ts(L),O.c(),O.m(_,null)):O&&(O.d(1),O=null),M&2&&(u=Ye(L[7]["%mem"],null)),u?I?I.p(L,M):(I=Bs(L),I.c(),I.m(l,null)):I&&(I.d(1),I=null),(!T||M&2)&&g!==(g=Ye(L[7].stime,"")+"")&&ce(w,g),(!T||M&2)&&d!==(d=Ye(L[7].user,"")+"")&&ce(h,d),M&2){q=Array(L[7].level);let B;for(B=0;B<q.length;B+=1){const H=As(L,q,B);z[B]?(z[B].p(H,M),N(z[B],1)):(z[B]=xs(H),z[B].c(),N(z[B],1),z[B].m(b,y))}for(pe(),B=q.length;B<z.length;B+=1)G(B);me()}(!T||M&2)&&C!==(C=L[7].command+"")&&ce(k,C)},i(L){if(!T){for(let M=0;M<q.length;M+=1)N(z[M]);T=!0}},o(L){z=z.filter(Boolean);for(let M=0;M<z.length;M+=1)V(z[M]);T=!1},d(L){L&&U(e),O&&O.d(),I&&I.d(),$e(z,L)}}}function fl(o){let e,t,s,f;const m=[hl,cl],_=[];function i(n,l){return n[0]?0:1}return t=i(o),s=_[t]=m[t](o),{c(){e=x("div"),s.c(),ge(e,"overflow-x","auto")},m(n,l){W(n,e,l),_[t].m(e,null),f=!0},p(n,[l]){let u=t;t=i(n),t===u?_[t].p(n,l):(pe(),V(_[u],1,1,()=>{_[u]=null}),me(),s=_[t],s?s.p(n,l):(s=_[t]=m[t](n),s.c()),N(s,1),s.m(e,null))},i(n){f||(N(s),f=!0)},o(n){V(s),f=!1},d(n){n&&U(e),_[t].d()}}}function Ye(o,e){return o??e}function dl(o,e,t){let{container_id:s}=e,f,m,_=!0,i=null;return Lt(()=>{s!==f&&(f=s,t(0,_=!0),t(1,i=null),s&&ae.send("get_processes",{container_id:s}))}),Ne(()=>{ae.register("get_processes",n=>{t(1,i=n),t(0,_=!1)},n=>Ce.add({text:n,type:"error"})),m=setInterval(()=>{ae.send("get_processes",{container_id:s})},3e3)}),Qe(()=>{clearInterval(m),ae.unregister("get_processes")}),o.$$set=n=>{"container_id"in n&&t(2,s=n.container_id)},[_,i,s]}class ul extends Me{constructor(e){super(),Be(this,e,dl,fl,Te,{container_id:2})}}var Sr={exports:{}};(function(o,e){(function(t,s){o.exports=s()})(self,()=>(()=>{var t={4567:function(_,i,n){var l=this&&this.__decorate||function(a,S,b,y){var E,C=arguments.length,k=C<3?S:y===null?y=Object.getOwnPropertyDescriptor(S,b):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(a,S,b,y);else for(var R=a.length-1;R>=0;R--)(E=a[R])&&(k=(C<3?E(k):C>3?E(S,b,k):E(S,b))||k);return C>3&&k&&Object.defineProperty(S,b,k),k},u=this&&this.__param||function(a,S){return function(b,y){S(b,y,a)}};Object.defineProperty(i,"__esModule",{value:!0}),i.AccessibilityManager=void 0;const c=n(9042),p=n(6114),g=n(9924),w=n(844),v=n(5596),r=n(4725),d=n(3656);let h=class extends w.Disposable{constructor(a,S){super(),this._terminal=a,this._renderService=S,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let b=0;b<this._terminal.rows;b++)this._rowElements[b]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[b]);if(this._topBoundaryFocusListener=b=>this._handleBoundaryFocus(b,0),this._bottomBoundaryFocusListener=b=>this._handleBoundaryFocus(b,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new g.TimeBasedDebouncer(this._announceCharacters.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._liveRegionDebouncer),this.register(this._terminal.onResize(b=>this._handleResize(b.rows))),this.register(this._terminal.onRender(b=>this._refreshRows(b.start,b.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(b=>this._handleChar(b))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(b=>this._handleTab(b))),this.register(this._terminal.onKey(b=>this._handleKey(b.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new v.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,d.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,w.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(a){for(let S=0;S<a;S++)this._handleChar(" ")}_handleChar(a){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==a&&(this._charsToAnnounce+=a):this._charsToAnnounce+=a,a===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=c.tooMuchOutput)),p.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,p.isMac&&this._liveRegion.remove()}_handleKey(a){this._clearLiveRegion(),/\p{Control}/u.test(a)||this._charsToConsume.push(a)}_refreshRows(a,S){this._liveRegionDebouncer.refresh(a,S,this._terminal.rows)}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(a,S){const b=a.target,y=this._rowElements[S===0?1:this._rowElements.length-2];if(b.getAttribute("aria-posinset")===(S===0?"1":`${this._terminal.buffer.lines.length}`)||a.relatedTarget!==y)return;let E,C;if(S===0?(E=b,C=this._rowElements.pop(),this._rowContainer.removeChild(C)):(E=this._rowElements.shift(),C=b,this._rowContainer.removeChild(E)),E.removeEventListener("focus",this._topBoundaryFocusListener),C.removeEventListener("focus",this._bottomBoundaryFocusListener),S===0){const k=this._createAccessibilityTreeNode();this._rowElements.unshift(k),this._rowContainer.insertAdjacentElement("afterbegin",k)}else{const k=this._createAccessibilityTreeNode();this._rowElements.push(k),this._rowContainer.appendChild(k)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(S===0?-1:1),this._rowElements[S===0?1:this._rowElements.length-2].focus(),a.preventDefault(),a.stopImmediatePropagation()}_handleResize(a){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let S=this._rowContainer.children.length;S<this._terminal.rows;S++)this._rowElements[S]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[S]);for(;this._rowElements.length>a;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const a=document.createElement("div");return a.setAttribute("role","listitem"),a.tabIndex=-1,this._refreshRowDimensions(a),a}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let a=0;a<this._terminal.rows;a++)this._refreshRowDimensions(this._rowElements[a])}}_refreshRowDimensions(a){a.style.height=`${this._renderService.dimensions.css.cell.height}px`}};h=l([u(1,r.IRenderService)],h),i.AccessibilityManager=h},3614:(_,i)=>{function n(p){return p.replace(/\r?\n/g,"\r")}function l(p,g){return g?"\x1B[200~"+p+"\x1B[201~":p}function u(p,g,w){p=l(p=n(p),w.decPrivateModes.bracketedPasteMode),w.triggerDataEvent(p,!0),g.value=""}function c(p,g,w){const v=w.getBoundingClientRect(),r=p.clientX-v.left-10,d=p.clientY-v.top-10;g.style.width="20px",g.style.height="20px",g.style.left=`${r}px`,g.style.top=`${d}px`,g.style.zIndex="1000",g.focus()}Object.defineProperty(i,"__esModule",{value:!0}),i.rightClickHandler=i.moveTextAreaUnderMouseCursor=i.paste=i.handlePasteEvent=i.copyHandler=i.bracketTextForPaste=i.prepareTextForTerminal=void 0,i.prepareTextForTerminal=n,i.bracketTextForPaste=l,i.copyHandler=function(p,g){p.clipboardData&&p.clipboardData.setData("text/plain",g.selectionText),p.preventDefault()},i.handlePasteEvent=function(p,g,w){p.stopPropagation(),p.clipboardData&&u(p.clipboardData.getData("text/plain"),g,w)},i.paste=u,i.moveTextAreaUnderMouseCursor=c,i.rightClickHandler=function(p,g,w,v,r){c(p,g,w),r&&v.rightClickSelect(p),g.value=v.selectionText,g.select()}},7239:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorContrastCache=void 0;const l=n(1505);i.ColorContrastCache=class{constructor(){this._color=new l.TwoKeyMap,this._css=new l.TwoKeyMap}setCss(u,c,p){this._css.set(u,c,p)}getCss(u,c){return this._css.get(u,c)}setColor(u,c,p){this._color.set(u,c,p)}getColor(u,c){return this._color.get(u,c)}clear(){this._color.clear(),this._css.clear()}}},3656:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.addDisposableDomListener=void 0,i.addDisposableDomListener=function(n,l,u,c){n.addEventListener(l,u,c);let p=!1;return{dispose:()=>{p||(p=!0,n.removeEventListener(l,u,c))}}}},6465:function(_,i,n){var l=this&&this.__decorate||function(r,d,h,a){var S,b=arguments.length,y=b<3?d:a===null?a=Object.getOwnPropertyDescriptor(d,h):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(r,d,h,a);else for(var E=r.length-1;E>=0;E--)(S=r[E])&&(y=(b<3?S(y):b>3?S(d,h,y):S(d,h))||y);return b>3&&y&&Object.defineProperty(d,h,y),y},u=this&&this.__param||function(r,d){return function(h,a){d(h,a,r)}};Object.defineProperty(i,"__esModule",{value:!0}),i.Linkifier2=void 0;const c=n(2585),p=n(8460),g=n(844),w=n(3656);let v=class extends g.Disposable{constructor(r){super(),this._bufferService=r,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new p.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new p.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,g.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,g.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}get currentLink(){return this._currentLink}registerLinkProvider(r){return this._linkProviders.push(r),{dispose:()=>{const d=this._linkProviders.indexOf(r);d!==-1&&this._linkProviders.splice(d,1)}}}attachToDom(r,d,h){this._element=r,this._mouseService=d,this._renderService=h,this.register((0,w.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,w.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,w.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,w.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(r){if(this._lastMouseEvent=r,!this._element||!this._mouseService)return;const d=this._positionFromMouseEvent(r,this._element,this._mouseService);if(!d)return;this._isMouseOut=!1;const h=r.composedPath();for(let a=0;a<h.length;a++){const S=h[a];if(S.classList.contains("xterm"))break;if(S.classList.contains("xterm-hover"))return}this._lastBufferCell&&d.x===this._lastBufferCell.x&&d.y===this._lastBufferCell.y||(this._handleHover(d),this._lastBufferCell=d)}_handleHover(r){if(this._activeLine!==r.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(r,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,r)||(this._clearCurrentLink(),this._askForLink(r,!0))}_askForLink(r,d){var h,a;this._activeProviderReplies&&d||((h=this._activeProviderReplies)===null||h===void 0||h.forEach(b=>{b==null||b.forEach(y=>{y.link.dispose&&y.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=r.y);let S=!1;for(const[b,y]of this._linkProviders.entries())d?!((a=this._activeProviderReplies)===null||a===void 0)&&a.get(b)&&(S=this._checkLinkProviderResult(b,r,S)):y.provideLinks(r.y,E=>{var C,k;if(this._isMouseOut)return;const R=E==null?void 0:E.map(T=>({link:T}));(C=this._activeProviderReplies)===null||C===void 0||C.set(b,R),S=this._checkLinkProviderResult(b,r,S),((k=this._activeProviderReplies)===null||k===void 0?void 0:k.size)===this._linkProviders.length&&this._removeIntersectingLinks(r.y,this._activeProviderReplies)})}_removeIntersectingLinks(r,d){const h=new Set;for(let a=0;a<d.size;a++){const S=d.get(a);if(S)for(let b=0;b<S.length;b++){const y=S[b],E=y.link.range.start.y<r?0:y.link.range.start.x,C=y.link.range.end.y>r?this._bufferService.cols:y.link.range.end.x;for(let k=E;k<=C;k++){if(h.has(k)){S.splice(b--,1);break}h.add(k)}}}}_checkLinkProviderResult(r,d,h){var a;if(!this._activeProviderReplies)return h;const S=this._activeProviderReplies.get(r);let b=!1;for(let y=0;y<r;y++)this._activeProviderReplies.has(y)&&!this._activeProviderReplies.get(y)||(b=!0);if(!b&&S){const y=S.find(E=>this._linkAtPosition(E.link,d));y&&(h=!0,this._handleNewLink(y))}if(this._activeProviderReplies.size===this._linkProviders.length&&!h)for(let y=0;y<this._activeProviderReplies.size;y++){const E=(a=this._activeProviderReplies.get(y))===null||a===void 0?void 0:a.find(C=>this._linkAtPosition(C.link,d));if(E){h=!0,this._handleNewLink(E);break}}return h}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(r){if(!this._element||!this._mouseService||!this._currentLink)return;const d=this._positionFromMouseEvent(r,this._element,this._mouseService);d&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,d)&&this._currentLink.link.activate(r,this._currentLink.link.text)}_clearCurrentLink(r,d){this._element&&this._currentLink&&this._lastMouseEvent&&(!r||!d||this._currentLink.link.range.start.y>=r&&this._currentLink.link.range.end.y<=d)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,g.disposeArray)(this._linkCacheDisposables))}_handleNewLink(r){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const d=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);d&&this._linkAtPosition(r.link,d)&&(this._currentLink=r,this._currentLink.state={decorations:{underline:r.link.decorations===void 0||r.link.decorations.underline,pointerCursor:r.link.decorations===void 0||r.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,r.link,this._lastMouseEvent),r.link.decorations={},Object.defineProperties(r.link.decorations,{pointerCursor:{get:()=>{var h,a;return(a=(h=this._currentLink)===null||h===void 0?void 0:h.state)===null||a===void 0?void 0:a.decorations.pointerCursor},set:h=>{var a,S;!((a=this._currentLink)===null||a===void 0)&&a.state&&this._currentLink.state.decorations.pointerCursor!==h&&(this._currentLink.state.decorations.pointerCursor=h,this._currentLink.state.isHovered&&((S=this._element)===null||S===void 0||S.classList.toggle("xterm-cursor-pointer",h)))}},underline:{get:()=>{var h,a;return(a=(h=this._currentLink)===null||h===void 0?void 0:h.state)===null||a===void 0?void 0:a.decorations.underline},set:h=>{var a,S,b;!((a=this._currentLink)===null||a===void 0)&&a.state&&((b=(S=this._currentLink)===null||S===void 0?void 0:S.state)===null||b===void 0?void 0:b.decorations.underline)!==h&&(this._currentLink.state.decorations.underline=h,this._currentLink.state.isHovered&&this._fireUnderlineEvent(r.link,h))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(h=>{if(!this._currentLink)return;const a=h.start===0?0:h.start+1+this._bufferService.buffer.ydisp,S=this._bufferService.buffer.ydisp+1+h.end;if(this._currentLink.link.range.start.y>=a&&this._currentLink.link.range.end.y<=S&&(this._clearCurrentLink(a,S),this._lastMouseEvent&&this._element)){const b=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);b&&this._askForLink(b,!1)}})))}_linkHover(r,d,h){var a;!((a=this._currentLink)===null||a===void 0)&&a.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(d,!0),this._currentLink.state.decorations.pointerCursor&&r.classList.add("xterm-cursor-pointer")),d.hover&&d.hover(h,d.text)}_fireUnderlineEvent(r,d){const h=r.range,a=this._bufferService.buffer.ydisp,S=this._createLinkUnderlineEvent(h.start.x-1,h.start.y-a-1,h.end.x,h.end.y-a-1,void 0);(d?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(S)}_linkLeave(r,d,h){var a;!((a=this._currentLink)===null||a===void 0)&&a.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(d,!1),this._currentLink.state.decorations.pointerCursor&&r.classList.remove("xterm-cursor-pointer")),d.leave&&d.leave(h,d.text)}_linkAtPosition(r,d){const h=r.range.start.y*this._bufferService.cols+r.range.start.x,a=r.range.end.y*this._bufferService.cols+r.range.end.x,S=d.y*this._bufferService.cols+d.x;return h<=S&&S<=a}_positionFromMouseEvent(r,d,h){const a=h.getCoords(r,d,this._bufferService.cols,this._bufferService.rows);if(a)return{x:a[0],y:a[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(r,d,h,a,S){return{x1:r,y1:d,x2:h,y2:a,cols:this._bufferService.cols,fg:S}}};v=l([u(0,c.IBufferService)],v),i.Linkifier2=v},9042:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.tooMuchOutput=i.promptLabel=void 0,i.promptLabel="Terminal input",i.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(_,i,n){var l=this&&this.__decorate||function(v,r,d,h){var a,S=arguments.length,b=S<3?r:h===null?h=Object.getOwnPropertyDescriptor(r,d):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(v,r,d,h);else for(var y=v.length-1;y>=0;y--)(a=v[y])&&(b=(S<3?a(b):S>3?a(r,d,b):a(r,d))||b);return S>3&&b&&Object.defineProperty(r,d,b),b},u=this&&this.__param||function(v,r){return function(d,h){r(d,h,v)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OscLinkProvider=void 0;const c=n(511),p=n(2585);let g=class{constructor(v,r,d){this._bufferService=v,this._optionsService=r,this._oscLinkService=d}provideLinks(v,r){var d;const h=this._bufferService.buffer.lines.get(v-1);if(!h)return void r(void 0);const a=[],S=this._optionsService.rawOptions.linkHandler,b=new c.CellData,y=h.getTrimmedLength();let E=-1,C=-1,k=!1;for(let R=0;R<y;R++)if(C!==-1||h.hasContent(R)){if(h.loadCell(R,b),b.hasExtendedAttrs()&&b.extended.urlId){if(C===-1){C=R,E=b.extended.urlId;continue}k=b.extended.urlId!==E}else C!==-1&&(k=!0);if(k||C!==-1&&R===y-1){const T=(d=this._oscLinkService.getLinkData(E))===null||d===void 0?void 0:d.uri;if(T){const O={start:{x:C+1,y:v},end:{x:R+(k||R!==y-1?0:1),y:v}};let I=!1;if(!(S!=null&&S.allowNonHttpProtocols))try{const q=new URL(T);["http:","https:"].includes(q.protocol)||(I=!0)}catch{I=!0}I||a.push({text:T,range:O,activate:(q,z)=>S?S.activate(q,z,O):w(0,z),hover:(q,z)=>{var G;return(G=S==null?void 0:S.hover)===null||G===void 0?void 0:G.call(S,q,z,O)},leave:(q,z)=>{var G;return(G=S==null?void 0:S.leave)===null||G===void 0?void 0:G.call(S,q,z,O)}})}k=!1,b.hasExtendedAttrs()&&b.extended.urlId?(C=R,E=b.extended.urlId):(C=-1,E=-1)}}r(a)}};function w(v,r){if(confirm(`Do you want to navigate to ${r}?

WARNING: This link could potentially be dangerous`)){const d=window.open();if(d){try{d.opener=null}catch{}d.location.href=r}else console.warn("Opening link blocked as opener could not be cleared")}}g=l([u(0,p.IBufferService),u(1,p.IOptionsService),u(2,p.IOscLinkService)],g),i.OscLinkProvider=g},6193:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.RenderDebouncer=void 0,i.RenderDebouncer=class{constructor(n,l){this._parentWindow=n,this._renderCallback=l,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(n){return this._refreshCallbacks.push(n),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(n,l,u){this._rowCount=u,n=n!==void 0?n:0,l=l!==void 0?l:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,n):n,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,l):l,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const n=Math.max(this._rowStart,0),l=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(n,l),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const n of this._refreshCallbacks)n(0);this._refreshCallbacks=[]}}},5596:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ScreenDprMonitor=void 0;const l=n(844);class u extends l.Disposable{constructor(p){super(),this._parentWindow=p,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,l.toDisposable)(()=>{this.clearListener()}))}setListener(p){this._listener&&this.clearListener(),this._listener=p,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var p;this._outerListener&&((p=this._resolutionMediaMatchList)===null||p===void 0||p.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}i.ScreenDprMonitor=u},3236:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Terminal=void 0;const l=n(2950),u=n(1680),c=n(3614),p=n(2584),g=n(5435),w=n(9312),v=n(6114),r=n(3656),d=n(9042),h=n(4567),a=n(1296),S=n(7399),b=n(8460),y=n(8437),E=n(3230),C=n(4725),k=n(428),R=n(8934),T=n(6465),O=n(5114),I=n(8969),q=n(8055),z=n(4269),G=n(5941),L=n(3107),M=n(5744),B=n(9074),H=n(2585),j=n(3730),Y=n(844),le=n(6731),J=typeof window<"u"?window.document:null;class ie extends I.CoreTerminal{constructor(P={}){super(P),this.browser=v,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._onCursorMove=this.register(new b.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new b.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new b.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new b.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new b.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new b.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new b.EventEmitter),this._onBlur=this.register(new b.EventEmitter),this._onA11yCharEmitter=this.register(new b.EventEmitter),this._onA11yTabEmitter=this.register(new b.EventEmitter),this._onWillOpen=this.register(new b.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(T.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(j.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(B.DecorationService),this._instantiationService.setService(H.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((F,X)=>this.refresh(F,X))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(F=>this._reportWindowsOptions(F))),this.register(this._inputHandler.onColor(F=>this._handleColorEvent(F))),this.register((0,b.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,b.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,b.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,b.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(F=>this._afterResize(F.cols,F.rows))),this.register((0,Y.toDisposable)(()=>{var F,X;this._customKeyEventHandler=void 0,(X=(F=this.element)===null||F===void 0?void 0:F.parentNode)===null||X===void 0||X.removeChild(this.element)}))}get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}_handleColorEvent(P){if(this._themeService)for(const F of P){let X,Z="";switch(F.index){case 256:X="foreground",Z="10";break;case 257:X="background",Z="11";break;case 258:X="cursor",Z="12";break;default:X="ansi",Z="4;"+F.index}switch(F.type){case 0:const de=q.color.toColorRGB(X==="ansi"?this._themeService.colors.ansi[F.index]:this._themeService.colors[X]);this.coreService.triggerDataEvent(`${p.C0.ESC}]${Z};${(0,G.toRgbString)(de)}${p.C1_ESCAPED.ST}`);break;case 1:if(X==="ansi")this._themeService.modifyColors(te=>te.ansi[F.index]=q.rgba.toColor(...F.color));else{const te=X;this._themeService.modifyColors(be=>be[te]=q.rgba.toColor(...F.color))}break;case 2:this._themeService.restoreColor(F.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(P){var F;P?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=this._instantiationService.createInstance(h.AccessibilityManager,this)):((F=this._accessibilityManager)===null||F===void 0||F.dispose(),this._accessibilityManager=void 0)}_handleTextAreaFocus(P){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(p.C0.ESC+"[I"),this.updateCursorStyle(P),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var P;return(P=this.textarea)===null||P===void 0?void 0:P.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(p.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const P=this.buffer.ybase+this.buffer.y,F=this.buffer.lines.get(P);if(!F)return;const X=Math.min(this.buffer.x,this.cols-1),Z=this._renderService.dimensions.css.cell.height,de=F.getWidth(X),te=this._renderService.dimensions.css.cell.width*de,be=this.buffer.y*this._renderService.dimensions.css.cell.height,we=X*this._renderService.dimensions.css.cell.width;this.textarea.style.left=we+"px",this.textarea.style.top=be+"px",this.textarea.style.width=te+"px",this.textarea.style.height=Z+"px",this.textarea.style.lineHeight=Z+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,r.addDisposableDomListener)(this.element,"copy",F=>{this.hasSelection()&&(0,c.copyHandler)(F,this._selectionService)}));const P=F=>(0,c.handlePasteEvent)(F,this.textarea,this.coreService);this.register((0,r.addDisposableDomListener)(this.textarea,"paste",P)),this.register((0,r.addDisposableDomListener)(this.element,"paste",P)),v.isFirefox?this.register((0,r.addDisposableDomListener)(this.element,"mousedown",F=>{F.button===2&&(0,c.rightClickHandler)(F,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,r.addDisposableDomListener)(this.element,"contextmenu",F=>{(0,c.rightClickHandler)(F,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),v.isLinux&&this.register((0,r.addDisposableDomListener)(this.element,"auxclick",F=>{F.button===1&&(0,c.moveTextAreaUnderMouseCursor)(F,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,r.addDisposableDomListener)(this.textarea,"keyup",P=>this._keyUp(P),!0)),this.register((0,r.addDisposableDomListener)(this.textarea,"keydown",P=>this._keyDown(P),!0)),this.register((0,r.addDisposableDomListener)(this.textarea,"keypress",P=>this._keyPress(P),!0)),this.register((0,r.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,r.addDisposableDomListener)(this.textarea,"compositionupdate",P=>this._compositionHelper.compositionupdate(P))),this.register((0,r.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,r.addDisposableDomListener)(this.textarea,"input",P=>this._inputEvent(P),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(P){var F;if(!P)throw new Error("Terminal requires a parent element.");P.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=P.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),P.appendChild(this.element);const X=J.createDocumentFragment();this._viewportElement=J.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),X.appendChild(this._viewportElement),this._viewportScrollArea=J.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=J.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=J.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),X.appendChild(this.screenElement),this.textarea=J.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",d.promptLabel),v.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(O.CoreBrowserService,this.textarea,(F=this._document.defaultView)!==null&&F!==void 0?F:window),this._instantiationService.setService(C.ICoreBrowserService,this._coreBrowserService),this.register((0,r.addDisposableDomListener)(this.textarea,"focus",Z=>this._handleTextAreaFocus(Z))),this.register((0,r.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(k.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(C.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(le.ThemeService),this._instantiationService.setService(C.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(z.CharacterJoinerService),this._instantiationService.setService(C.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(E.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(C.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(Z=>this._onRender.fire(Z))),this.onResize(Z=>this._renderService.resize(Z.cols,Z.rows)),this._compositionView=J.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(l.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(X);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(R.MouseService),this._instantiationService.setService(C.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(u.Viewport,Z=>this.scrollLines(Z,!0,1),this._viewportElement,this._viewportScrollArea),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(w.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(C.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(Z=>this.scrollLines(Z.amount,Z.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(Z=>this._renderService.handleSelectionChanged(Z.start,Z.end,Z.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(Z=>{this.textarea.value=Z,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(Z=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,r.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(L.BufferDecorationRenderer,this.screenElement)),this.register((0,r.addDisposableDomListener)(this.element,"mousedown",Z=>this._selectionService.handleMouseDown(Z))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=this._instantiationService.createInstance(h.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",Z=>this._handleScreenReaderModeOptionChange(Z))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(M.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",Z=>{!this._overviewRulerRenderer&&Z&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(M.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(a.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const P=this,F=this.element;function X(te){const be=P._mouseService.getMouseReportCoords(te,P.screenElement);if(!be)return!1;let we,Se;switch(te.overrideType||te.type){case"mousemove":Se=32,te.buttons===void 0?(we=3,te.button!==void 0&&(we=te.button<3?te.button:3)):we=1&te.buttons?0:4&te.buttons?1:2&te.buttons?2:3;break;case"mouseup":Se=0,we=te.button<3?te.button:3;break;case"mousedown":Se=1,we=te.button<3?te.button:3;break;case"wheel":if(P.viewport.getLinesScrolled(te)===0)return!1;Se=te.deltaY<0?0:1,we=4;break;default:return!1}return!(Se===void 0||we===void 0||we>4)&&P.coreMouseService.triggerMouseEvent({col:be.col,row:be.row,x:be.x,y:be.y,button:we,action:Se,ctrl:te.ctrlKey,alt:te.altKey,shift:te.shiftKey})}const Z={mouseup:null,wheel:null,mousedrag:null,mousemove:null},de={mouseup:te=>(X(te),te.buttons||(this._document.removeEventListener("mouseup",Z.mouseup),Z.mousedrag&&this._document.removeEventListener("mousemove",Z.mousedrag)),this.cancel(te)),wheel:te=>(X(te),this.cancel(te,!0)),mousedrag:te=>{te.buttons&&X(te)},mousemove:te=>{te.buttons||X(te)}};this.register(this.coreMouseService.onProtocolChange(te=>{te?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(te)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&te?Z.mousemove||(F.addEventListener("mousemove",de.mousemove),Z.mousemove=de.mousemove):(F.removeEventListener("mousemove",Z.mousemove),Z.mousemove=null),16&te?Z.wheel||(F.addEventListener("wheel",de.wheel,{passive:!1}),Z.wheel=de.wheel):(F.removeEventListener("wheel",Z.wheel),Z.wheel=null),2&te?Z.mouseup||(Z.mouseup=de.mouseup):(this._document.removeEventListener("mouseup",Z.mouseup),Z.mouseup=null),4&te?Z.mousedrag||(Z.mousedrag=de.mousedrag):(this._document.removeEventListener("mousemove",Z.mousedrag),Z.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,r.addDisposableDomListener)(F,"mousedown",te=>{if(te.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(te))return X(te),Z.mouseup&&this._document.addEventListener("mouseup",Z.mouseup),Z.mousedrag&&this._document.addEventListener("mousemove",Z.mousedrag),this.cancel(te)})),this.register((0,r.addDisposableDomListener)(F,"wheel",te=>{if(!Z.wheel){if(!this.buffer.hasScrollback){const be=this.viewport.getLinesScrolled(te);if(be===0)return;const we=p.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(te.deltaY<0?"A":"B");let Se="";for(let ve=0;ve<Math.abs(be);ve++)Se+=we;return this.coreService.triggerDataEvent(Se,!0),this.cancel(te,!0)}return this.viewport.handleWheel(te)?this.cancel(te):void 0}},{passive:!1})),this.register((0,r.addDisposableDomListener)(F,"touchstart",te=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(te),this.cancel(te)},{passive:!0})),this.register((0,r.addDisposableDomListener)(F,"touchmove",te=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(te)?void 0:this.cancel(te)},{passive:!1}))}refresh(P,F){var X;(X=this._renderService)===null||X===void 0||X.refreshRows(P,F)}updateCursorStyle(P){var F;!((F=this._selectionService)===null||F===void 0)&&F.shouldColumnSelect(P)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(P,F,X=0){super.scrollLines(P,F,X),this.refresh(0,this.rows-1)}paste(P){(0,c.paste)(P,this.textarea,this.coreService)}attachCustomKeyEventHandler(P){this._customKeyEventHandler=P}registerLinkProvider(P){return this.linkifier2.registerLinkProvider(P)}registerCharacterJoiner(P){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const F=this._characterJoinerService.register(P);return this.refresh(0,this.rows-1),F}deregisterCharacterJoiner(P){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(P)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}addMarker(P){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+P)}registerDecoration(P){return this._decorationService.registerDecoration(P)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(P,F,X){this._selectionService.setSelection(P,F,X)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var P;(P=this._selectionService)===null||P===void 0||P.clearSelection()}selectAll(){var P;(P=this._selectionService)===null||P===void 0||P.selectAll()}selectLines(P,F){var X;(X=this._selectionService)===null||X===void 0||X.selectLines(P,F)}_keyDown(P){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(P)===!1)return!1;const F=this.browser.isMac&&this.options.macOptionIsMeta&&P.altKey;if(!F&&!this._compositionHelper.keydown(P))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;F||P.key!=="Dead"&&P.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const X=(0,S.evaluateKeyboardEvent)(P,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(P),X.type===3||X.type===2){const Z=this.rows-1;return this.scrollLines(X.type===2?-Z:Z),this.cancel(P,!0)}return X.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,P)||(X.cancel&&this.cancel(P,!0),!X.key||!!(P.key&&!P.ctrlKey&&!P.altKey&&!P.metaKey&&P.key.length===1&&P.key.charCodeAt(0)>=65&&P.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(X.key!==p.C0.ETX&&X.key!==p.C0.CR||(this.textarea.value=""),this._onKey.fire({key:X.key,domEvent:P}),this._showCursor(),this.coreService.triggerDataEvent(X.key,!0),!this.optionsService.rawOptions.screenReaderMode||P.altKey||P.ctrlKey?this.cancel(P,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(P,F){const X=P.isMac&&!this.options.macOptionIsMeta&&F.altKey&&!F.ctrlKey&&!F.metaKey||P.isWindows&&F.altKey&&F.ctrlKey&&!F.metaKey||P.isWindows&&F.getModifierState("AltGraph");return F.type==="keypress"?X:X&&(!F.keyCode||F.keyCode>47)}_keyUp(P){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(P)===!1||(function(F){return F.keyCode===16||F.keyCode===17||F.keyCode===18}(P)||this.focus(),this.updateCursorStyle(P),this._keyPressHandled=!1)}_keyPress(P){let F;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(P)===!1)return!1;if(this.cancel(P),P.charCode)F=P.charCode;else if(P.which===null||P.which===void 0)F=P.keyCode;else{if(P.which===0||P.charCode===0)return!1;F=P.which}return!(!F||(P.altKey||P.ctrlKey||P.metaKey)&&!this._isThirdLevelShift(this.browser,P)||(F=String.fromCharCode(F),this._onKey.fire({key:F,domEvent:P}),this._showCursor(),this.coreService.triggerDataEvent(F,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(P){if(P.data&&P.inputType==="insertText"&&(!P.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const F=P.data;return this.coreService.triggerDataEvent(F,!0),this.cancel(P),!0}return!1}resize(P,F){P!==this.cols||F!==this.rows?super.resize(P,F):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(P,F){var X,Z;(X=this._charSizeService)===null||X===void 0||X.measure(),(Z=this.viewport)===null||Z===void 0||Z.syncScrollArea(!0)}clear(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let P=1;P<this.rows;P++)this.buffer.lines.push(this.buffer.getBlankLine(y.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}}reset(){var P,F;this.options.rows=this.rows,this.options.cols=this.cols;const X=this._customKeyEventHandler;this._setup(),super.reset(),(P=this._selectionService)===null||P===void 0||P.reset(),this._decorationService.reset(),this._customKeyEventHandler=X,this.refresh(0,this.rows-1),(F=this.viewport)===null||F===void 0||F.syncScrollArea()}clearTextureAtlas(){var P;(P=this._renderService)===null||P===void 0||P.clearTextureAtlas()}_reportFocus(){var P;!((P=this.element)===null||P===void 0)&&P.classList.contains("focus")?this.coreService.triggerDataEvent(p.C0.ESC+"[I"):this.coreService.triggerDataEvent(p.C0.ESC+"[O")}_reportWindowsOptions(P){if(this._renderService)switch(P){case g.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const F=this._renderService.dimensions.css.canvas.width.toFixed(0),X=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${p.C0.ESC}[4;${X};${F}t`);break;case g.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const Z=this._renderService.dimensions.css.cell.width.toFixed(0),de=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${p.C0.ESC}[6;${de};${Z}t`)}}cancel(P,F){if(this.options.cancelEvents||F)return P.preventDefault(),P.stopPropagation(),!1}}i.Terminal=ie},9924:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TimeBasedDebouncer=void 0,i.TimeBasedDebouncer=class{constructor(n,l=1e3){this._renderCallback=n,this._debounceThresholdMS=l,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(n,l,u){this._rowCount=u,n=n!==void 0?n:0,l=l!==void 0?l:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,n):n,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,l):l;const c=Date.now();if(c-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=c,this._innerRefresh();else if(!this._additionalRefreshRequested){const p=c-this._lastRefreshMs,g=this._debounceThresholdMS-p;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},g)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const n=Math.max(this._rowStart,0),l=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(n,l)}}},1680:function(_,i,n){var l=this&&this.__decorate||function(r,d,h,a){var S,b=arguments.length,y=b<3?d:a===null?a=Object.getOwnPropertyDescriptor(d,h):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(r,d,h,a);else for(var E=r.length-1;E>=0;E--)(S=r[E])&&(y=(b<3?S(y):b>3?S(d,h,y):S(d,h))||y);return b>3&&y&&Object.defineProperty(d,h,y),y},u=this&&this.__param||function(r,d){return function(h,a){d(h,a,r)}};Object.defineProperty(i,"__esModule",{value:!0}),i.Viewport=void 0;const c=n(844),p=n(3656),g=n(4725),w=n(2585);let v=class extends c.Disposable{constructor(r,d,h,a,S,b,y,E,C){super(),this._scrollLines=r,this._viewportElement=d,this._scrollArea=h,this._bufferService=a,this._optionsService=S,this._charSizeService=b,this._renderService=y,this._coreBrowserService=E,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,p.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(k=>this._activeBuffer=k.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(k=>this._renderDimensions=k)),this._handleThemeChange(C.colors),this.register(C.onChangeColors(k=>this._handleThemeChange(k))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea(),0)}_handleThemeChange(r){this._viewportElement.style.backgroundColor=r.background.css}_refresh(r){if(r)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const d=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==d&&(this._lastRecordedBufferHeight=d,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const r=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==r&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=r),this._refreshAnimationFrame=null}syncScrollArea(r=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(r);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(r)}_handleScroll(r){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);const d=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(d)}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const r=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(r*(this._smoothScrollState.target-this._smoothScrollState.origin)),r<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(r,d){const h=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(d<0&&this._viewportElement.scrollTop!==0||d>0&&h<this._lastRecordedBufferHeight)||(r.cancelable&&r.preventDefault(),!1)}handleWheel(r){const d=this._getPixelsScrolled(r);return d!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+d:this._smoothScrollState.target+=d,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=d,this._bubbleScroll(r,d))}_getPixelsScrolled(r){if(r.deltaY===0||r.shiftKey)return 0;let d=this._applyScrollModifier(r.deltaY,r);return r.deltaMode===WheelEvent.DOM_DELTA_LINE?d*=this._currentRowHeight:r.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(d*=this._currentRowHeight*this._bufferService.rows),d}getBufferElements(r,d){var h;let a,S="";const b=[],y=d??this._bufferService.buffer.lines.length,E=this._bufferService.buffer.lines;for(let C=r;C<y;C++){const k=E.get(C);if(!k)continue;const R=(h=E.get(C+1))===null||h===void 0?void 0:h.isWrapped;if(S+=k.translateToString(!R),!R||C===E.length-1){const T=document.createElement("div");T.textContent=S,b.push(T),S.length>0&&(a=T),S=""}}return{bufferElements:b,cursorElement:a}}getLinesScrolled(r){if(r.deltaY===0||r.shiftKey)return 0;let d=this._applyScrollModifier(r.deltaY,r);return r.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(d/=this._currentRowHeight+0,this._wheelPartialScroll+=d,d=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):r.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(d*=this._bufferService.rows),d}_applyScrollModifier(r,d){const h=this._optionsService.rawOptions.fastScrollModifier;return h==="alt"&&d.altKey||h==="ctrl"&&d.ctrlKey||h==="shift"&&d.shiftKey?r*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:r*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(r){this._lastTouchY=r.touches[0].pageY}handleTouchMove(r){const d=this._lastTouchY-r.touches[0].pageY;return this._lastTouchY=r.touches[0].pageY,d!==0&&(this._viewportElement.scrollTop+=d,this._bubbleScroll(r,d))}};v=l([u(3,w.IBufferService),u(4,w.IOptionsService),u(5,g.ICharSizeService),u(6,g.IRenderService),u(7,g.ICoreBrowserService),u(8,g.IThemeService)],v),i.Viewport=v},3107:function(_,i,n){var l=this&&this.__decorate||function(r,d,h,a){var S,b=arguments.length,y=b<3?d:a===null?a=Object.getOwnPropertyDescriptor(d,h):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(r,d,h,a);else for(var E=r.length-1;E>=0;E--)(S=r[E])&&(y=(b<3?S(y):b>3?S(d,h,y):S(d,h))||y);return b>3&&y&&Object.defineProperty(d,h,y),y},u=this&&this.__param||function(r,d){return function(h,a){d(h,a,r)}};Object.defineProperty(i,"__esModule",{value:!0}),i.BufferDecorationRenderer=void 0;const c=n(3656),p=n(4725),g=n(844),w=n(2585);let v=class extends g.Disposable{constructor(r,d,h,a){super(),this._screenElement=r,this._bufferService=d,this._decorationService=h,this._renderService=a,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,c.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(S=>this._removeDecoration(S))),this.register((0,g.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const r of this._decorationService.decorations)this._renderDecoration(r);this._dimensionsChanged=!1}_renderDecoration(r){this._refreshStyle(r),this._dimensionsChanged&&this._refreshXPosition(r)}_createElement(r){var d,h;const a=document.createElement("div");a.classList.add("xterm-decoration"),a.classList.toggle("xterm-decoration-top-layer",((d=r==null?void 0:r.options)===null||d===void 0?void 0:d.layer)==="top"),a.style.width=`${Math.round((r.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,a.style.height=(r.options.height||1)*this._renderService.dimensions.css.cell.height+"px",a.style.top=(r.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",a.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const S=(h=r.options.x)!==null&&h!==void 0?h:0;return S&&S>this._bufferService.cols&&(a.style.display="none"),this._refreshXPosition(r,a),a}_refreshStyle(r){const d=r.marker.line-this._bufferService.buffers.active.ydisp;if(d<0||d>=this._bufferService.rows)r.element&&(r.element.style.display="none",r.onRenderEmitter.fire(r.element));else{let h=this._decorationElements.get(r);h||(h=this._createElement(r),r.element=h,this._decorationElements.set(r,h),this._container.appendChild(h)),h.style.top=d*this._renderService.dimensions.css.cell.height+"px",h.style.display=this._altBufferIsActive?"none":"block",r.onRenderEmitter.fire(h)}}_refreshXPosition(r,d=r.element){var h;if(!d)return;const a=(h=r.options.x)!==null&&h!==void 0?h:0;(r.options.anchor||"left")==="right"?d.style.right=a?a*this._renderService.dimensions.css.cell.width+"px":"":d.style.left=a?a*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(r){var d;(d=this._decorationElements.get(r))===null||d===void 0||d.remove(),this._decorationElements.delete(r),r.dispose()}};v=l([u(1,w.IBufferService),u(2,w.IDecorationService),u(3,p.IRenderService)],v),i.BufferDecorationRenderer=v},5871:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorZoneStore=void 0,i.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(n){if(n.options.overviewRulerOptions){for(const l of this._zones)if(l.color===n.options.overviewRulerOptions.color&&l.position===n.options.overviewRulerOptions.position){if(this._lineIntersectsZone(l,n.marker.line))return;if(this._lineAdjacentToZone(l,n.marker.line,n.options.overviewRulerOptions.position))return void this._addLineToZone(l,n.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=n.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=n.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=n.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=n.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:n.options.overviewRulerOptions.color,position:n.options.overviewRulerOptions.position,startBufferLine:n.marker.line,endBufferLine:n.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(n){this._linePadding=n}_lineIntersectsZone(n,l){return l>=n.startBufferLine&&l<=n.endBufferLine}_lineAdjacentToZone(n,l,u){return l>=n.startBufferLine-this._linePadding[u||"full"]&&l<=n.endBufferLine+this._linePadding[u||"full"]}_addLineToZone(n,l){n.startBufferLine=Math.min(n.startBufferLine,l),n.endBufferLine=Math.max(n.endBufferLine,l)}}},5744:function(_,i,n){var l=this&&this.__decorate||function(S,b,y,E){var C,k=arguments.length,R=k<3?b:E===null?E=Object.getOwnPropertyDescriptor(b,y):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(S,b,y,E);else for(var T=S.length-1;T>=0;T--)(C=S[T])&&(R=(k<3?C(R):k>3?C(b,y,R):C(b,y))||R);return k>3&&R&&Object.defineProperty(b,y,R),R},u=this&&this.__param||function(S,b){return function(y,E){b(y,E,S)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OverviewRulerRenderer=void 0;const c=n(5871),p=n(3656),g=n(4725),w=n(844),v=n(2585),r={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0},h={full:0,left:0,center:0,right:0};let a=class extends w.Disposable{constructor(S,b,y,E,C,k,R){var T;super(),this._viewportElement=S,this._screenElement=b,this._bufferService=y,this._decorationService=E,this._renderService=C,this._optionsService=k,this._coreBrowseService=R,this._colorZoneStore=new c.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(T=this._viewportElement.parentElement)===null||T===void 0||T.insertBefore(this._canvas,this._viewportElement);const O=this._canvas.getContext("2d");if(!O)throw new Error("Ctx cannot be null");this._ctx=O,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,w.toDisposable)(()=>{var I;(I=this._canvas)===null||I===void 0||I.remove()}))}get _width(){return this._optionsService.options.overviewRulerWidth||0}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,p.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const S=Math.floor(this._canvas.width/3),b=Math.ceil(this._canvas.width/3);d.full=this._canvas.width,d.left=S,d.center=b,d.right=S,this._refreshDrawHeightConstants(),h.full=0,h.left=0,h.center=d.left,h.right=d.left+d.center}_refreshDrawHeightConstants(){r.full=Math.round(2*this._coreBrowseService.dpr);const S=this._canvas.height/this._bufferService.buffer.lines.length,b=Math.round(Math.max(Math.min(S,12),6)*this._coreBrowseService.dpr);r.left=b,r.center=b,r.right=b}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*r.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*r.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*r.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*r.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const b of this._decorationService.decorations)this._colorZoneStore.addDecoration(b);this._ctx.lineWidth=1;const S=this._colorZoneStore.zones;for(const b of S)b.position!=="full"&&this._renderColorZone(b);for(const b of S)b.position==="full"&&this._renderColorZone(b);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(S){this._ctx.fillStyle=S.color,this._ctx.fillRect(h[S.position||"full"],Math.round((this._canvas.height-1)*(S.startBufferLine/this._bufferService.buffers.active.lines.length)-r[S.position||"full"]/2),d[S.position||"full"],Math.round((this._canvas.height-1)*((S.endBufferLine-S.startBufferLine)/this._bufferService.buffers.active.lines.length)+r[S.position||"full"]))}_queueRefresh(S,b){this._shouldUpdateDimensions=S||this._shouldUpdateDimensions,this._shouldUpdateAnchor=b||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};a=l([u(2,v.IBufferService),u(3,v.IDecorationService),u(4,g.IRenderService),u(5,v.IOptionsService),u(6,g.ICoreBrowserService)],a),i.OverviewRulerRenderer=a},2950:function(_,i,n){var l=this&&this.__decorate||function(v,r,d,h){var a,S=arguments.length,b=S<3?r:h===null?h=Object.getOwnPropertyDescriptor(r,d):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(v,r,d,h);else for(var y=v.length-1;y>=0;y--)(a=v[y])&&(b=(S<3?a(b):S>3?a(r,d,b):a(r,d))||b);return S>3&&b&&Object.defineProperty(r,d,b),b},u=this&&this.__param||function(v,r){return function(d,h){r(d,h,v)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CompositionHelper=void 0;const c=n(4725),p=n(2585),g=n(2584);let w=class{constructor(v,r,d,h,a,S){this._textarea=v,this._compositionView=r,this._bufferService=d,this._optionsService=h,this._coreService=a,this._renderService=S,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}get isComposing(){return this._isComposing}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(v){this._compositionView.textContent=v.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(v){if(this._isComposing||this._isSendingComposition){if(v.keyCode===229||v.keyCode===16||v.keyCode===17||v.keyCode===18)return!1;this._finalizeComposition(!1)}return v.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(v){if(this._compositionView.classList.remove("active"),this._isComposing=!1,v){const r={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let d;this._isSendingComposition=!1,r.start+=this._dataAlreadySent.length,d=this._isComposing?this._textarea.value.substring(r.start,r.end):this._textarea.value.substring(r.start),d.length>0&&this._coreService.triggerDataEvent(d,!0)}},0)}else{this._isSendingComposition=!1;const r=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(r,!0)}}_handleAnyTextareaChanges(){const v=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const r=this._textarea.value,d=r.replace(v,"");this._dataAlreadySent=d,r.length>v.length?this._coreService.triggerDataEvent(d,!0):r.length<v.length?this._coreService.triggerDataEvent(`${g.C0.DEL}`,!0):r.length===v.length&&r!==v&&this._coreService.triggerDataEvent(r,!0)}},0)}updateCompositionElements(v){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const r=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),d=this._renderService.dimensions.css.cell.height,h=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,a=r*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=a+"px",this._compositionView.style.top=h+"px",this._compositionView.style.height=d+"px",this._compositionView.style.lineHeight=d+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const S=this._compositionView.getBoundingClientRect();this._textarea.style.left=a+"px",this._textarea.style.top=h+"px",this._textarea.style.width=Math.max(S.width,1)+"px",this._textarea.style.height=Math.max(S.height,1)+"px",this._textarea.style.lineHeight=S.height+"px"}v||setTimeout(()=>this.updateCompositionElements(!0),0)}}};w=l([u(2,p.IBufferService),u(3,p.IOptionsService),u(4,p.ICoreService),u(5,c.IRenderService)],w),i.CompositionHelper=w},9806:(_,i)=>{function n(l,u,c){const p=c.getBoundingClientRect(),g=l.getComputedStyle(c),w=parseInt(g.getPropertyValue("padding-left")),v=parseInt(g.getPropertyValue("padding-top"));return[u.clientX-p.left-w,u.clientY-p.top-v]}Object.defineProperty(i,"__esModule",{value:!0}),i.getCoords=i.getCoordsRelativeToElement=void 0,i.getCoordsRelativeToElement=n,i.getCoords=function(l,u,c,p,g,w,v,r,d){if(!w)return;const h=n(l,u,c);return h?(h[0]=Math.ceil((h[0]+(d?v/2:0))/v),h[1]=Math.ceil(h[1]/r),h[0]=Math.min(Math.max(h[0],1),p+(d?1:0)),h[1]=Math.min(Math.max(h[1],1),g),h):void 0}},9504:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.moveToCellSequence=void 0;const l=n(2584);function u(r,d,h,a){const S=r-c(r,h),b=d-c(d,h),y=Math.abs(S-b)-function(E,C,k){let R=0;const T=E-c(E,k),O=C-c(C,k);for(let I=0;I<Math.abs(T-O);I++){const q=p(E,C)==="A"?-1:1,z=k.buffer.lines.get(T+q*I);z!=null&&z.isWrapped&&R++}return R}(r,d,h);return v(y,w(p(r,d),a))}function c(r,d){let h=0,a=d.buffer.lines.get(r),S=a==null?void 0:a.isWrapped;for(;S&&r>=0&&r<d.rows;)h++,a=d.buffer.lines.get(--r),S=a==null?void 0:a.isWrapped;return h}function p(r,d){return r>d?"A":"B"}function g(r,d,h,a,S,b){let y=r,E=d,C="";for(;y!==h||E!==a;)y+=S?1:-1,S&&y>b.cols-1?(C+=b.buffer.translateBufferLineToString(E,!1,r,y),y=0,r=0,E++):!S&&y<0&&(C+=b.buffer.translateBufferLineToString(E,!1,0,r+1),y=b.cols-1,r=y,E--);return C+b.buffer.translateBufferLineToString(E,!1,r,y)}function w(r,d){const h=d?"O":"[";return l.C0.ESC+h+r}function v(r,d){r=Math.floor(r);let h="";for(let a=0;a<r;a++)h+=d;return h}i.moveToCellSequence=function(r,d,h,a){const S=h.buffer.x,b=h.buffer.y;if(!h.buffer.hasScrollback)return function(C,k,R,T,O,I){return u(k,T,O,I).length===0?"":v(g(C,k,C,k-c(k,O),!1,O).length,w("D",I))}(S,b,0,d,h,a)+u(b,d,h,a)+function(C,k,R,T,O,I){let q;q=u(k,T,O,I).length>0?T-c(T,O):k;const z=T,G=function(L,M,B,H,j,Y){let le;return le=u(B,H,j,Y).length>0?H-c(H,j):M,L<B&&le<=H||L>=B&&le<H?"C":"D"}(C,k,R,T,O,I);return v(g(C,q,R,z,G==="C",O).length,w(G,I))}(S,b,r,d,h,a);let y;if(b===d)return y=S>r?"D":"C",v(Math.abs(S-r),w(y,a));y=b>d?"D":"C";const E=Math.abs(b-d);return v(function(C,k){return k.cols-C}(b>d?r:S,h)+(E-1)*h.cols+1+((b>d?S:r)-1),w(y,a))}},1296:function(_,i,n){var l=this&&this.__decorate||function(E,C,k,R){var T,O=arguments.length,I=O<3?C:R===null?R=Object.getOwnPropertyDescriptor(C,k):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(E,C,k,R);else for(var q=E.length-1;q>=0;q--)(T=E[q])&&(I=(O<3?T(I):O>3?T(C,k,I):T(C,k))||I);return O>3&&I&&Object.defineProperty(C,k,I),I},u=this&&this.__param||function(E,C){return function(k,R){C(k,R,E)}};Object.defineProperty(i,"__esModule",{value:!0}),i.DomRenderer=void 0;const c=n(3787),p=n(2223),g=n(6171),w=n(4725),v=n(8055),r=n(8460),d=n(844),h=n(2585),a="xterm-dom-renderer-owner-",S="xterm-focus";let b=1,y=class extends d.Disposable{constructor(E,C,k,R,T,O,I,q,z,G){super(),this._element=E,this._screenElement=C,this._viewportElement=k,this._linkifier2=R,this._charSizeService=O,this._optionsService=I,this._bufferService=q,this._coreBrowserService=z,this._themeService=G,this._terminalClass=b++,this._rowElements=[],this._cellToRowElements=[],this.onRequestRedraw=this.register(new r.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add("xterm-rows"),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add("xterm-selection"),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,g.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(L=>this._injectCss(L))),this._injectCss(this._themeService.colors),this._rowFactory=T.createInstance(c.DomRendererRowFactory,document),this._element.classList.add(a+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(L=>this._handleLinkHover(L))),this.register(this._linkifier2.onHideLinkUnderline(L=>this._handleLinkLeave(L))),this.register((0,d.toDisposable)(()=>{this._element.classList.remove(a+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))}_updateDimensions(){const E=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*E,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*E),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/E),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/E),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const k of this._rowElements)k.style.width=`${this.dimensions.css.canvas.width}px`,k.style.height=`${this.dimensions.css.cell.height}px`,k.style.lineHeight=`${this.dimensions.css.cell.height}px`,k.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const C=`${this._terminalSelector} .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: ${this.dimensions.css.cell.width}px}`;this._dimensionsStyleElement.textContent=C,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(E){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let C=`${this._terminalSelector} .xterm-rows { color: ${E.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px;}`;C+=`${this._terminalSelector} .xterm-rows .xterm-dim { color: ${v.color.multiplyOpacity(E.foreground,.5).css};}`,C+=`${this._terminalSelector} span:not(.${c.BOLD_CLASS}) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.${c.BOLD_CLASS} { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.${c.ITALIC_CLASS} { font-style: italic;}`,C+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",C+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${E.cursor.css};  color: ${E.cursorAccent.css}; } 50% {  background-color: ${E.cursorAccent.css};  color: ${E.cursor.css}; }}`,C+=`${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${c.CURSOR_CLASS}.${c.CURSOR_STYLE_BLOCK_CLASS} ,${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${c.CURSOR_CLASS}.${c.CURSOR_STYLE_BAR_CLASS} ,${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${c.CURSOR_CLASS}.${c.CURSOR_STYLE_UNDERLINE_CLASS} { outline: 1px solid ${E.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .xterm-rows.xterm-focus .${c.CURSOR_CLASS}.${c.CURSOR_BLINK_CLASS}:not(.${c.CURSOR_STYLE_BLOCK_CLASS}) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${c.CURSOR_CLASS}.${c.CURSOR_BLINK_CLASS}.${c.CURSOR_STYLE_BLOCK_CLASS} { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${c.CURSOR_CLASS}.${c.CURSOR_STYLE_BLOCK_CLASS} { background-color: ${E.cursor.css}; color: ${E.cursorAccent.css};}${this._terminalSelector} .xterm-rows .${c.CURSOR_CLASS}.${c.CURSOR_STYLE_BAR_CLASS} { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${E.cursor.css} inset;}${this._terminalSelector} .xterm-rows .${c.CURSOR_CLASS}.${c.CURSOR_STYLE_UNDERLINE_CLASS} { box-shadow: 0 -1px 0 ${E.cursor.css} inset;}`,C+=`${this._terminalSelector} .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .xterm-selection div { position: absolute; background-color: ${E.selectionBackgroundOpaque.css};}${this._terminalSelector} .xterm-selection div { position: absolute; background-color: ${E.selectionInactiveBackgroundOpaque.css};}`;for(const[k,R]of E.ansi.entries())C+=`${this._terminalSelector} .xterm-fg-${k} { color: ${R.css}; }${this._terminalSelector} .xterm-fg-${k}.${c.DIM_CLASS} { color: ${v.color.multiplyOpacity(R,.5).css}; }${this._terminalSelector} .xterm-bg-${k} { background-color: ${R.css}; }`;C+=`${this._terminalSelector} .xterm-fg-${p.INVERTED_DEFAULT_COLOR} { color: ${v.color.opaque(E.background).css}; }${this._terminalSelector} .xterm-fg-${p.INVERTED_DEFAULT_COLOR}.${c.DIM_CLASS} { color: ${v.color.multiplyOpacity(v.color.opaque(E.background),.5).css}; }${this._terminalSelector} .xterm-bg-${p.INVERTED_DEFAULT_COLOR} { background-color: ${E.foreground.css}; }`,this._themeStyleElement.textContent=C}handleDevicePixelRatioChange(){this._updateDimensions()}_refreshRowElements(E,C){for(let k=this._rowElements.length;k<=C;k++){const R=document.createElement("div");this._rowContainer.appendChild(R),this._rowElements.push(R)}for(;this._rowElements.length>C;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(E,C){this._refreshRowElements(E,C),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions()}handleBlur(){this._rowContainer.classList.remove(S)}handleFocus(){this._rowContainer.classList.add(S)}handleSelectionChanged(E,C,k){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(this._rowFactory.handleSelectionChanged(E,C,k),this.renderRows(0,this._bufferService.rows-1),!E||!C)return;const R=E[1]-this._bufferService.buffer.ydisp,T=C[1]-this._bufferService.buffer.ydisp,O=Math.max(R,0),I=Math.min(T,this._bufferService.rows-1);if(O>=this._bufferService.rows||I<0)return;const q=document.createDocumentFragment();if(k){const z=E[0]>C[0];q.appendChild(this._createSelectionElement(O,z?C[0]:E[0],z?E[0]:C[0],I-O+1))}else{const z=R===O?E[0]:0,G=O===T?C[0]:this._bufferService.cols;q.appendChild(this._createSelectionElement(O,z,G));const L=I-O-1;if(q.appendChild(this._createSelectionElement(O+1,0,this._bufferService.cols,L)),O!==I){const M=T===I?C[0]:this._bufferService.cols;q.appendChild(this._createSelectionElement(I,0,M))}}this._selectionContainer.appendChild(q)}_createSelectionElement(E,C,k,R=1){const T=document.createElement("div");return T.style.height=R*this.dimensions.css.cell.height+"px",T.style.top=E*this.dimensions.css.cell.height+"px",T.style.left=C*this.dimensions.css.cell.width+"px",T.style.width=this.dimensions.css.cell.width*(k-C)+"px",T}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors)}clear(){for(const E of this._rowElements)E.replaceChildren()}renderRows(E,C){const k=this._bufferService.buffer.ybase+this._bufferService.buffer.y,R=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),T=this._optionsService.rawOptions.cursorBlink;for(let O=E;O<=C;O++){const I=this._rowElements[O],q=O+this._bufferService.buffer.ydisp,z=this._bufferService.buffer.lines.get(q),G=this._optionsService.rawOptions.cursorStyle;this._cellToRowElements[O]&&this._cellToRowElements[O].length===this._bufferService.cols||(this._cellToRowElements[O]=new Int16Array(this._bufferService.cols)),I.replaceChildren(this._rowFactory.createRow(z,q,q===k,G,R,T,this.dimensions.css.cell.width,this._bufferService.cols,this._cellToRowElements[O]))}}get _terminalSelector(){return`.${a}${this._terminalClass}`}_handleLinkHover(E){this._setCellUnderline(E.x1,E.x2,E.y1,E.y2,E.cols,!0)}_handleLinkLeave(E){this._setCellUnderline(E.x1,E.x2,E.y1,E.y2,E.cols,!1)}_setCellUnderline(E,C,k,R,T,O){k<0&&(E=0),R<0&&(C=0);const I=this._cellToRowElements.length-1;k=Math.max(Math.min(k,I),0),R=Math.max(Math.min(R,I),0);const q=this._cellToRowElements[k],z=this._cellToRowElements[R];if(!(E>=q.length||C>=z.length)&&(E=q[E],C=z[C],E!==-1&&C!==-1))for(;E!==C||k!==R;){const G=this._rowElements[k];if(!G)return;const L=G.children[E];L&&(L.style.textDecoration=O?"underline":"none"),++E>=T&&(E=0,k++)}}};y=l([u(4,h.IInstantiationService),u(5,w.ICharSizeService),u(6,h.IOptionsService),u(7,h.IBufferService),u(8,w.ICoreBrowserService),u(9,w.IThemeService)],y),i.DomRenderer=y},3787:function(_,i,n){var l=this&&this.__decorate||function(y,E,C,k){var R,T=arguments.length,O=T<3?E:k===null?k=Object.getOwnPropertyDescriptor(E,C):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(y,E,C,k);else for(var I=y.length-1;I>=0;I--)(R=y[I])&&(O=(T<3?R(O):T>3?R(E,C,O):R(E,C))||O);return T>3&&O&&Object.defineProperty(E,C,O),O},u=this&&this.__param||function(y,E){return function(C,k){E(C,k,y)}};Object.defineProperty(i,"__esModule",{value:!0}),i.DomRendererRowFactory=i.CURSOR_STYLE_UNDERLINE_CLASS=i.CURSOR_STYLE_BAR_CLASS=i.CURSOR_STYLE_BLOCK_CLASS=i.CURSOR_BLINK_CLASS=i.CURSOR_CLASS=i.STRIKETHROUGH_CLASS=i.OVERLINE_CLASS=i.UNDERLINE_CLASS=i.ITALIC_CLASS=i.DIM_CLASS=i.BOLD_CLASS=void 0;const c=n(2223),p=n(643),g=n(511),w=n(2585),v=n(8055),r=n(4725),d=n(4269),h=n(6171),a=n(3734);i.BOLD_CLASS="xterm-bold",i.DIM_CLASS="xterm-dim",i.ITALIC_CLASS="xterm-italic",i.UNDERLINE_CLASS="xterm-underline",i.OVERLINE_CLASS="xterm-overline",i.STRIKETHROUGH_CLASS="xterm-strikethrough",i.CURSOR_CLASS="xterm-cursor",i.CURSOR_BLINK_CLASS="xterm-cursor-blink",i.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",i.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",i.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";let S=class{constructor(y,E,C,k,R,T,O){this._document=y,this._characterJoinerService=E,this._optionsService=C,this._coreBrowserService=k,this._coreService=R,this._decorationService=T,this._themeService=O,this._workCell=new g.CellData,this._columnSelectMode=!1}handleSelectionChanged(y,E,C){this._selectionStart=y,this._selectionEnd=E,this._columnSelectMode=C}createRow(y,E,C,k,R,T,O,I,q){const z=this._document.createDocumentFragment(),G=this._characterJoinerService.getJoinedCharacters(E);let L=0;for(let j=Math.min(y.length,I)-1;j>=0;j--)if(y.loadCell(j,this._workCell).getCode()!==p.NULL_CELL_CODE||C&&j===R){L=j+1;break}const M=this._themeService.colors;let B=-1,H=0;for(;H<L;H++){y.loadCell(H,this._workCell);let j=this._workCell.getWidth();if(j===0){q[H]=B;continue}let Y=!1,le=H,J=this._workCell;if(G.length>0&&H===G[0][0]){Y=!0;const ve=G.shift();J=new d.JoinedCellData(this._workCell,y.translateToString(!0,ve[0],ve[1]),ve[1]-ve[0]),le=ve[1]-1,j=J.getWidth()}const ie=this._document.createElement("span");if(j>1&&(ie.style.width=O*j+"px"),Y&&(ie.style.display="inline",R>=H&&R<=le&&(R=H)),!this._coreService.isCursorHidden&&C&&H===R)switch(ie.classList.add(i.CURSOR_CLASS),T&&ie.classList.add(i.CURSOR_BLINK_CLASS),k){case"bar":ie.classList.add(i.CURSOR_STYLE_BAR_CLASS);break;case"underline":ie.classList.add(i.CURSOR_STYLE_UNDERLINE_CLASS);break;default:ie.classList.add(i.CURSOR_STYLE_BLOCK_CLASS)}if(J.isBold()&&ie.classList.add(i.BOLD_CLASS),J.isItalic()&&ie.classList.add(i.ITALIC_CLASS),J.isDim()&&ie.classList.add(i.DIM_CLASS),J.isInvisible()?ie.textContent=p.WHITESPACE_CELL_CHAR:ie.textContent=J.getChars()||p.WHITESPACE_CELL_CHAR,J.isUnderline()&&(ie.classList.add(`${i.UNDERLINE_CLASS}-${J.extended.underlineStyle}`),ie.textContent===" "&&(ie.textContent=""),!J.isUnderlineColorDefault()))if(J.isUnderlineColorRGB())ie.style.textDecorationColor=`rgb(${a.AttributeData.toColorRGB(J.getUnderlineColor()).join(",")})`;else{let ve=J.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&J.isBold()&&ve<8&&(ve+=8),ie.style.textDecorationColor=M.ansi[ve].css}J.isOverline()&&(ie.classList.add(i.OVERLINE_CLASS),ie.textContent===" "&&(ie.textContent="")),J.isStrikethrough()&&ie.classList.add(i.STRIKETHROUGH_CLASS);let $=J.getFgColor(),P=J.getFgColorMode(),F=J.getBgColor(),X=J.getBgColorMode();const Z=!!J.isInverse();if(Z){const ve=$;$=F,F=ve;const Ze=P;P=X,X=Ze}let de,te,be=!1;this._decorationService.forEachDecorationAtCell(H,E,void 0,ve=>{ve.options.layer!=="top"&&be||(ve.backgroundColorRGB&&(X=50331648,F=ve.backgroundColorRGB.rgba>>8&16777215,de=ve.backgroundColorRGB),ve.foregroundColorRGB&&(P=50331648,$=ve.foregroundColorRGB.rgba>>8&16777215,te=ve.foregroundColorRGB),be=ve.options.layer==="top")});const we=this._isCellInSelection(H,E);let Se;switch(be||M.selectionForeground&&we&&(P=50331648,$=M.selectionForeground.rgba>>8&16777215,te=M.selectionForeground),we&&(de=this._coreBrowserService.isFocused?M.selectionBackgroundOpaque:M.selectionInactiveBackgroundOpaque,be=!0),be&&ie.classList.add("xterm-decoration-top"),X){case 16777216:case 33554432:Se=M.ansi[F],ie.classList.add(`xterm-bg-${F}`);break;case 50331648:Se=v.rgba.toColor(F>>16,F>>8&255,255&F),this._addStyle(ie,`background-color:#${b((F>>>0).toString(16),"0",6)}`);break;default:Z?(Se=M.foreground,ie.classList.add(`xterm-bg-${c.INVERTED_DEFAULT_COLOR}`)):Se=M.background}switch(de||J.isDim()&&(de=v.color.multiplyOpacity(Se,.5)),P){case 16777216:case 33554432:J.isBold()&&$<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&($+=8),this._applyMinimumContrast(ie,Se,M.ansi[$],J,de,void 0)||ie.classList.add(`xterm-fg-${$}`);break;case 50331648:const ve=v.rgba.toColor($>>16&255,$>>8&255,255&$);this._applyMinimumContrast(ie,Se,ve,J,de,te)||this._addStyle(ie,`color:#${b($.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(ie,Se,M.foreground,J,de,void 0)||Z&&ie.classList.add(`xterm-fg-${c.INVERTED_DEFAULT_COLOR}`)}z.appendChild(ie),q[H]=++B,H=le}return H<I-1&&q.subarray(H).fill(++B),z}_applyMinimumContrast(y,E,C,k,R,T){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,h.excludeFromContrastRatioDemands)(k.getCode()))return!1;let O;return R||T||(O=this._themeService.colors.contrastCache.getColor(E.rgba,C.rgba)),O===void 0&&(O=v.color.ensureContrastRatio(R||E,T||C,this._optionsService.rawOptions.minimumContrastRatio),this._themeService.colors.contrastCache.setColor((R||E).rgba,(T||C).rgba,O??null)),!!O&&(this._addStyle(y,`color:${O.css}`),!0)}_addStyle(y,E){y.setAttribute("style",`${y.getAttribute("style")||""}${E};`)}_isCellInSelection(y,E){const C=this._selectionStart,k=this._selectionEnd;return!(!C||!k)&&(this._columnSelectMode?C[0]<=k[0]?y>=C[0]&&E>=C[1]&&y<k[0]&&E<=k[1]:y<C[0]&&E>=C[1]&&y>=k[0]&&E<=k[1]:E>C[1]&&E<k[1]||C[1]===k[1]&&E===C[1]&&y>=C[0]&&y<k[0]||C[1]<k[1]&&E===k[1]&&y<k[0]||C[1]<k[1]&&E===C[1]&&y>=C[0])}};function b(y,E,C){for(;y.length<C;)y=E+y;return y}S=l([u(1,r.ICharacterJoinerService),u(2,w.IOptionsService),u(3,r.ICoreBrowserService),u(4,w.ICoreService),u(5,w.IDecorationService),u(6,r.IThemeService)],S),i.DomRendererRowFactory=S},2223:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TEXT_BASELINE=i.DIM_OPACITY=i.INVERTED_DEFAULT_COLOR=void 0;const l=n(6114);i.INVERTED_DEFAULT_COLOR=257,i.DIM_OPACITY=.5,i.TEXT_BASELINE=l.isFirefox||l.isLegacyEdge?"bottom":"ideographic"},6171:(_,i)=>{function n(l){return 57508<=l&&l<=57558}Object.defineProperty(i,"__esModule",{value:!0}),i.createRenderDimensions=i.excludeFromContrastRatioDemands=i.isRestrictedPowerlineGlyph=i.isPowerlineGlyph=i.throwIfFalsy=void 0,i.throwIfFalsy=function(l){if(!l)throw new Error("value must not be falsy");return l},i.isPowerlineGlyph=n,i.isRestrictedPowerlineGlyph=function(l){return 57520<=l&&l<=57527},i.excludeFromContrastRatioDemands=function(l){return n(l)||function(u){return 9472<=u&&u<=9631}(l)},i.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SelectionModel=void 0,i.SelectionModel=class{constructor(n){this._bufferService=n,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const n=this.selectionStart[0]+this.selectionStartLength;return n>this._bufferService.cols?n%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(n/this._bufferService.cols)-1]:[n%this._bufferService.cols,this.selectionStart[1]+Math.floor(n/this._bufferService.cols)]:[n,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const n=this.selectionStart[0]+this.selectionStartLength;return n>this._bufferService.cols?[n%this._bufferService.cols,this.selectionStart[1]+Math.floor(n/this._bufferService.cols)]:[Math.max(n,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const n=this.selectionStart,l=this.selectionEnd;return!(!n||!l)&&(n[1]>l[1]||n[1]===l[1]&&n[0]>l[0])}handleTrim(n){return this.selectionStart&&(this.selectionStart[1]-=n),this.selectionEnd&&(this.selectionEnd[1]-=n),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(_,i,n){var l=this&&this.__decorate||function(r,d,h,a){var S,b=arguments.length,y=b<3?d:a===null?a=Object.getOwnPropertyDescriptor(d,h):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(r,d,h,a);else for(var E=r.length-1;E>=0;E--)(S=r[E])&&(y=(b<3?S(y):b>3?S(d,h,y):S(d,h))||y);return b>3&&y&&Object.defineProperty(d,h,y),y},u=this&&this.__param||function(r,d){return function(h,a){d(h,a,r)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CharSizeService=void 0;const c=n(2585),p=n(8460),g=n(844);let w=class extends g.Disposable{constructor(r,d,h){super(),this._optionsService=h,this.width=0,this.height=0,this._onCharSizeChange=this.register(new p.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new v(r,d,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}get hasValidSize(){return this.width>0&&this.height>0}measure(){const r=this._measureStrategy.measure();r.width===this.width&&r.height===this.height||(this.width=r.width,this.height=r.height,this._onCharSizeChange.fire())}};w=l([u(2,c.IOptionsService)],w),i.CharSizeService=w;class v{constructor(d,h,a){this._document=d,this._parentElement=h,this._optionsService=a,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const d=this._measureElement.getBoundingClientRect();return d.width!==0&&d.height!==0&&(this._result.width=d.width,this._result.height=Math.ceil(d.height)),this._result}}},4269:function(_,i,n){var l=this&&this.__decorate||function(d,h,a,S){var b,y=arguments.length,E=y<3?h:S===null?S=Object.getOwnPropertyDescriptor(h,a):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(d,h,a,S);else for(var C=d.length-1;C>=0;C--)(b=d[C])&&(E=(y<3?b(E):y>3?b(h,a,E):b(h,a))||E);return y>3&&E&&Object.defineProperty(h,a,E),E},u=this&&this.__param||function(d,h){return function(a,S){h(a,S,d)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CharacterJoinerService=i.JoinedCellData=void 0;const c=n(3734),p=n(643),g=n(511),w=n(2585);class v extends c.AttributeData{constructor(h,a,S){super(),this.content=0,this.combinedData="",this.fg=h.fg,this.bg=h.bg,this.combinedData=a,this._width=S}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(h){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}i.JoinedCellData=v;let r=class Cr{constructor(h){this._bufferService=h,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new g.CellData}register(h){const a={id:this._nextCharacterJoinerId++,handler:h};return this._characterJoiners.push(a),a.id}deregister(h){for(let a=0;a<this._characterJoiners.length;a++)if(this._characterJoiners[a].id===h)return this._characterJoiners.splice(a,1),!0;return!1}getJoinedCharacters(h){if(this._characterJoiners.length===0)return[];const a=this._bufferService.buffer.lines.get(h);if(!a||a.length===0)return[];const S=[],b=a.translateToString(!0);let y=0,E=0,C=0,k=a.getFg(0),R=a.getBg(0);for(let T=0;T<a.getTrimmedLength();T++)if(a.loadCell(T,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==k||this._workCell.bg!==R){if(T-y>1){const O=this._getJoinedRanges(b,C,E,a,y);for(let I=0;I<O.length;I++)S.push(O[I])}y=T,C=E,k=this._workCell.fg,R=this._workCell.bg}E+=this._workCell.getChars().length||p.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-y>1){const T=this._getJoinedRanges(b,C,E,a,y);for(let O=0;O<T.length;O++)S.push(T[O])}return S}_getJoinedRanges(h,a,S,b,y){const E=h.substring(a,S);let C=[];try{C=this._characterJoiners[0].handler(E)}catch(k){console.error(k)}for(let k=1;k<this._characterJoiners.length;k++)try{const R=this._characterJoiners[k].handler(E);for(let T=0;T<R.length;T++)Cr._mergeRanges(C,R[T])}catch(R){console.error(R)}return this._stringRangesToCellRanges(C,b,y),C}_stringRangesToCellRanges(h,a,S){let b=0,y=!1,E=0,C=h[b];if(C){for(let k=S;k<this._bufferService.cols;k++){const R=a.getWidth(k),T=a.getString(k).length||p.WHITESPACE_CELL_CHAR.length;if(R!==0){if(!y&&C[0]<=E&&(C[0]=k,y=!0),C[1]<=E){if(C[1]=k,C=h[++b],!C)break;C[0]<=E?(C[0]=k,y=!0):y=!1}E+=T}}C&&(C[1]=this._bufferService.cols)}}static _mergeRanges(h,a){let S=!1;for(let b=0;b<h.length;b++){const y=h[b];if(S){if(a[1]<=y[0])return h[b-1][1]=a[1],h;if(a[1]<=y[1])return h[b-1][1]=Math.max(a[1],y[1]),h.splice(b,1),h;h.splice(b,1),b--}else{if(a[1]<=y[0])return h.splice(b,0,a),h;if(a[1]<=y[1])return y[0]=Math.min(a[0],y[0]),h;a[0]<y[1]&&(y[0]=Math.min(a[0],y[0]),S=!0)}}return S?h[h.length-1][1]=a[1]:h.push(a),h}};r=l([u(0,w.IBufferService)],r),i.CharacterJoinerService=r},5114:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CoreBrowserService=void 0,i.CoreBrowserService=class{constructor(n,l){this._textarea=n,this.window=l,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(_,i,n){var l=this&&this.__decorate||function(w,v,r,d){var h,a=arguments.length,S=a<3?v:d===null?d=Object.getOwnPropertyDescriptor(v,r):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(w,v,r,d);else for(var b=w.length-1;b>=0;b--)(h=w[b])&&(S=(a<3?h(S):a>3?h(v,r,S):h(v,r))||S);return a>3&&S&&Object.defineProperty(v,r,S),S},u=this&&this.__param||function(w,v){return function(r,d){v(r,d,w)}};Object.defineProperty(i,"__esModule",{value:!0}),i.MouseService=void 0;const c=n(4725),p=n(9806);let g=class{constructor(w,v){this._renderService=w,this._charSizeService=v}getCoords(w,v,r,d,h){return(0,p.getCoords)(window,w,v,r,d,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,h)}getMouseReportCoords(w,v){const r=(0,p.getCoordsRelativeToElement)(window,w,v);if(!(!this._charSizeService.hasValidSize||r[0]<0||r[1]<0||r[0]>=this._renderService.dimensions.css.canvas.width||r[1]>=this._renderService.dimensions.css.canvas.height))return{col:Math.floor(r[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(r[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(r[0]),y:Math.floor(r[1])}}};g=l([u(0,c.IRenderService),u(1,c.ICharSizeService)],g),i.MouseService=g},3230:function(_,i,n){var l=this&&this.__decorate||function(S,b,y,E){var C,k=arguments.length,R=k<3?b:E===null?E=Object.getOwnPropertyDescriptor(b,y):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(S,b,y,E);else for(var T=S.length-1;T>=0;T--)(C=S[T])&&(R=(k<3?C(R):k>3?C(b,y,R):C(b,y))||R);return k>3&&R&&Object.defineProperty(b,y,R),R},u=this&&this.__param||function(S,b){return function(y,E){b(y,E,S)}};Object.defineProperty(i,"__esModule",{value:!0}),i.RenderService=void 0;const c=n(6193),p=n(8460),g=n(844),w=n(5596),v=n(3656),r=n(2585),d=n(4725),h=n(7226);let a=class extends g.Disposable{constructor(S,b,y,E,C,k,R,T){if(super(),this._rowCount=S,this._charSizeService=E,this._pausedResizeTask=new h.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new p.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new p.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new p.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new p.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this.register({dispose:()=>{var O;return(O=this._renderer)===null||O===void 0?void 0:O.dispose()}}),this._renderDebouncer=new c.RenderDebouncer(R.window,(O,I)=>this._renderRows(O,I)),this.register(this._renderDebouncer),this._screenDprMonitor=new w.ScreenDprMonitor(R.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(k.onResize(()=>this._fullRefresh())),this.register(k.buffers.onBufferActivate(()=>{var O;return(O=this._renderer)===null||O===void 0?void 0:O.clear()})),this.register(y.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(C.onDecorationRegistered(()=>this._fullRefresh())),this.register(C.onDecorationRemoved(()=>this._fullRefresh())),this.register(y.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(k.cols,k.rows),this._fullRefresh()})),this.register(y.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(k.buffer.y,k.buffer.y,!0))),this.register((0,v.addDisposableDomListener)(R.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(T.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in R.window){const O=new R.window.IntersectionObserver(I=>this._handleIntersectionChange(I[I.length-1]),{threshold:0});O.observe(b),this.register({dispose:()=>O.disconnect()})}}get dimensions(){return this._renderer.dimensions}_handleIntersectionChange(S){this._isPaused=S.isIntersecting===void 0?S.intersectionRatio===0:!S.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(S,b,y=!1){this._isPaused?this._needsFullRefresh=!0:(y||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(S,b,this._rowCount))}_renderRows(S,b){this._renderer&&(S=Math.min(S,this._rowCount-1),b=Math.min(b,this._rowCount-1),this._renderer.renderRows(S,b),this._needsSelectionRefresh&&(this._renderer.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:S,end:b}),this._onRender.fire({start:S,end:b}),this._isNextRenderRedrawOnly=!0)}resize(S,b){this._rowCount=b,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer&&(this._renderer.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions))}hasRenderer(){return!!this._renderer}setRenderer(S){var b;(b=this._renderer)===null||b===void 0||b.dispose(),this._renderer=S,this._renderer.onRequestRedraw(y=>this.refreshRows(y.start,y.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(S){return this._renderDebouncer.addRefreshCallback(S)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var S,b;this._renderer&&((b=(S=this._renderer).clearTextureAtlas)===null||b===void 0||b.call(S),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer&&(this._renderer.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(S,b){this._renderer&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.handleResize(S,b)):this._renderer.handleResize(S,b),this._fullRefresh())}handleCharSizeChanged(){var S;(S=this._renderer)===null||S===void 0||S.handleCharSizeChanged()}handleBlur(){var S;(S=this._renderer)===null||S===void 0||S.handleBlur()}handleFocus(){var S;(S=this._renderer)===null||S===void 0||S.handleFocus()}handleSelectionChanged(S,b,y){var E;this._selectionState.start=S,this._selectionState.end=b,this._selectionState.columnSelectMode=y,(E=this._renderer)===null||E===void 0||E.handleSelectionChanged(S,b,y)}handleCursorMove(){var S;(S=this._renderer)===null||S===void 0||S.handleCursorMove()}clear(){var S;(S=this._renderer)===null||S===void 0||S.clear()}};a=l([u(2,r.IOptionsService),u(3,d.ICharSizeService),u(4,r.IDecorationService),u(5,r.IBufferService),u(6,d.ICoreBrowserService),u(7,d.IThemeService)],a),i.RenderService=a},9312:function(_,i,n){var l=this&&this.__decorate||function(C,k,R,T){var O,I=arguments.length,q=I<3?k:T===null?T=Object.getOwnPropertyDescriptor(k,R):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(C,k,R,T);else for(var z=C.length-1;z>=0;z--)(O=C[z])&&(q=(I<3?O(q):I>3?O(k,R,q):O(k,R))||q);return I>3&&q&&Object.defineProperty(k,R,q),q},u=this&&this.__param||function(C,k){return function(R,T){k(R,T,C)}};Object.defineProperty(i,"__esModule",{value:!0}),i.SelectionService=void 0;const c=n(6114),p=n(456),g=n(511),w=n(8460),v=n(4725),r=n(2585),d=n(9806),h=n(9504),a=n(844),S=n(4841),b=String.fromCharCode(160),y=new RegExp(b,"g");let E=class extends a.Disposable{constructor(C,k,R,T,O,I,q,z,G){super(),this._element=C,this._screenElement=k,this._linkifier=R,this._bufferService=T,this._coreService=O,this._mouseService=I,this._optionsService=q,this._renderService=z,this._coreBrowserService=G,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new g.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new w.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new w.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new w.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new w.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=L=>this._handleMouseMove(L),this._mouseUpListener=L=>this._handleMouseUp(L),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(L=>this._handleTrim(L)),this.register(this._bufferService.buffers.onBufferActivate(L=>this._handleBufferActivate(L))),this.enable(),this._model=new p.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,a.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const C=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;return!(!C||!k||C[0]===k[0]&&C[1]===k[1])}get selectionText(){const C=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;if(!C||!k)return"";const R=this._bufferService.buffer,T=[];if(this._activeSelectionMode===3){if(C[0]===k[0])return"";const O=C[0]<k[0]?C[0]:k[0],I=C[0]<k[0]?k[0]:C[0];for(let q=C[1];q<=k[1];q++){const z=R.translateBufferLineToString(q,!0,O,I);T.push(z)}}else{const O=C[1]===k[1]?k[0]:void 0;T.push(R.translateBufferLineToString(C[1],!0,C[0],O));for(let I=C[1]+1;I<=k[1]-1;I++){const q=R.lines.get(I),z=R.translateBufferLineToString(I,!0);q!=null&&q.isWrapped?T[T.length-1]+=z:T.push(z)}if(C[1]!==k[1]){const I=R.lines.get(k[1]),q=R.translateBufferLineToString(k[1],!0,0,k[0]);I&&I.isWrapped?T[T.length-1]+=q:T.push(q)}}return T.map(O=>O.replace(y," ")).join(c.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(C){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),c.isLinux&&C&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(C){const k=this._getMouseBufferCoords(C),R=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;return!!(R&&T&&k)&&this._areCoordsInSelection(k,R,T)}isCellInSelection(C,k){const R=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;return!(!R||!T)&&this._areCoordsInSelection([C,k],R,T)}_areCoordsInSelection(C,k,R){return C[1]>k[1]&&C[1]<R[1]||k[1]===R[1]&&C[1]===k[1]&&C[0]>=k[0]&&C[0]<R[0]||k[1]<R[1]&&C[1]===R[1]&&C[0]<R[0]||k[1]<R[1]&&C[1]===k[1]&&C[0]>=k[0]}_selectWordAtCursor(C,k){var R,T;const O=(T=(R=this._linkifier.currentLink)===null||R===void 0?void 0:R.link)===null||T===void 0?void 0:T.range;if(O)return this._model.selectionStart=[O.start.x-1,O.start.y-1],this._model.selectionStartLength=(0,S.getRangeLength)(O,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const I=this._getMouseBufferCoords(C);return!!I&&(this._selectWordAt(I,k),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(C,k){this._model.clearSelection(),C=Math.max(C,0),k=Math.min(k,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,C],this._model.selectionEnd=[this._bufferService.cols,k],this.refresh(),this._onSelectionChange.fire()}_handleTrim(C){this._model.handleTrim(C)&&this.refresh()}_getMouseBufferCoords(C){const k=this._mouseService.getCoords(C,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(k)return k[0]--,k[1]--,k[1]+=this._bufferService.buffer.ydisp,k}_getMouseEventScrollAmount(C){let k=(0,d.getCoordsRelativeToElement)(this._coreBrowserService.window,C,this._screenElement)[1];const R=this._renderService.dimensions.css.canvas.height;return k>=0&&k<=R?0:(k>R&&(k-=R),k=Math.min(Math.max(k,-50),50),k/=50,k/Math.abs(k)+Math.round(14*k))}shouldForceSelection(C){return c.isMac?C.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:C.shiftKey}handleMouseDown(C){if(this._mouseDownTimeStamp=C.timeStamp,(C.button!==2||!this.hasSelection)&&C.button===0){if(!this._enabled){if(!this.shouldForceSelection(C))return;C.stopPropagation()}C.preventDefault(),this._dragScrollAmount=0,this._enabled&&C.shiftKey?this._handleIncrementalClick(C):C.detail===1?this._handleSingleClick(C):C.detail===2?this._handleDoubleClick(C):C.detail===3&&this._handleTripleClick(C),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(C){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(C))}_handleSingleClick(C){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(C)?3:0,this._model.selectionStart=this._getMouseBufferCoords(C),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const k=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);k&&k.length!==this._model.selectionStart[0]&&k.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(C){this._selectWordAtCursor(C,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(C){const k=this._getMouseBufferCoords(C);k&&(this._activeSelectionMode=2,this._selectLineAt(k[1]))}shouldColumnSelect(C){return C.altKey&&!(c.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(C){if(C.stopImmediatePropagation(),!this._model.selectionStart)return;const k=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(C),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(C),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const R=this._bufferService.buffer;if(this._model.selectionEnd[1]<R.lines.length){const T=R.lines.get(this._model.selectionEnd[1]);T&&T.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}k&&k[0]===this._model.selectionEnd[0]&&k[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const C=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(C.ydisp+this._bufferService.rows,C.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=C.ydisp),this.refresh()}}_handleMouseUp(C){const k=C.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&k<500&&C.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const R=this._mouseService.getCoords(C,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(R&&R[0]!==void 0&&R[1]!==void 0){const T=(0,h.moveToCellSequence)(R[0]-1,R[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(T,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const C=this._model.finalSelectionStart,k=this._model.finalSelectionEnd,R=!(!C||!k||C[0]===k[0]&&C[1]===k[1]);R?C&&k&&(this._oldSelectionStart&&this._oldSelectionEnd&&C[0]===this._oldSelectionStart[0]&&C[1]===this._oldSelectionStart[1]&&k[0]===this._oldSelectionEnd[0]&&k[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(C,k,R)):this._oldHasSelection&&this._fireOnSelectionChange(C,k,R)}_fireOnSelectionChange(C,k,R){this._oldSelectionStart=C,this._oldSelectionEnd=k,this._oldHasSelection=R,this._onSelectionChange.fire()}_handleBufferActivate(C){this.clearSelection(),this._trimListener.dispose(),this._trimListener=C.activeBuffer.lines.onTrim(k=>this._handleTrim(k))}_convertViewportColToCharacterIndex(C,k){let R=k;for(let T=0;k>=T;T++){const O=C.loadCell(T,this._workCell).getChars().length;this._workCell.getWidth()===0?R--:O>1&&k!==T&&(R+=O-1)}return R}setSelection(C,k,R){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[C,k],this._model.selectionStartLength=R,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(C){this._isClickInSelection(C)||(this._selectWordAtCursor(C,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(C,k,R=!0,T=!0){if(C[0]>=this._bufferService.cols)return;const O=this._bufferService.buffer,I=O.lines.get(C[1]);if(!I)return;const q=O.translateBufferLineToString(C[1],!1);let z=this._convertViewportColToCharacterIndex(I,C[0]),G=z;const L=C[0]-z;let M=0,B=0,H=0,j=0;if(q.charAt(z)===" "){for(;z>0&&q.charAt(z-1)===" ";)z--;for(;G<q.length&&q.charAt(G+1)===" ";)G++}else{let J=C[0],ie=C[0];I.getWidth(J)===0&&(M++,J--),I.getWidth(ie)===2&&(B++,ie++);const $=I.getString(ie).length;for($>1&&(j+=$-1,G+=$-1);J>0&&z>0&&!this._isCharWordSeparator(I.loadCell(J-1,this._workCell));){I.loadCell(J-1,this._workCell);const P=this._workCell.getChars().length;this._workCell.getWidth()===0?(M++,J--):P>1&&(H+=P-1,z-=P-1),z--,J--}for(;ie<I.length&&G+1<q.length&&!this._isCharWordSeparator(I.loadCell(ie+1,this._workCell));){I.loadCell(ie+1,this._workCell);const P=this._workCell.getChars().length;this._workCell.getWidth()===2?(B++,ie++):P>1&&(j+=P-1,G+=P-1),G++,ie++}}G++;let Y=z+L-M+H,le=Math.min(this._bufferService.cols,G-z+M+B-H-j);if(k||q.slice(z,G).trim()!==""){if(R&&Y===0&&I.getCodePoint(0)!==32){const J=O.lines.get(C[1]-1);if(J&&I.isWrapped&&J.getCodePoint(this._bufferService.cols-1)!==32){const ie=this._getWordAt([this._bufferService.cols-1,C[1]-1],!1,!0,!1);if(ie){const $=this._bufferService.cols-ie.start;Y-=$,le+=$}}}if(T&&Y+le===this._bufferService.cols&&I.getCodePoint(this._bufferService.cols-1)!==32){const J=O.lines.get(C[1]+1);if(J!=null&&J.isWrapped&&J.getCodePoint(0)!==32){const ie=this._getWordAt([0,C[1]+1],!1,!1,!0);ie&&(le+=ie.length)}}return{start:Y,length:le}}}_selectWordAt(C,k){const R=this._getWordAt(C,k);if(R){for(;R.start<0;)R.start+=this._bufferService.cols,C[1]--;this._model.selectionStart=[R.start,C[1]],this._model.selectionStartLength=R.length}}_selectToWordAt(C){const k=this._getWordAt(C,!0);if(k){let R=C[1];for(;k.start<0;)k.start+=this._bufferService.cols,R--;if(!this._model.areSelectionValuesReversed())for(;k.start+k.length>this._bufferService.cols;)k.length-=this._bufferService.cols,R++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?k.start:k.start+k.length,R]}}_isCharWordSeparator(C){return C.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(C.getChars())>=0}_selectLineAt(C){const k=this._bufferService.buffer.getWrappedRangeForLine(C),R={start:{x:0,y:k.first},end:{x:this._bufferService.cols-1,y:k.last}};this._model.selectionStart=[0,k.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,S.getRangeLength)(R,this._bufferService.cols)}};E=l([u(3,r.IBufferService),u(4,r.ICoreService),u(5,v.IMouseService),u(6,r.IOptionsService),u(7,v.IRenderService),u(8,v.ICoreBrowserService)],E),i.SelectionService=E},4725:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.IThemeService=i.ICharacterJoinerService=i.ISelectionService=i.IRenderService=i.IMouseService=i.ICoreBrowserService=i.ICharSizeService=void 0;const l=n(8343);i.ICharSizeService=(0,l.createDecorator)("CharSizeService"),i.ICoreBrowserService=(0,l.createDecorator)("CoreBrowserService"),i.IMouseService=(0,l.createDecorator)("MouseService"),i.IRenderService=(0,l.createDecorator)("RenderService"),i.ISelectionService=(0,l.createDecorator)("SelectionService"),i.ICharacterJoinerService=(0,l.createDecorator)("CharacterJoinerService"),i.IThemeService=(0,l.createDecorator)("ThemeService")},6731:function(_,i,n){var l=this&&this.__decorate||function(E,C,k,R){var T,O=arguments.length,I=O<3?C:R===null?R=Object.getOwnPropertyDescriptor(C,k):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(E,C,k,R);else for(var q=E.length-1;q>=0;q--)(T=E[q])&&(I=(O<3?T(I):O>3?T(C,k,I):T(C,k))||I);return O>3&&I&&Object.defineProperty(C,k,I),I},u=this&&this.__param||function(E,C){return function(k,R){C(k,R,E)}};Object.defineProperty(i,"__esModule",{value:!0}),i.ThemeService=i.DEFAULT_ANSI_COLORS=void 0;const c=n(7239),p=n(8055),g=n(8460),w=n(844),v=n(2585),r=p.css.toColor("#ffffff"),d=p.css.toColor("#000000"),h=p.css.toColor("#ffffff"),a=p.css.toColor("#000000"),S={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};i.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const E=[p.css.toColor("#2e3436"),p.css.toColor("#cc0000"),p.css.toColor("#4e9a06"),p.css.toColor("#c4a000"),p.css.toColor("#3465a4"),p.css.toColor("#75507b"),p.css.toColor("#06989a"),p.css.toColor("#d3d7cf"),p.css.toColor("#555753"),p.css.toColor("#ef2929"),p.css.toColor("#8ae234"),p.css.toColor("#fce94f"),p.css.toColor("#729fcf"),p.css.toColor("#ad7fa8"),p.css.toColor("#34e2e2"),p.css.toColor("#eeeeec")],C=[0,95,135,175,215,255];for(let k=0;k<216;k++){const R=C[k/36%6|0],T=C[k/6%6|0],O=C[k%6];E.push({css:p.channels.toCss(R,T,O),rgba:p.channels.toRgba(R,T,O)})}for(let k=0;k<24;k++){const R=8+10*k;E.push({css:p.channels.toCss(R,R,R),rgba:p.channels.toRgba(R,R,R)})}return E})());let b=class extends w.Disposable{constructor(E){super(),this._optionsService=E,this._onChangeColors=this.register(new g.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._contrastCache=new c.ColorContrastCache,this._colors={foreground:r,background:d,cursor:h,cursorAccent:a,selectionForeground:void 0,selectionBackgroundTransparent:S,selectionBackgroundOpaque:p.color.blend(d,S),selectionInactiveBackgroundTransparent:S,selectionInactiveBackgroundOpaque:p.color.blend(d,S),ansi:i.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}get colors(){return this._colors}_setTheme(E={}){const C=this._colors;if(C.foreground=y(E.foreground,r),C.background=y(E.background,d),C.cursor=y(E.cursor,h),C.cursorAccent=y(E.cursorAccent,a),C.selectionBackgroundTransparent=y(E.selectionBackground,S),C.selectionBackgroundOpaque=p.color.blend(C.background,C.selectionBackgroundTransparent),C.selectionInactiveBackgroundTransparent=y(E.selectionInactiveBackground,C.selectionBackgroundTransparent),C.selectionInactiveBackgroundOpaque=p.color.blend(C.background,C.selectionInactiveBackgroundTransparent),C.selectionForeground=E.selectionForeground?y(E.selectionForeground,p.NULL_COLOR):void 0,C.selectionForeground===p.NULL_COLOR&&(C.selectionForeground=void 0),p.color.isOpaque(C.selectionBackgroundTransparent)&&(C.selectionBackgroundTransparent=p.color.opacity(C.selectionBackgroundTransparent,.3)),p.color.isOpaque(C.selectionInactiveBackgroundTransparent)&&(C.selectionInactiveBackgroundTransparent=p.color.opacity(C.selectionInactiveBackgroundTransparent,.3)),C.ansi=i.DEFAULT_ANSI_COLORS.slice(),C.ansi[0]=y(E.black,i.DEFAULT_ANSI_COLORS[0]),C.ansi[1]=y(E.red,i.DEFAULT_ANSI_COLORS[1]),C.ansi[2]=y(E.green,i.DEFAULT_ANSI_COLORS[2]),C.ansi[3]=y(E.yellow,i.DEFAULT_ANSI_COLORS[3]),C.ansi[4]=y(E.blue,i.DEFAULT_ANSI_COLORS[4]),C.ansi[5]=y(E.magenta,i.DEFAULT_ANSI_COLORS[5]),C.ansi[6]=y(E.cyan,i.DEFAULT_ANSI_COLORS[6]),C.ansi[7]=y(E.white,i.DEFAULT_ANSI_COLORS[7]),C.ansi[8]=y(E.brightBlack,i.DEFAULT_ANSI_COLORS[8]),C.ansi[9]=y(E.brightRed,i.DEFAULT_ANSI_COLORS[9]),C.ansi[10]=y(E.brightGreen,i.DEFAULT_ANSI_COLORS[10]),C.ansi[11]=y(E.brightYellow,i.DEFAULT_ANSI_COLORS[11]),C.ansi[12]=y(E.brightBlue,i.DEFAULT_ANSI_COLORS[12]),C.ansi[13]=y(E.brightMagenta,i.DEFAULT_ANSI_COLORS[13]),C.ansi[14]=y(E.brightCyan,i.DEFAULT_ANSI_COLORS[14]),C.ansi[15]=y(E.brightWhite,i.DEFAULT_ANSI_COLORS[15]),E.extendedAnsi){const k=Math.min(C.ansi.length-16,E.extendedAnsi.length);for(let R=0;R<k;R++)C.ansi[R+16]=y(E.extendedAnsi[R],i.DEFAULT_ANSI_COLORS[R+16])}this._contrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(E){this._restoreColor(E),this._onChangeColors.fire(this.colors)}_restoreColor(E){if(E!==void 0)switch(E){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[E]=this._restoreColors.ansi[E]}else for(let C=0;C<this._restoreColors.ansi.length;++C)this._colors.ansi[C]=this._restoreColors.ansi[C]}modifyColors(E){E(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function y(E,C){if(E!==void 0)try{return p.css.toColor(E)}catch{}return C}b=l([u(0,v.IOptionsService)],b),i.ThemeService=b},6349:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CircularList=void 0;const l=n(8460),u=n(844);class c extends u.Disposable{constructor(g){super(),this._maxLength=g,this.onDeleteEmitter=this.register(new l.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new l.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new l.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(g){if(this._maxLength===g)return;const w=new Array(g);for(let v=0;v<Math.min(g,this.length);v++)w[v]=this._array[this._getCyclicIndex(v)];this._array=w,this._maxLength=g,this._startIndex=0}get length(){return this._length}set length(g){if(g>this._length)for(let w=this._length;w<g;w++)this._array[w]=void 0;this._length=g}get(g){return this._array[this._getCyclicIndex(g)]}set(g,w){this._array[this._getCyclicIndex(g)]=w}push(g){this._array[this._getCyclicIndex(this._length)]=g,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(g,w,...v){if(w){for(let r=g;r<this._length-w;r++)this._array[this._getCyclicIndex(r)]=this._array[this._getCyclicIndex(r+w)];this._length-=w,this.onDeleteEmitter.fire({index:g,amount:w})}for(let r=this._length-1;r>=g;r--)this._array[this._getCyclicIndex(r+v.length)]=this._array[this._getCyclicIndex(r)];for(let r=0;r<v.length;r++)this._array[this._getCyclicIndex(g+r)]=v[r];if(v.length&&this.onInsertEmitter.fire({index:g,amount:v.length}),this._length+v.length>this._maxLength){const r=this._length+v.length-this._maxLength;this._startIndex+=r,this._length=this._maxLength,this.onTrimEmitter.fire(r)}else this._length+=v.length}trimStart(g){g>this._length&&(g=this._length),this._startIndex+=g,this._length-=g,this.onTrimEmitter.fire(g)}shiftElements(g,w,v){if(!(w<=0)){if(g<0||g>=this._length)throw new Error("start argument out of range");if(g+v<0)throw new Error("Cannot shift elements in list beyond index 0");if(v>0){for(let d=w-1;d>=0;d--)this.set(g+d+v,this.get(g+d));const r=g+w+v-this._length;if(r>0)for(this._length+=r;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let r=0;r<w;r++)this.set(g+r+v,this.get(g+r))}}_getCyclicIndex(g){return(this._startIndex+g)%this._maxLength}}i.CircularList=c},1439:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.clone=void 0,i.clone=function n(l,u=5){if(typeof l!="object")return l;const c=Array.isArray(l)?[]:{};for(const p in l)c[p]=u<=1?l[p]:l[p]&&n(l[p],u-1);return c}},8055:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.contrastRatio=i.toPaddedHex=i.rgba=i.rgb=i.css=i.color=i.channels=i.NULL_COLOR=void 0;const l=n(6114);let u=0,c=0,p=0,g=0;var w,v,r;function d(a){const S=a.toString(16);return S.length<2?"0"+S:S}function h(a,S){return a<S?(S+.05)/(a+.05):(a+.05)/(S+.05)}i.NULL_COLOR={css:"#00000000",rgba:0},function(a){a.toCss=function(S,b,y,E){return E!==void 0?`#${d(S)}${d(b)}${d(y)}${d(E)}`:`#${d(S)}${d(b)}${d(y)}`},a.toRgba=function(S,b,y,E=255){return(S<<24|b<<16|y<<8|E)>>>0}}(w=i.channels||(i.channels={})),function(a){function S(b,y){return g=Math.round(255*y),[u,c,p]=r.toChannels(b.rgba),{css:w.toCss(u,c,p,g),rgba:w.toRgba(u,c,p,g)}}a.blend=function(b,y){if(g=(255&y.rgba)/255,g===1)return{css:y.css,rgba:y.rgba};const E=y.rgba>>24&255,C=y.rgba>>16&255,k=y.rgba>>8&255,R=b.rgba>>24&255,T=b.rgba>>16&255,O=b.rgba>>8&255;return u=R+Math.round((E-R)*g),c=T+Math.round((C-T)*g),p=O+Math.round((k-O)*g),{css:w.toCss(u,c,p),rgba:w.toRgba(u,c,p)}},a.isOpaque=function(b){return(255&b.rgba)==255},a.ensureContrastRatio=function(b,y,E){const C=r.ensureContrastRatio(b.rgba,y.rgba,E);if(C)return r.toColor(C>>24&255,C>>16&255,C>>8&255)},a.opaque=function(b){const y=(255|b.rgba)>>>0;return[u,c,p]=r.toChannels(y),{css:w.toCss(u,c,p),rgba:y}},a.opacity=S,a.multiplyOpacity=function(b,y){return g=255&b.rgba,S(b,g*y/255)},a.toColorRGB=function(b){return[b.rgba>>24&255,b.rgba>>16&255,b.rgba>>8&255]}}(i.color||(i.color={})),function(a){let S,b;if(!l.isNode){const y=document.createElement("canvas");y.width=1,y.height=1;const E=y.getContext("2d",{willReadFrequently:!0});E&&(S=E,S.globalCompositeOperation="copy",b=S.createLinearGradient(0,0,1,1))}a.toColor=function(y){if(y.match(/#[\da-f]{3,8}/i))switch(y.length){case 4:return u=parseInt(y.slice(1,2).repeat(2),16),c=parseInt(y.slice(2,3).repeat(2),16),p=parseInt(y.slice(3,4).repeat(2),16),r.toColor(u,c,p);case 5:return u=parseInt(y.slice(1,2).repeat(2),16),c=parseInt(y.slice(2,3).repeat(2),16),p=parseInt(y.slice(3,4).repeat(2),16),g=parseInt(y.slice(4,5).repeat(2),16),r.toColor(u,c,p,g);case 7:return{css:y,rgba:(parseInt(y.slice(1),16)<<8|255)>>>0};case 9:return{css:y,rgba:parseInt(y.slice(1),16)>>>0}}const E=y.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(E)return u=parseInt(E[1]),c=parseInt(E[2]),p=parseInt(E[3]),g=Math.round(255*(E[5]===void 0?1:parseFloat(E[5]))),r.toColor(u,c,p,g);if(!S||!b)throw new Error("css.toColor: Unsupported css format");if(S.fillStyle=b,S.fillStyle=y,typeof S.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(S.fillRect(0,0,1,1),[u,c,p,g]=S.getImageData(0,0,1,1).data,g!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:w.toRgba(u,c,p,g),css:y}}}(i.css||(i.css={})),function(a){function S(b,y,E){const C=b/255,k=y/255,R=E/255;return .2126*(C<=.03928?C/12.92:Math.pow((C+.055)/1.055,2.4))+.7152*(k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4))+.0722*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))}a.relativeLuminance=function(b){return S(b>>16&255,b>>8&255,255&b)},a.relativeLuminance2=S}(v=i.rgb||(i.rgb={})),function(a){function S(y,E,C){const k=y>>24&255,R=y>>16&255,T=y>>8&255;let O=E>>24&255,I=E>>16&255,q=E>>8&255,z=h(v.relativeLuminance2(O,I,q),v.relativeLuminance2(k,R,T));for(;z<C&&(O>0||I>0||q>0);)O-=Math.max(0,Math.ceil(.1*O)),I-=Math.max(0,Math.ceil(.1*I)),q-=Math.max(0,Math.ceil(.1*q)),z=h(v.relativeLuminance2(O,I,q),v.relativeLuminance2(k,R,T));return(O<<24|I<<16|q<<8|255)>>>0}function b(y,E,C){const k=y>>24&255,R=y>>16&255,T=y>>8&255;let O=E>>24&255,I=E>>16&255,q=E>>8&255,z=h(v.relativeLuminance2(O,I,q),v.relativeLuminance2(k,R,T));for(;z<C&&(O<255||I<255||q<255);)O=Math.min(255,O+Math.ceil(.1*(255-O))),I=Math.min(255,I+Math.ceil(.1*(255-I))),q=Math.min(255,q+Math.ceil(.1*(255-q))),z=h(v.relativeLuminance2(O,I,q),v.relativeLuminance2(k,R,T));return(O<<24|I<<16|q<<8|255)>>>0}a.ensureContrastRatio=function(y,E,C){const k=v.relativeLuminance(y>>8),R=v.relativeLuminance(E>>8);if(h(k,R)<C){if(R<k){const I=S(y,E,C),q=h(k,v.relativeLuminance(I>>8));if(q<C){const z=b(y,E,C);return q>h(k,v.relativeLuminance(z>>8))?I:z}return I}const T=b(y,E,C),O=h(k,v.relativeLuminance(T>>8));if(O<C){const I=S(y,E,C);return O>h(k,v.relativeLuminance(I>>8))?T:I}return T}},a.reduceLuminance=S,a.increaseLuminance=b,a.toChannels=function(y){return[y>>24&255,y>>16&255,y>>8&255,255&y]},a.toColor=function(y,E,C,k){return{css:w.toCss(y,E,C,k),rgba:w.toRgba(y,E,C,k)}}}(r=i.rgba||(i.rgba={})),i.toPaddedHex=d,i.contrastRatio=h},8969:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CoreTerminal=void 0;const l=n(844),u=n(2585),c=n(4348),p=n(7866),g=n(744),w=n(7302),v=n(6975),r=n(8460),d=n(1753),h=n(1480),a=n(7994),S=n(9282),b=n(5435),y=n(5981),E=n(2660);let C=!1;class k extends l.Disposable{constructor(T){super(),this._onBinary=this.register(new r.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new r.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new r.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new r.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new r.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new r.EventEmitter),this._instantiationService=new c.InstantiationService,this.optionsService=this.register(new w.OptionsService(T)),this._instantiationService.setService(u.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(g.BufferService)),this._instantiationService.setService(u.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(p.LogService)),this._instantiationService.setService(u.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(v.CoreService)),this._instantiationService.setService(u.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(d.CoreMouseService)),this._instantiationService.setService(u.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(h.UnicodeService)),this._instantiationService.setService(u.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(a.CharsetService),this._instantiationService.setService(u.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(E.OscLinkService),this._instantiationService.setService(u.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new b.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,r.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,r.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,r.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,r.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(O=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(O=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new y.WriteBuffer((O,I)=>this._inputHandler.parse(O,I))),this.register((0,r.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed)),this.register((0,l.toDisposable)(()=>{var O;(O=this._windowsWrappingHeuristics)===null||O===void 0||O.dispose(),this._windowsWrappingHeuristics=void 0}))}get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new r.EventEmitter),this._onScroll.event(T=>{var O;(O=this._onScrollApi)===null||O===void 0||O.fire(T.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(T){for(const O in T)this.optionsService.options[O]=T[O]}write(T,O){this._writeBuffer.write(T,O)}writeSync(T,O){this._logService.logLevel<=u.LogLevelEnum.WARN&&!C&&(this._logService.warn("writeSync is unreliable and will be removed soon."),C=!0),this._writeBuffer.writeSync(T,O)}resize(T,O){isNaN(T)||isNaN(O)||(T=Math.max(T,g.MINIMUM_COLS),O=Math.max(O,g.MINIMUM_ROWS),this._bufferService.resize(T,O))}scroll(T,O=!1){this._bufferService.scroll(T,O)}scrollLines(T,O,I){this._bufferService.scrollLines(T,O,I)}scrollPages(T){this._bufferService.scrollPages(T)}scrollToTop(){this._bufferService.scrollToTop()}scrollToBottom(){this._bufferService.scrollToBottom()}scrollToLine(T){this._bufferService.scrollToLine(T)}registerEscHandler(T,O){return this._inputHandler.registerEscHandler(T,O)}registerDcsHandler(T,O){return this._inputHandler.registerDcsHandler(T,O)}registerCsiHandler(T,O){return this._inputHandler.registerCsiHandler(T,O)}registerOscHandler(T,O){return this._inputHandler.registerOscHandler(T,O)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){var T;let O=!1;const I=this.optionsService.rawOptions.windowsPty;I&&I.buildNumber!==void 0&&I.buildNumber!==void 0?O=I.backend==="conpty"&&I.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(O=!0),O?this._enableWindowsWrappingHeuristics():((T=this._windowsWrappingHeuristics)===null||T===void 0||T.dispose(),this._windowsWrappingHeuristics=void 0)}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics){const T=[];T.push(this.onLineFeed(S.updateWindowsModeWrappedState.bind(null,this._bufferService))),T.push(this.registerCsiHandler({final:"H"},()=>((0,S.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics=(0,l.toDisposable)(()=>{for(const O of T)O.dispose()})}}}i.CoreTerminal=k},8460:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.forwardEvent=i.EventEmitter=void 0,i.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=n=>(this._listeners.push(n),{dispose:()=>{if(!this._disposed){for(let l=0;l<this._listeners.length;l++)if(this._listeners[l]===n)return void this._listeners.splice(l,1)}}})),this._event}fire(n,l){const u=[];for(let c=0;c<this._listeners.length;c++)u.push(this._listeners[c]);for(let c=0;c<u.length;c++)u[c].call(void 0,n,l)}dispose(){this._listeners&&(this._listeners.length=0),this._disposed=!0}},i.forwardEvent=function(n,l){return n(u=>l.fire(u))}},5435:function(_,i,n){var l=this&&this.__decorate||function(G,L,M,B){var H,j=arguments.length,Y=j<3?L:B===null?B=Object.getOwnPropertyDescriptor(L,M):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(G,L,M,B);else for(var le=G.length-1;le>=0;le--)(H=G[le])&&(Y=(j<3?H(Y):j>3?H(L,M,Y):H(L,M))||Y);return j>3&&Y&&Object.defineProperty(L,M,Y),Y},u=this&&this.__param||function(G,L){return function(M,B){L(M,B,G)}};Object.defineProperty(i,"__esModule",{value:!0}),i.InputHandler=i.WindowsOptionsReportType=void 0;const c=n(2584),p=n(7116),g=n(2015),w=n(844),v=n(482),r=n(8437),d=n(8460),h=n(643),a=n(511),S=n(3734),b=n(2585),y=n(6242),E=n(6351),C=n(5941),k={"(":0,")":1,"*":2,"+":3,"-":1,".":2},R=131072;function T(G,L){if(G>24)return L.setWinLines||!1;switch(G){case 1:return!!L.restoreWin;case 2:return!!L.minimizeWin;case 3:return!!L.setWinPosition;case 4:return!!L.setWinSizePixels;case 5:return!!L.raiseWin;case 6:return!!L.lowerWin;case 7:return!!L.refreshWin;case 8:return!!L.setWinSizeChars;case 9:return!!L.maximizeWin;case 10:return!!L.fullscreenWin;case 11:return!!L.getWinState;case 13:return!!L.getWinPosition;case 14:return!!L.getWinSizePixels;case 15:return!!L.getScreenSizePixels;case 16:return!!L.getCellSizePixels;case 18:return!!L.getWinSizeChars;case 19:return!!L.getScreenSizeChars;case 20:return!!L.getIconTitle;case 21:return!!L.getWinTitle;case 22:return!!L.pushTitle;case 23:return!!L.popTitle;case 24:return!!L.setWinLines}return!1}var O;(function(G){G[G.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",G[G.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(O=i.WindowsOptionsReportType||(i.WindowsOptionsReportType={}));let I=0;class q extends w.Disposable{constructor(L,M,B,H,j,Y,le,J,ie=new g.EscapeSequenceParser){super(),this._bufferService=L,this._charsetService=M,this._coreService=B,this._logService=H,this._optionsService=j,this._oscLinkService=Y,this._coreMouseService=le,this._unicodeService=J,this._parser=ie,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new v.StringToUtf32,this._utf8Decoder=new v.Utf8ToUtf32,this._workCell=new a.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=r.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=r.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new d.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new d.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new d.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new d.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new d.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new d.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new d.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new d.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new d.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new d.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new d.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new d.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new d.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new z(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate($=>this._activeBuffer=$.activeBuffer)),this._parser.setCsiHandlerFallback(($,P)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString($),params:P.toArray()})}),this._parser.setEscHandlerFallback($=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString($)})}),this._parser.setExecuteHandlerFallback($=>{this._logService.debug("Unknown EXECUTE code: ",{code:$})}),this._parser.setOscHandlerFallback(($,P,F)=>{this._logService.debug("Unknown OSC code: ",{identifier:$,action:P,data:F})}),this._parser.setDcsHandlerFallback(($,P,F)=>{P==="HOOK"&&(F=F.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString($),action:P,payload:F})}),this._parser.setPrintHandler(($,P,F)=>this.print($,P,F)),this._parser.registerCsiHandler({final:"@"},$=>this.insertChars($)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},$=>this.scrollLeft($)),this._parser.registerCsiHandler({final:"A"},$=>this.cursorUp($)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},$=>this.scrollRight($)),this._parser.registerCsiHandler({final:"B"},$=>this.cursorDown($)),this._parser.registerCsiHandler({final:"C"},$=>this.cursorForward($)),this._parser.registerCsiHandler({final:"D"},$=>this.cursorBackward($)),this._parser.registerCsiHandler({final:"E"},$=>this.cursorNextLine($)),this._parser.registerCsiHandler({final:"F"},$=>this.cursorPrecedingLine($)),this._parser.registerCsiHandler({final:"G"},$=>this.cursorCharAbsolute($)),this._parser.registerCsiHandler({final:"H"},$=>this.cursorPosition($)),this._parser.registerCsiHandler({final:"I"},$=>this.cursorForwardTab($)),this._parser.registerCsiHandler({final:"J"},$=>this.eraseInDisplay($,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},$=>this.eraseInDisplay($,!0)),this._parser.registerCsiHandler({final:"K"},$=>this.eraseInLine($,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},$=>this.eraseInLine($,!0)),this._parser.registerCsiHandler({final:"L"},$=>this.insertLines($)),this._parser.registerCsiHandler({final:"M"},$=>this.deleteLines($)),this._parser.registerCsiHandler({final:"P"},$=>this.deleteChars($)),this._parser.registerCsiHandler({final:"S"},$=>this.scrollUp($)),this._parser.registerCsiHandler({final:"T"},$=>this.scrollDown($)),this._parser.registerCsiHandler({final:"X"},$=>this.eraseChars($)),this._parser.registerCsiHandler({final:"Z"},$=>this.cursorBackwardTab($)),this._parser.registerCsiHandler({final:"`"},$=>this.charPosAbsolute($)),this._parser.registerCsiHandler({final:"a"},$=>this.hPositionRelative($)),this._parser.registerCsiHandler({final:"b"},$=>this.repeatPrecedingCharacter($)),this._parser.registerCsiHandler({final:"c"},$=>this.sendDeviceAttributesPrimary($)),this._parser.registerCsiHandler({prefix:">",final:"c"},$=>this.sendDeviceAttributesSecondary($)),this._parser.registerCsiHandler({final:"d"},$=>this.linePosAbsolute($)),this._parser.registerCsiHandler({final:"e"},$=>this.vPositionRelative($)),this._parser.registerCsiHandler({final:"f"},$=>this.hVPosition($)),this._parser.registerCsiHandler({final:"g"},$=>this.tabClear($)),this._parser.registerCsiHandler({final:"h"},$=>this.setMode($)),this._parser.registerCsiHandler({prefix:"?",final:"h"},$=>this.setModePrivate($)),this._parser.registerCsiHandler({final:"l"},$=>this.resetMode($)),this._parser.registerCsiHandler({prefix:"?",final:"l"},$=>this.resetModePrivate($)),this._parser.registerCsiHandler({final:"m"},$=>this.charAttributes($)),this._parser.registerCsiHandler({final:"n"},$=>this.deviceStatus($)),this._parser.registerCsiHandler({prefix:"?",final:"n"},$=>this.deviceStatusPrivate($)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},$=>this.softReset($)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},$=>this.setCursorStyle($)),this._parser.registerCsiHandler({final:"r"},$=>this.setScrollRegion($)),this._parser.registerCsiHandler({final:"s"},$=>this.saveCursor($)),this._parser.registerCsiHandler({final:"t"},$=>this.windowOptions($)),this._parser.registerCsiHandler({final:"u"},$=>this.restoreCursor($)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},$=>this.insertColumns($)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},$=>this.deleteColumns($)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},$=>this.selectProtected($)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},$=>this.requestMode($,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},$=>this.requestMode($,!1)),this._parser.setExecuteHandler(c.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(c.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(c.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(c.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(c.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(c.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(c.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(c.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(c.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(c.C1.IND,()=>this.index()),this._parser.setExecuteHandler(c.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(c.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new y.OscHandler($=>(this.setTitle($),this.setIconName($),!0))),this._parser.registerOscHandler(1,new y.OscHandler($=>this.setIconName($))),this._parser.registerOscHandler(2,new y.OscHandler($=>this.setTitle($))),this._parser.registerOscHandler(4,new y.OscHandler($=>this.setOrReportIndexedColor($))),this._parser.registerOscHandler(8,new y.OscHandler($=>this.setHyperlink($))),this._parser.registerOscHandler(10,new y.OscHandler($=>this.setOrReportFgColor($))),this._parser.registerOscHandler(11,new y.OscHandler($=>this.setOrReportBgColor($))),this._parser.registerOscHandler(12,new y.OscHandler($=>this.setOrReportCursorColor($))),this._parser.registerOscHandler(104,new y.OscHandler($=>this.restoreIndexedColor($))),this._parser.registerOscHandler(110,new y.OscHandler($=>this.restoreFgColor($))),this._parser.registerOscHandler(111,new y.OscHandler($=>this.restoreBgColor($))),this._parser.registerOscHandler(112,new y.OscHandler($=>this.restoreCursorColor($))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const $ in p.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:$},()=>this.selectCharset("("+$)),this._parser.registerEscHandler({intermediates:")",final:$},()=>this.selectCharset(")"+$)),this._parser.registerEscHandler({intermediates:"*",final:$},()=>this.selectCharset("*"+$)),this._parser.registerEscHandler({intermediates:"+",final:$},()=>this.selectCharset("+"+$)),this._parser.registerEscHandler({intermediates:"-",final:$},()=>this.selectCharset("-"+$)),this._parser.registerEscHandler({intermediates:".",final:$},()=>this.selectCharset("."+$)),this._parser.registerEscHandler({intermediates:"/",final:$},()=>this.selectCharset("/"+$));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler($=>(this._logService.error("Parsing error: ",$),$)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new E.DcsHandler(($,P)=>this.requestStatusString($,P)))}getAttrData(){return this._curAttrData}_preserveStack(L,M,B,H){this._parseStack.paused=!0,this._parseStack.cursorStartX=L,this._parseStack.cursorStartY=M,this._parseStack.decodedLength=B,this._parseStack.position=H}_logSlowResolvingAsync(L){this._logService.logLevel<=b.LogLevelEnum.WARN&&Promise.race([L,new Promise((M,B)=>setTimeout(()=>B("#SLOW_TIMEOUT"),5e3))]).catch(M=>{if(M!=="#SLOW_TIMEOUT")throw M;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(L,M){let B,H=this._activeBuffer.x,j=this._activeBuffer.y,Y=0;const le=this._parseStack.paused;if(le){if(B=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,M))return this._logSlowResolvingAsync(B),B;H=this._parseStack.cursorStartX,j=this._parseStack.cursorStartY,this._parseStack.paused=!1,L.length>R&&(Y=this._parseStack.position+R)}if(this._logService.logLevel<=b.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof L=="string"?` "${L}"`:` "${Array.prototype.map.call(L,J=>String.fromCharCode(J)).join("")}"`),typeof L=="string"?L.split("").map(J=>J.charCodeAt(0)):L),this._parseBuffer.length<L.length&&this._parseBuffer.length<R&&(this._parseBuffer=new Uint32Array(Math.min(L.length,R))),le||this._dirtyRowTracker.clearRange(),L.length>R)for(let J=Y;J<L.length;J+=R){const ie=J+R<L.length?J+R:L.length,$=typeof L=="string"?this._stringDecoder.decode(L.substring(J,ie),this._parseBuffer):this._utf8Decoder.decode(L.subarray(J,ie),this._parseBuffer);if(B=this._parser.parse(this._parseBuffer,$))return this._preserveStack(H,j,$,J),this._logSlowResolvingAsync(B),B}else if(!le){const J=typeof L=="string"?this._stringDecoder.decode(L,this._parseBuffer):this._utf8Decoder.decode(L,this._parseBuffer);if(B=this._parser.parse(this._parseBuffer,J))return this._preserveStack(H,j,J,0),this._logSlowResolvingAsync(B),B}this._activeBuffer.x===H&&this._activeBuffer.y===j||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(L,M,B){let H,j;const Y=this._charsetService.charset,le=this._optionsService.rawOptions.screenReaderMode,J=this._bufferService.cols,ie=this._coreService.decPrivateModes.wraparound,$=this._coreService.modes.insertMode,P=this._curAttrData;let F=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&B-M>0&&F.getWidth(this._activeBuffer.x-1)===2&&F.setCellFromCodePoint(this._activeBuffer.x-1,0,1,P.fg,P.bg,P.extended);for(let X=M;X<B;++X){if(H=L[X],j=this._unicodeService.wcwidth(H),H<127&&Y){const Z=Y[String.fromCharCode(H)];Z&&(H=Z.charCodeAt(0))}if(le&&this._onA11yChar.fire((0,v.stringFromCodePoint)(H)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),j||!this._activeBuffer.x){if(this._activeBuffer.x+j-1>=J){if(ie){for(;this._activeBuffer.x<J;)F.setCellFromCodePoint(this._activeBuffer.x++,0,1,P.fg,P.bg,P.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),F=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=J-1,j===2)continue}if($&&(F.insertCells(this._activeBuffer.x,j,this._activeBuffer.getNullCell(P),P),F.getWidth(J-1)===2&&F.setCellFromCodePoint(J-1,h.NULL_CELL_CODE,h.NULL_CELL_WIDTH,P.fg,P.bg,P.extended)),F.setCellFromCodePoint(this._activeBuffer.x++,H,j,P.fg,P.bg,P.extended),j>0)for(;--j;)F.setCellFromCodePoint(this._activeBuffer.x++,0,0,P.fg,P.bg,P.extended)}else F.getWidth(this._activeBuffer.x-1)?F.addCodepointToCell(this._activeBuffer.x-1,H):F.addCodepointToCell(this._activeBuffer.x-2,H)}B-M>0&&(F.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<J&&B-M>0&&F.getWidth(this._activeBuffer.x)===0&&!F.hasContent(this._activeBuffer.x)&&F.setCellFromCodePoint(this._activeBuffer.x,0,1,P.fg,P.bg,P.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(L,M){return L.final!=="t"||L.prefix||L.intermediates?this._parser.registerCsiHandler(L,M):this._parser.registerCsiHandler(L,B=>!T(B.params[0],this._optionsService.rawOptions.windowOptions)||M(B))}registerDcsHandler(L,M){return this._parser.registerDcsHandler(L,new E.DcsHandler(M))}registerEscHandler(L,M){return this._parser.registerEscHandler(L,M)}registerOscHandler(L,M){return this._parser.registerOscHandler(L,new y.OscHandler(M))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var L;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||L===void 0)&&L.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);M.hasWidth(this._activeBuffer.x)&&!M.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const L=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-L),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(L=this._bufferService.cols-1){this._activeBuffer.x=Math.min(L,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(L,M){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=L,this._activeBuffer.y=this._activeBuffer.scrollTop+M):(this._activeBuffer.x=L,this._activeBuffer.y=M),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(L,M){this._restrictCursor(),this._setCursor(this._activeBuffer.x+L,this._activeBuffer.y+M)}cursorUp(L){const M=this._activeBuffer.y-this._activeBuffer.scrollTop;return M>=0?this._moveCursor(0,-Math.min(M,L.params[0]||1)):this._moveCursor(0,-(L.params[0]||1)),!0}cursorDown(L){const M=this._activeBuffer.scrollBottom-this._activeBuffer.y;return M>=0?this._moveCursor(0,Math.min(M,L.params[0]||1)):this._moveCursor(0,L.params[0]||1),!0}cursorForward(L){return this._moveCursor(L.params[0]||1,0),!0}cursorBackward(L){return this._moveCursor(-(L.params[0]||1),0),!0}cursorNextLine(L){return this.cursorDown(L),this._activeBuffer.x=0,!0}cursorPrecedingLine(L){return this.cursorUp(L),this._activeBuffer.x=0,!0}cursorCharAbsolute(L){return this._setCursor((L.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(L){return this._setCursor(L.length>=2?(L.params[1]||1)-1:0,(L.params[0]||1)-1),!0}charPosAbsolute(L){return this._setCursor((L.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(L){return this._moveCursor(L.params[0]||1,0),!0}linePosAbsolute(L){return this._setCursor(this._activeBuffer.x,(L.params[0]||1)-1),!0}vPositionRelative(L){return this._moveCursor(0,L.params[0]||1),!0}hVPosition(L){return this.cursorPosition(L),!0}tabClear(L){const M=L.params[0];return M===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:M===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(L){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let M=L.params[0]||1;for(;M--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(L){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let M=L.params[0]||1;for(;M--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(L){const M=L.params[0];return M===1&&(this._curAttrData.bg|=536870912),M!==2&&M!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(L,M,B,H=!1,j=!1){const Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);Y.replaceCells(M,B,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),j),H&&(Y.isWrapped=!1)}_resetBufferLine(L,M=!1){const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);B&&(B.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),M),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+L),B.isWrapped=!1)}eraseInDisplay(L,M=!1){let B;switch(this._restrictCursor(this._bufferService.cols),L.params[0]){case 0:for(B=this._activeBuffer.y,this._dirtyRowTracker.markDirty(B),this._eraseInBufferLine(B++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,M);B<this._bufferService.rows;B++)this._resetBufferLine(B,M);this._dirtyRowTracker.markDirty(B);break;case 1:for(B=this._activeBuffer.y,this._dirtyRowTracker.markDirty(B),this._eraseInBufferLine(B,0,this._activeBuffer.x+1,!0,M),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(B+1).isWrapped=!1);B--;)this._resetBufferLine(B,M);this._dirtyRowTracker.markDirty(0);break;case 2:for(B=this._bufferService.rows,this._dirtyRowTracker.markDirty(B-1);B--;)this._resetBufferLine(B,M);this._dirtyRowTracker.markDirty(0);break;case 3:const H=this._activeBuffer.lines.length-this._bufferService.rows;H>0&&(this._activeBuffer.lines.trimStart(H),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-H,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-H,0),this._onScroll.fire(0))}return!0}eraseInLine(L,M=!1){switch(this._restrictCursor(this._bufferService.cols),L.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,M);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,M);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,M)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(L){this._restrictCursor();let M=L.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=this._activeBuffer.ybase+this._activeBuffer.y,H=this._bufferService.rows-1-this._activeBuffer.scrollBottom,j=this._bufferService.rows-1+this._activeBuffer.ybase-H+1;for(;M--;)this._activeBuffer.lines.splice(j-1,1),this._activeBuffer.lines.splice(B,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(L){this._restrictCursor();let M=L.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=this._activeBuffer.ybase+this._activeBuffer.y;let H;for(H=this._bufferService.rows-1-this._activeBuffer.scrollBottom,H=this._bufferService.rows-1+this._activeBuffer.ybase-H;M--;)this._activeBuffer.lines.splice(B,1),this._activeBuffer.lines.splice(H,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(L){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.insertCells(this._activeBuffer.x,L.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(L){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.deleteCells(this._activeBuffer.x,L.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(L){let M=L.params[0]||1;for(;M--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(L){let M=L.params[0]||1;for(;M--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(r.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=L.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);H.deleteCells(0,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),H.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=L.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);H.insertCells(0,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),H.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=L.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);H.insertCells(this._activeBuffer.x,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),H.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=L.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);H.deleteCells(this._activeBuffer.x,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),H.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(L){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(L.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(L){if(!this._parser.precedingCodepoint)return!0;const M=L.params[0]||1,B=new Uint32Array(M);for(let H=0;H<M;++H)B[H]=this._parser.precedingCodepoint;return this.print(B,0,B.length),!0}sendDeviceAttributesPrimary(L){return L.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(c.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(c.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(L){return L.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(c.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(c.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(L.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(c.C0.ESC+"[>83;40003;0c")),!0}_is(L){return(this._optionsService.rawOptions.termName+"").indexOf(L)===0}setMode(L){for(let M=0;M<L.length;M++)switch(L.params[M]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(L){for(let M=0;M<L.length;M++)switch(L.params[M]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,p.DEFAULT_CHARSET),this._charsetService.setgCharset(1,p.DEFAULT_CHARSET),this._charsetService.setgCharset(2,p.DEFAULT_CHARSET),this._charsetService.setgCharset(3,p.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(L){for(let M=0;M<L.length;M++)switch(L.params[M]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(L){for(let M=0;M<L.length;M++)switch(L.params[M]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),L.params[M]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(L,M){const B=this._coreService.decPrivateModes,{activeProtocol:H,activeEncoding:j}=this._coreMouseService,Y=this._coreService,{buffers:le,cols:J}=this._bufferService,{active:ie,alt:$}=le,P=this._optionsService.rawOptions,F=te=>te?1:2,X=L.params[0];return Z=X,de=M?X===2?4:X===4?F(Y.modes.insertMode):X===12?3:X===20?F(P.convertEol):0:X===1?F(B.applicationCursorKeys):X===3?P.windowOptions.setWinLines?J===80?2:J===132?1:0:0:X===6?F(B.origin):X===7?F(B.wraparound):X===8?3:X===9?F(H==="X10"):X===12?F(P.cursorBlink):X===25?F(!Y.isCursorHidden):X===45?F(B.reverseWraparound):X===66?F(B.applicationKeypad):X===67?4:X===1e3?F(H==="VT200"):X===1002?F(H==="DRAG"):X===1003?F(H==="ANY"):X===1004?F(B.sendFocus):X===1005?4:X===1006?F(j==="SGR"):X===1015?4:X===1016?F(j==="SGR_PIXELS"):X===1048?1:X===47||X===1047||X===1049?F(ie===$):X===2004?F(B.bracketedPasteMode):0,Y.triggerDataEvent(`${c.C0.ESC}[${M?"":"?"}${Z};${de}$y`),!0;var Z,de}_updateAttrColor(L,M,B,H,j){return M===2?(L|=50331648,L&=-16777216,L|=S.AttributeData.fromColorRGB([B,H,j])):M===5&&(L&=-50331904,L|=33554432|255&B),L}_extractColor(L,M,B){const H=[0,0,-1,0,0,0];let j=0,Y=0;do{if(H[Y+j]=L.params[M+Y],L.hasSubParams(M+Y)){const le=L.getSubParams(M+Y);let J=0;do H[1]===5&&(j=1),H[Y+J+1+j]=le[J];while(++J<le.length&&J+Y+1+j<H.length);break}if(H[1]===5&&Y+j>=2||H[1]===2&&Y+j>=5)break;H[1]&&(j=1)}while(++Y+M<L.length&&Y+j<H.length);for(let le=2;le<H.length;++le)H[le]===-1&&(H[le]=0);switch(H[0]){case 38:B.fg=this._updateAttrColor(B.fg,H[1],H[3],H[4],H[5]);break;case 48:B.bg=this._updateAttrColor(B.bg,H[1],H[3],H[4],H[5]);break;case 58:B.extended=B.extended.clone(),B.extended.underlineColor=this._updateAttrColor(B.extended.underlineColor,H[1],H[3],H[4],H[5])}return Y}_processUnderline(L,M){M.extended=M.extended.clone(),(!~L||L>5)&&(L=1),M.extended.underlineStyle=L,M.fg|=268435456,L===0&&(M.fg&=-268435457),M.updateExtended()}_processSGR0(L){L.fg=r.DEFAULT_ATTR_DATA.fg,L.bg=r.DEFAULT_ATTR_DATA.bg,L.extended=L.extended.clone(),L.extended.underlineStyle=0,L.extended.underlineColor&=-67108864,L.updateExtended()}charAttributes(L){if(L.length===1&&L.params[0]===0)return this._processSGR0(this._curAttrData),!0;const M=L.length;let B;const H=this._curAttrData;for(let j=0;j<M;j++)B=L.params[j],B>=30&&B<=37?(H.fg&=-50331904,H.fg|=16777216|B-30):B>=40&&B<=47?(H.bg&=-50331904,H.bg|=16777216|B-40):B>=90&&B<=97?(H.fg&=-50331904,H.fg|=16777224|B-90):B>=100&&B<=107?(H.bg&=-50331904,H.bg|=16777224|B-100):B===0?this._processSGR0(H):B===1?H.fg|=134217728:B===3?H.bg|=67108864:B===4?(H.fg|=268435456,this._processUnderline(L.hasSubParams(j)?L.getSubParams(j)[0]:1,H)):B===5?H.fg|=536870912:B===7?H.fg|=67108864:B===8?H.fg|=1073741824:B===9?H.fg|=2147483648:B===2?H.bg|=134217728:B===21?this._processUnderline(2,H):B===22?(H.fg&=-134217729,H.bg&=-134217729):B===23?H.bg&=-67108865:B===24?(H.fg&=-268435457,this._processUnderline(0,H)):B===25?H.fg&=-536870913:B===27?H.fg&=-67108865:B===28?H.fg&=-1073741825:B===29?H.fg&=2147483647:B===39?(H.fg&=-67108864,H.fg|=16777215&r.DEFAULT_ATTR_DATA.fg):B===49?(H.bg&=-67108864,H.bg|=16777215&r.DEFAULT_ATTR_DATA.bg):B===38||B===48||B===58?j+=this._extractColor(L,j,H):B===53?H.bg|=1073741824:B===55?H.bg&=-1073741825:B===59?(H.extended=H.extended.clone(),H.extended.underlineColor=-1,H.updateExtended()):B===100?(H.fg&=-67108864,H.fg|=16777215&r.DEFAULT_ATTR_DATA.fg,H.bg&=-67108864,H.bg|=16777215&r.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",B);return!0}deviceStatus(L){switch(L.params[0]){case 5:this._coreService.triggerDataEvent(`${c.C0.ESC}[0n`);break;case 6:const M=this._activeBuffer.y+1,B=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${c.C0.ESC}[${M};${B}R`)}return!0}deviceStatusPrivate(L){if(L.params[0]===6){const M=this._activeBuffer.y+1,B=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${c.C0.ESC}[?${M};${B}R`)}return!0}softReset(L){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=r.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(L){const M=L.params[0]||1;switch(M){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const B=M%2==1;return this._optionsService.options.cursorBlink=B,!0}setScrollRegion(L){const M=L.params[0]||1;let B;return(L.length<2||(B=L.params[1])>this._bufferService.rows||B===0)&&(B=this._bufferService.rows),B>M&&(this._activeBuffer.scrollTop=M-1,this._activeBuffer.scrollBottom=B-1,this._setCursor(0,0)),!0}windowOptions(L){if(!T(L.params[0],this._optionsService.rawOptions.windowOptions))return!0;const M=L.length>1?L.params[1]:0;switch(L.params[0]){case 14:M!==2&&this._onRequestWindowsOptionsReport.fire(O.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(O.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${c.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:M!==0&&M!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),M!==0&&M!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:M!==0&&M!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),M!==0&&M!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(L){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(L){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(L){return this._windowTitle=L,this._onTitleChange.fire(L),!0}setIconName(L){return this._iconName=L,!0}setOrReportIndexedColor(L){const M=[],B=L.split(";");for(;B.length>1;){const H=B.shift(),j=B.shift();if(/^\d+$/.exec(H)){const Y=parseInt(H);if(0<=Y&&Y<256)if(j==="?")M.push({type:0,index:Y});else{const le=(0,C.parseColor)(j);le&&M.push({type:1,index:Y,color:le})}}}return M.length&&this._onColor.fire(M),!0}setHyperlink(L){const M=L.split(";");return!(M.length<2)&&(M[1]?this._createHyperlink(M[0],M[1]):!M[0]&&this._finishHyperlink())}_createHyperlink(L,M){this._getCurrentLinkId()&&this._finishHyperlink();const B=L.split(":");let H;const j=B.findIndex(Y=>Y.startsWith("id="));return j!==-1&&(H=B[j].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:H,uri:M}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(L,M){const B=L.split(";");for(let H=0;H<B.length&&!(M>=this._specialColors.length);++H,++M)if(B[H]==="?")this._onColor.fire([{type:0,index:this._specialColors[M]}]);else{const j=(0,C.parseColor)(B[H]);j&&this._onColor.fire([{type:1,index:this._specialColors[M],color:j}])}return!0}setOrReportFgColor(L){return this._setOrReportSpecialColor(L,0)}setOrReportBgColor(L){return this._setOrReportSpecialColor(L,1)}setOrReportCursorColor(L){return this._setOrReportSpecialColor(L,2)}restoreIndexedColor(L){if(!L)return this._onColor.fire([{type:2}]),!0;const M=[],B=L.split(";");for(let H=0;H<B.length;++H)if(/^\d+$/.exec(B[H])){const j=parseInt(B[H]);0<=j&&j<256&&M.push({type:2,index:j})}return M.length&&this._onColor.fire(M),!0}restoreFgColor(L){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(L){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(L){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,p.DEFAULT_CHARSET),!0}selectCharset(L){return L.length!==2?(this.selectDefaultCharset(),!0):(L[0]==="/"||this._charsetService.setgCharset(k[L[0]],p.CHARSETS[L[1]]||p.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const L=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,L,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=r.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=r.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(L){return this._charsetService.setgLevel(L),!0}screenAlignmentPattern(){const L=new a.CellData;L.content=4194304|"E".charCodeAt(0),L.fg=this._curAttrData.fg,L.bg=this._curAttrData.bg,this._setCursor(0,0);for(let M=0;M<this._bufferService.rows;++M){const B=this._activeBuffer.ybase+this._activeBuffer.y+M,H=this._activeBuffer.lines.get(B);H&&(H.fill(L),H.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(L,M){const B=this._bufferService.buffer,H=this._optionsService.rawOptions;return(j=>(this._coreService.triggerDataEvent(`${c.C0.ESC}${j}${c.C0.ESC}\\`),!0))(L==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:L==='"p'?'P1$r61;1"p':L==="r"?`P1$r${B.scrollTop+1};${B.scrollBottom+1}r`:L==="m"?"P1$r0m":L===" q"?`P1$r${{block:2,underline:4,bar:6}[H.cursorStyle]-(H.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(L,M){this._dirtyRowTracker.markRangeDirty(L,M)}}i.InputHandler=q;let z=class{constructor(G){this._bufferService=G,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(G){G<this.start?this.start=G:G>this.end&&(this.end=G)}markRangeDirty(G,L){G>L&&(I=G,G=L,L=I),G<this.start&&(this.start=G),L>this.end&&(this.end=L)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};z=l([u(0,b.IBufferService)],z)},844:(_,i)=>{function n(l){for(const u of l)u.dispose();l.length=0}Object.defineProperty(i,"__esModule",{value:!0}),i.getDisposeArrayDisposable=i.disposeArray=i.toDisposable=i.Disposable=void 0,i.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const l of this._disposables)l.dispose();this._disposables.length=0}register(l){return this._disposables.push(l),l}unregister(l){const u=this._disposables.indexOf(l);u!==-1&&this._disposables.splice(u,1)}},i.toDisposable=function(l){return{dispose:l}},i.disposeArray=n,i.getDisposeArrayDisposable=function(l){return{dispose:()=>n(l)}}},1505:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FourKeyMap=i.TwoKeyMap=void 0;class n{constructor(){this._data={}}set(u,c,p){this._data[u]||(this._data[u]={}),this._data[u][c]=p}get(u,c){return this._data[u]?this._data[u][c]:void 0}clear(){this._data={}}}i.TwoKeyMap=n,i.FourKeyMap=class{constructor(){this._data=new n}set(l,u,c,p,g){this._data.get(l,u)||this._data.set(l,u,new n),this._data.get(l,u).set(c,p,g)}get(l,u,c,p){var g;return(g=this._data.get(l,u))===null||g===void 0?void 0:g.get(c,p)}clear(){this._data.clear()}}},6114:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isChromeOS=i.isLinux=i.isWindows=i.isIphone=i.isIpad=i.isMac=i.getSafariVersion=i.isSafari=i.isLegacyEdge=i.isFirefox=i.isNode=void 0,i.isNode=typeof navigator>"u";const n=i.isNode?"node":navigator.userAgent,l=i.isNode?"node":navigator.platform;i.isFirefox=n.includes("Firefox"),i.isLegacyEdge=n.includes("Edge"),i.isSafari=/^((?!chrome|android).)*safari/i.test(n),i.getSafariVersion=function(){if(!i.isSafari)return 0;const u=n.match(/Version\/(\d+)/);return u===null||u.length<2?0:parseInt(u[1])},i.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(l),i.isIpad=l==="iPad",i.isIphone=l==="iPhone",i.isWindows=["Windows","Win16","Win32","WinCE"].includes(l),i.isLinux=l.indexOf("Linux")>=0,i.isChromeOS=/\bCrOS\b/.test(n)},6106:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SortedList=void 0;let n=0;i.SortedList=class{constructor(l){this._getKey=l,this._array=[]}clear(){this._array.length=0}insert(l){this._array.length!==0?(n=this._search(this._getKey(l),0,this._array.length-1),this._array.splice(n,0,l)):this._array.push(l)}delete(l){if(this._array.length===0)return!1;const u=this._getKey(l);if(u===void 0||(n=this._search(u,0,this._array.length-1),n===-1)||this._getKey(this._array[n])!==u)return!1;do if(this._array[n]===l)return this._array.splice(n,1),!0;while(++n<this._array.length&&this._getKey(this._array[n])===u);return!1}*getKeyIterator(l){if(this._array.length!==0&&(n=this._search(l,0,this._array.length-1),!(n<0||n>=this._array.length)&&this._getKey(this._array[n])===l))do yield this._array[n];while(++n<this._array.length&&this._getKey(this._array[n])===l)}forEachByKey(l,u){if(this._array.length!==0&&(n=this._search(l,0,this._array.length-1),!(n<0||n>=this._array.length)&&this._getKey(this._array[n])===l))do u(this._array[n]);while(++n<this._array.length&&this._getKey(this._array[n])===l)}values(){return this._array.values()}_search(l,u,c){if(c<u)return u;let p=Math.floor((u+c)/2);const g=this._getKey(this._array[p]);if(g>l)return this._search(l,u,p-1);if(g<l)return this._search(l,p+1,c);for(;p>0&&this._getKey(this._array[p-1])===l;)p--;return p}}},7226:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DebouncedIdleTask=i.IdleTaskQueue=i.PriorityTaskQueue=void 0;const l=n(6114);class u{constructor(){this._tasks=[],this._i=0}enqueue(g){this._tasks.push(g),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(g){this._idleCallback=void 0;let w=0,v=0,r=g.timeRemaining(),d=0;for(;this._i<this._tasks.length;){if(w=Date.now(),this._tasks[this._i]()||this._i++,w=Math.max(1,Date.now()-w),v=Math.max(w,v),d=g.timeRemaining(),1.5*v>d)return r-w<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(r-w))}ms`),void this._start();r=d}this.clear()}}class c extends u{_requestCallback(g){return setTimeout(()=>g(this._createDeadline(16)))}_cancelCallback(g){clearTimeout(g)}_createDeadline(g){const w=Date.now()+g;return{timeRemaining:()=>Math.max(0,w-Date.now())}}}i.PriorityTaskQueue=c,i.IdleTaskQueue=!l.isNode&&"requestIdleCallback"in window?class extends u{_requestCallback(p){return requestIdleCallback(p)}_cancelCallback(p){cancelIdleCallback(p)}}:c,i.DebouncedIdleTask=class{constructor(){this._queue=new i.IdleTaskQueue}set(p){this._queue.clear(),this._queue.enqueue(p)}flush(){this._queue.flush()}}},9282:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.updateWindowsModeWrappedState=void 0;const l=n(643);i.updateWindowsModeWrappedState=function(u){const c=u.buffer.lines.get(u.buffer.ybase+u.buffer.y-1),p=c==null?void 0:c.get(u.cols-1),g=u.buffer.lines.get(u.buffer.ybase+u.buffer.y);g&&p&&(g.isWrapped=p[l.CHAR_DATA_CODE_INDEX]!==l.NULL_CELL_CODE&&p[l.CHAR_DATA_CODE_INDEX]!==l.WHITESPACE_CELL_CODE)}},3734:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ExtendedAttrs=i.AttributeData=void 0;class n{constructor(){this.fg=0,this.bg=0,this.extended=new l}static toColorRGB(c){return[c>>>16&255,c>>>8&255,255&c]}static fromColorRGB(c){return(255&c[0])<<16|(255&c[1])<<8|255&c[2]}clone(){const c=new n;return c.fg=this.fg,c.bg=this.bg,c.extended=this.extended.clone(),c}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}i.AttributeData=n;class l{constructor(c=0,p=0){this._ext=0,this._urlId=0,this._ext=c,this._urlId=p}get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(c){this._ext=c}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(c){this._ext&=-469762049,this._ext|=c<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(c){this._ext&=-67108864,this._ext|=67108863&c}get urlId(){return this._urlId}set urlId(c){this._urlId=c}clone(){return new l(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}i.ExtendedAttrs=l},9092:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Buffer=i.MAX_BUFFER_SIZE=void 0;const l=n(6349),u=n(8437),c=n(511),p=n(643),g=n(4634),w=n(4863),v=n(7116),r=n(3734),d=n(7226);i.MAX_BUFFER_SIZE=4294967295,i.Buffer=class{constructor(h,a,S){this._hasScrollback=h,this._optionsService=a,this._bufferService=S,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=u.DEFAULT_ATTR_DATA.clone(),this.savedCharset=v.DEFAULT_CHARSET,this.markers=[],this._nullCell=c.CellData.fromCharData([0,p.NULL_CELL_CHAR,p.NULL_CELL_WIDTH,p.NULL_CELL_CODE]),this._whitespaceCell=c.CellData.fromCharData([0,p.WHITESPACE_CELL_CHAR,p.WHITESPACE_CELL_WIDTH,p.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new d.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new l.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(h){return h?(this._nullCell.fg=h.fg,this._nullCell.bg=h.bg,this._nullCell.extended=h.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new r.ExtendedAttrs),this._nullCell}getWhitespaceCell(h){return h?(this._whitespaceCell.fg=h.fg,this._whitespaceCell.bg=h.bg,this._whitespaceCell.extended=h.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new r.ExtendedAttrs),this._whitespaceCell}getBlankLine(h,a){return new u.BufferLine(this._bufferService.cols,this.getNullCell(h),a)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const h=this.ybase+this.y-this.ydisp;return h>=0&&h<this._rows}_getCorrectBufferLength(h){if(!this._hasScrollback)return h;const a=h+this._optionsService.rawOptions.scrollback;return a>i.MAX_BUFFER_SIZE?i.MAX_BUFFER_SIZE:a}fillViewportRows(h){if(this.lines.length===0){h===void 0&&(h=u.DEFAULT_ATTR_DATA);let a=this._rows;for(;a--;)this.lines.push(this.getBlankLine(h))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new l.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(h,a){const S=this.getNullCell(u.DEFAULT_ATTR_DATA);let b=0;const y=this._getCorrectBufferLength(a);if(y>this.lines.maxLength&&(this.lines.maxLength=y),this.lines.length>0){if(this._cols<h)for(let C=0;C<this.lines.length;C++)b+=+this.lines.get(C).resize(h,S);let E=0;if(this._rows<a)for(let C=this._rows;C<a;C++)this.lines.length<a+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new u.BufferLine(h,S)):this.ybase>0&&this.lines.length<=this.ybase+this.y+E+1?(this.ybase--,E++,this.ydisp>0&&this.ydisp--):this.lines.push(new u.BufferLine(h,S)));else for(let C=this._rows;C>a;C--)this.lines.length>a+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(y<this.lines.maxLength){const C=this.lines.length-y;C>0&&(this.lines.trimStart(C),this.ybase=Math.max(this.ybase-C,0),this.ydisp=Math.max(this.ydisp-C,0),this.savedY=Math.max(this.savedY-C,0)),this.lines.maxLength=y}this.x=Math.min(this.x,h-1),this.y=Math.min(this.y,a-1),E&&(this.y+=E),this.savedX=Math.min(this.savedX,h-1),this.scrollTop=0}if(this.scrollBottom=a-1,this._isReflowEnabled&&(this._reflow(h,a),this._cols>h))for(let E=0;E<this.lines.length;E++)b+=+this.lines.get(E).resize(h,S);this._cols=h,this._rows=a,this._memoryCleanupQueue.clear(),b>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let h=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,h=!1);let a=0;for(;this._memoryCleanupPosition<this.lines.length;)if(a+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),a>100)return!0;return h}get _isReflowEnabled(){const h=this._optionsService.rawOptions.windowsPty;return h&&h.buildNumber?this._hasScrollback&&h.backend==="conpty"&&h.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(h,a){this._cols!==h&&(h>this._cols?this._reflowLarger(h,a):this._reflowSmaller(h,a))}_reflowLarger(h,a){const S=(0,g.reflowLargerGetLinesToRemove)(this.lines,this._cols,h,this.ybase+this.y,this.getNullCell(u.DEFAULT_ATTR_DATA));if(S.length>0){const b=(0,g.reflowLargerCreateNewLayout)(this.lines,S);(0,g.reflowLargerApplyNewLayout)(this.lines,b.layout),this._reflowLargerAdjustViewport(h,a,b.countRemoved)}}_reflowLargerAdjustViewport(h,a,S){const b=this.getNullCell(u.DEFAULT_ATTR_DATA);let y=S;for(;y-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<a&&this.lines.push(new u.BufferLine(h,b))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-S,0)}_reflowSmaller(h,a){const S=this.getNullCell(u.DEFAULT_ATTR_DATA),b=[];let y=0;for(let E=this.lines.length-1;E>=0;E--){let C=this.lines.get(E);if(!C||!C.isWrapped&&C.getTrimmedLength()<=h)continue;const k=[C];for(;C.isWrapped&&E>0;)C=this.lines.get(--E),k.unshift(C);const R=this.ybase+this.y;if(R>=E&&R<E+k.length)continue;const T=k[k.length-1].getTrimmedLength(),O=(0,g.reflowSmallerGetNewLineLengths)(k,this._cols,h),I=O.length-k.length;let q;q=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+I):Math.max(0,this.lines.length-this.lines.maxLength+I);const z=[];for(let j=0;j<I;j++){const Y=this.getBlankLine(u.DEFAULT_ATTR_DATA,!0);z.push(Y)}z.length>0&&(b.push({start:E+k.length+y,newLines:z}),y+=z.length),k.push(...z);let G=O.length-1,L=O[G];L===0&&(G--,L=O[G]);let M=k.length-I-1,B=T;for(;M>=0;){const j=Math.min(B,L);if(k[G]===void 0)break;if(k[G].copyCellsFrom(k[M],B-j,L-j,j,!0),L-=j,L===0&&(G--,L=O[G]),B-=j,B===0){M--;const Y=Math.max(M,0);B=(0,g.getWrappedLineTrimmedLength)(k,Y,this._cols)}}for(let j=0;j<k.length;j++)O[j]<h&&k[j].setCell(O[j],S);let H=I-q;for(;H-- >0;)this.ybase===0?this.y<a-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+y)-a&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+I,this.ybase+a-1)}if(b.length>0){const E=[],C=[];for(let G=0;G<this.lines.length;G++)C.push(this.lines.get(G));const k=this.lines.length;let R=k-1,T=0,O=b[T];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+y);let I=0;for(let G=Math.min(this.lines.maxLength-1,k+y-1);G>=0;G--)if(O&&O.start>R+I){for(let L=O.newLines.length-1;L>=0;L--)this.lines.set(G--,O.newLines[L]);G++,E.push({index:R+1,amount:O.newLines.length}),I+=O.newLines.length,O=b[++T]}else this.lines.set(G,C[R--]);let q=0;for(let G=E.length-1;G>=0;G--)E[G].index+=q,this.lines.onInsertEmitter.fire(E[G]),q+=E[G].amount;const z=Math.max(0,k+y-this.lines.maxLength);z>0&&this.lines.onTrimEmitter.fire(z)}}translateBufferLineToString(h,a,S=0,b){const y=this.lines.get(h);return y?y.translateToString(a,S,b):""}getWrappedRangeForLine(h){let a=h,S=h;for(;a>0&&this.lines.get(a).isWrapped;)a--;for(;S+1<this.lines.length&&this.lines.get(S+1).isWrapped;)S++;return{first:a,last:S}}setupTabStops(h){for(h!=null?this.tabs[h]||(h=this.prevStop(h)):(this.tabs={},h=0);h<this._cols;h+=this._optionsService.rawOptions.tabStopWidth)this.tabs[h]=!0}prevStop(h){for(h==null&&(h=this.x);!this.tabs[--h]&&h>0;);return h>=this._cols?this._cols-1:h<0?0:h}nextStop(h){for(h==null&&(h=this.x);!this.tabs[++h]&&h<this._cols;);return h>=this._cols?this._cols-1:h<0?0:h}clearMarkers(h){this._isClearing=!0;for(let a=0;a<this.markers.length;a++)this.markers[a].line===h&&(this.markers[a].dispose(),this.markers.splice(a--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let h=0;h<this.markers.length;h++)this.markers[h].dispose(),this.markers.splice(h--,1);this._isClearing=!1}addMarker(h){const a=new w.Marker(h);return this.markers.push(a),a.register(this.lines.onTrim(S=>{a.line-=S,a.line<0&&a.dispose()})),a.register(this.lines.onInsert(S=>{a.line>=S.index&&(a.line+=S.amount)})),a.register(this.lines.onDelete(S=>{a.line>=S.index&&a.line<S.index+S.amount&&a.dispose(),a.line>S.index&&(a.line-=S.amount)})),a.register(a.onDispose(()=>this._removeMarker(a))),a}_removeMarker(h){this._isClearing||this.markers.splice(this.markers.indexOf(h),1)}}},8437:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferLine=i.DEFAULT_ATTR_DATA=void 0;const l=n(482),u=n(643),c=n(511),p=n(3734);i.DEFAULT_ATTR_DATA=Object.freeze(new p.AttributeData);let g=0;class w{constructor(r,d,h=!1){this.isWrapped=h,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*r);const a=d||c.CellData.fromCharData([0,u.NULL_CELL_CHAR,u.NULL_CELL_WIDTH,u.NULL_CELL_CODE]);for(let S=0;S<r;++S)this.setCell(S,a);this.length=r}get(r){const d=this._data[3*r+0],h=2097151&d;return[this._data[3*r+1],2097152&d?this._combined[r]:h?(0,l.stringFromCodePoint)(h):"",d>>22,2097152&d?this._combined[r].charCodeAt(this._combined[r].length-1):h]}set(r,d){this._data[3*r+1]=d[u.CHAR_DATA_ATTR_INDEX],d[u.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[r]=d[1],this._data[3*r+0]=2097152|r|d[u.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*r+0]=d[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|d[u.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(r){return this._data[3*r+0]>>22}hasWidth(r){return 12582912&this._data[3*r+0]}getFg(r){return this._data[3*r+1]}getBg(r){return this._data[3*r+2]}hasContent(r){return 4194303&this._data[3*r+0]}getCodePoint(r){const d=this._data[3*r+0];return 2097152&d?this._combined[r].charCodeAt(this._combined[r].length-1):2097151&d}isCombined(r){return 2097152&this._data[3*r+0]}getString(r){const d=this._data[3*r+0];return 2097152&d?this._combined[r]:2097151&d?(0,l.stringFromCodePoint)(2097151&d):""}isProtected(r){return 536870912&this._data[3*r+2]}loadCell(r,d){return g=3*r,d.content=this._data[g+0],d.fg=this._data[g+1],d.bg=this._data[g+2],2097152&d.content&&(d.combinedData=this._combined[r]),268435456&d.bg&&(d.extended=this._extendedAttrs[r]),d}setCell(r,d){2097152&d.content&&(this._combined[r]=d.combinedData),268435456&d.bg&&(this._extendedAttrs[r]=d.extended),this._data[3*r+0]=d.content,this._data[3*r+1]=d.fg,this._data[3*r+2]=d.bg}setCellFromCodePoint(r,d,h,a,S,b){268435456&S&&(this._extendedAttrs[r]=b),this._data[3*r+0]=d|h<<22,this._data[3*r+1]=a,this._data[3*r+2]=S}addCodepointToCell(r,d){let h=this._data[3*r+0];2097152&h?this._combined[r]+=(0,l.stringFromCodePoint)(d):(2097151&h?(this._combined[r]=(0,l.stringFromCodePoint)(2097151&h)+(0,l.stringFromCodePoint)(d),h&=-2097152,h|=2097152):h=d|4194304,this._data[3*r+0]=h)}insertCells(r,d,h,a){if((r%=this.length)&&this.getWidth(r-1)===2&&this.setCellFromCodePoint(r-1,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new p.ExtendedAttrs),d<this.length-r){const S=new c.CellData;for(let b=this.length-r-d-1;b>=0;--b)this.setCell(r+d+b,this.loadCell(r+b,S));for(let b=0;b<d;++b)this.setCell(r+b,h)}else for(let S=r;S<this.length;++S)this.setCell(S,h);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new p.ExtendedAttrs)}deleteCells(r,d,h,a){if(r%=this.length,d<this.length-r){const S=new c.CellData;for(let b=0;b<this.length-r-d;++b)this.setCell(r+b,this.loadCell(r+d+b,S));for(let b=this.length-d;b<this.length;++b)this.setCell(b,h)}else for(let S=r;S<this.length;++S)this.setCell(S,h);r&&this.getWidth(r-1)===2&&this.setCellFromCodePoint(r-1,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new p.ExtendedAttrs),this.getWidth(r)!==0||this.hasContent(r)||this.setCellFromCodePoint(r,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new p.ExtendedAttrs)}replaceCells(r,d,h,a,S=!1){if(S)for(r&&this.getWidth(r-1)===2&&!this.isProtected(r-1)&&this.setCellFromCodePoint(r-1,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new p.ExtendedAttrs),d<this.length&&this.getWidth(d-1)===2&&!this.isProtected(d)&&this.setCellFromCodePoint(d,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new p.ExtendedAttrs);r<d&&r<this.length;)this.isProtected(r)||this.setCell(r,h),r++;else for(r&&this.getWidth(r-1)===2&&this.setCellFromCodePoint(r-1,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new p.ExtendedAttrs),d<this.length&&this.getWidth(d-1)===2&&this.setCellFromCodePoint(d,0,1,(a==null?void 0:a.fg)||0,(a==null?void 0:a.bg)||0,(a==null?void 0:a.extended)||new p.ExtendedAttrs);r<d&&r<this.length;)this.setCell(r++,h)}resize(r,d){if(r===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const h=3*r;if(r>this.length){if(this._data.buffer.byteLength>=4*h)this._data=new Uint32Array(this._data.buffer,0,h);else{const a=new Uint32Array(h);a.set(this._data),this._data=a}for(let a=this.length;a<r;++a)this.setCell(a,d)}else{this._data=this._data.subarray(0,h);const a=Object.keys(this._combined);for(let b=0;b<a.length;b++){const y=parseInt(a[b],10);y>=r&&delete this._combined[y]}const S=Object.keys(this._extendedAttrs);for(let b=0;b<S.length;b++){const y=parseInt(S[b],10);y>=r&&delete this._extendedAttrs[y]}}return this.length=r,4*h*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const r=new Uint32Array(this._data.length);return r.set(this._data),this._data=r,1}return 0}fill(r,d=!1){if(d)for(let h=0;h<this.length;++h)this.isProtected(h)||this.setCell(h,r);else{this._combined={},this._extendedAttrs={};for(let h=0;h<this.length;++h)this.setCell(h,r)}}copyFrom(r){this.length!==r.length?this._data=new Uint32Array(r._data):this._data.set(r._data),this.length=r.length,this._combined={};for(const d in r._combined)this._combined[d]=r._combined[d];this._extendedAttrs={};for(const d in r._extendedAttrs)this._extendedAttrs[d]=r._extendedAttrs[d];this.isWrapped=r.isWrapped}clone(){const r=new w(0);r._data=new Uint32Array(this._data),r.length=this.length;for(const d in this._combined)r._combined[d]=this._combined[d];for(const d in this._extendedAttrs)r._extendedAttrs[d]=this._extendedAttrs[d];return r.isWrapped=this.isWrapped,r}getTrimmedLength(){for(let r=this.length-1;r>=0;--r)if(4194303&this._data[3*r+0])return r+(this._data[3*r+0]>>22);return 0}copyCellsFrom(r,d,h,a,S){const b=r._data;if(S)for(let E=a-1;E>=0;E--){for(let C=0;C<3;C++)this._data[3*(h+E)+C]=b[3*(d+E)+C];268435456&b[3*(d+E)+2]&&(this._extendedAttrs[h+E]=r._extendedAttrs[d+E])}else for(let E=0;E<a;E++){for(let C=0;C<3;C++)this._data[3*(h+E)+C]=b[3*(d+E)+C];268435456&b[3*(d+E)+2]&&(this._extendedAttrs[h+E]=r._extendedAttrs[d+E])}const y=Object.keys(r._combined);for(let E=0;E<y.length;E++){const C=parseInt(y[E],10);C>=d&&(this._combined[C-d+h]=r._combined[C])}}translateToString(r=!1,d=0,h=this.length){r&&(h=Math.min(h,this.getTrimmedLength()));let a="";for(;d<h;){const S=this._data[3*d+0],b=2097151&S;a+=2097152&S?this._combined[d]:b?(0,l.stringFromCodePoint)(b):u.WHITESPACE_CELL_CHAR,d+=S>>22||1}return a}}i.BufferLine=w},4841:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getRangeLength=void 0,i.getRangeLength=function(n,l){if(n.start.y>n.end.y)throw new Error(`Buffer range end (${n.end.x}, ${n.end.y}) cannot be before start (${n.start.x}, ${n.start.y})`);return l*(n.end.y-n.start.y)+(n.end.x-n.start.x+1)}},4634:(_,i)=>{function n(l,u,c){if(u===l.length-1)return l[u].getTrimmedLength();const p=!l[u].hasContent(c-1)&&l[u].getWidth(c-1)===1,g=l[u+1].getWidth(0)===2;return p&&g?c-1:c}Object.defineProperty(i,"__esModule",{value:!0}),i.getWrappedLineTrimmedLength=i.reflowSmallerGetNewLineLengths=i.reflowLargerApplyNewLayout=i.reflowLargerCreateNewLayout=i.reflowLargerGetLinesToRemove=void 0,i.reflowLargerGetLinesToRemove=function(l,u,c,p,g){const w=[];for(let v=0;v<l.length-1;v++){let r=v,d=l.get(++r);if(!d.isWrapped)continue;const h=[l.get(v)];for(;r<l.length&&d.isWrapped;)h.push(d),d=l.get(++r);if(p>=v&&p<r){v+=h.length-1;continue}let a=0,S=n(h,a,u),b=1,y=0;for(;b<h.length;){const C=n(h,b,u),k=C-y,R=c-S,T=Math.min(k,R);h[a].copyCellsFrom(h[b],y,S,T,!1),S+=T,S===c&&(a++,S=0),y+=T,y===C&&(b++,y=0),S===0&&a!==0&&h[a-1].getWidth(c-1)===2&&(h[a].copyCellsFrom(h[a-1],c-1,S++,1,!1),h[a-1].setCell(c-1,g))}h[a].replaceCells(S,c,g);let E=0;for(let C=h.length-1;C>0&&(C>a||h[C].getTrimmedLength()===0);C--)E++;E>0&&(w.push(v+h.length-E),w.push(E)),v+=h.length-1}return w},i.reflowLargerCreateNewLayout=function(l,u){const c=[];let p=0,g=u[p],w=0;for(let v=0;v<l.length;v++)if(g===v){const r=u[++p];l.onDeleteEmitter.fire({index:v-w,amount:r}),v+=r-1,w+=r,g=u[++p]}else c.push(v);return{layout:c,countRemoved:w}},i.reflowLargerApplyNewLayout=function(l,u){const c=[];for(let p=0;p<u.length;p++)c.push(l.get(u[p]));for(let p=0;p<c.length;p++)l.set(p,c[p]);l.length=u.length},i.reflowSmallerGetNewLineLengths=function(l,u,c){const p=[],g=l.map((d,h)=>n(l,h,u)).reduce((d,h)=>d+h);let w=0,v=0,r=0;for(;r<g;){if(g-r<c){p.push(g-r);break}w+=c;const d=n(l,v,u);w>d&&(w-=d,v++);const h=l[v].getWidth(w-1)===2;h&&w--;const a=h?c-1:c;p.push(a),r+=a}return p},i.getWrappedLineTrimmedLength=n},5295:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferSet=void 0;const l=n(9092),u=n(8460),c=n(844);class p extends c.Disposable{constructor(w,v){super(),this._optionsService=w,this._bufferService=v,this._onBufferActivate=this.register(new u.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new l.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new l.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(w){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(w),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(w,v){this._normal.resize(w,v),this._alt.resize(w,v),this.setupTabStops(w)}setupTabStops(w){this._normal.setupTabStops(w),this._alt.setupTabStops(w)}}i.BufferSet=p},511:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CellData=void 0;const l=n(482),u=n(643),c=n(3734);class p extends c.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new c.ExtendedAttrs,this.combinedData=""}static fromCharData(w){const v=new p;return v.setFromCharData(w),v}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,l.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(w){this.fg=w[u.CHAR_DATA_ATTR_INDEX],this.bg=0;let v=!1;if(w[u.CHAR_DATA_CHAR_INDEX].length>2)v=!0;else if(w[u.CHAR_DATA_CHAR_INDEX].length===2){const r=w[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=r&&r<=56319){const d=w[u.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=d&&d<=57343?this.content=1024*(r-55296)+d-56320+65536|w[u.CHAR_DATA_WIDTH_INDEX]<<22:v=!0}else v=!0}else this.content=w[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|w[u.CHAR_DATA_WIDTH_INDEX]<<22;v&&(this.combinedData=w[u.CHAR_DATA_CHAR_INDEX],this.content=2097152|w[u.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}i.CellData=p},643:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WHITESPACE_CELL_CODE=i.WHITESPACE_CELL_WIDTH=i.WHITESPACE_CELL_CHAR=i.NULL_CELL_CODE=i.NULL_CELL_WIDTH=i.NULL_CELL_CHAR=i.CHAR_DATA_CODE_INDEX=i.CHAR_DATA_WIDTH_INDEX=i.CHAR_DATA_CHAR_INDEX=i.CHAR_DATA_ATTR_INDEX=i.DEFAULT_EXT=i.DEFAULT_ATTR=i.DEFAULT_COLOR=void 0,i.DEFAULT_COLOR=0,i.DEFAULT_ATTR=256|i.DEFAULT_COLOR<<9,i.DEFAULT_EXT=0,i.CHAR_DATA_ATTR_INDEX=0,i.CHAR_DATA_CHAR_INDEX=1,i.CHAR_DATA_WIDTH_INDEX=2,i.CHAR_DATA_CODE_INDEX=3,i.NULL_CELL_CHAR="",i.NULL_CELL_WIDTH=1,i.NULL_CELL_CODE=0,i.WHITESPACE_CELL_CHAR=" ",i.WHITESPACE_CELL_WIDTH=1,i.WHITESPACE_CELL_CODE=32},4863:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Marker=void 0;const l=n(8460),u=n(844);class c{constructor(g){this.line=g,this.isDisposed=!1,this._disposables=[],this._id=c._nextId++,this._onDispose=this.register(new l.EventEmitter),this.onDispose=this._onDispose.event}get id(){return this._id}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,u.disposeArray)(this._disposables),this._disposables.length=0)}register(g){return this._disposables.push(g),g}}i.Marker=c,c._nextId=1},7116:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_CHARSET=i.CHARSETS=void 0,i.CHARSETS={},i.DEFAULT_CHARSET=i.CHARSETS.B,i.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},i.CHARSETS.A={"#":""},i.CHARSETS.B=void 0,i.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},i.CHARSETS.C=i.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},i.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},i.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},i.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},i.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},i.CHARSETS.E=i.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},i.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},i.CHARSETS.H=i.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},i.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(_,i)=>{var n,l;Object.defineProperty(i,"__esModule",{value:!0}),i.C1_ESCAPED=i.C1=i.C0=void 0,function(u){u.NUL="\0",u.SOH="",u.STX="",u.ETX="",u.EOT="",u.ENQ="",u.ACK="",u.BEL="\x07",u.BS="\b",u.HT="	",u.LF=`
`,u.VT="\v",u.FF="\f",u.CR="\r",u.SO="",u.SI="",u.DLE="",u.DC1="",u.DC2="",u.DC3="",u.DC4="",u.NAK="",u.SYN="",u.ETB="",u.CAN="",u.EM="",u.SUB="",u.ESC="\x1B",u.FS="",u.GS="",u.RS="",u.US="",u.SP=" ",u.DEL=""}(n=i.C0||(i.C0={})),(l=i.C1||(i.C1={})).PAD="",l.HOP="",l.BPH="",l.NBH="",l.IND="",l.NEL="",l.SSA="",l.ESA="",l.HTS="",l.HTJ="",l.VTS="",l.PLD="",l.PLU="",l.RI="",l.SS2="",l.SS3="",l.DCS="",l.PU1="",l.PU2="",l.STS="",l.CCH="",l.MW="",l.SPA="",l.EPA="",l.SOS="",l.SGCI="",l.SCI="",l.CSI="",l.ST="",l.OSC="",l.PM="",l.APC="",(i.C1_ESCAPED||(i.C1_ESCAPED={})).ST=`${n.ESC}\\`},7399:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.evaluateKeyboardEvent=void 0;const l=n(2584),u={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};i.evaluateKeyboardEvent=function(c,p,g,w){const v={type:0,cancel:!1,key:void 0},r=(c.shiftKey?1:0)|(c.altKey?2:0)|(c.ctrlKey?4:0)|(c.metaKey?8:0);switch(c.keyCode){case 0:c.key==="UIKeyInputUpArrow"?v.key=p?l.C0.ESC+"OA":l.C0.ESC+"[A":c.key==="UIKeyInputLeftArrow"?v.key=p?l.C0.ESC+"OD":l.C0.ESC+"[D":c.key==="UIKeyInputRightArrow"?v.key=p?l.C0.ESC+"OC":l.C0.ESC+"[C":c.key==="UIKeyInputDownArrow"&&(v.key=p?l.C0.ESC+"OB":l.C0.ESC+"[B");break;case 8:if(c.altKey){v.key=l.C0.ESC+l.C0.DEL;break}v.key=l.C0.DEL;break;case 9:if(c.shiftKey){v.key=l.C0.ESC+"[Z";break}v.key=l.C0.HT,v.cancel=!0;break;case 13:v.key=c.altKey?l.C0.ESC+l.C0.CR:l.C0.CR,v.cancel=!0;break;case 27:v.key=l.C0.ESC,c.altKey&&(v.key=l.C0.ESC+l.C0.ESC),v.cancel=!0;break;case 37:if(c.metaKey)break;r?(v.key=l.C0.ESC+"[1;"+(r+1)+"D",v.key===l.C0.ESC+"[1;3D"&&(v.key=l.C0.ESC+(g?"b":"[1;5D"))):v.key=p?l.C0.ESC+"OD":l.C0.ESC+"[D";break;case 39:if(c.metaKey)break;r?(v.key=l.C0.ESC+"[1;"+(r+1)+"C",v.key===l.C0.ESC+"[1;3C"&&(v.key=l.C0.ESC+(g?"f":"[1;5C"))):v.key=p?l.C0.ESC+"OC":l.C0.ESC+"[C";break;case 38:if(c.metaKey)break;r?(v.key=l.C0.ESC+"[1;"+(r+1)+"A",g||v.key!==l.C0.ESC+"[1;3A"||(v.key=l.C0.ESC+"[1;5A")):v.key=p?l.C0.ESC+"OA":l.C0.ESC+"[A";break;case 40:if(c.metaKey)break;r?(v.key=l.C0.ESC+"[1;"+(r+1)+"B",g||v.key!==l.C0.ESC+"[1;3B"||(v.key=l.C0.ESC+"[1;5B")):v.key=p?l.C0.ESC+"OB":l.C0.ESC+"[B";break;case 45:c.shiftKey||c.ctrlKey||(v.key=l.C0.ESC+"[2~");break;case 46:v.key=r?l.C0.ESC+"[3;"+(r+1)+"~":l.C0.ESC+"[3~";break;case 36:v.key=r?l.C0.ESC+"[1;"+(r+1)+"H":p?l.C0.ESC+"OH":l.C0.ESC+"[H";break;case 35:v.key=r?l.C0.ESC+"[1;"+(r+1)+"F":p?l.C0.ESC+"OF":l.C0.ESC+"[F";break;case 33:c.shiftKey?v.type=2:c.ctrlKey?v.key=l.C0.ESC+"[5;"+(r+1)+"~":v.key=l.C0.ESC+"[5~";break;case 34:c.shiftKey?v.type=3:c.ctrlKey?v.key=l.C0.ESC+"[6;"+(r+1)+"~":v.key=l.C0.ESC+"[6~";break;case 112:v.key=r?l.C0.ESC+"[1;"+(r+1)+"P":l.C0.ESC+"OP";break;case 113:v.key=r?l.C0.ESC+"[1;"+(r+1)+"Q":l.C0.ESC+"OQ";break;case 114:v.key=r?l.C0.ESC+"[1;"+(r+1)+"R":l.C0.ESC+"OR";break;case 115:v.key=r?l.C0.ESC+"[1;"+(r+1)+"S":l.C0.ESC+"OS";break;case 116:v.key=r?l.C0.ESC+"[15;"+(r+1)+"~":l.C0.ESC+"[15~";break;case 117:v.key=r?l.C0.ESC+"[17;"+(r+1)+"~":l.C0.ESC+"[17~";break;case 118:v.key=r?l.C0.ESC+"[18;"+(r+1)+"~":l.C0.ESC+"[18~";break;case 119:v.key=r?l.C0.ESC+"[19;"+(r+1)+"~":l.C0.ESC+"[19~";break;case 120:v.key=r?l.C0.ESC+"[20;"+(r+1)+"~":l.C0.ESC+"[20~";break;case 121:v.key=r?l.C0.ESC+"[21;"+(r+1)+"~":l.C0.ESC+"[21~";break;case 122:v.key=r?l.C0.ESC+"[23;"+(r+1)+"~":l.C0.ESC+"[23~";break;case 123:v.key=r?l.C0.ESC+"[24;"+(r+1)+"~":l.C0.ESC+"[24~";break;default:if(!c.ctrlKey||c.shiftKey||c.altKey||c.metaKey)if(g&&!w||!c.altKey||c.metaKey)!g||c.altKey||c.ctrlKey||c.shiftKey||!c.metaKey?c.key&&!c.ctrlKey&&!c.altKey&&!c.metaKey&&c.keyCode>=48&&c.key.length===1?v.key=c.key:c.key&&c.ctrlKey&&(c.key==="_"&&(v.key=l.C0.US),c.key==="@"&&(v.key=l.C0.NUL)):c.keyCode===65&&(v.type=1);else{const d=u[c.keyCode],h=d==null?void 0:d[c.shiftKey?1:0];if(h)v.key=l.C0.ESC+h;else if(c.keyCode>=65&&c.keyCode<=90){const a=c.ctrlKey?c.keyCode-64:c.keyCode+32;let S=String.fromCharCode(a);c.shiftKey&&(S=S.toUpperCase()),v.key=l.C0.ESC+S}else if(c.keyCode===32)v.key=l.C0.ESC+(c.ctrlKey?l.C0.NUL:" ");else if(c.key==="Dead"&&c.code.startsWith("Key")){let a=c.code.slice(3,4);c.shiftKey||(a=a.toLowerCase()),v.key=l.C0.ESC+a,v.cancel=!0}}else c.keyCode>=65&&c.keyCode<=90?v.key=String.fromCharCode(c.keyCode-64):c.keyCode===32?v.key=l.C0.NUL:c.keyCode>=51&&c.keyCode<=55?v.key=String.fromCharCode(c.keyCode-51+27):c.keyCode===56?v.key=l.C0.DEL:c.keyCode===219?v.key=l.C0.ESC:c.keyCode===220?v.key=l.C0.FS:c.keyCode===221&&(v.key=l.C0.GS)}return v}},482:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Utf8ToUtf32=i.StringToUtf32=i.utf32ToString=i.stringFromCodePoint=void 0,i.stringFromCodePoint=function(n){return n>65535?(n-=65536,String.fromCharCode(55296+(n>>10))+String.fromCharCode(n%1024+56320)):String.fromCharCode(n)},i.utf32ToString=function(n,l=0,u=n.length){let c="";for(let p=l;p<u;++p){let g=n[p];g>65535?(g-=65536,c+=String.fromCharCode(55296+(g>>10))+String.fromCharCode(g%1024+56320)):c+=String.fromCharCode(g)}return c},i.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(n,l){const u=n.length;if(!u)return 0;let c=0,p=0;if(this._interim){const g=n.charCodeAt(p++);56320<=g&&g<=57343?l[c++]=1024*(this._interim-55296)+g-56320+65536:(l[c++]=this._interim,l[c++]=g),this._interim=0}for(let g=p;g<u;++g){const w=n.charCodeAt(g);if(55296<=w&&w<=56319){if(++g>=u)return this._interim=w,c;const v=n.charCodeAt(g);56320<=v&&v<=57343?l[c++]=1024*(w-55296)+v-56320+65536:(l[c++]=w,l[c++]=v)}else w!==65279&&(l[c++]=w)}return c}},i.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(n,l){const u=n.length;if(!u)return 0;let c,p,g,w,v=0,r=0,d=0;if(this.interim[0]){let S=!1,b=this.interim[0];b&=(224&b)==192?31:(240&b)==224?15:7;let y,E=0;for(;(y=63&this.interim[++E])&&E<4;)b<<=6,b|=y;const C=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,k=C-E;for(;d<k;){if(d>=u)return 0;if(y=n[d++],(192&y)!=128){d--,S=!0;break}this.interim[E++]=y,b<<=6,b|=63&y}S||(C===2?b<128?d--:l[v++]=b:C===3?b<2048||b>=55296&&b<=57343||b===65279||(l[v++]=b):b<65536||b>1114111||(l[v++]=b)),this.interim.fill(0)}const h=u-4;let a=d;for(;a<u;){for(;!(!(a<h)||128&(c=n[a])||128&(p=n[a+1])||128&(g=n[a+2])||128&(w=n[a+3]));)l[v++]=c,l[v++]=p,l[v++]=g,l[v++]=w,a+=4;if(c=n[a++],c<128)l[v++]=c;else if((224&c)==192){if(a>=u)return this.interim[0]=c,v;if(p=n[a++],(192&p)!=128){a--;continue}if(r=(31&c)<<6|63&p,r<128){a--;continue}l[v++]=r}else if((240&c)==224){if(a>=u)return this.interim[0]=c,v;if(p=n[a++],(192&p)!=128){a--;continue}if(a>=u)return this.interim[0]=c,this.interim[1]=p,v;if(g=n[a++],(192&g)!=128){a--;continue}if(r=(15&c)<<12|(63&p)<<6|63&g,r<2048||r>=55296&&r<=57343||r===65279)continue;l[v++]=r}else if((248&c)==240){if(a>=u)return this.interim[0]=c,v;if(p=n[a++],(192&p)!=128){a--;continue}if(a>=u)return this.interim[0]=c,this.interim[1]=p,v;if(g=n[a++],(192&g)!=128){a--;continue}if(a>=u)return this.interim[0]=c,this.interim[1]=p,this.interim[2]=g,v;if(w=n[a++],(192&w)!=128){a--;continue}if(r=(7&c)<<18|(63&p)<<12|(63&g)<<6|63&w,r<65536||r>1114111)continue;l[v++]=r}}return v}}},225:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeV6=void 0;const n=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],l=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let u;i.UnicodeV6=class{constructor(){if(this.version="6",!u){u=new Uint8Array(65536),u.fill(1),u[0]=0,u.fill(0,1,32),u.fill(0,127,160),u.fill(2,4352,4448),u[9001]=2,u[9002]=2,u.fill(2,11904,42192),u[12351]=1,u.fill(2,44032,55204),u.fill(2,63744,64256),u.fill(2,65040,65050),u.fill(2,65072,65136),u.fill(2,65280,65377),u.fill(2,65504,65511);for(let c=0;c<n.length;++c)u.fill(0,n[c][0],n[c][1]+1)}}wcwidth(c){return c<32?0:c<127?1:c<65536?u[c]:function(p,g){let w,v=0,r=g.length-1;if(p<g[0][0]||p>g[r][1])return!1;for(;r>=v;)if(w=v+r>>1,p>g[w][1])v=w+1;else{if(!(p<g[w][0]))return!0;r=w-1}return!1}(c,l)?0:c>=131072&&c<=196605||c>=196608&&c<=262141?2:1}}},5981:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WriteBuffer=void 0;const l=n(8460),u=n(844);class c extends u.Disposable{constructor(g){super(),this._action=g,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new l.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(g,w){if(w!==void 0&&this._syncCalls>w)return void(this._syncCalls=0);if(this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let v;for(this._isSyncWriting=!0;v=this._writeBuffer.shift();){this._action(v);const r=this._callbacks.shift();r&&r()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(g,w){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(w),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(w)}_innerWrite(g=0,w=!0){const v=g||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const r=this._writeBuffer[this._bufferOffset],d=this._action(r,w);if(d){const a=S=>Date.now()-v>=12?setTimeout(()=>this._innerWrite(0,S)):this._innerWrite(v,S);return void d.catch(S=>(queueMicrotask(()=>{throw S}),Promise.resolve(!1))).then(a)}const h=this._callbacks[this._bufferOffset];if(h&&h(),this._bufferOffset++,this._pendingData-=r.length,Date.now()-v>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}i.WriteBuffer=c},5941:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.toRgbString=i.parseColor=void 0;const n=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,l=/^[\da-f]+$/;function u(c,p){const g=c.toString(16),w=g.length<2?"0"+g:g;switch(p){case 4:return g[0];case 8:return w;case 12:return(w+w).slice(0,3);default:return w+w}}i.parseColor=function(c){if(!c)return;let p=c.toLowerCase();if(p.indexOf("rgb:")===0){p=p.slice(4);const g=n.exec(p);if(g){const w=g[1]?15:g[4]?255:g[7]?4095:65535;return[Math.round(parseInt(g[1]||g[4]||g[7]||g[10],16)/w*255),Math.round(parseInt(g[2]||g[5]||g[8]||g[11],16)/w*255),Math.round(parseInt(g[3]||g[6]||g[9]||g[12],16)/w*255)]}}else if(p.indexOf("#")===0&&(p=p.slice(1),l.exec(p)&&[3,6,9,12].includes(p.length))){const g=p.length/3,w=[0,0,0];for(let v=0;v<3;++v){const r=parseInt(p.slice(g*v,g*v+g),16);w[v]=g===1?r<<4:g===2?r:g===3?r>>4:r>>8}return w}},i.toRgbString=function(c,p=16){const[g,w,v]=c;return`rgb:${u(g,p)}/${u(w,p)}/${u(v,p)}`}},5770:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PAYLOAD_LIMIT=void 0,i.PAYLOAD_LIMIT=1e7},6351:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DcsHandler=i.DcsParser=void 0;const l=n(482),u=n(8742),c=n(5770),p=[];i.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=p,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=p}registerHandler(w,v){this._handlers[w]===void 0&&(this._handlers[w]=[]);const r=this._handlers[w];return r.push(v),{dispose:()=>{const d=r.indexOf(v);d!==-1&&r.splice(d,1)}}}clearHandler(w){this._handlers[w]&&delete this._handlers[w]}setHandlerFallback(w){this._handlerFb=w}reset(){if(this._active.length)for(let w=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;w>=0;--w)this._active[w].unhook(!1);this._stack.paused=!1,this._active=p,this._ident=0}hook(w,v){if(this.reset(),this._ident=w,this._active=this._handlers[w]||p,this._active.length)for(let r=this._active.length-1;r>=0;r--)this._active[r].hook(v);else this._handlerFb(this._ident,"HOOK",v)}put(w,v,r){if(this._active.length)for(let d=this._active.length-1;d>=0;d--)this._active[d].put(w,v,r);else this._handlerFb(this._ident,"PUT",(0,l.utf32ToString)(w,v,r))}unhook(w,v=!0){if(this._active.length){let r=!1,d=this._active.length-1,h=!1;if(this._stack.paused&&(d=this._stack.loopPosition-1,r=v,h=this._stack.fallThrough,this._stack.paused=!1),!h&&r===!1){for(;d>=0&&(r=this._active[d].unhook(w),r!==!0);d--)if(r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!1,r;d--}for(;d>=0;d--)if(r=this._active[d].unhook(!1),r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!0,r}else this._handlerFb(this._ident,"UNHOOK",w);this._active=p,this._ident=0}};const g=new u.Params;g.addParam(0),i.DcsHandler=class{constructor(w){this._handler=w,this._data="",this._params=g,this._hitLimit=!1}hook(w){this._params=w.length>1||w.params[0]?w.clone():g,this._data="",this._hitLimit=!1}put(w,v,r){this._hitLimit||(this._data+=(0,l.utf32ToString)(w,v,r),this._data.length>c.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(w){let v=!1;if(this._hitLimit)v=!1;else if(w&&(v=this._handler(this._data,this._params),v instanceof Promise))return v.then(r=>(this._params=g,this._data="",this._hitLimit=!1,r));return this._params=g,this._data="",this._hitLimit=!1,v}}},2015:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.EscapeSequenceParser=i.VT500_TRANSITION_TABLE=i.TransitionTable=void 0;const l=n(844),u=n(8742),c=n(6242),p=n(6351);class g{constructor(d){this.table=new Uint8Array(d)}setDefault(d,h){this.table.fill(d<<4|h)}add(d,h,a,S){this.table[h<<8|d]=a<<4|S}addMany(d,h,a,S){for(let b=0;b<d.length;b++)this.table[h<<8|d[b]]=a<<4|S}}i.TransitionTable=g;const w=160;i.VT500_TRANSITION_TABLE=function(){const r=new g(4095),d=Array.apply(null,Array(256)).map((E,C)=>C),h=(E,C)=>d.slice(E,C),a=h(32,127),S=h(0,24);S.push(25),S.push.apply(S,h(28,32));const b=h(0,14);let y;for(y in r.setDefault(1,0),r.addMany(a,0,2,0),b)r.addMany([24,26,153,154],y,3,0),r.addMany(h(128,144),y,3,0),r.addMany(h(144,152),y,3,0),r.add(156,y,0,0),r.add(27,y,11,1),r.add(157,y,4,8),r.addMany([152,158,159],y,0,7),r.add(155,y,11,3),r.add(144,y,11,9);return r.addMany(S,0,3,0),r.addMany(S,1,3,1),r.add(127,1,0,1),r.addMany(S,8,0,8),r.addMany(S,3,3,3),r.add(127,3,0,3),r.addMany(S,4,3,4),r.add(127,4,0,4),r.addMany(S,6,3,6),r.addMany(S,5,3,5),r.add(127,5,0,5),r.addMany(S,2,3,2),r.add(127,2,0,2),r.add(93,1,4,8),r.addMany(a,8,5,8),r.add(127,8,5,8),r.addMany([156,27,24,26,7],8,6,0),r.addMany(h(28,32),8,0,8),r.addMany([88,94,95],1,0,7),r.addMany(a,7,0,7),r.addMany(S,7,0,7),r.add(156,7,0,0),r.add(127,7,0,7),r.add(91,1,11,3),r.addMany(h(64,127),3,7,0),r.addMany(h(48,60),3,8,4),r.addMany([60,61,62,63],3,9,4),r.addMany(h(48,60),4,8,4),r.addMany(h(64,127),4,7,0),r.addMany([60,61,62,63],4,0,6),r.addMany(h(32,64),6,0,6),r.add(127,6,0,6),r.addMany(h(64,127),6,0,0),r.addMany(h(32,48),3,9,5),r.addMany(h(32,48),5,9,5),r.addMany(h(48,64),5,0,6),r.addMany(h(64,127),5,7,0),r.addMany(h(32,48),4,9,5),r.addMany(h(32,48),1,9,2),r.addMany(h(32,48),2,9,2),r.addMany(h(48,127),2,10,0),r.addMany(h(48,80),1,10,0),r.addMany(h(81,88),1,10,0),r.addMany([89,90,92],1,10,0),r.addMany(h(96,127),1,10,0),r.add(80,1,11,9),r.addMany(S,9,0,9),r.add(127,9,0,9),r.addMany(h(28,32),9,0,9),r.addMany(h(32,48),9,9,12),r.addMany(h(48,60),9,8,10),r.addMany([60,61,62,63],9,9,10),r.addMany(S,11,0,11),r.addMany(h(32,128),11,0,11),r.addMany(h(28,32),11,0,11),r.addMany(S,10,0,10),r.add(127,10,0,10),r.addMany(h(28,32),10,0,10),r.addMany(h(48,60),10,8,10),r.addMany([60,61,62,63],10,0,11),r.addMany(h(32,48),10,9,12),r.addMany(S,12,0,12),r.add(127,12,0,12),r.addMany(h(28,32),12,0,12),r.addMany(h(32,48),12,9,12),r.addMany(h(48,64),12,0,11),r.addMany(h(64,127),12,12,13),r.addMany(h(64,127),10,12,13),r.addMany(h(64,127),9,12,13),r.addMany(S,13,13,13),r.addMany(a,13,13,13),r.add(127,13,0,13),r.addMany([27,156,24,26],13,14,0),r.add(w,0,2,0),r.add(w,8,5,8),r.add(w,6,0,6),r.add(w,11,0,11),r.add(w,13,13,13),r}();class v extends l.Disposable{constructor(d=i.VT500_TRANSITION_TABLE){super(),this._transitions=d,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new u.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(h,a,S)=>{},this._executeHandlerFb=h=>{},this._csiHandlerFb=(h,a)=>{},this._escHandlerFb=h=>{},this._errorHandlerFb=h=>h,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,l.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new c.OscParser),this._dcsParser=this.register(new p.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(d,h=[64,126]){let a=0;if(d.prefix){if(d.prefix.length>1)throw new Error("only one byte as prefix supported");if(a=d.prefix.charCodeAt(0),a&&60>a||a>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(d.intermediates){if(d.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let b=0;b<d.intermediates.length;++b){const y=d.intermediates.charCodeAt(b);if(32>y||y>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");a<<=8,a|=y}}if(d.final.length!==1)throw new Error("final must be a single byte");const S=d.final.charCodeAt(0);if(h[0]>S||S>h[1])throw new Error(`final must be in range ${h[0]} .. ${h[1]}`);return a<<=8,a|=S,a}identToString(d){const h=[];for(;d;)h.push(String.fromCharCode(255&d)),d>>=8;return h.reverse().join("")}setPrintHandler(d){this._printHandler=d}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(d,h){const a=this._identifier(d,[48,126]);this._escHandlers[a]===void 0&&(this._escHandlers[a]=[]);const S=this._escHandlers[a];return S.push(h),{dispose:()=>{const b=S.indexOf(h);b!==-1&&S.splice(b,1)}}}clearEscHandler(d){this._escHandlers[this._identifier(d,[48,126])]&&delete this._escHandlers[this._identifier(d,[48,126])]}setEscHandlerFallback(d){this._escHandlerFb=d}setExecuteHandler(d,h){this._executeHandlers[d.charCodeAt(0)]=h}clearExecuteHandler(d){this._executeHandlers[d.charCodeAt(0)]&&delete this._executeHandlers[d.charCodeAt(0)]}setExecuteHandlerFallback(d){this._executeHandlerFb=d}registerCsiHandler(d,h){const a=this._identifier(d);this._csiHandlers[a]===void 0&&(this._csiHandlers[a]=[]);const S=this._csiHandlers[a];return S.push(h),{dispose:()=>{const b=S.indexOf(h);b!==-1&&S.splice(b,1)}}}clearCsiHandler(d){this._csiHandlers[this._identifier(d)]&&delete this._csiHandlers[this._identifier(d)]}setCsiHandlerFallback(d){this._csiHandlerFb=d}registerDcsHandler(d,h){return this._dcsParser.registerHandler(this._identifier(d),h)}clearDcsHandler(d){this._dcsParser.clearHandler(this._identifier(d))}setDcsHandlerFallback(d){this._dcsParser.setHandlerFallback(d)}registerOscHandler(d,h){return this._oscParser.registerHandler(d,h)}clearOscHandler(d){this._oscParser.clearHandler(d)}setOscHandlerFallback(d){this._oscParser.setHandlerFallback(d)}setErrorHandler(d){this._errorHandler=d}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(d,h,a,S,b){this._parseStack.state=d,this._parseStack.handlers=h,this._parseStack.handlerPos=a,this._parseStack.transition=S,this._parseStack.chunkPos=b}parse(d,h,a){let S,b=0,y=0,E=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,E=this._parseStack.chunkPos+1;else{if(a===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const C=this._parseStack.handlers;let k=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(a===!1&&k>-1){for(;k>=0&&(S=C[k](this._params),S!==!0);k--)if(S instanceof Promise)return this._parseStack.handlerPos=k,S}this._parseStack.handlers=[];break;case 4:if(a===!1&&k>-1){for(;k>=0&&(S=C[k](),S!==!0);k--)if(S instanceof Promise)return this._parseStack.handlerPos=k,S}this._parseStack.handlers=[];break;case 6:if(b=d[this._parseStack.chunkPos],S=this._dcsParser.unhook(b!==24&&b!==26,a),S)return S;b===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(b=d[this._parseStack.chunkPos],S=this._oscParser.end(b!==24&&b!==26,a),S)return S;b===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,E=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let C=E;C<h;++C){switch(b=d[C],y=this._transitions.table[this.currentState<<8|(b<160?b:w)],y>>4){case 2:for(let I=C+1;;++I){if(I>=h||(b=d[I])<32||b>126&&b<w){this._printHandler(d,C,I),C=I-1;break}if(++I>=h||(b=d[I])<32||b>126&&b<w){this._printHandler(d,C,I),C=I-1;break}if(++I>=h||(b=d[I])<32||b>126&&b<w){this._printHandler(d,C,I),C=I-1;break}if(++I>=h||(b=d[I])<32||b>126&&b<w){this._printHandler(d,C,I),C=I-1;break}}break;case 3:this._executeHandlers[b]?this._executeHandlers[b]():this._executeHandlerFb(b),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:C,code:b,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const k=this._csiHandlers[this._collect<<8|b];let R=k?k.length-1:-1;for(;R>=0&&(S=k[R](this._params),S!==!0);R--)if(S instanceof Promise)return this._preserveStack(3,k,R,y,C),S;R<0&&this._csiHandlerFb(this._collect<<8|b,this._params),this.precedingCodepoint=0;break;case 8:do switch(b){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(b-48)}while(++C<h&&(b=d[C])>47&&b<60);C--;break;case 9:this._collect<<=8,this._collect|=b;break;case 10:const T=this._escHandlers[this._collect<<8|b];let O=T?T.length-1:-1;for(;O>=0&&(S=T[O](),S!==!0);O--)if(S instanceof Promise)return this._preserveStack(4,T,O,y,C),S;O<0&&this._escHandlerFb(this._collect<<8|b),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|b,this._params);break;case 13:for(let I=C+1;;++I)if(I>=h||(b=d[I])===24||b===26||b===27||b>127&&b<w){this._dcsParser.put(d,C,I),C=I-1;break}break;case 14:if(S=this._dcsParser.unhook(b!==24&&b!==26),S)return this._preserveStack(6,[],0,y,C),S;b===27&&(y|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let I=C+1;;I++)if(I>=h||(b=d[I])<32||b>127&&b<w){this._oscParser.put(d,C,I),C=I-1;break}break;case 6:if(S=this._oscParser.end(b!==24&&b!==26),S)return this._preserveStack(5,[],0,y,C),S;b===27&&(y|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&y}}}i.EscapeSequenceParser=v},6242:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OscHandler=i.OscParser=void 0;const l=n(5770),u=n(482),c=[];i.OscParser=class{constructor(){this._state=0,this._active=c,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(p,g){this._handlers[p]===void 0&&(this._handlers[p]=[]);const w=this._handlers[p];return w.push(g),{dispose:()=>{const v=w.indexOf(g);v!==-1&&w.splice(v,1)}}}clearHandler(p){this._handlers[p]&&delete this._handlers[p]}setHandlerFallback(p){this._handlerFb=p}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=c}reset(){if(this._state===2)for(let p=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;p>=0;--p)this._active[p].end(!1);this._stack.paused=!1,this._active=c,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||c,this._active.length)for(let p=this._active.length-1;p>=0;p--)this._active[p].start();else this._handlerFb(this._id,"START")}_put(p,g,w){if(this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].put(p,g,w);else this._handlerFb(this._id,"PUT",(0,u.utf32ToString)(p,g,w))}start(){this.reset(),this._state=1}put(p,g,w){if(this._state!==3){if(this._state===1)for(;g<w;){const v=p[g++];if(v===59){this._state=2,this._start();break}if(v<48||57<v)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+v-48}this._state===2&&w-g>0&&this._put(p,g,w)}}end(p,g=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let w=!1,v=this._active.length-1,r=!1;if(this._stack.paused&&(v=this._stack.loopPosition-1,w=g,r=this._stack.fallThrough,this._stack.paused=!1),!r&&w===!1){for(;v>=0&&(w=this._active[v].end(p),w!==!0);v--)if(w instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=v,this._stack.fallThrough=!1,w;v--}for(;v>=0;v--)if(w=this._active[v].end(!1),w instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=v,this._stack.fallThrough=!0,w}else this._handlerFb(this._id,"END",p);this._active=c,this._id=-1,this._state=0}}},i.OscHandler=class{constructor(p){this._handler=p,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(p,g,w){this._hitLimit||(this._data+=(0,u.utf32ToString)(p,g,w),this._data.length>l.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(p){let g=!1;if(this._hitLimit)g=!1;else if(p&&(g=this._handler(this._data),g instanceof Promise))return g.then(w=>(this._data="",this._hitLimit=!1,w));return this._data="",this._hitLimit=!1,g}}},8742:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Params=void 0;const n=2147483647;class l{constructor(c=32,p=32){if(this.maxLength=c,this.maxSubParamsLength=p,p>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(c),this.length=0,this._subParams=new Int32Array(p),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(c),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}static fromArray(c){const p=new l;if(!c.length)return p;for(let g=Array.isArray(c[0])?1:0;g<c.length;++g){const w=c[g];if(Array.isArray(w))for(let v=0;v<w.length;++v)p.addSubParam(w[v]);else p.addParam(w)}return p}clone(){const c=new l(this.maxLength,this.maxSubParamsLength);return c.params.set(this.params),c.length=this.length,c._subParams.set(this._subParams),c._subParamsLength=this._subParamsLength,c._subParamsIdx.set(this._subParamsIdx),c._rejectDigits=this._rejectDigits,c._rejectSubDigits=this._rejectSubDigits,c._digitIsSub=this._digitIsSub,c}toArray(){const c=[];for(let p=0;p<this.length;++p){c.push(this.params[p]);const g=this._subParamsIdx[p]>>8,w=255&this._subParamsIdx[p];w-g>0&&c.push(Array.prototype.slice.call(this._subParams,g,w))}return c}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(c){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(c<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=c>n?n:c}}addSubParam(c){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(c<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=c>n?n:c,this._subParamsIdx[this.length-1]++}}hasSubParams(c){return(255&this._subParamsIdx[c])-(this._subParamsIdx[c]>>8)>0}getSubParams(c){const p=this._subParamsIdx[c]>>8,g=255&this._subParamsIdx[c];return g-p>0?this._subParams.subarray(p,g):null}getSubParamsAll(){const c={};for(let p=0;p<this.length;++p){const g=this._subParamsIdx[p]>>8,w=255&this._subParamsIdx[p];w-g>0&&(c[p]=this._subParams.slice(g,w))}return c}addDigit(c){let p;if(this._rejectDigits||!(p=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const g=this._digitIsSub?this._subParams:this.params,w=g[p-1];g[p-1]=~w?Math.min(10*w+c,n):c}}i.Params=l},5741:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.AddonManager=void 0,i.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let n=this._addons.length-1;n>=0;n--)this._addons[n].instance.dispose()}loadAddon(n,l){const u={instance:l,dispose:l.dispose,isDisposed:!1};this._addons.push(u),l.dispose=()=>this._wrappedAddonDispose(u),l.activate(n)}_wrappedAddonDispose(n){if(n.isDisposed)return;let l=-1;for(let u=0;u<this._addons.length;u++)if(this._addons[u]===n){l=u;break}if(l===-1)throw new Error("Could not dispose an addon that has not been loaded");n.isDisposed=!0,n.dispose.apply(n.instance),this._addons.splice(l,1)}}},8771:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferApiView=void 0;const l=n(3785),u=n(511);i.BufferApiView=class{constructor(c,p){this._buffer=c,this.type=p}init(c){return this._buffer=c,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(c){const p=this._buffer.lines.get(c);if(p)return new l.BufferLineApiView(p)}getNullCell(){return new u.CellData}}},3785:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferLineApiView=void 0;const l=n(511);i.BufferLineApiView=class{constructor(u){this._line=u}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(u,c){if(!(u<0||u>=this._line.length))return c?(this._line.loadCell(u,c),c):this._line.loadCell(u,new l.CellData)}translateToString(u,c,p){return this._line.translateToString(u,c,p)}}},8285:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferNamespaceApi=void 0;const l=n(8771),u=n(8460);i.BufferNamespaceApi=class{constructor(c){this._core=c,this._onBufferChange=new u.EventEmitter,this.onBufferChange=this._onBufferChange.event,this._normal=new l.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new l.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}},7975:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ParserApi=void 0,i.ParserApi=class{constructor(n){this._core=n}registerCsiHandler(n,l){return this._core.registerCsiHandler(n,u=>l(u.toArray()))}addCsiHandler(n,l){return this.registerCsiHandler(n,l)}registerDcsHandler(n,l){return this._core.registerDcsHandler(n,(u,c)=>l(u,c.toArray()))}addDcsHandler(n,l){return this.registerDcsHandler(n,l)}registerEscHandler(n,l){return this._core.registerEscHandler(n,l)}addEscHandler(n,l){return this.registerEscHandler(n,l)}registerOscHandler(n,l){return this._core.registerOscHandler(n,l)}addOscHandler(n,l){return this.registerOscHandler(n,l)}}},7090:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeApi=void 0,i.UnicodeApi=class{constructor(n){this._core=n}register(n){this._core.unicodeService.register(n)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(n){this._core.unicodeService.activeVersion=n}}},744:function(_,i,n){var l=this&&this.__decorate||function(r,d,h,a){var S,b=arguments.length,y=b<3?d:a===null?a=Object.getOwnPropertyDescriptor(d,h):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(r,d,h,a);else for(var E=r.length-1;E>=0;E--)(S=r[E])&&(y=(b<3?S(y):b>3?S(d,h,y):S(d,h))||y);return b>3&&y&&Object.defineProperty(d,h,y),y},u=this&&this.__param||function(r,d){return function(h,a){d(h,a,r)}};Object.defineProperty(i,"__esModule",{value:!0}),i.BufferService=i.MINIMUM_ROWS=i.MINIMUM_COLS=void 0;const c=n(2585),p=n(5295),g=n(8460),w=n(844);i.MINIMUM_COLS=2,i.MINIMUM_ROWS=1;let v=class extends w.Disposable{constructor(r){super(),this.isUserScrolling=!1,this._onResize=this.register(new g.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new g.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(r.rawOptions.cols||0,i.MINIMUM_COLS),this.rows=Math.max(r.rawOptions.rows||0,i.MINIMUM_ROWS),this.buffers=this.register(new p.BufferSet(r,this))}get buffer(){return this.buffers.active}resize(r,d){this.cols=r,this.rows=d,this.buffers.resize(r,d),this._onResize.fire({cols:r,rows:d})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(r,d=!1){const h=this.buffer;let a;a=this._cachedBlankLine,a&&a.length===this.cols&&a.getFg(0)===r.fg&&a.getBg(0)===r.bg||(a=h.getBlankLine(r,d),this._cachedBlankLine=a),a.isWrapped=d;const S=h.ybase+h.scrollTop,b=h.ybase+h.scrollBottom;if(h.scrollTop===0){const y=h.lines.isFull;b===h.lines.length-1?y?h.lines.recycle().copyFrom(a):h.lines.push(a.clone()):h.lines.splice(b+1,0,a.clone()),y?this.isUserScrolling&&(h.ydisp=Math.max(h.ydisp-1,0)):(h.ybase++,this.isUserScrolling||h.ydisp++)}else{const y=b-S+1;h.lines.shiftElements(S+1,y-1,-1),h.lines.set(b,a.clone())}this.isUserScrolling||(h.ydisp=h.ybase),this._onScroll.fire(h.ydisp)}scrollLines(r,d,h){const a=this.buffer;if(r<0){if(a.ydisp===0)return;this.isUserScrolling=!0}else r+a.ydisp>=a.ybase&&(this.isUserScrolling=!1);const S=a.ydisp;a.ydisp=Math.max(Math.min(a.ydisp+r,a.ybase),0),S!==a.ydisp&&(d||this._onScroll.fire(a.ydisp))}scrollPages(r){this.scrollLines(r*(this.rows-1))}scrollToTop(){this.scrollLines(-this.buffer.ydisp)}scrollToBottom(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)}scrollToLine(r){const d=r-this.buffer.ydisp;d!==0&&this.scrollLines(d)}};v=l([u(0,c.IOptionsService)],v),i.BufferService=v},7994:(_,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CharsetService=void 0,i.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(n){this.glevel=n,this.charset=this._charsets[n]}setgCharset(n,l){this._charsets[n]=l,this.glevel===n&&(this.charset=l)}}},1753:function(_,i,n){var l=this&&this.__decorate||function(a,S,b,y){var E,C=arguments.length,k=C<3?S:y===null?y=Object.getOwnPropertyDescriptor(S,b):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(a,S,b,y);else for(var R=a.length-1;R>=0;R--)(E=a[R])&&(k=(C<3?E(k):C>3?E(S,b,k):E(S,b))||k);return C>3&&k&&Object.defineProperty(S,b,k),k},u=this&&this.__param||function(a,S){return function(b,y){S(b,y,a)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CoreMouseService=void 0;const c=n(2585),p=n(8460),g=n(844),w={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:a=>a.button!==4&&a.action===1&&(a.ctrl=!1,a.alt=!1,a.shift=!1,!0)},VT200:{events:19,restrict:a=>a.action!==32},DRAG:{events:23,restrict:a=>a.action!==32||a.button!==3},ANY:{events:31,restrict:a=>!0}};function v(a,S){let b=(a.ctrl?16:0)|(a.shift?4:0)|(a.alt?8:0);return a.button===4?(b|=64,b|=a.action):(b|=3&a.button,4&a.button&&(b|=64),8&a.button&&(b|=128),a.action===32?b|=32:a.action!==0||S||(b|=3)),b}const r=String.fromCharCode,d={DEFAULT:a=>{const S=[v(a,!1)+32,a.col+32,a.row+32];return S[0]>255||S[1]>255||S[2]>255?"":`\x1B[M${r(S[0])}${r(S[1])}${r(S[2])}`},SGR:a=>{const S=a.action===0&&a.button!==4?"m":"M";return`\x1B[<${v(a,!0)};${a.col};${a.row}${S}`},SGR_PIXELS:a=>{const S=a.action===0&&a.button!==4?"m":"M";return`\x1B[<${v(a,!0)};${a.x};${a.y}${S}`}};let h=class extends g.Disposable{constructor(a,S){super(),this._bufferService=a,this._coreService=S,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new p.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const b of Object.keys(w))this.addProtocol(b,w[b]);for(const b of Object.keys(d))this.addEncoding(b,d[b]);this.reset()}addProtocol(a,S){this._protocols[a]=S}addEncoding(a,S){this._encodings[a]=S}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(a){if(!this._protocols[a])throw new Error(`unknown protocol "${a}"`);this._activeProtocol=a,this._onProtocolChange.fire(this._protocols[a].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(a){if(!this._encodings[a])throw new Error(`unknown encoding "${a}"`);this._activeEncoding=a}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(a){if(a.col<0||a.col>=this._bufferService.cols||a.row<0||a.row>=this._bufferService.rows||a.button===4&&a.action===32||a.button===3&&a.action!==32||a.button!==4&&(a.action===2||a.action===3)||(a.col++,a.row++,a.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,a,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(a))return!1;const S=this._encodings[this._activeEncoding](a);return S&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(S):this._coreService.triggerDataEvent(S,!0)),this._lastEvent=a,!0}explainEvents(a){return{down:!!(1&a),up:!!(2&a),drag:!!(4&a),move:!!(8&a),wheel:!!(16&a)}}_equalEvents(a,S,b){if(b){if(a.x!==S.x||a.y!==S.y)return!1}else if(a.col!==S.col||a.row!==S.row)return!1;return a.button===S.button&&a.action===S.action&&a.ctrl===S.ctrl&&a.alt===S.alt&&a.shift===S.shift}};h=l([u(0,c.IBufferService),u(1,c.ICoreService)],h),i.CoreMouseService=h},6975:function(_,i,n){var l=this&&this.__decorate||function(h,a,S,b){var y,E=arguments.length,C=E<3?a:b===null?b=Object.getOwnPropertyDescriptor(a,S):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(h,a,S,b);else for(var k=h.length-1;k>=0;k--)(y=h[k])&&(C=(E<3?y(C):E>3?y(a,S,C):y(a,S))||C);return E>3&&C&&Object.defineProperty(a,S,C),C},u=this&&this.__param||function(h,a){return function(S,b){a(S,b,h)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CoreService=void 0;const c=n(2585),p=n(8460),g=n(1439),w=n(844),v=Object.freeze({insertMode:!1}),r=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let d=class extends w.Disposable{constructor(h,a,S){super(),this._bufferService=h,this._logService=a,this._optionsService=S,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new p.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new p.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new p.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new p.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,g.clone)(v),this.decPrivateModes=(0,g.clone)(r)}reset(){this.modes=(0,g.clone)(v),this.decPrivateModes=(0,g.clone)(r)}triggerDataEvent(h,a=!1){if(this._optionsService.rawOptions.disableStdin)return;const S=this._bufferService.buffer;a&&this._optionsService.rawOptions.scrollOnUserInput&&S.ybase!==S.ydisp&&this._onRequestScrollToBottom.fire(),a&&this._onUserInput.fire(),this._logService.debug(`sending data "${h}"`,()=>h.split("").map(b=>b.charCodeAt(0))),this._onData.fire(h)}triggerBinaryEvent(h){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${h}"`,()=>h.split("").map(a=>a.charCodeAt(0))),this._onBinary.fire(h))}};d=l([u(0,c.IBufferService),u(1,c.ILogService),u(2,c.IOptionsService)],d),i.CoreService=d},9074:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DecorationService=void 0;const l=n(8055),u=n(8460),c=n(844),p=n(6106);let g=0,w=0;class v extends c.Disposable{constructor(){super(),this._decorations=new p.SortedList(h=>h==null?void 0:h.marker.line),this._onDecorationRegistered=this.register(new u.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new u.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,c.toDisposable)(()=>{for(const h of this._decorations.values())this._onDecorationRemoved.fire(h);this.reset()}))}get decorations(){return this._decorations.values()}registerDecoration(h){if(h.marker.isDisposed)return;const a=new r(h);if(a){const S=a.marker.onDispose(()=>a.dispose());a.onDispose(()=>{a&&(this._decorations.delete(a)&&this._onDecorationRemoved.fire(a),S.dispose())}),this._decorations.insert(a),this._onDecorationRegistered.fire(a)}return a}reset(){for(const h of this._decorations.values())h.dispose();this._decorations.clear()}*getDecorationsAtCell(h,a,S){var b,y,E;let C=0,k=0;for(const R of this._decorations.getKeyIterator(a))C=(b=R.options.x)!==null&&b!==void 0?b:0,k=C+((y=R.options.width)!==null&&y!==void 0?y:1),h>=C&&h<k&&(!S||((E=R.options.layer)!==null&&E!==void 0?E:"bottom")===S)&&(yield R)}forEachDecorationAtCell(h,a,S,b){this._decorations.forEachByKey(a,y=>{var E,C,k;g=(E=y.options.x)!==null&&E!==void 0?E:0,w=g+((C=y.options.width)!==null&&C!==void 0?C:1),h>=g&&h<w&&(!S||((k=y.options.layer)!==null&&k!==void 0?k:"bottom")===S)&&b(y)})}dispose(){for(const h of this._decorations.values())this._onDecorationRemoved.fire(h);this.reset()}}i.DecorationService=v;class r extends c.Disposable{constructor(h){super(),this.options=h,this.onRenderEmitter=this.register(new u.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new u.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=h.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=l.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=l.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.InstantiationService=i.ServiceCollection=void 0;const l=n(2585),u=n(8343);class c{constructor(...g){this._entries=new Map;for(const[w,v]of g)this.set(w,v)}set(g,w){const v=this._entries.get(g);return this._entries.set(g,w),v}forEach(g){for(const[w,v]of this._entries.entries())g(w,v)}has(g){return this._entries.has(g)}get(g){return this._entries.get(g)}}i.ServiceCollection=c,i.InstantiationService=class{constructor(){this._services=new c,this._services.set(l.IInstantiationService,this)}setService(p,g){this._services.set(p,g)}getService(p){return this._services.get(p)}createInstance(p,...g){const w=(0,u.getServiceDependencies)(p).sort((d,h)=>d.index-h.index),v=[];for(const d of w){const h=this._services.get(d.id);if(!h)throw new Error(`[createInstance] ${p.name} depends on UNKNOWN service ${d.id}.`);v.push(h)}const r=w.length>0?w[0].index:g.length;if(g.length!==r)throw new Error(`[createInstance] First service dependency of ${p.name} at position ${r+1} conflicts with ${g.length} static arguments`);return new p(...g,...v)}}},7866:function(_,i,n){var l=this&&this.__decorate||function(v,r,d,h){var a,S=arguments.length,b=S<3?r:h===null?h=Object.getOwnPropertyDescriptor(r,d):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(v,r,d,h);else for(var y=v.length-1;y>=0;y--)(a=v[y])&&(b=(S<3?a(b):S>3?a(r,d,b):a(r,d))||b);return S>3&&b&&Object.defineProperty(r,d,b),b},u=this&&this.__param||function(v,r){return function(d,h){r(d,h,v)}};Object.defineProperty(i,"__esModule",{value:!0}),i.LogService=void 0;const c=n(844),p=n(2585),g={debug:p.LogLevelEnum.DEBUG,info:p.LogLevelEnum.INFO,warn:p.LogLevelEnum.WARN,error:p.LogLevelEnum.ERROR,off:p.LogLevelEnum.OFF};let w=class extends c.Disposable{constructor(v){super(),this._optionsService=v,this.logLevel=p.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel()))}_updateLogLevel(){this.logLevel=g[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(v){for(let r=0;r<v.length;r++)typeof v[r]=="function"&&(v[r]=v[r]())}_log(v,r,d){this._evalLazyOptionalParams(d),v.call(console,"xterm.js: "+r,...d)}debug(v,...r){this.logLevel<=p.LogLevelEnum.DEBUG&&this._log(console.log,v,r)}info(v,...r){this.logLevel<=p.LogLevelEnum.INFO&&this._log(console.info,v,r)}warn(v,...r){this.logLevel<=p.LogLevelEnum.WARN&&this._log(console.warn,v,r)}error(v,...r){this.logLevel<=p.LogLevelEnum.ERROR&&this._log(console.error,v,r)}};w=l([u(0,p.IOptionsService)],w),i.LogService=w},7302:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OptionsService=i.DEFAULT_OPTIONS=void 0;const l=n(8460),u=n(6114),c=n(844);i.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:u.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const p=["normal","bold","100","200","300","400","500","600","700","800","900"];class g extends c.Disposable{constructor(v){super(),this._onOptionChange=this.register(new l.EventEmitter),this.onOptionChange=this._onOptionChange.event;const r=Object.assign({},i.DEFAULT_OPTIONS);for(const d in v)if(d in r)try{const h=v[d];r[d]=this._sanitizeAndValidateOption(d,h)}catch(h){console.error(h)}this.rawOptions=r,this.options=Object.assign({},r),this._setupOptions()}onSpecificOptionChange(v,r){return this.onOptionChange(d=>{d===v&&r(this.rawOptions[v])})}onMultipleOptionChange(v,r){return this.onOptionChange(d=>{v.indexOf(d)!==-1&&r()})}_setupOptions(){const v=d=>{if(!(d in i.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);return this.rawOptions[d]},r=(d,h)=>{if(!(d in i.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);h=this._sanitizeAndValidateOption(d,h),this.rawOptions[d]!==h&&(this.rawOptions[d]=h,this._onOptionChange.fire(d))};for(const d in this.rawOptions){const h={get:v.bind(this,d),set:r.bind(this,d)};Object.defineProperty(this.options,d,h)}}_sanitizeAndValidateOption(v,r){switch(v){case"cursorStyle":if(r||(r=i.DEFAULT_OPTIONS[v]),!function(d){return d==="block"||d==="underline"||d==="bar"}(r))throw new Error(`"${r}" is not a valid value for ${v}`);break;case"wordSeparator":r||(r=i.DEFAULT_OPTIONS[v]);break;case"fontWeight":case"fontWeightBold":if(typeof r=="number"&&1<=r&&r<=1e3)break;r=p.includes(r)?r:i.DEFAULT_OPTIONS[v];break;case"cursorWidth":r=Math.floor(r);case"lineHeight":case"tabStopWidth":if(r<1)throw new Error(`${v} cannot be less than 1, value: ${r}`);break;case"minimumContrastRatio":r=Math.max(1,Math.min(21,Math.round(10*r)/10));break;case"scrollback":if((r=Math.min(r,4294967295))<0)throw new Error(`${v} cannot be less than 0, value: ${r}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(r<=0)throw new Error(`${v} cannot be less than or equal to 0, value: ${r}`);break;case"rows":case"cols":if(!r&&r!==0)throw new Error(`${v} must be numeric, value: ${r}`);break;case"windowsPty":r=r??{}}return r}}i.OptionsService=g},2660:function(_,i,n){var l=this&&this.__decorate||function(g,w,v,r){var d,h=arguments.length,a=h<3?w:r===null?r=Object.getOwnPropertyDescriptor(w,v):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(g,w,v,r);else for(var S=g.length-1;S>=0;S--)(d=g[S])&&(a=(h<3?d(a):h>3?d(w,v,a):d(w,v))||a);return h>3&&a&&Object.defineProperty(w,v,a),a},u=this&&this.__param||function(g,w){return function(v,r){w(v,r,g)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OscLinkService=void 0;const c=n(2585);let p=class{constructor(g){this._bufferService=g,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(g){const w=this._bufferService.buffer;if(g.id===void 0){const S=w.addMarker(w.ybase+w.y),b={data:g,id:this._nextId++,lines:[S]};return S.onDispose(()=>this._removeMarkerFromLink(b,S)),this._dataByLinkId.set(b.id,b),b.id}const v=g,r=this._getEntryIdKey(v),d=this._entriesWithId.get(r);if(d)return this.addLineToLink(d.id,w.ybase+w.y),d.id;const h=w.addMarker(w.ybase+w.y),a={id:this._nextId++,key:this._getEntryIdKey(v),data:v,lines:[h]};return h.onDispose(()=>this._removeMarkerFromLink(a,h)),this._entriesWithId.set(a.key,a),this._dataByLinkId.set(a.id,a),a.id}addLineToLink(g,w){const v=this._dataByLinkId.get(g);if(v&&v.lines.every(r=>r.line!==w)){const r=this._bufferService.buffer.addMarker(w);v.lines.push(r),r.onDispose(()=>this._removeMarkerFromLink(v,r))}}getLinkData(g){var w;return(w=this._dataByLinkId.get(g))===null||w===void 0?void 0:w.data}_getEntryIdKey(g){return`${g.id};;${g.uri}`}_removeMarkerFromLink(g,w){const v=g.lines.indexOf(w);v!==-1&&(g.lines.splice(v,1),g.lines.length===0&&(g.data.id!==void 0&&this._entriesWithId.delete(g.key),this._dataByLinkId.delete(g.id)))}};p=l([u(0,c.IBufferService)],p),i.OscLinkService=p},8343:(_,i)=>{function n(l,u,c){u.di$target===u?u.di$dependencies.push({id:l,index:c}):(u.di$dependencies=[{id:l,index:c}],u.di$target=u)}Object.defineProperty(i,"__esModule",{value:!0}),i.createDecorator=i.getServiceDependencies=i.serviceRegistry=void 0,i.serviceRegistry=new Map,i.getServiceDependencies=function(l){return l.di$dependencies||[]},i.createDecorator=function(l){if(i.serviceRegistry.has(l))return i.serviceRegistry.get(l);const u=function(c,p,g){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");n(u,c,g)};return u.toString=()=>l,i.serviceRegistry.set(l,u),u}},2585:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.IDecorationService=i.IUnicodeService=i.IOscLinkService=i.IOptionsService=i.ILogService=i.LogLevelEnum=i.IInstantiationService=i.ICharsetService=i.ICoreService=i.ICoreMouseService=i.IBufferService=void 0;const l=n(8343);var u;i.IBufferService=(0,l.createDecorator)("BufferService"),i.ICoreMouseService=(0,l.createDecorator)("CoreMouseService"),i.ICoreService=(0,l.createDecorator)("CoreService"),i.ICharsetService=(0,l.createDecorator)("CharsetService"),i.IInstantiationService=(0,l.createDecorator)("InstantiationService"),(u=i.LogLevelEnum||(i.LogLevelEnum={}))[u.DEBUG=0]="DEBUG",u[u.INFO=1]="INFO",u[u.WARN=2]="WARN",u[u.ERROR=3]="ERROR",u[u.OFF=4]="OFF",i.ILogService=(0,l.createDecorator)("LogService"),i.IOptionsService=(0,l.createDecorator)("OptionsService"),i.IOscLinkService=(0,l.createDecorator)("OscLinkService"),i.IUnicodeService=(0,l.createDecorator)("UnicodeService"),i.IDecorationService=(0,l.createDecorator)("DecorationService")},1480:(_,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeService=void 0;const l=n(8460),u=n(225);i.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new l.EventEmitter,this.onChange=this._onChange.event;const c=new u.UnicodeV6;this.register(c),this._active=c.version,this._activeProvider=c}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(c){if(!this._providers[c])throw new Error(`unknown Unicode version "${c}"`);this._active=c,this._activeProvider=this._providers[c],this._onChange.fire(c)}register(c){this._providers[c.version]=c}wcwidth(c){return this._activeProvider.wcwidth(c)}getStringCellWidth(c){let p=0;const g=c.length;for(let w=0;w<g;++w){let v=c.charCodeAt(w);if(55296<=v&&v<=56319){if(++w>=g)return p+this.wcwidth(v);const r=c.charCodeAt(w);56320<=r&&r<=57343?v=1024*(v-55296)+r-56320+65536:p+=this.wcwidth(r)}p+=this.wcwidth(v)}return p}}}},s={};function f(_){var i=s[_];if(i!==void 0)return i.exports;var n=s[_]={exports:{}};return t[_].call(n.exports,n,n.exports,f),n.exports}var m={};return(()=>{var _=m;Object.defineProperty(_,"__esModule",{value:!0}),_.Terminal=void 0;const i=f(3236),n=f(9042),l=f(7975),u=f(7090),c=f(5741),p=f(8285),g=["cols","rows"];_.Terminal=class{constructor(w){this._core=new i.Terminal(w),this._addonManager=new c.AddonManager,this._publicOptions=Object.assign({},this._core.options);const v=d=>this._core.options[d],r=(d,h)=>{this._checkReadonlyOptions(d),this._core.options[d]=h};for(const d in this._core.options){const h={get:v.bind(this,d),set:r.bind(this,d)};Object.defineProperty(this._publicOptions,d,h)}}_checkReadonlyOptions(w){if(g.includes(w))throw new Error(`Option "${w}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new l.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new u.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=new p.BufferNamespaceApi(this._core)),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const w=this._core.coreService.decPrivateModes;let v="none";switch(this._core.coreMouseService.activeProtocol){case"X10":v="x10";break;case"VT200":v="vt200";break;case"DRAG":v="drag";break;case"ANY":v="any"}return{applicationCursorKeysMode:w.applicationCursorKeys,applicationKeypadMode:w.applicationKeypad,bracketedPasteMode:w.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:v,originMode:w.origin,reverseWraparoundMode:w.reverseWraparound,sendFocusMode:w.sendFocus,wraparoundMode:w.wraparound}}get options(){return this._publicOptions}set options(w){for(const v in w)this._publicOptions[v]=w[v]}blur(){this._core.blur()}focus(){this._core.focus()}resize(w,v){this._verifyIntegers(w,v),this._core.resize(w,v)}open(w){this._core.open(w)}attachCustomKeyEventHandler(w){this._core.attachCustomKeyEventHandler(w)}registerLinkProvider(w){return this._core.registerLinkProvider(w)}registerCharacterJoiner(w){return this._checkProposedApi(),this._core.registerCharacterJoiner(w)}deregisterCharacterJoiner(w){this._checkProposedApi(),this._core.deregisterCharacterJoiner(w)}registerMarker(w=0){return this._verifyIntegers(w),this._core.addMarker(w)}registerDecoration(w){var v,r,d;return this._checkProposedApi(),this._verifyPositiveIntegers((v=w.x)!==null&&v!==void 0?v:0,(r=w.width)!==null&&r!==void 0?r:0,(d=w.height)!==null&&d!==void 0?d:0),this._core.registerDecoration(w)}hasSelection(){return this._core.hasSelection()}select(w,v,r){this._verifyIntegers(w,v,r),this._core.select(w,v,r)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(w,v){this._verifyIntegers(w,v),this._core.selectLines(w,v)}dispose(){this._addonManager.dispose(),this._core.dispose()}scrollLines(w){this._verifyIntegers(w),this._core.scrollLines(w)}scrollPages(w){this._verifyIntegers(w),this._core.scrollPages(w)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(w){this._verifyIntegers(w),this._core.scrollToLine(w)}clear(){this._core.clear()}write(w,v){this._core.write(w,v)}writeln(w,v){this._core.write(w),this._core.write(`\r
`,v)}paste(w){this._core.paste(w)}refresh(w,v){this._verifyIntegers(w,v),this._core.refresh(w,v)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(w){return this._addonManager.loadAddon(this,w)}static get strings(){return n}_verifyIntegers(...w){for(const v of w)if(v===1/0||isNaN(v)||v%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...w){for(const v of w)if(v&&(v===1/0||isNaN(v)||v%1!=0||v<0))throw new Error("This API only accepts positive integers")}}})(),m})())})(Sr);var _l=Sr.exports,wr={exports:{}};(function(o,e){(function(t,s){o.exports=s()})(self,function(){return(()=>{var t={};return(()=>{var s=t;Object.defineProperty(s,"__esModule",{value:!0}),s.FitAddon=void 0,s.FitAddon=class{constructor(){}activate(f){this._terminal=f}dispose(){}fit(){const f=this.proposeDimensions();if(!f||!this._terminal||isNaN(f.cols)||isNaN(f.rows))return;const m=this._terminal._core;this._terminal.rows===f.rows&&this._terminal.cols===f.cols||(m._renderService.clear(),this._terminal.resize(f.cols,f.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const f=this._terminal._core,m=f._renderService.dimensions;if(m.css.cell.width===0||m.css.cell.height===0)return;const _=this._terminal.options.scrollback===0?0:f.viewport.scrollBarWidth,i=window.getComputedStyle(this._terminal.element.parentElement),n=parseInt(i.getPropertyValue("height")),l=Math.max(0,parseInt(i.getPropertyValue("width"))),u=window.getComputedStyle(this._terminal.element),c=n-(parseInt(u.getPropertyValue("padding-top"))+parseInt(u.getPropertyValue("padding-bottom"))),p=l-(parseInt(u.getPropertyValue("padding-right"))+parseInt(u.getPropertyValue("padding-left")))-_;return{cols:Math.max(2,Math.floor(p/m.css.cell.width)),rows:Math.max(1,Math.floor(c/m.css.cell.height))}}}})(),t})()})})(wr);var pl=wr.exports;function ml(o){let e,t,s,f,m,_,i,n,l,u,c,p,g,w,v,r,d,h,a,S;return v=new ue({props:{icon:rn}}),{c(){e=x("form"),t=x("div"),s=x("div"),f=x("input"),m=K(),_=x("label"),_.textContent="Command",i=K(),n=x("div"),l=x("input"),u=K(),c=x("label"),c.textContent="User",p=K(),g=x("div"),w=x("button"),oe(v.$$.fragment),r=ee(`
                    Open Terminal`),D(f,"type","text"),D(f,"class","form-control"),D(f,"id","inpTerminalCmd"),D(_,"for","inpTerminalCmd"),D(s,"class","form-floating mb-2"),D(l,"type","text"),D(l,"class","form-control"),D(l,"id","inpTerminalUser"),D(c,"for","inpTerminalUser"),D(n,"class","form-floating mb-2"),D(w,"type","submit"),D(w,"class","btn btn-primary w-100"),D(g,"class","col-12"),D(t,"class","container"),ge(t,"max-width","400px"),D(e,"class","container login-form")},m(b,y){W(b,e,y),A(e,t),A(t,s),A(s,f),Je(f,o[2]),A(s,m),A(s,_),A(t,i),A(t,n),A(n,l),Je(l,o[3]),A(n,u),A(n,c),A(t,p),A(t,g),A(g,w),re(v,w,null),A(w,r),h=!0,a||(S=[_e(f,"input",o[10]),_e(l,"input",o[11]),_e(e,"submit",Gt(o[5]))],a=!0)},p(b,y){y&4&&f.value!==b[2]&&Je(f,b[2]),y&8&&l.value!==b[3]&&Je(l,b[3])},i(b){h||(N(v.$$.fragment,b),b&&Ae(()=>{h&&(d||(d=Fe(e,Ie,{},!0)),d.run(1))}),h=!0)},o(b){V(v.$$.fragment,b),b&&(d||(d=Fe(e,Ie,{},!1)),d.run(0)),h=!1},d(b){b&&U(e),ne(v),b&&d&&d.end(),a=!1,ze(S)}}}function vl(o){let e,t,s,f,m,_,i,n,l,u,c;return s=new ue({props:{icon:_r,size:"lg",color:"#666"}}),_=new ue({props:{icon:Pn,size:"lg",color:"#666"}}),{c(){e=x("div"),t=x("button"),oe(s.$$.fragment),f=K(),m=x("button"),oe(_.$$.fragment),i=K(),n=x("div"),D(t,"type","button"),D(t,"class","btn mx-3"),D(t,"title","Fullscreen"),D(m,"type","button"),D(m,"class","btn mx-3"),D(m,"title","Close Terminal"),D(e,"class","d-flex justify-content-end mb-2"),D(n,"class","border"),ge(n,"height","calc(100vh - 280px)")},m(p,g){W(p,e,g),A(e,t),re(s,t,null),A(e,f),A(e,m),re(_,m,null),W(p,i,g),W(p,n,g),o[9](n),l=!0,u||(c=[_e(t,"click",o[6]),_e(m,"click",o[8])],u=!0)},p:se,i(p){l||(N(s.$$.fragment,p),N(_.$$.fragment,p),l=!0)},o(p){V(s.$$.fragment,p),V(_.$$.fragment,p),l=!1},d(p){p&&U(e),ne(s),ne(_),p&&U(i),p&&U(n),o[9](null),u=!1,ze(c)}}}function gl(o){let e,t,s,f,m,_;const i=[vl,ml],n=[];function l(u,c){return u[1]?0:1}return e=l(o),t=n[e]=i[e](o),{c(){t.c(),s=qe()},m(u,c){n[e].m(u,c),W(u,s,c),f=!0,m||(_=_e(window,"resize",o[4]),m=!0)},p(u,[c]){let p=e;e=l(u),e===p?n[e].p(u,c):(pe(),V(n[p],1,1,()=>{n[p]=null}),me(),t=n[e],t?t.p(u,c):(t=n[e]=i[e](u),t.c()),N(t,1),t.m(s.parentNode,s))},i(u){f||(N(t),f=!0)},o(u){V(t),f=!1},d(u){n[e].d(u),u&&U(s),m=!1,_()}}}const Is="sh",Ps="root";function bl(o,e,t){let{container_id:s}=e,f,m,_=!1,i=Is,n=Ps;const l=new _l.Terminal({theme:{background:"#222",cursor:"white",cursorAccent:"#222"},cursorBlink:!0}),u=new pl.FitAddon;Lt(()=>{s!==f&&(_&&(ae.send("close_terminal"),g()),f=s)}),Ne(()=>{ae.register("spawn_terminal",()=>{c(),l.focus()},a=>Ce.add({text:a,type:"error"})),ae.register("close_terminal",()=>{Ce.add({text:"Terminal has been closed",type:"info"}),g()},a=>Ce.add({text:a,type:"error"})),ae.register("receive_terminal_output",async a=>{l.write(new Uint8Array(await a.blob.arrayBuffer()))},a=>Ce.add({text:a,type:"error"})),l.onResize(a=>{ae.send("resize_terminal",a)}),l.loadAddon(u),l.onData(a=>{ae.send("transmit_terminal_input",{data:a})})}),Qe(()=>{_&&ae.send("close_terminal"),ae.unregister("spawn_terminal"),ae.unregister("close_terminal"),ae.unregister("receive_terminal_output")});function c(){_&&u.fit()}async function p(){t(1,_=!0),ae.send("spawn_terminal",{container_id:s,cmd:i,user:n}),await ar(),l.open(m)}function g(){t(1,_=!1),l.reset(),l.clear(),t(2,i=Is),t(3,n=Ps)}function w(){m!=null&&m.requestFullscreen&&m.requestFullscreen({navigationUI:"show"})}const v=()=>ae.send("close_terminal");function r(a){et[a?"unshift":"push"](()=>{m=a,t(0,m)})}function d(){i=this.value,t(2,i)}function h(){n=this.value,t(3,n)}return o.$$set=a=>{"container_id"in a&&t(7,s=a.container_id)},[m,_,i,n,c,p,w,s,v,r,d,h]}class Sl extends Me{constructor(e){super(),Be(this,e,bl,gl,Te,{container_id:7})}}var Cl={prefix:"fab",iconName:"docker",icon:[640,512,[],"f395","M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"]},wl={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]};function yl(o){let e,t,s,f,m,_,i,n=o[1].os+"",l,u,c,p,g,w=o[1].cpus+"",v,r,d,h,a,S,b=He(o[1].mem)+"",y,E,C,k,R,T,O=o[1].engine_version+"",I,q,z,G,L,M=o[1].containers.running+"",B,H,j=o[1].containers.total+"",Y,le,J,ie,$,P,F,X;return _=new ue({props:{icon:un,size:"lg",style:"width: 3rem"}}),p=new ue({props:{icon:pr,size:"lg",style:"width: 3rem"}}),a=new ue({props:{icon:ur,size:"lg",style:"width: 3rem"}}),R=new ue({props:{icon:Cl,size:"lg",style:"width: 3rem"}}),G=new ue({props:{icon:mr,size:"lg",style:"width: 3rem"}}),P=new ue({props:{icon:wl,size:"sm"}}),{c(){e=x("div"),t=x("div"),s=x("div"),s.textContent="Host",f=K(),m=x("div"),oe(_.$$.fragment),i=K(),l=ee(n),u=K(),c=x("div"),oe(p.$$.fragment),g=K(),v=ee(w),r=ee(" CPUs"),d=K(),h=x("div"),oe(a.$$.fragment),S=K(),y=ee(b),E=ee(`
                    Memory`),C=K(),k=x("div"),oe(R.$$.fragment),T=K(),I=ee(O),q=K(),z=x("div"),oe(G.$$.fragment),L=K(),B=ee(M),H=ee("/"),Y=ee(j),le=ee(" Containers running"),J=K(),ie=x("div"),$=x("a"),oe(P.$$.fragment),F=ee(`
                        CaaSa on Github`),D(s,"class","fs-4 text-uppercase mb-3"),D(m,"class","d-flex align-items-center mb-2"),D(c,"class","d-flex align-items-center mb-2"),D(h,"class","d-flex align-items-center mb-2"),D(k,"class","d-flex align-items-center mb-2"),D(z,"class","d-flex align-items-center mb-2"),D($,"href","https://github.com/knrdl/caasa"),D($,"target","_blank"),D($,"rel","noopener noreferrer"),D($,"class","text-decoration-none"),D(ie,"class","mt-3"),D(t,"class","card-body"),D(e,"class","card")},m(Z,de){W(Z,e,de),A(e,t),A(t,s),A(t,f),A(t,m),re(_,m,null),A(m,i),A(m,l),A(t,u),A(t,c),re(p,c,null),A(c,g),A(c,v),A(c,r),A(t,d),A(t,h),re(a,h,null),A(h,S),A(h,y),A(h,E),A(t,C),A(t,k),re(R,k,null),A(k,T),A(k,I),A(t,q),A(t,z),re(G,z,null),A(z,L),A(z,B),A(z,H),A(z,Y),A(z,le),A(t,J),A(t,ie),A(ie,$),re(P,$,null),A($,F),X=!0},p(Z,de){(!X||de&2)&&n!==(n=Z[1].os+"")&&ce(l,n),(!X||de&2)&&w!==(w=Z[1].cpus+"")&&ce(v,w),(!X||de&2)&&b!==(b=He(Z[1].mem)+"")&&ce(y,b),(!X||de&2)&&O!==(O=Z[1].engine_version+"")&&ce(I,O),(!X||de&2)&&M!==(M=Z[1].containers.running+"")&&ce(B,M),(!X||de&2)&&j!==(j=Z[1].containers.total+"")&&ce(Y,j)},i(Z){X||(N(_.$$.fragment,Z),N(p.$$.fragment,Z),N(a.$$.fragment,Z),N(R.$$.fragment,Z),N(G.$$.fragment,Z),N(P.$$.fragment,Z),X=!0)},o(Z){V(_.$$.fragment,Z),V(p.$$.fragment,Z),V(a.$$.fragment,Z),V(R.$$.fragment,Z),V(G.$$.fragment,Z),V(P.$$.fragment,Z),X=!1},d(Z){Z&&U(e),ne(_),ne(p),ne(a),ne(R),ne(G),ne(P)}}}function kl(o){let e;return{c(){e=x("div"),e.innerHTML=`<strong class="mx-5">Loading...</strong> 
            <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div>`,D(e,"class","d-flex align-items-center")},m(t,s){W(t,e,s)},p:se,i:se,o:se,d(t){t&&U(e)}}}function El(o){let e,t,s,f;const m=[kl,yl],_=[];function i(n,l){return n[0]?0:n[1]?1:-1}return~(t=i(o))&&(s=_[t]=m[t](o)),{c(){e=x("div"),s&&s.c(),D(e,"class","flex-grow-1 d-flex justify-content-center align-items-start mt-5")},m(n,l){W(n,e,l),~t&&_[t].m(e,null),f=!0},p(n,[l]){let u=t;t=i(n),t===u?~t&&_[t].p(n,l):(s&&(pe(),V(_[u],1,1,()=>{_[u]=null}),me()),~t?(s=_[t],s?s.p(n,l):(s=_[t]=m[t](n),s.c()),N(s,1),s.m(e,null)):s=null)},i(n){f||(N(s),f=!0)},o(n){V(s),f=!1},d(n){n&&U(e),~t&&_[t].d()}}}function Ll(o,e,t){let s=!0,f;return Ne(()=>{ae.register("get_system_info",m=>{t(1,f=m),t(0,s=!1)},m=>{t(0,s=!1),Ce.add({text:m,type:"error"})}),ae.send("get_system_info")}),Qe(()=>{ae.unregister("get_system_info")}),[s,f]}class Rl extends Me{constructor(e){super(),Be(this,e,Ll,El,Te,{})}}function Hs(o,e,t){const s=o.slice();s[7]=e[t];const f=s[1]&&s[1].id===s[7].id;return s[8]=f,s}function $s(o){let e;function t(m,_){return m[0].length===0?Al:Dl}let s=t(o),f=s(o);return{c(){f.c(),e=qe()},m(m,_){f.m(m,_),W(m,e,_)},p(m,_){s===(s=t(m))&&f?f.p(m,_):(f.d(1),f=s(m),f&&(f.c(),f.m(e.parentNode,e)))},d(m){f.d(m),m&&U(e)}}}function Dl(o){let e,t,s,f,m,_=o[3],i=[];for(let l=0;l<_.length;l+=1)i[l]=zs(Hs(o,_,l));let n=null;return _.length||(n=Fs()),{c(){e=x("input"),t=K();for(let l=0;l<i.length;l+=1)i[l].c();s=qe(),n&&n.c(),D(e,"type","search"),D(e,"class","form-control svelte-1eu07ri"),D(e,"placeholder","Search"),e.value=o[2]},m(l,u){W(l,e,u),W(l,t,u);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(l,u);W(l,s,u),n&&n.m(l,u),f||(m=_e(e,"input",o[5]),f=!0)},p(l,u){if(u&4&&e.value!==l[2]&&(e.value=l[2]),u&26){_=l[3];let c;for(c=0;c<_.length;c+=1){const p=Hs(l,_,c);i[c]?i[c].p(p,u):(i[c]=zs(p),i[c].c(),i[c].m(s.parentNode,s))}for(;c<i.length;c+=1)i[c].d(1);i.length=_.length,!_.length&&n?n.p(l,u):_.length?n&&(n.d(1),n=null):(n=Fs(),n.c(),n.m(s.parentNode,s))}},d(l){l&&U(e),l&&U(t),$e(i,l),l&&U(s),n&&n.d(l),f=!1,m()}}}function Al(o){let e;return{c(){e=x("p"),e.textContent="No containers found",D(e,"class","mx-5 my-2")},m(t,s){W(t,e,s)},p:se,d(t){t&&U(e)}}}function Fs(o){let e;return{c(){e=x("p"),e.textContent="No containers match search term",D(e,"class","mx-2 my-1")},m(t,s){W(t,e,s)},p:se,d(t){t&&U(e)}}}function zs(o){let e,t,s,f,m,_=(o[7].namespace||"")+"",i,n,l,u=o[7].name+"",c,p,g,w;function v(){return o[6](o[7])}return{c(){var r;e=x("div"),t=x("div"),s=K(),f=x("div"),m=x("div"),i=ee(_),n=K(),l=x("div"),c=ee(u),p=K(),ge(t,"width","10px"),ge(t,"flex","none"),he(t,"bg-success",o[7].status==="running"),he(t,"bg-danger",["exited","dead","removing"].includes(o[7].status)),he(t,"bg-warning",["created","paused","restarting"].includes(o[7].status)),D(m,"class","text-uppercase"),he(m,"text-muted",((r=o[1])==null?void 0:r.id)!==o[7].id),D(f,"class","p-2 pe-4"),D(e,"class","d-flex border-top border-bottom"),ge(e,"cursor","pointer"),he(e,"bg-dark",o[8]),he(e,"text-light",o[8])},m(r,d){W(r,e,d),A(e,t),A(e,s),A(e,f),A(f,m),A(m,i),A(f,n),A(f,l),A(l,c),A(e,p),g||(w=_e(e,"click",v),g=!0)},p(r,d){var h;o=r,d&8&&he(t,"bg-success",o[7].status==="running"),d&8&&he(t,"bg-danger",["exited","dead","removing"].includes(o[7].status)),d&8&&he(t,"bg-warning",["created","paused","restarting"].includes(o[7].status)),d&8&&_!==(_=(o[7].namespace||"")+"")&&ce(i,_),d&10&&he(m,"text-muted",((h=o[1])==null?void 0:h.id)!==o[7].id),d&8&&u!==(u=o[7].name+"")&&ce(c,u),d&10&&he(e,"bg-dark",o[8]),d&10&&he(e,"text-light",o[8])},d(r){r&&U(e),g=!1,w()}}}function Tl(o){let e,t=o[0]&&$s(o);return{c(){e=x("aside"),t&&t.c(),D(e,"class","d-flex flex-column pb-1 svelte-1eu07ri")},m(s,f){W(s,e,f),t&&t.m(e,null)},p(s,[f]){s[0]?t?t.p(s,f):(t=$s(s),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:se,o:se,d(s){s&&U(e),t&&t.d()}}}function Bl(o,e,t){let s,{containers:f}=e,{selectedContainer:m}=e;const _=nr();let i="";const n=u=>t(2,i=u.target.value.toLowerCase()),l=u=>_("select-container",u);return o.$$set=u=>{"containers"in u&&t(0,f=u.containers),"selectedContainer"in u&&t(1,m=u.selectedContainer)},o.$$.update=()=>{o.$$.dirty&5&&t(3,s=f==null?void 0:f.filter(u=>{var c;return u.name.toLowerCase().replace(/\s+/g,"").includes(i.replace(/\s+/g,""))||((c=u.namespace)==null?void 0:c.toLowerCase().replace(/\s+/g,"").includes(i.replace(/\s+/g,"")))}))},[f,m,i,s,_,n,l]}class yr extends Me{constructor(e){super(),Be(this,e,Bl,Tl,Te,{containers:0,selectedContainer:1})}}function Ns(o){let e,t;return e=new gr({}),{c(){oe(e.$$.fragment)},m(s,f){re(e,s,f),t=!0},i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}function Us(o){let e,t,s,f;return t=new yr({props:{containers:o[4],selectedContainer:o[0]?null:o[2]}}),t.$on("select-container",o[10]),{c(){e=x("div"),oe(t.$$.fragment),D(e,"class","position-absolute")},m(m,_){W(m,e,_),re(t,e,null),f=!0},p(m,_){const i={};_&16&&(i.containers=m[4]),_&5&&(i.selectedContainer=m[0]?null:m[2]),t.$set(i)},i(m){f||(N(t.$$.fragment,m),Ae(()=>{f&&(s||(s=Fe(e,Kt,{y:-50,duration:200},!0)),s.run(1))}),f=!0)},o(m){V(t.$$.fragment,m),s||(s=Fe(e,Kt,{y:-50,duration:200},!1)),s.run(0),f=!1},d(m){m&&U(e),ne(t),m&&s&&s.end()}}}function Ml(o){var T,O,I,q,z,G,L,M,B,H;let e,t,s,f=(O=(T=o[2])==null?void 0:T.permissions)==null?void 0:O.includes("info"),m,_=(q=(I=o[2])==null?void 0:I.permissions)==null?void 0:q.includes("logs"),i,n=o[6]&&((G=(z=o[2])==null?void 0:z.permissions)==null?void 0:G.includes("term")),l,u=o[6]&&((M=(L=o[2])==null?void 0:L.permissions)==null?void 0:M.includes("procs")),c,p=o[6]&&((H=(B=o[2])==null?void 0:B.permissions)==null?void 0:H.includes("files")),g,w,v,r,d,h,a=f&&Ws(o),S=_&&js(o),b=n&&Vs(o),y=u&&Ks(o),E=p&&qs(o);const C=[$l,Hl,Pl,Il,Ol],k=[];function R(j,Y){return j[5]==="info"?0:j[5]==="logs"?1:j[5]==="term"?2:j[5]==="procs"?3:j[5]==="files"?4:-1}return~(v=R(o))&&(r=k[v]=C[v](o)),{c(){e=x("div"),t=x("div"),s=x("ul"),a&&a.c(),m=K(),S&&S.c(),i=K(),b&&b.c(),l=K(),y&&y.c(),c=K(),E&&E.c(),g=K(),w=x("div"),r&&r.c(),D(s,"class","card-header"),D(w,"class","card-body py-4"),D(t,"class","card tabs"),D(e,"class","container-md"),ge(e,"overflow","hidden")},m(j,Y){W(j,e,Y),A(e,t),A(t,s),a&&a.m(s,null),A(s,m),S&&S.m(s,null),A(s,i),b&&b.m(s,null),A(s,l),y&&y.m(s,null),A(s,c),E&&E.m(s,null),A(t,g),A(t,w),~v&&k[v].m(w,null),h=!0},p(j,Y){var J,ie,$,P,F,X,Z,de,te,be;Y&4&&(f=(ie=(J=j[2])==null?void 0:J.permissions)==null?void 0:ie.includes("info")),f?a?a.p(j,Y):(a=Ws(j),a.c(),a.m(s,m)):a&&(a.d(1),a=null),Y&4&&(_=(P=($=j[2])==null?void 0:$.permissions)==null?void 0:P.includes("logs")),_?S?S.p(j,Y):(S=js(j),S.c(),S.m(s,i)):S&&(S.d(1),S=null),Y&68&&(n=j[6]&&((X=(F=j[2])==null?void 0:F.permissions)==null?void 0:X.includes("term"))),n?b?b.p(j,Y):(b=Vs(j),b.c(),b.m(s,l)):b&&(b.d(1),b=null),Y&68&&(u=j[6]&&((de=(Z=j[2])==null?void 0:Z.permissions)==null?void 0:de.includes("procs"))),u?y?y.p(j,Y):(y=Ks(j),y.c(),y.m(s,c)):y&&(y.d(1),y=null),Y&68&&(p=j[6]&&((be=(te=j[2])==null?void 0:te.permissions)==null?void 0:be.includes("files"))),p?E?E.p(j,Y):(E=qs(j),E.c(),E.m(s,null)):E&&(E.d(1),E=null);let le=v;v=R(j),v===le?~v&&k[v].p(j,Y):(r&&(pe(),V(k[le],1,1,()=>{k[le]=null}),me()),~v?(r=k[v],r?r.p(j,Y):(r=k[v]=C[v](j),r.c()),N(r,1),r.m(w,null)):r=null)},i(j){h||(N(r),Ae(()=>{h&&(d||(d=Fe(e,Kt,{x:300,duration:200},!0)),d.run(1))}),h=!0)},o(j){V(r),d||(d=Fe(e,Kt,{x:300,duration:200},!1)),d.run(0),h=!1},d(j){j&&U(e),a&&a.d(),S&&S.d(),b&&b.d(),y&&y.d(),E&&E.d(),~v&&k[v].d(),j&&d&&d.end()}}}function xl(o){let e,t;return e=new Rl({}),{c(){oe(e.$$.fragment)},m(s,f){re(e,s,f),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}function Ws(o){let e,t,s,f;return{c(){e=x("li"),t=x("button"),t.textContent="Info",D(t,"type","button"),D(t,"class","text-uppercase"),he(t,"active",o[5]==="info")},m(m,_){W(m,e,_),A(e,t),s||(f=_e(t,"click",o[12]),s=!0)},p(m,_){_&32&&he(t,"active",m[5]==="info")},d(m){m&&U(e),s=!1,f()}}}function js(o){let e,t,s,f;return{c(){e=x("li"),t=x("button"),t.textContent="Logs",D(t,"type","button"),D(t,"class","text-uppercase"),he(t,"active",o[5]==="logs")},m(m,_){W(m,e,_),A(e,t),s||(f=_e(t,"click",o[13]),s=!0)},p(m,_){_&32&&he(t,"active",m[5]==="logs")},d(m){m&&U(e),s=!1,f()}}}function Vs(o){let e,t,s,f;return{c(){e=x("li"),t=x("button"),t.textContent="Terminal",D(t,"type","button"),D(t,"class","text-uppercase"),he(t,"active",o[5]==="term")},m(m,_){W(m,e,_),A(e,t),s||(f=_e(t,"click",o[14]),s=!0)},p(m,_){_&32&&he(t,"active",m[5]==="term")},d(m){m&&U(e),s=!1,f()}}}function Ks(o){let e,t,s,f;return{c(){e=x("li"),t=x("button"),t.textContent="Processes",D(t,"type","button"),D(t,"class","text-uppercase"),he(t,"active",o[5]==="procs")},m(m,_){W(m,e,_),A(e,t),s||(f=_e(t,"click",o[15]),s=!0)},p(m,_){_&32&&he(t,"active",m[5]==="procs")},d(m){m&&U(e),s=!1,f()}}}function qs(o){let e,t,s,f;return{c(){e=x("li"),t=x("button"),t.textContent="Files",D(t,"type","button"),D(t,"class","text-uppercase"),he(t,"active",o[5]==="files")},m(m,_){W(m,e,_),A(e,t),s||(f=_e(t,"click",o[16]),s=!0)},p(m,_){_&32&&he(t,"active",m[5]==="files")},d(m){m&&U(e),s=!1,f()}}}function Ol(o){let e,t,s,f;return t=new al({props:{container_id:o[2].id,allow_download:o[2].permissions.includes("files-read"),allow_upload:o[2].permissions.includes("files-write")}}),{c(){e=x("div"),oe(t.$$.fragment)},m(m,_){W(m,e,_),re(t,e,null),f=!0},p(m,_){const i={};_&4&&(i.container_id=m[2].id),_&4&&(i.allow_download=m[2].permissions.includes("files-read")),_&4&&(i.allow_upload=m[2].permissions.includes("files-write")),t.$set(i)},i(m){f||(N(t.$$.fragment,m),m&&(s||Ae(()=>{s=at(e,Ie,{}),s.start()})),f=!0)},o(m){V(t.$$.fragment,m),f=!1},d(m){m&&U(e),ne(t)}}}function Il(o){let e,t,s,f;return t=new ul({props:{container_id:o[2].id}}),{c(){e=x("div"),oe(t.$$.fragment)},m(m,_){W(m,e,_),re(t,e,null),f=!0},p(m,_){const i={};_&4&&(i.container_id=m[2].id),t.$set(i)},i(m){f||(N(t.$$.fragment,m),m&&(s||Ae(()=>{s=at(e,Ie,{}),s.start()})),f=!0)},o(m){V(t.$$.fragment,m),f=!1},d(m){m&&U(e),ne(t)}}}function Pl(o){let e,t,s,f;return t=new Sl({props:{container_id:o[2].id}}),{c(){e=x("div"),oe(t.$$.fragment)},m(m,_){W(m,e,_),re(t,e,null),f=!0},p(m,_){const i={};_&4&&(i.container_id=m[2].id),t.$set(i)},i(m){f||(N(t.$$.fragment,m),m&&(s||Ae(()=>{s=at(e,Ie,{}),s.start()})),f=!0)},o(m){V(t.$$.fragment,m),f=!1},d(m){m&&U(e),ne(t)}}}function Hl(o){let e,t,s,f;return t=new zo({props:{container_id:o[2].id}}),{c(){e=x("div"),oe(t.$$.fragment)},m(m,_){W(m,e,_),re(t,e,null),f=!0},p(m,_){const i={};_&4&&(i.container_id=m[2].id),t.$set(i)},i(m){f||(N(t.$$.fragment,m),m&&(s||Ae(()=>{s=at(e,Ie,{}),s.start()})),f=!0)},o(m){V(t.$$.fragment,m),f=!1},d(m){m&&U(e),ne(t)}}}function $l(o){let e,t,s,f;return t=new Ao({props:{container_id:o[2].id,enable_actions:o[2].permissions.includes("state")}}),{c(){e=x("div"),oe(t.$$.fragment)},m(m,_){W(m,e,_),re(t,e,null),f=!0},p(m,_){const i={};_&4&&(i.container_id=m[2].id),_&4&&(i.enable_actions=m[2].permissions.includes("state")),t.$set(i)},i(m){f||(N(t.$$.fragment,m),m&&(s||Ae(()=>{s=at(e,Ie,{}),s.start()})),f=!0)},o(m){V(t.$$.fragment,m),f=!1},d(m){m&&U(e),ne(t)}}}function Fl(o){let e,t,s,f,m,_,i,n,l,u,c,p,g,w,v=o[3]&&Ns(),r=o[1]&&Us(o);n=new yr({props:{containers:o[4],selectedContainer:o[0]?null:o[2]}}),n.$on("select-container",o[11]);const d=[xl,Ml],h=[];function a(S,b){return S[0]?0:1}return u=a(o),c=h[u]=d[u](o),{c(){v&&v.c(),e=K(),t=x("div"),s=x("div"),f=K(),r&&r.c(),m=K(),_=x("div"),i=x("aside"),oe(n.$$.fragment),l=K(),c.c(),D(s,"class","position-fixed top-0 bottom-0 start-0 end-0"),ge(s,"background","rgba(0, 0, 0, .55)"),D(t,"class","d-md-none position-relative"),ge(t,"z-index","100"),he(t,"d-none",!o[1]),D(i,"class","d-none d-md-block me-4"),D(_,"class","d-flex pb-3 align-items-start")},m(S,b){v&&v.m(S,b),W(S,e,b),W(S,t,b),A(t,s),A(t,f),r&&r.m(t,null),W(S,m,b),W(S,_,b),A(_,i),re(n,i,null),A(_,l),h[u].m(_,null),p=!0,g||(w=_e(s,"click",o[9]),g=!0)},p(S,[b]){S[3]?v?b&8&&N(v,1):(v=Ns(),v.c(),N(v,1),v.m(e.parentNode,e)):v&&(pe(),V(v,1,1,()=>{v=null}),me()),S[1]?r?(r.p(S,b),b&2&&N(r,1)):(r=Us(S),r.c(),N(r,1),r.m(t,null)):r&&(pe(),V(r,1,1,()=>{r=null}),me()),(!p||b&2)&&he(t,"d-none",!S[1]);const y={};b&16&&(y.containers=S[4]),b&5&&(y.selectedContainer=S[0]?null:S[2]),n.$set(y);let E=u;u=a(S),u===E?h[u].p(S,b):(pe(),V(h[E],1,1,()=>{h[E]=null}),me(),c=h[u],c?c.p(S,b):(c=h[u]=d[u](S),c.c()),N(c,1),c.m(_,null))},i(S){p||(N(v),N(r),N(n.$$.fragment,S),N(c),p=!0)},o(S){V(v),V(r),V(n.$$.fragment,S),V(c),p=!1},d(S){v&&v.d(S),S&&U(e),S&&U(t),r&&r.d(),S&&U(m),S&&U(_),ne(n),h[u].d(),g=!1,w()}}}function zl(o,e,t){let s,f,m=!0,_,i,{showHostInfo:n}=e,{showContainerListOverlay:l}=e,u=null;Ne(()=>{ae.register("get_container_list",b=>{t(4,_=b),t(3,m=!1)},b=>Ce.add({text:b,type:"error"})),ae.send("get_container_list"),f=setInterval(()=>{ae.send("get_container_list")},3e3)}),Qe(()=>{ae.unregister("get_container_list"),clearInterval(f)});function c(b){t(5,u=null),t(0,n=!1),t(1,l=!1),t(2,i=null),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{var E;t(2,i=b);const y=["info","logs","procs","term","files"];for(let C of y)if((E=i==null?void 0:i.permissions)!=null&&E.includes(C)){t(5,u=C);break}u||(t(2,i=null),Ce.add({type:"warning",text:"No permissions to access container"}))},100)}function p(b){t(5,u=b)}const g=()=>t(1,l=!1),w=b=>c(b.detail),v=b=>c(b.detail),r=()=>p("info"),d=()=>p("logs"),h=()=>p("term"),a=()=>p("procs"),S=()=>p("files");return o.$$set=b=>{"showHostInfo"in b&&t(0,n=b.showHostInfo),"showContainerListOverlay"in b&&t(1,l=b.showContainerListOverlay)},o.$$.update=()=>{o.$$.dirty&4&&t(6,s=(i==null?void 0:i.status)==="running")},[n,l,i,m,_,u,s,c,p,g,w,v,r,d,h,a,S]}class Nl extends Me{constructor(e){super(),Be(this,e,zl,Fl,Te,{showHostInfo:0,showContainerListOverlay:1})}}const{window:Ul}=Ar;function Gs(o){let e,t,s,f,m;return t=new ue({props:{icon:nn,color:"#123",size:"2x",style:"width: 3rem;height: 3rem;"}}),{c(){e=x("a"),oe(t.$$.fragment),D(e,"href","/#/"),D(e,"class","d-md-none d-flex justify-content-center align-items-center svelte-1v71q7q")},m(_,i){W(_,e,i),re(t,e,null),s=!0,f||(m=_e(e,"click",Gt(o[5])),f=!0)},p:se,i(_){s||(N(t.$$.fragment,_),s=!0)},o(_){V(t.$$.fragment,_),s=!1},d(_){_&&U(e),ne(t),f=!1,m()}}}function Xs(o){let e,t,s,f,m,_;return t=new ue({props:{icon:sn,color:"#333",size:"2x"}}),{c(){e=x("button"),oe(t.$$.fragment),D(e,"type","button"),D(e,"class","btn mx-2"),D(e,"title",s="Logout "+o[0])},m(i,n){W(i,e,n),re(t,e,null),f=!0,m||(_=_e(e,"click",o[4]),m=!0)},p(i,n){(!f||n&1&&s!==(s="Logout "+i[0]))&&D(e,"title",s)},i(i){f||(N(t.$$.fragment,i),f=!0)},o(i){V(t.$$.fragment,i),f=!1},d(i){i&&U(e),ne(t),m=!1,_()}}}function Wl(o){let e,t;return e=new no({}),e.$on("login",o[9]),{c(){oe(e.$$.fragment)},m(s,f){re(e,s,f),t=!0},p:se,i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}function jl(o){let e,t,s,f;function m(n){o[7](n)}function _(n){o[8](n)}let i={};return o[2]!==void 0&&(i.showHostInfo=o[2]),o[3]!==void 0&&(i.showContainerListOverlay=o[3]),e=new Nl({props:i}),et.push(()=>Mi(e,"showHostInfo",m)),et.push(()=>Mi(e,"showContainerListOverlay",_)),{c(){oe(e.$$.fragment)},m(n,l){re(e,n,l),f=!0},p(n,l){const u={};!t&&l&4&&(t=!0,u.showHostInfo=n[2],Bi(()=>t=!1)),!s&&l&8&&(s=!0,u.showContainerListOverlay=n[3],Bi(()=>s=!1)),e.$set(u)},i(n){f||(N(e.$$.fragment,n),f=!0)},o(n){V(e.$$.fragment,n),f=!1},d(n){ne(e,n)}}}function Vl(o){let e,t,s,f,m,_,i,n,l,u,c,p,g,w,v,r,d,h,a,S;e=new Gr({});let b=o[0]&&Gs(o);n=new ue({props:{icon:vn,color:"#123",size:"2x",style:"width: 3rem;height: 3rem;"}}),g=new Wn({});let y=o[0]&&o[1]&&Xs(o);const E=[jl,Wl],C=[];function k(R,T){return R[0]?0:1}return r=k(o),d=C[r]=E[r](o),{c(){oe(e.$$.fragment),t=K(),s=x("main"),f=x("header"),b&&b.c(),m=K(),_=x("a"),i=x("span"),oe(n.$$.fragment),l=K(),u=x("span"),u.textContent="Container as a Service admin",c=K(),p=x("div"),oe(g.$$.fragment),w=K(),y&&y.c(),v=K(),d.c(),he(i,"d-none",o[0]),he(i,"d-md-block",o[0]),D(u,"class","text-black ps-2 fs-2 fw-light"),D(_,"href","/#/"),D(_,"class","d-flex justify-content-center align-items-center svelte-1v71q7q"),D(p,"class","items-right svelte-1v71q7q"),D(f,"class","svelte-1v71q7q"),D(s,"class","svelte-1v71q7q")},m(R,T){re(e,R,T),W(R,t,T),W(R,s,T),A(s,f),b&&b.m(f,null),A(f,m),A(f,_),A(_,i),re(n,i,null),A(_,l),A(_,u),A(f,c),A(f,p),re(g,p,null),A(p,w),y&&y.m(p,null),A(s,v),C[r].m(s,null),h=!0,a||(S=[_e(Ul,"error",Kl),_e(_,"click",Gt(o[6]))],a=!0)},p(R,[T]){R[0]?b?(b.p(R,T),T&1&&N(b,1)):(b=Gs(R),b.c(),N(b,1),b.m(f,m)):b&&(pe(),V(b,1,1,()=>{b=null}),me()),(!h||T&1)&&he(i,"d-none",R[0]),(!h||T&1)&&he(i,"d-md-block",R[0]),R[0]&&R[1]?y?(y.p(R,T),T&3&&N(y,1)):(y=Xs(R),y.c(),N(y,1),y.m(p,null)):y&&(pe(),V(y,1,1,()=>{y=null}),me());let O=r;r=k(R),r===O?C[r].p(R,T):(pe(),V(C[O],1,1,()=>{C[O]=null}),me(),d=C[r],d?d.p(R,T):(d=C[r]=E[r](R),d.c()),N(d,1),d.m(s,null))},i(R){h||(N(e.$$.fragment,R),N(b),N(n.$$.fragment,R),N(g.$$.fragment,R),N(y),N(d),h=!0)},o(R){V(e.$$.fragment,R),V(b),V(n.$$.fragment,R),V(g.$$.fragment,R),V(y),V(d),h=!1},d(R){ne(e,R),R&&U(t),R&&U(s),b&&b.d(),ne(n),ne(g),y&&y.d(),C[r].d(),a=!1,ze(S)}}}function Kl(){alert("An error occurred!")}function ql(o,e,t){let s=null,f=!0,m=!0,_=!1;Ne(async()=>{ae.register("ws-error",null,g=>Ce.add({text:g,type:"error"})),ae.register("ws-close",null,g=>{Ce.add({text:g,type:"error"}),t(0,s=null),alert("Lost connection. Reconnect?"),window.location.reload()}),ae.register("webproxy_auth",({username:g})=>{t(0,s=g),t(1,f=!1)},g=>{Ce.add({text:g,type:"error"})}),await ae.init()});function i(){ae.close(),t(0,s=null),Ce.add({text:"Logged out",type:"info"}),window.location.reload()}const n=()=>t(3,_=!_),l=()=>t(2,m=!0);function u(g){m=g,t(2,m)}function c(g){_=g,t(3,_)}return[s,f,m,_,i,n,l,u,c,g=>t(0,s=g.detail.username)]}class Gl extends Me{constructor(e){super(),Be(this,e,ql,Vl,Te,{})}}new Gl({target:document.getElementById("app")});
