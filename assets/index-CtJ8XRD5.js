(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const E of document.querySelectorAll('link[rel="modulepreload"]'))y(E);new MutationObserver(E=>{for(const L of E)if(L.type==="childList")for(const k of L.addedNodes)k.tagName==="LINK"&&k.rel==="modulepreload"&&y(k)}).observe(document,{childList:!0,subtree:!0});function f(E){const L={};return E.integrity&&(L.integrity=E.integrity),E.referrerPolicy&&(L.referrerPolicy=E.referrerPolicy),E.crossOrigin==="use-credentials"?L.credentials="include":E.crossOrigin==="anonymous"?L.credentials="omit":L.credentials="same-origin",L}function y(E){if(E.ep)return;E.ep=!0;const L=f(E);fetch(E.href,L)}})();const Rn="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Rn);let Er=!1,An=!1;function Tn(){Er=!0}Tn();const Bn=1,Mn=2,vs=4,On=8,Pn=16,In=1,Hn=2,Fn=4,Nn=8,zn=16,Wn=1,$n=2,Un=4,ps=1,jn=2,Ye=Symbol(),qn="http://www.w3.org/1999/xhtml",Ci=!1;var $r=Array.isArray,Kn=Array.prototype.indexOf,li=Array.from,Vn=Object.defineProperty,Sr=Object.getOwnPropertyDescriptor,gs=Object.getOwnPropertyDescriptors,Gn=Object.prototype,Xn=Array.prototype,Mi=Object.getPrototypeOf,ji=Object.isExtensible;function Zn(i){return typeof i=="function"}const zt=()=>{};function Jn(i){return i()}function yi(i){for(var l=0;l<i.length;l++)i[l]()}function ms(){var i,l,f=new Promise((y,E)=>{i=y,l=E});return{promise:f,resolve:i,reject:l}}function qi(i,l){if(Array.isArray(i))return i;if(!(Symbol.iterator in i))return Array.from(i);const f=[];for(const y of i)if(f.push(y),f.length===l)break;return f}const Ve=2,Oi=4,ci=8,Yn=1<<24,Pt=16,Xt=32,hr=64,hi=128,Dt=512,qe=1024,dt=2048,Rt=4096,_t=8192,qt=16384,di=32768,nr=65536,Ki=1<<17,Ss=1<<18,xr=1<<19,bs=1<<20,jt=1<<25,or=32768,Ei=1<<21,Pi=1<<22,Yt=1<<23,Kt=Symbol("$state"),Qn=Symbol("legacy props"),eo=Symbol(""),gr=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function ui(i){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function to(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ro(i){throw new Error("https://svelte.dev/e/effect_in_teardown")}function io(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function so(i){throw new Error("https://svelte.dev/e/effect_orphan")}function no(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function oo(i){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function ao(i){throw new Error("https://svelte.dev/e/props_invalid_value")}function lo(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function co(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ho(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function uo(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function fo(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function _o(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function ws(i){return i===this.v}function Cs(i,l){return i!=i?l==l:i!==l||i!==null&&typeof i=="object"||typeof i=="function"}function ys(i){return!Cs(i,this.v)}let xe=null;function br(i){xe=i}function st(i,l=!1,f){xe={p:xe,i:!1,c:null,e:null,s:i,x:null,l:Er&&!l?{s:null,u:null,$:[]}:null}}function nt(i){var l=xe,f=l.e;if(f!==null){l.e=null;for(var y of f)Ns(y)}return l.i=!0,xe=l.p,{}}function Ur(){return!Er||xe!==null&&xe.l===null}let tr=[];function Es(){var i=tr;tr=[],yi(i)}function dr(i){if(tr.length===0&&!Pr){var l=tr;queueMicrotask(()=>{l===tr&&Es()})}tr.push(i)}function vo(){for(;tr.length>0;)Es()}function xs(i){var l=we;if(l===null)return me.f|=Yt,i;if((l.f&di)===0){if((l.f&hi)===0)throw i;l.b.error(i)}else wr(i,l)}function wr(i,l){for(;l!==null;){if((l.f&hi)!==0)try{l.b.error(i);return}catch(f){i=f}l=l.parent}throw i}const Zr=new Set;let be=null,Or=null,wt=null,mt=[],fi=null,xi=!1,Pr=!1;class Tt{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#i=0;#r=0;#l=null;#n=new Set;#s=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#r>0}process(l){mt=[],Or=null,this.apply();var f={parent:null,effect:null,effects:[],render_effects:[]};for(const y of l)this.#o(y,f);this.is_fork||this.#h(),this.is_deferred()?(this.#a(f.effects),this.#a(f.render_effects)):(Or=this,be=null,Vi(f.render_effects),Vi(f.effects),Or=null,this.#l?.resolve()),wt=null}#o(l,f){l.f^=qe;for(var y=l.first;y!==null;){var E=y.f,L=(E&(Xt|hr))!==0,k=L&&(E&qe)!==0,t=k||(E&_t)!==0||this.skipped_effects.has(y);if((y.f&hi)!==0&&y.b?.is_pending()&&(f={parent:f,effect:y,effects:[],render_effects:[]}),!t&&y.fn!==null){L?y.f^=qe:(E&Oi)!==0?f.effects.push(y):Lr(y)&&((y.f&Pt)!==0&&this.#n.add(y),Cr(y));var o=y.first;if(o!==null){y=o;continue}}var a=y.parent;for(y=y.next;y===null&&a!==null;)a===f.effect&&(this.#a(f.effects),this.#a(f.render_effects),f=f.parent),y=a.next,a=a.parent}}#a(l){for(const f of l)(f.f&dt)!==0?this.#n.add(f):(f.f&Rt)!==0&&this.#s.add(f),this.#c(f.deps),Ke(f,qe)}#c(l){if(l!==null)for(const f of l)(f.f&Ve)===0||(f.f&or)===0||(f.f^=or,this.#c(f.deps))}capture(l,f){this.previous.has(l)||this.previous.set(l,f),(l.f&Yt)===0&&(this.current.set(l,l.v),wt?.set(l,l.v))}activate(){be=this,this.apply()}deactivate(){be===this&&(be=null,wt=null)}flush(){if(this.activate(),mt.length>0){if(ks(),be!==null&&be!==this)return}else this.#i===0&&this.process([]);this.deactivate()}discard(){for(const l of this.#t)l(this);this.#t.clear()}#h(){if(this.#r===0){for(const l of this.#e)l();this.#e.clear()}this.#i===0&&this.#d()}#d(){if(Zr.size>1){this.previous.clear();var l=wt,f=!0,y={parent:null,effect:null,effects:[],render_effects:[]};for(const L of Zr){if(L===this){f=!1;continue}const k=[];for(const[o,a]of this.current){if(L.current.has(o))if(f&&a!==L.current.get(o))L.current.set(o,a);else continue;k.push(o)}if(k.length===0)continue;const t=[...L.current.keys()].filter(o=>!this.current.has(o));if(t.length>0){var E=mt;mt=[];const o=new Set,a=new Map;for(const u of k)Ls(u,t,o,a);if(mt.length>0){be=L,L.apply();for(const u of mt)L.#o(u,y);L.deactivate()}mt=E}}be=null,wt=l}this.committed=!0,Zr.delete(this)}increment(l){this.#i+=1,l&&(this.#r+=1)}decrement(l){this.#i-=1,l&&(this.#r-=1),this.revive()}revive(){for(const l of this.#n)this.#s.delete(l),Ke(l,dt),ar(l);for(const l of this.#s)Ke(l,Rt),ar(l);this.flush()}oncommit(l){this.#e.add(l)}ondiscard(l){this.#t.add(l)}settled(){return(this.#l??=ms()).promise}static ensure(){if(be===null){const l=be=new Tt;Zr.add(be),Pr||Tt.enqueue(()=>{be===l&&l.flush()})}return be}static enqueue(l){dr(l)}apply(){}}function po(i){var l=Pr;Pr=!0;try{for(var f;;){if(vo(),mt.length===0&&(be?.flush(),mt.length===0))return fi=null,f;ks()}}finally{Pr=l}}function ks(){var i=ir;xi=!0;var l=null;try{var f=0;for(ii(!0);mt.length>0;){var y=Tt.ensure();if(f++>1e3){var E,L;go()}y.process(mt),Qt.clear()}}finally{xi=!1,ii(i),fi=null}}function go(){try{no()}catch(i){wr(i,fi)}}let Nt=null;function Vi(i){var l=i.length;if(l!==0){for(var f=0;f<l;){var y=i[f++];if((y.f&(qt|_t))===0&&Lr(y)&&(Nt=new Set,Cr(y),y.deps===null&&y.first===null&&y.nodes===null&&(y.teardown===null&&y.ac===null?$s(y):y.fn=null),Nt?.size>0)){Qt.clear();for(const E of Nt){if((E.f&(qt|_t))!==0)continue;const L=[E];let k=E.parent;for(;k!==null;)Nt.has(k)&&(Nt.delete(k),L.push(k)),k=k.parent;for(let t=L.length-1;t>=0;t--){const o=L[t];(o.f&(qt|_t))===0&&Cr(o)}}Nt.clear()}}Nt=null}}function Ls(i,l,f,y){if(!f.has(i)&&(f.add(i),i.reactions!==null))for(const E of i.reactions){const L=E.f;(L&Ve)!==0?Ls(E,l,f,y):(L&(Pi|Pt))!==0&&(L&dt)===0&&Ds(E,l,y)&&(Ke(E,dt),ar(E))}}function Ds(i,l,f){const y=f.get(i);if(y!==void 0)return y;if(i.deps!==null)for(const E of i.deps){if(l.includes(E))return!0;if((E.f&Ve)!==0&&Ds(E,l,f))return f.set(E,!0),!0}return f.set(i,!1),!1}function ar(i){for(var l=fi=i;l.parent!==null;){l=l.parent;var f=l.f;if(xi&&l===we&&(f&Pt)!==0&&(f&Ss)===0)return;if((f&(hr|Xt))!==0){if((f&qe)===0)return;l.f^=qe}}mt.push(l)}function mo(i){let l=0,f=lr(0),y;return()=>{Fr()&&(b(f),Vr(()=>(l===0&&(y=j(()=>i(()=>Ir(f)))),l+=1,()=>{dr(()=>{l-=1,l===0&&(y?.(),y=void 0,Ir(f))})})))}}var So=nr|xr|hi;function bo(i,l,f){new wo(i,l,f)}class wo{parent;#e=!1;#t;#i=null;#r;#l;#n;#s=null;#o=null;#a=null;#c=null;#h=null;#d=0;#u=0;#_=!1;#f=null;#S=mo(()=>(this.#f=lr(this.#d),()=>{this.#f=null}));constructor(l,f,y){this.#t=l,this.#r=f,this.#l=y,this.parent=we.b,this.#e=!!this.#r.pending,this.#n=Ni(()=>{we.b=this;{var E=this.#g();try{this.#s=St(()=>y(E))}catch(L){this.error(L)}this.#u>0?this.#p():this.#e=!1}return()=>{this.#h?.remove()}},So)}#b(){try{this.#s=St(()=>this.#l(this.#t))}catch(l){this.error(l)}this.#e=!1}#w(){const l=this.#r.pending;l&&(this.#o=St(()=>l(this.#t)),Tt.enqueue(()=>{var f=this.#g();this.#s=this.#v(()=>(Tt.ensure(),St(()=>this.#l(f)))),this.#u>0?this.#p():(rr(this.#o,()=>{this.#o=null}),this.#e=!1)}))}#g(){var l=this.#t;return this.#e&&(this.#h=Vt(),this.#t.before(this.#h),l=this.#h),l}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#v(l){var f=we,y=me,E=xe;Ot(this.#n),ct(this.#n),br(this.#n.ctx);try{return l()}catch(L){return xs(L),null}finally{Ot(f),ct(y),br(E)}}#p(){const l=this.#r.pending;this.#s!==null&&(this.#c=document.createDocumentFragment(),this.#c.append(this.#h),qs(this.#s,this.#c)),this.#o===null&&(this.#o=St(()=>l(this.#t)))}#m(l){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(l);return}this.#u+=l,this.#u===0&&(this.#e=!1,this.#o&&rr(this.#o,()=>{this.#o=null}),this.#c&&(this.#t.before(this.#c),this.#c=null))}update_pending_count(l){this.#m(l),this.#d+=l,this.#f&&cr(this.#f,this.#d)}get_effect_pending(){return this.#S(),b(this.#f)}error(l){var f=this.#r.onerror;let y=this.#r.failed;if(this.#_||!f&&!y)throw l;this.#s&&(ht(this.#s),this.#s=null),this.#o&&(ht(this.#o),this.#o=null),this.#a&&(ht(this.#a),this.#a=null);var E=!1,L=!1;const k=()=>{if(E){_o();return}E=!0,L&&uo(),Tt.ensure(),this.#d=0,this.#a!==null&&rr(this.#a,()=>{this.#a=null}),this.#e=this.has_pending_snippet(),this.#s=this.#v(()=>(this.#_=!1,St(()=>this.#l(this.#t)))),this.#u>0?this.#p():this.#e=!1};var t=me;try{ct(null),L=!0,f?.(l,k),L=!1}catch(o){wr(o,this.#n&&this.#n.parent)}finally{ct(t)}y&&dr(()=>{this.#a=this.#v(()=>{Tt.ensure(),this.#_=!0;try{return St(()=>{y(this.#t,()=>l,()=>k)})}catch(o){return wr(o,this.#n.parent),null}finally{this.#_=!1}})})}}function Co(i,l,f,y){const E=Ur()?jr:Lt;if(f.length===0&&i.length===0){y(l.map(E));return}var L=be,k=we,t=yo();function o(){Promise.all(f.map(a=>Eo(a))).then(a=>{t();try{y([...l.map(E),...a])}catch(u){(k.f&qt)===0&&wr(u,k)}L?.deactivate(),ti()}).catch(a=>{wr(a,k)})}i.length>0?Promise.all(i).then(()=>{t();try{return o()}finally{L?.deactivate(),ti()}}):o()}function yo(){var i=we,l=me,f=xe,y=be;return function(L=!0){Ot(i),ct(l),br(f),L&&y?.activate()}}function ti(){Ot(null),ct(null),br(null)}function jr(i){var l=Ve|dt,f=me!==null&&(me.f&Ve)!==0?me:null;return we!==null&&(we.f|=xr),{ctx:xe,deps:null,effects:null,equals:ws,f:l,fn:i,reactions:null,rv:0,v:Ye,wv:0,parent:f??we,ac:null}}function Eo(i,l){let f=we;f===null&&to();var y=f.b,E=void 0,L=lr(Ye),k=!me,t=new Map;return Oo(()=>{var o=ms();E=o.promise;try{Promise.resolve(i()).then(o.resolve,o.reject).then(()=>{a===be&&a.committed&&a.deactivate(),ti()})}catch(h){o.reject(h),ti()}var a=be;if(k){var u=!y.is_pending();y.update_pending_count(1),a.increment(u),t.get(a)?.reject(gr),t.delete(a),t.set(a,o)}const c=(h,p=void 0)=>{if(a.activate(),p)p!==gr&&(L.f|=Yt,cr(L,p));else{(L.f&Yt)!==0&&(L.f^=Yt),cr(L,h);for(const[S,_]of t){if(t.delete(S),S===a)break;_.reject(gr)}}k&&(y.update_pending_count(-1),a.decrement(u))};o.promise.then(c,h=>c(null,h||"unknown"))}),Hi(()=>{for(const o of t.values())o.reject(gr)}),new Promise(o=>{function a(u){function c(){u===E?o(L):a(E)}u.then(c,c)}a(E)})}function Gi(i){const l=jr(i);return Ks(l),l}function Lt(i){const l=jr(i);return l.equals=ys,l}function Rs(i){var l=i.effects;if(l!==null){i.effects=null;for(var f=0;f<l.length;f+=1)ht(l[f])}}function xo(i){for(var l=i.parent;l!==null;){if((l.f&Ve)===0)return(l.f&qt)===0?l:null;l=l.parent}return null}function Ii(i){var l,f=we;Ot(xo(i));try{i.f&=~or,Rs(i),l=Zs(i)}finally{Ot(f)}return l}function As(i){var l=Ii(i);if(i.equals(l)||(be?.is_fork||(i.v=l),i.wv=Gs()),!ur)if(wt!==null)(Fr()||be?.is_fork)&&wt.set(i,l);else{var f=(i.f&Dt)===0?Rt:qe;Ke(i,f)}}let ki=new Set;const Qt=new Map;let Ts=!1;function lr(i,l){var f={f:0,v:i,reactions:null,equals:ws,rv:0,wv:0};return f}function Zt(i,l){const f=lr(i);return Ks(f),f}function le(i,l=!1,f=!0){const y=lr(i);return l||(y.equals=ys),Er&&f&&xe!==null&&xe.l!==null&&(xe.l.s??=[]).push(y),y}function pi(i,l){return J(i,j(()=>b(i))),l}function J(i,l,f=!1){me!==null&&(!Mt||(me.f&Ki)!==0)&&Ur()&&(me.f&(Ve|Pt|Pi|Ki))!==0&&!Gt?.includes(i)&&ho();let y=f?mr(l):l;return cr(i,y)}function cr(i,l){if(!i.equals(l)){var f=i.v;ur?Qt.set(i,l):Qt.set(i,f),i.v=l;var y=Tt.ensure();y.capture(i,f),(i.f&Ve)!==0&&((i.f&dt)!==0&&Ii(i),Ke(i,(i.f&Dt)!==0?qe:Rt)),i.wv=Gs(),Bs(i,dt),Ur()&&we!==null&&(we.f&qe)!==0&&(we.f&(Xt|hr))===0&&(gt===null?No([i]):gt.push(i)),!y.is_fork&&ki.size>0&&!Ts&&ko()}return l}function ko(){Ts=!1;var i=ir;ii(!0);const l=Array.from(ki);try{for(const f of l)(f.f&qe)!==0&&Ke(f,Rt),Lr(f)&&Cr(f)}finally{ii(i)}ki.clear()}function Ir(i){J(i,i.v+1)}function Bs(i,l){var f=i.reactions;if(f!==null)for(var y=Ur(),E=f.length,L=0;L<E;L++){var k=f[L],t=k.f;if(!(!y&&k===we)){var o=(t&dt)===0;if(o&&Ke(k,l),(t&Ve)!==0){var a=k;wt?.delete(a),(t&or)===0&&(t&Dt&&(k.f|=or),Bs(a,Rt))}else o&&((t&Pt)!==0&&Nt!==null&&Nt.add(k),ar(k))}}}function mr(i){if(typeof i!="object"||i===null||Kt in i)return i;const l=Mi(i);if(l!==Gn&&l!==Xn)return i;var f=new Map,y=$r(i),E=Zt(0),L=sr,k=t=>{if(sr===L)return t();var o=me,a=sr;ct(null),Yi(L);var u=t();return ct(o),Yi(a),u};return y&&f.set("length",Zt(i.length)),new Proxy(i,{defineProperty(t,o,a){(!("value"in a)||a.configurable===!1||a.enumerable===!1||a.writable===!1)&&lo();var u=f.get(o);return u===void 0?u=k(()=>{var c=Zt(a.value);return f.set(o,c),c}):J(u,a.value,!0),!0},deleteProperty(t,o){var a=f.get(o);if(a===void 0){if(o in t){const u=k(()=>Zt(Ye));f.set(o,u),Ir(E)}}else J(a,Ye),Ir(E);return!0},get(t,o,a){if(o===Kt)return i;var u=f.get(o),c=o in t;if(u===void 0&&(!c||Sr(t,o)?.writable)&&(u=k(()=>{var p=mr(c?t[o]:Ye),S=Zt(p);return S}),f.set(o,u)),u!==void 0){var h=b(u);return h===Ye?void 0:h}return Reflect.get(t,o,a)},getOwnPropertyDescriptor(t,o){var a=Reflect.getOwnPropertyDescriptor(t,o);if(a&&"value"in a){var u=f.get(o);u&&(a.value=b(u))}else if(a===void 0){var c=f.get(o),h=c?.v;if(c!==void 0&&h!==Ye)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return a},has(t,o){if(o===Kt)return!0;var a=f.get(o),u=a!==void 0&&a.v!==Ye||Reflect.has(t,o);if(a!==void 0||we!==null&&(!u||Sr(t,o)?.writable)){a===void 0&&(a=k(()=>{var h=u?mr(t[o]):Ye,p=Zt(h);return p}),f.set(o,a));var c=b(a);if(c===Ye)return!1}return u},set(t,o,a,u){var c=f.get(o),h=o in t;if(y&&o==="length")for(var p=a;p<c.v;p+=1){var S=f.get(p+"");S!==void 0?J(S,Ye):p in t&&(S=k(()=>Zt(Ye)),f.set(p+"",S))}if(c===void 0)(!h||Sr(t,o)?.writable)&&(c=k(()=>Zt(void 0)),J(c,mr(a)),f.set(o,c));else{h=c.v!==Ye;var _=k(()=>mr(a));J(c,_)}var e=Reflect.getOwnPropertyDescriptor(t,o);if(e?.set&&e.set.call(u,a),!h){if(y&&typeof o=="string"){var n=f.get("length"),r=Number(o);Number.isInteger(r)&&r>=n.v&&J(n,r+1)}Ir(E)}return!0},ownKeys(t){b(E);var o=Reflect.ownKeys(t).filter(c=>{var h=f.get(c);return h===void 0||h.v!==Ye});for(var[a,u]of f)u.v!==Ye&&!(a in t)&&o.push(a);return o},setPrototypeOf(){co()}})}function Xi(i){try{if(i!==null&&typeof i=="object"&&Kt in i)return i[Kt]}catch{}return i}function Lo(i,l){return Object.is(Xi(i),Xi(l))}var ri,Ms,Os,Ps;function Do(){if(ri===void 0){ri=window,Ms=/Firefox/.test(navigator.userAgent);var i=Element.prototype,l=Node.prototype,f=Text.prototype;Os=Sr(l,"firstChild").get,Ps=Sr(l,"nextSibling").get,ji(i)&&(i.__click=void 0,i.__className=void 0,i.__attributes=null,i.__style=void 0,i.__e=void 0),ji(f)&&(f.__t=void 0)}}function Vt(i=""){return document.createTextNode(i)}function Wt(i){return Os.call(i)}function qr(i){return Ps.call(i)}function H(i,l){return Wt(i)}function ve(i,l=!1){{var f=Wt(i);return f instanceof Comment&&f.data===""?qr(f):f}}function U(i,l=1,f=!1){let y=i;for(;l--;)y=qr(y);return y}function Ro(i){i.textContent=""}function Is(){return!1}let Zi=!1;function Ao(){Zi||(Zi=!0,document.addEventListener("reset",i=>{Promise.resolve().then(()=>{if(!i.defaultPrevented)for(const l of i.target.elements)l.__on_r?.()})},{capture:!0}))}function kr(i){var l=me,f=we;ct(null),Ot(null);try{return i()}finally{ct(l),Ot(f)}}function Hs(i,l,f,y=f){i.addEventListener(l,()=>kr(f));const E=i.__on_r;E?i.__on_r=()=>{E(),y(!0)}:i.__on_r=()=>y(!0),Ao()}function Fs(i){we===null&&(me===null&&so(),io()),ur&&ro()}function To(i,l){var f=l.last;f===null?l.last=l.first=i:(f.next=i,i.prev=f,l.last=i)}function It(i,l,f){var y=we;y!==null&&(y.f&_t)!==0&&(i|=_t);var E={ctx:xe,deps:null,nodes:null,f:i|dt|Dt,first:null,fn:l,last:null,next:null,parent:y,b:y&&y.b,prev:null,teardown:null,wv:0,ac:null};if(f)try{Cr(E),E.f|=di}catch(t){throw ht(E),t}else l!==null&&ar(E);var L=E;if(f&&L.deps===null&&L.teardown===null&&L.nodes===null&&L.first===L.last&&(L.f&xr)===0&&(L=L.first,(i&Pt)!==0&&(i&nr)!==0&&L!==null&&(L.f|=nr)),L!==null&&(L.parent=y,y!==null&&To(L,y),me!==null&&(me.f&Ve)!==0&&(i&hr)===0)){var k=me;(k.effects??=[]).push(L)}return E}function Fr(){return me!==null&&!Mt}function Hi(i){const l=It(ci,null,!1);return Ke(l,qe),l.teardown=i,l}function Li(i){Fs();var l=we.f,f=!me&&(l&Xt)!==0&&(l&di)===0;if(f){var y=xe;(y.e??=[]).push(i)}else return Ns(i)}function Ns(i){return It(Oi|bs,i,!1)}function Bo(i){return Fs(),It(ci|bs,i,!0)}function Mo(i){Tt.ensure();const l=It(hr|xr,i,!0);return(f={})=>new Promise(y=>{f.outro?rr(l,()=>{ht(l),y(void 0)}):(ht(l),y(void 0))})}function Fi(i){return It(Oi,i,!1)}function Bt(i,l){var f=xe,y={effect:null,ran:!1,deps:i};f.l.$.push(y),y.effect=Vr(()=>{i(),!y.ran&&(y.ran=!0,j(l))})}function Kr(){var i=xe;Vr(()=>{for(var l of i.l.$){l.deps();var f=l.effect;(f.f&qe)!==0&&Ke(f,Rt),Lr(f)&&Cr(f),l.ran=!1}})}function Oo(i){return It(Pi|xr,i,!0)}function Vr(i,l=0){return It(ci|l,i,!0)}function ae(i,l=[],f=[],y=[]){Co(y,l,f,E=>{It(ci,()=>i(...E.map(b)),!0)})}function Ni(i,l=0){var f=It(Pt|l,i,!0);return f}function St(i){return It(Xt|xr,i,!0)}function zs(i){var l=i.teardown;if(l!==null){const f=ur,y=me;Ji(!0),ct(null);try{l.call(null)}finally{Ji(f),ct(y)}}}function Ws(i,l=!1){var f=i.first;for(i.first=i.last=null;f!==null;){const E=f.ac;E!==null&&kr(()=>{E.abort(gr)});var y=f.next;(f.f&hr)!==0?f.parent=null:ht(f,l),f=y}}function Po(i){for(var l=i.first;l!==null;){var f=l.next;(l.f&Xt)===0&&ht(l),l=f}}function ht(i,l=!0){var f=!1;(l||(i.f&Ss)!==0)&&i.nodes!==null&&i.nodes.end!==null&&(Io(i.nodes.start,i.nodes.end),f=!0),Ws(i,l&&!f),si(i,0),Ke(i,qt);var y=i.nodes&&i.nodes.t;if(y!==null)for(const L of y)L.stop();zs(i);var E=i.parent;E!==null&&E.first!==null&&$s(i),i.next=i.prev=i.teardown=i.ctx=i.deps=i.fn=i.nodes=i.ac=null}function Io(i,l){for(;i!==null;){var f=i===l?null:qr(i);i.remove(),i=f}}function $s(i){var l=i.parent,f=i.prev,y=i.next;f!==null&&(f.next=y),y!==null&&(y.prev=f),l!==null&&(l.first===i&&(l.first=y),l.last===i&&(l.last=f))}function rr(i,l,f=!0){var y=[];Us(i,y,!0);var E=()=>{f&&ht(i),l&&l()},L=y.length;if(L>0){var k=()=>--L||E();for(var t of y)t.out(k)}else E()}function Us(i,l,f){if((i.f&_t)===0){i.f^=_t;var y=i.nodes&&i.nodes.t;if(y!==null)for(const t of y)(t.is_global||f)&&l.push(t);for(var E=i.first;E!==null;){var L=E.next,k=(E.f&nr)!==0||(E.f&Xt)!==0&&(i.f&Pt)!==0;Us(E,l,k?f:!1),E=L}}}function zi(i){js(i,!0)}function js(i,l){if((i.f&_t)!==0){i.f^=_t,(i.f&qe)===0&&(Ke(i,dt),ar(i));for(var f=i.first;f!==null;){var y=f.next,E=(f.f&nr)!==0||(f.f&Xt)!==0;js(f,E?l:!1),f=y}var L=i.nodes&&i.nodes.t;if(L!==null)for(const k of L)(k.is_global||l)&&k.in()}}function qs(i,l){if(i.nodes)for(var f=i.nodes.start,y=i.nodes.end;f!==null;){var E=f===y?null:qr(f);l.append(f),f=E}}let pr=null;function Ho(i){var l=pr;try{if(pr=new Set,j(i),l!==null)for(var f of pr)l.add(f);return pr}finally{pr=l}}function Fo(i){for(var l of Ho(i))cr(l,l.v)}let ir=!1;function ii(i){ir=i}let ur=!1;function Ji(i){ur=i}let me=null,Mt=!1;function ct(i){me=i}let we=null;function Ot(i){we=i}let Gt=null;function Ks(i){me!==null&&(Gt===null?Gt=[i]:Gt.push(i))}let it=null,ft=0,gt=null;function No(i){gt=i}let Vs=1,Nr=0,sr=Nr;function Yi(i){sr=i}function Gs(){return++Vs}function Lr(i){var l=i.f;if((l&dt)!==0)return!0;if(l&Ve&&(i.f&=~or),(l&Rt)!==0){var f=i.deps;if(f!==null)for(var y=f.length,E=0;E<y;E++){var L=f[E];if(Lr(L)&&As(L),L.wv>i.wv)return!0}(l&Dt)!==0&&wt===null&&Ke(i,qe)}return!1}function Xs(i,l,f=!0){var y=i.reactions;if(y!==null&&!Gt?.includes(i))for(var E=0;E<y.length;E++){var L=y[E];(L.f&Ve)!==0?Xs(L,l,!1):l===L&&(f?Ke(L,dt):(L.f&qe)!==0&&Ke(L,Rt),ar(L))}}function Zs(i){var l=it,f=ft,y=gt,E=me,L=Gt,k=xe,t=Mt,o=sr,a=i.f;it=null,ft=0,gt=null,me=(a&(Xt|hr))===0?i:null,Gt=null,br(i.ctx),Mt=!1,sr=++Nr,i.ac!==null&&(kr(()=>{i.ac.abort(gr)}),i.ac=null);try{i.f|=Ei;var u=i.fn,c=u(),h=i.deps;if(it!==null){var p;if(si(i,ft),h!==null&&ft>0)for(h.length=ft+it.length,p=0;p<it.length;p++)h[ft+p]=it[p];else i.deps=h=it;if(Fr()&&(i.f&Dt)!==0)for(p=ft;p<h.length;p++)(h[p].reactions??=[]).push(i)}else h!==null&&ft<h.length&&(si(i,ft),h.length=ft);if(Ur()&&gt!==null&&!Mt&&h!==null&&(i.f&(Ve|Rt|dt))===0)for(p=0;p<gt.length;p++)Xs(gt[p],i);return E!==null&&E!==i&&(Nr++,gt!==null&&(y===null?y=gt:y.push(...gt))),(i.f&Yt)!==0&&(i.f^=Yt),c}catch(S){return xs(S)}finally{i.f^=Ei,it=l,ft=f,gt=y,me=E,Gt=L,br(k),Mt=t,sr=o}}function zo(i,l){let f=l.reactions;if(f!==null){var y=Kn.call(f,i);if(y!==-1){var E=f.length-1;E===0?f=l.reactions=null:(f[y]=f[E],f.pop())}}f===null&&(l.f&Ve)!==0&&(it===null||!it.includes(l))&&(Ke(l,Rt),(l.f&Dt)!==0&&(l.f^=Dt,l.f&=~or),Rs(l),si(l,0))}function si(i,l){var f=i.deps;if(f!==null)for(var y=l;y<f.length;y++)zo(i,f[y])}function Cr(i){var l=i.f;if((l&qt)===0){Ke(i,qe);var f=we,y=ir;we=i,ir=!0;try{(l&(Pt|Yn))!==0?Po(i):Ws(i),zs(i);var E=Zs(i);i.teardown=typeof E=="function"?E:null,i.wv=Vs;var L;Ci&&An&&(i.f&dt)!==0&&i.deps}finally{ir=y,we=f}}}async function Wi(){await Promise.resolve(),po()}function b(i){var l=i.f,f=(l&Ve)!==0;if(pr?.add(i),me!==null&&!Mt){var y=we!==null&&(we.f&qt)!==0;if(!y&&!Gt?.includes(i)){var E=me.deps;if((me.f&Ei)!==0)i.rv<Nr&&(i.rv=Nr,it===null&&E!==null&&E[ft]===i?ft++:it===null?it=[i]:it.includes(i)||it.push(i));else{(me.deps??=[]).push(i);var L=i.reactions;L===null?i.reactions=[me]:L.includes(me)||L.push(me)}}}if(ur){if(Qt.has(i))return Qt.get(i);if(f){var k=i,t=k.v;return((k.f&qe)===0&&k.reactions!==null||Ys(k))&&(t=Ii(k)),Qt.set(k,t),t}}else f&&(!wt?.has(i)||be?.is_fork&&!Fr())&&(k=i,Lr(k)&&As(k),ir&&Fr()&&(k.f&Dt)===0&&Js(k));if(wt?.has(i))return wt.get(i);if((i.f&Yt)!==0)throw i.v;return i.v}function Js(i){if(i.deps!==null){i.f^=Dt;for(const l of i.deps)(l.reactions??=[]).push(i),(l.f&Ve)!==0&&(l.f&Dt)===0&&Js(l)}}function Ys(i){if(i.v===Ye)return!0;if(i.deps===null)return!1;for(const l of i.deps)if(Qt.has(l)||(l.f&Ve)!==0&&Ys(l))return!0;return!1}function j(i){var l=Mt;try{return Mt=!0,i()}finally{Mt=l}}const Wo=-7169;function Ke(i,l){i.f=i.f&Wo|l}function Be(i){if(!(typeof i!="object"||!i||i instanceof EventTarget)){if(Kt in i)Di(i);else if(!Array.isArray(i))for(let l in i){const f=i[l];typeof f=="object"&&f&&Kt in f&&Di(f)}}}function Di(i,l=new Set){if(typeof i=="object"&&i!==null&&!(i instanceof EventTarget)&&!l.has(i)){l.add(i),i instanceof Date&&i.getTime();for(let y in i)try{Di(i[y],l)}catch{}const f=Mi(i);if(f!==Object.prototype&&f!==Array.prototype&&f!==Map.prototype&&f!==Set.prototype&&f!==Date.prototype){const y=gs(f);for(let E in y){const L=y[E].get;if(L)try{L.call(i)}catch{}}}}}const $o=new Set,Qi=new Set;function Uo(i,l,f,y={}){function E(L){if(y.capture||Tr.call(l,L),!L.cancelBubble)return kr(()=>f?.call(this,L))}return i.startsWith("pointer")||i.startsWith("touch")||i==="wheel"?dr(()=>{l.addEventListener(i,E,y)}):l.addEventListener(i,E,y),E}function ge(i,l,f,y,E){var L={capture:y,passive:E},k=Uo(i,l,f,L);(l===document.body||l===window||l===document||l instanceof HTMLMediaElement)&&Hi(()=>{l.removeEventListener(i,k,L)})}let es=null;function Tr(i){var l=this,f=l.ownerDocument,y=i.type,E=i.composedPath?.()||[],L=E[0]||i.target;es=i;var k=0,t=es===i&&i.__root;if(t){var o=E.indexOf(t);if(o!==-1&&(l===document||l===window)){i.__root=l;return}var a=E.indexOf(l);if(a===-1)return;o<=a&&(k=o)}if(L=E[k]||i.target,L!==l){Vn(i,"currentTarget",{configurable:!0,get(){return L||f}});var u=me,c=we;ct(null),Ot(null);try{for(var h,p=[];L!==null;){var S=L.assignedSlot||L.parentNode||L.host||null;try{var _=L["__"+y];_!=null&&(!L.disabled||i.target===L)&&_.call(L,i)}catch(e){h?p.push(e):h=e}if(i.cancelBubble||S===l||S===null)break;L=S}if(h){for(let e of p)queueMicrotask(()=>{throw e});throw h}}finally{i.__root=l,delete i.currentTarget,ct(u),Ot(c)}}}function Qs(i){var l=document.createElement("template");return l.innerHTML=i.replaceAll("<!>","<!---->"),l.content}function yr(i,l){var f=we;f.nodes===null&&(f.nodes={start:i,end:l,a:null,t:null})}function X(i,l){var f=(l&ps)!==0,y=(l&jn)!==0,E,L=!i.startsWith("<!>");return()=>{E===void 0&&(E=Qs(L?i:"<!>"+i),f||(E=Wt(E)));var k=y||Ms?document.importNode(E,!0):E.cloneNode(!0);if(f){var t=Wt(k),o=k.lastChild;yr(t,o)}else yr(k,k);return k}}function jo(i,l,f="svg"){var y=!i.startsWith("<!>"),E=(l&ps)!==0,L=`<${f}>${y?i:"<!>"+i}</${f}>`,k;return()=>{if(!k){var t=Qs(L),o=Wt(t);if(E)for(k=document.createDocumentFragment();Wt(o);)k.appendChild(Wt(o));else k=Wt(o)}var a=k.cloneNode(!0);if(E){var u=Wt(a),c=a.lastChild;yr(u,c)}else yr(a,a);return a}}function fr(i,l){return jo(i,l,"svg")}function Ct(i=""){{var l=Vt(i+"");return yr(l,l),l}}function Ue(){var i=document.createDocumentFragment(),l=document.createComment(""),f=Vt();return i.append(l,f),yr(l,f),i}function W(i,l){i!==null&&i.before(l)}const qo=["touchstart","touchmove"];function Ko(i){return qo.includes(i)}let Ri=!0;function se(i,l){var f=l==null?"":typeof l=="object"?l+"":l;f!==(i.__t??=i.nodeValue)&&(i.__t=f,i.nodeValue=f+"")}function Vo(i,l){return Go(i,l)}const _r=new Map;function Go(i,{target:l,anchor:f,props:y={},events:E,context:L,intro:k=!0}){Do();var t=new Set,o=c=>{for(var h=0;h<c.length;h++){var p=c[h];if(!t.has(p)){t.add(p);var S=Ko(p);l.addEventListener(p,Tr,{passive:S});var _=_r.get(p);_===void 0?(document.addEventListener(p,Tr,{passive:S}),_r.set(p,1)):_r.set(p,_+1)}}};o(li($o)),Qi.add(o);var a=void 0,u=Mo(()=>{var c=f??l.appendChild(Vt());return bo(c,{pending:()=>{}},h=>{if(L){st({});var p=xe;p.c=L}E&&(y.$$events=E),Ri=k,a=i(h,y)||{},Ri=!0,L&&nt()}),()=>{for(var h of t){l.removeEventListener(h,Tr);var p=_r.get(h);--p===0?(document.removeEventListener(h,Tr),_r.delete(h)):_r.set(h,p)}Qi.delete(o),c!==f&&c.parentNode?.removeChild(c)}});return Xo.set(a,u),a}let Xo=new WeakMap;class Zo{anchor;#e=new Map;#t=new Map;#i=new Map;#r=new Set;#l=!0;constructor(l,f=!0){this.anchor=l,this.#l=f}#n=()=>{var l=be;if(this.#e.has(l)){var f=this.#e.get(l),y=this.#t.get(f);if(y)zi(y),this.#r.delete(f);else{var E=this.#i.get(f);E&&(this.#t.set(f,E.effect),this.#i.delete(f),E.fragment.lastChild.remove(),this.anchor.before(E.fragment),y=E.effect)}for(const[L,k]of this.#e){if(this.#e.delete(L),L===l)break;const t=this.#i.get(k);t&&(ht(t.effect),this.#i.delete(k))}for(const[L,k]of this.#t){if(L===f||this.#r.has(L))continue;const t=()=>{if(Array.from(this.#e.values()).includes(L)){var a=document.createDocumentFragment();qs(k,a),a.append(Vt()),this.#i.set(L,{effect:k,fragment:a})}else ht(k);this.#r.delete(L),this.#t.delete(L)};this.#l||!y?(this.#r.add(L),rr(k,t,!1)):t()}}};#s=l=>{this.#e.delete(l);const f=Array.from(this.#e.values());for(const[y,E]of this.#i)f.includes(y)||(ht(E.effect),this.#i.delete(y))};ensure(l,f){var y=be,E=Is();if(f&&!this.#t.has(l)&&!this.#i.has(l))if(E){var L=document.createDocumentFragment(),k=Vt();L.append(k),this.#i.set(l,{effect:St(()=>f(k)),fragment:L})}else this.#t.set(l,St(()=>f(this.anchor)));if(this.#e.set(y,l),E){for(const[t,o]of this.#t)t===l?y.skipped_effects.delete(o):y.skipped_effects.add(o);for(const[t,o]of this.#i)t===l?y.skipped_effects.delete(o.effect):y.skipped_effects.add(o.effect);y.oncommit(this.#n),y.ondiscard(this.#s)}else this.#n()}}function vt(i){xe===null&&ui(),Er&&xe.l!==null?tn(xe).m.push(i):Li(()=>{const l=j(i);if(typeof l=="function")return l})}function er(i){xe===null&&ui(),vt(()=>()=>j(i))}function Jo(i,l,{bubbles:f=!1,cancelable:y=!1}={}){return new CustomEvent(i,{detail:l,bubbles:f,cancelable:y})}function en(){const i=xe;return i===null&&ui(),(l,f,y)=>{const E=i.s.$$events?.[l];if(E){const L=$r(E)?E.slice():[E],k=Jo(l,f,y);for(const t of L)t.call(i.x,k);return!k.defaultPrevented}return!0}}function Gr(i){xe===null&&ui(),xe.l===null&&oo(),tn(xe).b.push(i)}function tn(i){var l=i.l;return l.u??={a:[],b:[],m:[]}}function te(i,l,f=!1){var y=new Zo(i),E=f?nr:0;function L(k,t){y.ensure(k,t)}Ni(()=>{var k=!1;l((t,o=!0)=>{k=!0,L(o,t)}),k||L(!1,null)},E)}function yt(i,l){return l}function Yo(i,l,f){for(var y=[],E=l.length,L,k=l.length,t=0;t<E;t++){let c=l[t];rr(c,()=>{if(L){if(L.pending.delete(c),L.done.add(c),L.pending.size===0){var h=i.outrogroups;Ai(li(L.done)),h.delete(L),h.size===0&&(i.outrogroups=null)}}else k-=1},!1)}if(k===0){var o=y.length===0&&f!==null;if(o){var a=f,u=a.parentNode;Ro(u),u.append(a),i.items.clear()}Ai(l,!o)}else L={pending:new Set(l),done:new Set},(i.outrogroups??=new Set).add(L)}function Ai(i,l=!0){for(var f=0;f<i.length;f++)ht(i[f],l)}var ts;function Et(i,l,f,y,E,L=null){var k=i,t=new Map,o=(l&vs)!==0;if(o){var a=i;k=a.appendChild(Vt())}var u=null,c=Lt(()=>{var n=f();return $r(n)?n:n==null?[]:li(n)}),h,p=!0;function S(){e.fallback=u,Qo(e,h,k,l,y),u!==null&&(h.length===0?(u.f&jt)===0?zi(u):(u.f^=jt,Br(u,null,k)):rr(u,()=>{u=null}))}var _=Ni(()=>{h=b(c);for(var n=h.length,r=new Set,s=be,d=Is(),g=0;g<n;g+=1){var m=h[g],w=y(m,g),v=p?null:t.get(w);v?(v.v&&cr(v.v,m),v.i&&cr(v.i,g),d&&s.skipped_effects.delete(v.e)):(v=ea(t,p?k:ts??=Vt(),m,w,g,E,l,f),p||(v.e.f|=jt),t.set(w,v)),r.add(w)}if(n===0&&L&&!u&&(p?u=St(()=>L(k)):(u=St(()=>L(ts??=Vt())),u.f|=jt)),!p)if(d){for(const[C,R]of t)r.has(C)||s.skipped_effects.add(R.e);s.oncommit(S),s.ondiscard(()=>{})}else S();b(c)}),e={effect:_,items:t,outrogroups:null,fallback:u};p=!1}function Qo(i,l,f,y,E){var L=(y&On)!==0,k=l.length,t=i.items,o=i.effect.first,a,u=null,c,h=[],p=[],S,_,e,n;if(L)for(n=0;n<k;n+=1)S=l[n],_=E(S,n),e=t.get(_).e,(e.f&jt)===0&&(e.nodes?.a?.measure(),(c??=new Set).add(e));for(n=0;n<k;n+=1){if(S=l[n],_=E(S,n),e=t.get(_).e,i.outrogroups!==null)for(const R of i.outrogroups)R.pending.delete(e),R.done.delete(e);if((e.f&jt)!==0)if(e.f^=jt,e===o)Br(e,null,f);else{var r=u?u.next:o;e===i.effect.last&&(i.effect.last=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),Jt(i,u,e),Jt(i,e,r),Br(e,r,f),u=e,h=[],p=[],o=u.next;continue}if((e.f&_t)!==0&&(zi(e),L&&(e.nodes?.a?.unfix(),(c??=new Set).delete(e))),e!==o){if(a!==void 0&&a.has(e)){if(h.length<p.length){var s=p[0],d;u=s.prev;var g=h[0],m=h[h.length-1];for(d=0;d<h.length;d+=1)Br(h[d],s,f);for(d=0;d<p.length;d+=1)a.delete(p[d]);Jt(i,g.prev,m.next),Jt(i,u,g),Jt(i,m,s),o=s,u=m,n-=1,h=[],p=[]}else a.delete(e),Br(e,o,f),Jt(i,e.prev,e.next),Jt(i,e,u===null?i.effect.first:u.next),Jt(i,u,e),u=e;continue}for(h=[],p=[];o!==null&&o!==e;)(a??=new Set).add(o),p.push(o),o=o.next;if(o===null)continue}(e.f&jt)===0&&h.push(e),u=e,o=e.next}if(i.outrogroups!==null){for(const R of i.outrogroups)R.pending.size===0&&(Ai(li(R.done)),i.outrogroups?.delete(R));i.outrogroups.size===0&&(i.outrogroups=null)}if(o!==null||a!==void 0){var w=[];if(a!==void 0)for(e of a)(e.f&_t)===0&&w.push(e);for(;o!==null;)(o.f&_t)===0&&o!==i.fallback&&w.push(o),o=o.next;var v=w.length;if(v>0){var C=(y&vs)!==0&&k===0?f:null;if(L){for(n=0;n<v;n+=1)w[n].nodes?.a?.measure();for(n=0;n<v;n+=1)w[n].nodes?.a?.fix()}Yo(i,w,C)}}L&&dr(()=>{if(c!==void 0)for(e of c)e.nodes?.a?.apply()})}function ea(i,l,f,y,E,L,k,t){var o=(k&Bn)!==0?(k&Pn)===0?le(f,!1,!1):lr(f):null,a=(k&Mn)!==0?lr(E):null;return{v:o,i:a,e:St(()=>(L(l,o??f,a??E,t),()=>{i.delete(y)}))}}function Br(i,l,f){if(i.nodes)for(var y=i.nodes.start,E=i.nodes.end,L=l&&(l.f&jt)===0?l.nodes.start:f;y!==null;){var k=qr(y);if(L.before(y),y===E)return;y=k}}function Jt(i,l,f){l===null?i.effect.first=f:l.next=f,f===null?i.effect.last=l:f.prev=l}function ni(i,l,f,y,E){var L=l.$$slots?.[f],k=!1;L===!0&&(L=l[f==="default"?"children":f],k=!0),L===void 0?E!==null&&E(i):L(i,k?()=>y:y)}const ta=()=>performance.now(),$t={tick:i=>requestAnimationFrame(i),now:()=>ta(),tasks:new Set};function rn(){const i=$t.now();$t.tasks.forEach(l=>{l.c(i)||($t.tasks.delete(l),l.f())}),$t.tasks.size!==0&&$t.tick(rn)}function ra(i){let l;return $t.tasks.size===0&&$t.tick(rn),{promise:new Promise(f=>{$t.tasks.add(l={c:i,f})}),abort(){$t.tasks.delete(l)}}}function Jr(i,l){kr(()=>{i.dispatchEvent(new CustomEvent(l))})}function ia(i){if(i==="float")return"cssFloat";if(i==="offset")return"cssOffset";if(i.startsWith("--"))return i;const l=i.split("-");return l.length===1?l[0]:l[0]+l.slice(1).map(f=>f[0].toUpperCase()+f.slice(1)).join("")}function rs(i){const l={},f=i.split(";");for(const y of f){const[E,L]=y.split(":");if(!E||L===void 0)break;const k=ia(E.trim());l[k]=L.trim()}return l}const sa=i=>i;function bt(i,l,f,y){var E=(i&Wn)!==0,L=(i&$n)!==0,k=E&&L,t=(i&Un)!==0,o=k?"both":E?"in":"out",a,u=l.inert,c=l.style.overflow,h,p;function S(){return kr(()=>a??=f()(l,y?.()??{},{direction:o}))}var _={is_global:t,in(){if(l.inert=u,!E){p?.abort(),p?.reset?.();return}L||h?.abort(),Jr(l,"introstart"),h=Ti(l,S(),p,1,()=>{Jr(l,"introend"),h?.abort(),h=a=void 0,l.style.overflow=c})},out(s){if(!L){s?.(),a=void 0;return}l.inert=!0,Jr(l,"outrostart"),p=Ti(l,S(),h,0,()=>{Jr(l,"outroend"),s?.()})},stop:()=>{h?.abort(),p?.abort()}},e=we;if((e.nodes.t??=[]).push(_),E&&Ri){var n=t;if(!n){for(var r=e.parent;r&&(r.f&nr)!==0;)for(;(r=r.parent)&&(r.f&Pt)===0;);n=!r||(r.f&di)!==0}n&&Fi(()=>{j(()=>_.in())})}}function Ti(i,l,f,y,E){var L=y===1;if(Zn(l)){var k,t=!1;return dr(()=>{if(!t){var e=l({direction:L?"in":"out"});k=Ti(i,e,f,y,E)}}),{abort:()=>{t=!0,k?.abort()},deactivate:()=>k.deactivate(),reset:()=>k.reset(),t:()=>k.t()}}if(f?.deactivate(),!l?.duration)return E(),{abort:zt,deactivate:zt,reset:zt,t:()=>y};const{delay:o=0,css:a,tick:u,easing:c=sa}=l;var h=[];if(L&&f===void 0&&(u&&u(0,1),a)){var p=rs(a(0,1));h.push(p,p)}var S=()=>1-y,_=i.animate(h,{duration:o,fill:"forwards"});return _.onfinish=()=>{_.cancel();var e=f?.t()??1-y;f?.abort();var n=y-e,r=l.duration*Math.abs(n),s=[];if(r>0){var d=!1;if(a)for(var g=Math.ceil(r/16.666666666666668),m=0;m<=g;m+=1){var w=e+n*c(m/g),v=rs(a(w,1-w));s.push(v),d||=v.overflow==="hidden"}d&&(i.style.overflow="hidden"),S=()=>{var C=_.currentTime;return e+n*c(C/r)},u&&ra(()=>{if(_.playState!=="running")return!1;var C=S();return u(C,1-C),!0})}_=i.animate(s,{duration:r,fill:"forwards"}),_.onfinish=()=>{S=()=>y,u?.(y,1-y),E()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=zt)},deactivate:()=>{E=zt},reset:()=>{y===0&&u?.(1,0)},t:()=>S()}}const is=[...` 	
\r\fÂ \v\uFEFF`];function na(i,l,f){var y=i==null?"":""+i;if(l&&(y=y?y+" "+l:l),f){for(var E in f)if(f[E])y=y?y+" "+E:E;else if(y.length)for(var L=E.length,k=0;(k=y.indexOf(E,k))>=0;){var t=k+L;(k===0||is.includes(y[k-1]))&&(t===y.length||is.includes(y[t]))?y=(k===0?"":y.substring(0,k))+y.substring(t+1):k=t}}return y===""?null:y}function oa(i,l){return i==null?null:String(i)}function Qe(i,l,f,y,E,L){var k=i.__className;if(k!==f||k===void 0){var t=na(f,y,L);t==null?i.removeAttribute("class"):l?i.className=t:i.setAttribute("class",t),i.__className=f}else if(L&&E!==L)for(var o in L){var a=!!L[o];(E==null||a!==!!E[o])&&i.classList.toggle(o,a)}return L}function ei(i,l,f,y){var E=i.__style;if(E!==l){var L=oa(l);L==null?i.removeAttribute("style"):i.style.cssText=L,i.__style=l}return y}function sn(i,l,f=!1){if(i.multiple){if(l==null)return;if(!$r(l))return fo();for(var y of i.options)y.selected=l.includes(Hr(y));return}for(y of i.options){var E=Hr(y);if(Lo(E,l)){y.selected=!0;return}}(!f||l!==void 0)&&(i.selectedIndex=-1)}function aa(i){var l=new MutationObserver(()=>{sn(i,i.__value)});l.observe(i,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Hi(()=>{l.disconnect()})}function la(i,l,f=l){var y=new WeakSet,E=!0;Hs(i,"change",L=>{var k=L?"[selected]":":checked",t;if(i.multiple)t=[].map.call(i.querySelectorAll(k),Hr);else{var o=i.querySelector(k)??i.querySelector("option:not([disabled])");t=o&&Hr(o)}f(t),be!==null&&y.add(be)}),Fi(()=>{var L=l();if(i===document.activeElement){var k=Or??be;if(y.has(k))return}if(sn(i,L,E),E&&L===void 0){var t=i.querySelector(":checked");t!==null&&(L=Hr(t),f(L))}i.__value=L,E=!1}),aa(i)}function Hr(i){return"__value"in i?i.__value:i.value}const ca=Symbol("is custom element"),ha=Symbol("is html");function da(i,l){var f=nn(i);f.value===(f.value=l??void 0)||i.value===l&&(l!==0||i.nodeName!=="PROGRESS")||(i.value=l??"")}function Fe(i,l,f,y){var E=nn(i);E[l]!==(E[l]=f)&&(l==="loading"&&(i[eo]=f),f==null?i.removeAttribute(l):typeof f!="string"&&ua(i).includes(l)?i[l]=f:i.setAttribute(l,f))}function nn(i){return i.__attributes??={[ca]:i.nodeName.includes("-"),[ha]:i.namespaceURI===qn}}var ss=new Map;function ua(i){var l=i.getAttribute("is")||i.nodeName,f=ss.get(l);if(f)return f;ss.set(l,f=[]);for(var y,E=i,L=Element.prototype;L!==E;){y=gs(E);for(var k in y)y[k].set&&f.push(k);E=Mi(E)}return f}function oi(i,l,f=l){var y=new WeakSet;Hs(i,"input",async E=>{var L=E?i.defaultValue:i.value;if(L=gi(i)?mi(L):L,f(L),be!==null&&y.add(be),await Wi(),L!==(L=l())){var k=i.selectionStart,t=i.selectionEnd,o=i.value.length;if(i.value=L??"",t!==null){var a=i.value.length;k===t&&t===o&&a>o?(i.selectionStart=a,i.selectionEnd=a):(i.selectionStart=k,i.selectionEnd=Math.min(t,a))}}}),j(l)==null&&i.value&&(f(gi(i)?mi(i.value):i.value),be!==null&&y.add(be)),Vr(()=>{var E=l();if(i===document.activeElement){var L=Or??be;if(y.has(L))return}gi(i)&&E===mi(i.value)||i.type==="date"&&!E&&!i.value||E!==i.value&&(i.value=E??"")})}function gi(i){var l=i.type;return l==="number"||l==="range"}function mi(i){return i===""?null:+i}function ns(i,l){return i===l||i?.[Kt]===l}function _i(i={},l,f,y){return Fi(()=>{var E,L;return Vr(()=>{E=L,L=[],j(()=>{i!==f(...L)&&(l(i,...L),E&&ns(f(...E),i)&&l(null,...E))})}),()=>{dr(()=>{L&&ns(f(...L),i)&&l(null,...L)})}}),i}function ai(i){return function(...l){var f=l[0];return f.preventDefault(),i?.apply(this,l)}}function ut(i=!1){const l=xe,f=l.l.u;if(!f)return;let y=()=>Be(l.s);if(i){let E=0,L={};const k=jr(()=>{let t=!1;const o=l.s;for(const a in o)o[a]!==L[a]&&(L[a]=o[a],t=!0);return t&&E++,E});y=()=>b(k)}f.b.length&&Bo(()=>{os(l,y),yi(f.b)}),Li(()=>{const E=j(()=>f.m.map(Jn));return()=>{for(const L of E)typeof L=="function"&&L()}}),f.a.length&&Li(()=>{os(l,y),yi(f.a)})}function os(i,l){if(i.l.s)for(const f of i.l.s)b(f);l()}function fa(i,l){var f=i.$$events?.[l.type],y=$r(f)?f.slice():f==null?[]:[f];for(var E of y)E.call(this,l)}function _a(i,l,f){if(i==null)return l(void 0),zt;const y=j(()=>i.subscribe(l,f));return y.unsubscribe?()=>y.unsubscribe():y}const vr=[];function va(i,l=zt){let f=null;const y=new Set;function E(t){if(Cs(i,t)&&(i=t,f)){const o=!vr.length;for(const a of y)a[1](),vr.push(a,i);if(o){for(let a=0;a<vr.length;a+=2)vr[a][0](vr[a+1]);vr.length=0}}}function L(t){E(t(i))}function k(t,o=zt){const a=[t,o];return y.add(a),y.size===1&&(f=l(E,L)||zt),t(i),()=>{y.delete(a),y.size===0&&f&&(f(),f=null)}}return{set:E,update:L,subscribe:k}}function pa(i){let l;return _a(i,f=>l=f)(),l}let Yr=!1;function ga(i){var l=Yr;try{return Yr=!1,[i(),Yr]}finally{Yr=l}}function he(i,l,f,y){var E=!Er||(f&Hn)!==0,L=(f&Nn)!==0,k=(f&zn)!==0,t=y,o=!0,a=()=>(o&&(o=!1,t=k?j(y):y),t),u;if(L){var c=Kt in i||Qn in i;u=Sr(i,l)?.set??(c&&l in i?s=>i[l]=s:void 0)}var h,p=!1;L?[h,p]=ga(()=>i[l]):h=i[l],h===void 0&&y!==void 0&&(h=a(),u&&(E&&ao(),u(h)));var S;if(E?S=()=>{var s=i[l];return s===void 0?a():(o=!0,s)}:S=()=>{var s=i[l];return s!==void 0&&(t=void 0),s===void 0?t:s},E&&(f&Fn)===0)return S;if(u){var _=i.$$legacy;return(function(s,d){return arguments.length>0?((!E||!d||_||p)&&u(d?S():s),s):S()})}var e=!1,n=((f&In)!==0?jr:Lt)(()=>(e=!1,S()));L&&b(n);var r=we;return(function(s,d){if(arguments.length>0){const g=d?b(n):E&&L?mr(s):s;return J(n,g),e=!0,t!==void 0&&(t=g),s}return ur&&e||(r.f&qt)!==0?n.v:b(n)})}const ma=10,Sa=function(){let i=va([]);return setInterval(()=>{let l=pa(i);const f=Math.floor(new Date().getTime()/1e3),y=l.filter(E=>E.created_at+ma>f);y.length!==l.length&&i.set(y)},1e3),{add(l){i.update(f=>[...f,{...l,created_at:Math.floor(new Date().getTime()/1e3)}])},remove(l){i.update(f=>f.filter(y=>y.created_at!==l.created_at||y.type!==l.type||y.text!==l.text))},subscribe:i.subscribe}},Le=Sa();function on(i){const l=i-1;return l*l*l+1}function ba(i){return i<.5?4*i*i*i:.5*Math.pow(2*i-2,3)+1}function Bi(i){const l=typeof i=="string"&&i.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return l?[parseFloat(l[1]),l[2]||"px"]:[i,"px"]}function wa(i,{delay:l=0,duration:f=400,easing:y=ba,amount:E=5,opacity:L=0}={}){const k=getComputedStyle(i),t=+k.opacity,o=k.filter==="none"?"":k.filter,a=t*(1-L),[u,c]=Bi(E);return{delay:l,duration:f,easing:y,css:(h,p)=>`opacity: ${t-a*p}; filter: ${o} blur(${p*u}${c});`}}function as(i,{delay:l=0,duration:f=400,easing:y=on,x:E=0,y:L=0,opacity:k=0}={}){const t=getComputedStyle(i),o=+t.opacity,a=t.transform==="none"?"":t.transform,u=o*(1-k),[c,h]=Bi(E),[p,S]=Bi(L);return{delay:l,duration:f,easing:y,css:(_,e)=>`
			transform: ${a} translate(${(1-_)*c}${h}, ${(1-_)*p}${S});
			opacity: ${o-u*e}`}}function Ut(i,{delay:l=0,duration:f=400,easing:y=on,axis:E="y"}={}){const L=getComputedStyle(i),k=+L.opacity,t=E==="y"?"height":"width",o=parseFloat(L[t]),a=E==="y"?["top","bottom"]:["left","right"],u=a.map(n=>`${n[0].toUpperCase()}${n.slice(1)}`),c=parseFloat(L[`padding${u[0]}`]),h=parseFloat(L[`padding${u[1]}`]),p=parseFloat(L[`margin${u[0]}`]),S=parseFloat(L[`margin${u[1]}`]),_=parseFloat(L[`border${u[0]}Width`]),e=parseFloat(L[`border${u[1]}Width`]);return{delay:l,duration:f,easing:y,css:n=>`overflow: hidden;opacity: ${Math.min(n*20,1)*k};${t}: ${n*o}px;padding-${a[0]}: ${n*c}px;padding-${a[1]}: ${n*h}px;margin-${a[0]}: ${n*p}px;margin-${a[1]}: ${n*S}px;border-${a[0]}-width: ${n*_}px;border-${a[1]}-width: ${n*e}px;min-${t}: 0`}}var Ca=X('<div><div class="d-flex"><div class="toast-body"> </div> <button type="button" class="btn-close btn-close-white me-2 m-auto" aria-label="remove message"></button></div></div>'),ya=X('<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 470"></div>');function Ea(i,l){st(l,!1);let f=le([]);vt(()=>{Le.subscribe(E=>J(f,E))}),ut();var y=ya();Et(y,5,()=>b(f),yt,(E,L)=>{var k=Ca();let t;var o=H(k),a=H(o),u=H(a),c=U(a,2);ae(()=>{t=Qe(k,1,"toast show align-items-center text-white border-0 mb-2",null,t,{"bg-danger":b(L).type==="error","bg-warning":b(L).type==="warning","bg-success":b(L).type==="success","bg-primary":b(L).type==="info"}),se(u,b(L).text)}),ge("click",c,()=>Le.remove(b(L))),bt(3,k,()=>Ut),W(E,k)}),W(i,y),nt()}function ls(i,l){l&&l!=="lg"&&l!=="sm"&&l!=="xs"?i.style.fontSize=l.replace("x","em"):i.style.fontSize=""}function xa(i,l,f,y,E,L=1,k="",t=""){let o=1,a=1;E&&(E=="horizontal"?o=-1:E=="vertical"?a=-1:o=a=-1),typeof i=="string"&&(i=parseFloat(i)),typeof l=="string"&&(l=parseFloat(l)),typeof f=="string"&&(f=parseFloat(f));const u=`${l*L}${k}`,c=`${f*L}${k}`;let h=`translate(${u},${c}) scale(${o*i},${a*i})`;return y&&(h+=` rotate(${y}${t})`),h}var ka=fr('<title class="svelte-q6zoq1"> </title>'),La=fr('<path class="svelte-q6zoq1"></path>'),Da=fr('<path class="svelte-q6zoq1"></path><path class="svelte-q6zoq1"></path>',1),Ra=fr('<svg role="img" xmlns="http://www.w3.org/2000/svg"><!><g class="svelte-q6zoq1"><g class="svelte-q6zoq1"><!></g></g></svg>');function de(i,l){st(l,!1);const f=le(),y=le();let E=he(l,"class",24,()=>{}),L=he(l,"id",24,()=>{}),k=he(l,"style",24,()=>{}),t=he(l,"icon",8),o=he(l,"title",24,()=>{}),a=he(l,"size",24,()=>{}),u=he(l,"color",24,()=>{}),c=he(l,"fw",8,!1),h=he(l,"pull",24,()=>{}),p=he(l,"scale",8,1),S=he(l,"translateX",8,0),_=he(l,"translateY",8,0),e=he(l,"rotate",24,()=>{}),n=he(l,"flip",24,()=>{}),r=he(l,"spin",8,!1),s=he(l,"pulse",8,!1),d=he(l,"primaryColor",8,""),g=he(l,"secondaryColor",8,""),m=he(l,"primaryOpacity",8,1),w=he(l,"secondaryOpacity",8,.4),v=he(l,"swapOpacity",8,!1),C=le();Bt(()=>(b(C),Be(a()),ls),()=>{b(C)&&a()&&ls(b(C),a())}),Bt(()=>Be(t()),()=>{J(f,t()&&t().icon||[0,0,"",[],""])}),Bt(()=>(Be(p()),Be(S()),Be(_()),Be(e()),Be(n())),()=>{J(y,xa(p(),S(),_(),e(),n(),512))}),Kr(),ut();var R=Ue(),B=ve(R);{var P=A=>{var N=Ra();let K;var V=H(N);{var ee=F=>{var q=ka(),Y=H(q);ae(()=>se(Y,o())),W(F,q)};te(V,F=>{o()&&F(ee)})}var G=U(V),x=H(G),T=H(x);{var M=F=>{var q=La();ae(()=>{Fe(q,"d",(b(f),j(()=>b(f)[4]))),Fe(q,"fill",u()||d()||"currentColor"),Fe(q,"transform",`translate(${b(f),j(()=>b(f)[0]/-2)??""} ${b(f),j(()=>b(f)[1]/-2)??""})`)}),W(F,q)},O=F=>{var q=Da(),Y=ve(q),re=U(Y);ae(()=>{Fe(Y,"d",(b(f),j(()=>b(f)[4][0]))),Fe(Y,"fill",g()||u()||"currentColor"),Fe(Y,"fill-opacity",v()!=!1?m():w()),Fe(Y,"transform",`translate(${b(f),j(()=>b(f)[0]/-2)??""} ${b(f),j(()=>b(f)[1]/-2)??""})`),Fe(re,"d",(b(f),j(()=>b(f)[4][1]))),Fe(re,"fill",d()||u()||"currentColor"),Fe(re,"fill-opacity",v()!=!1?w():m()),Fe(re,"transform",`translate(${b(f),j(()=>b(f)[0]/-2)??""} ${b(f),j(()=>b(f)[1]/-2)??""})`)}),W(F,q)};te(T,F=>{b(f),j(()=>typeof b(f)[4]=="string")?F(M):F(O,!1)})}_i(N,F=>J(C,F),()=>b(C)),ae(()=>{Fe(N,"id",L()),K=Qe(N,0,`svelte-fa svelte-fa-base ${E()??""}`,"svelte-q6zoq1",K,{pulse:s(),"svelte-fa-size-lg":a()==="lg","svelte-fa-size-sm":a()==="sm","svelte-fa-size-xs":a()==="xs","svelte-fa-fw":c(),"svelte-fa-pull-left":h()==="left","svelte-fa-pull-right":h()==="right",spin:r()}),ei(N,k()),Fe(N,"viewBox",`0 0 ${b(f),j(()=>b(f)[0])??""} ${b(f),j(()=>b(f)[1])??""}`),Fe(N,"aria-hidden",o()===void 0),Fe(G,"transform",`translate(${b(f),j(()=>b(f)[0]/2)??""} ${b(f),j(()=>b(f)[1]/2)??""})`),Fe(G,"transform-origin",`${b(f),j(()=>b(f)[0]/4)??""} 0`),Fe(x,"transform",b(y))}),W(A,N)};te(B,A=>{b(f),j(()=>b(f)[4])&&A(P)})}W(i,R),nt()}var an={prefix:"fas",iconName:"memory",icon:[512,512,[],"f538","M64 64C28.7 64 0 92.7 0 128l0 7.4C0 142.2 4.4 148 10.1 151.7 23.3 160.3 32 175.1 32 192s-8.7 31.7-21.9 40.3C4.4 236 0 241.8 0 248.6l0 55.4 512 0 0-55.4c0-6.8-4.4-12.6-10.1-16.3-13.2-8.6-21.9-23.4-21.9-40.3s8.7-31.7 21.9-40.3c5.7-3.7 10.1-9.5 10.1-16.3l0-7.4c0-35.3-28.7-64-64-64L64 64zM512 416l0-64-512 0 0 64c0 17.7 14.3 32 32 32l64 0 0-24c0-13.3 10.7-24 24-24s24 10.7 24 24l0 24 88 0 0-24c0-13.3 10.7-24 24-24s24 10.7 24 24l0 24 88 0 0-24c0-13.3 10.7-24 24-24s24 10.7 24 24l0 24 64 0c17.7 0 32-14.3 32-32zM160 160l0 64c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32s32 14.3 32 32zm128 0l0 64c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32s32 14.3 32 32zm128 0l0 64c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32s32 14.3 32 32z"]},Aa={prefix:"fas",iconName:"hard-drive",icon:[448,512,[128436,"hdd"],"f0a0","M64 32C28.7 32 0 60.7 0 96L0 260.1C18.1 247.4 40.2 240 64 240l320 0c23.8 0 45.9 7.4 64 20.1L448 96c0-35.3-28.7-64-64-64L64 32zM448 352c0-35.3-28.7-64-64-64L64 288c-35.3 0-64 28.7-64 64l0 64c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-64zM224 384a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm128-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},Ta=Aa,Ba={prefix:"fas",iconName:"stop",icon:[448,512,[9209],"f04d","M64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32z"]},Ma={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512 256 256 0 1 1 0-512zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},Oa={prefix:"fas",iconName:"circle-chevron-up",icon:[512,512,["chevron-circle-up"],"f139","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM377 271c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-87-87-87 87c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9L239 167c9.4-9.4 24.6-9.4 33.9 0L377 271z"]},Pa=Oa,Ia={prefix:"fas",iconName:"maximize",icon:[448,512,["expand-arrows-alt"],"f31e","M168 32L24 32C10.7 32 0 42.7 0 56L0 200c0 9.7 5.8 18.5 14.8 22.2S34.1 223.8 41 217l40-40 79 79-79 79-40-40c-6.9-6.9-17.2-8.9-26.2-5.2S0 302.3 0 312L0 456c0 13.3 10.7 24 24 24l144 0c9.7 0 18.5-5.8 22.2-14.8s1.7-19.3-5.2-26.2l-40-40 79-79 79 79-40 40c-6.9 6.9-8.9 17.2-5.2 26.2S270.3 480 280 480l144 0c13.3 0 24-10.7 24-24l0-144c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2l-40 40-79-79 79-79 40 40c6.9 6.9 17.2 8.9 26.2 5.2S448 209.7 448 200l0-144c0-13.3-10.7-24-24-24L280 32c-9.7 0-18.5 5.8-22.2 14.8S256.2 66.1 263 73l40 40-79 79-79-79 40-40c6.9-6.9 8.9-17.2 5.2-26.2S177.7 32 168 32z"]},ln=Ia,cn={prefix:"fas",iconName:"box-open",icon:[640,512,[],"f49e","M560.3 237.2c10.4 11.8 28.3 14.4 41.8 5.5 14.7-9.8 18.7-29.7 8.9-44.4l-48-72c-2.8-4.2-6.6-7.7-11.1-10.2L351.4 4.7c-19.3-10.7-42.8-10.7-62.2 0L88.8 116c-5.4 3-9.7 7.4-12.6 12.8L27.7 218.7c-12.6 23.4-3.8 52.5 19.6 65.1l33 17.7 0 53.3c0 23 12.4 44.3 32.4 55.7l176 99.7c19.6 11.1 43.5 11.1 63.1 0l176-99.7c20.1-11.4 32.4-32.6 32.4-55.7l0-117.5zm-240-9.8L170.2 144 320.3 60.6 470.4 144 320.3 227.4zm-41.5 50.2l-21.3 46.2-165.8-88.8 25.4-47.2 161.7 89.8z"]},Ha={prefix:"fas",iconName:"sun",icon:[576,512,[9728],"f185","M178.2-10.1c7.4-3.1 15.8-2.2 22.5 2.2l87.8 58.2 87.8-58.2c6.7-4.4 15.1-5.2 22.5-2.2S411.4-.5 413 7.3l20.9 103.2 103.2 20.9c7.8 1.6 14.4 7 17.4 14.3s2.2 15.8-2.2 22.5l-58.2 87.8 58.2 87.8c4.4 6.7 5.2 15.1 2.2 22.5s-9.6 12.8-17.4 14.3L433.8 401.4 413 504.7c-1.6 7.8-7 14.4-14.3 17.4s-15.8 2.2-22.5-2.2l-87.8-58.2-87.8 58.2c-6.7 4.4-15.1 5.2-22.5 2.2s-12.8-9.6-14.3-17.4L143 401.4 39.7 380.5c-7.8-1.6-14.4-7-17.4-14.3s-2.2-15.8 2.2-22.5L82.7 256 24.5 168.2c-4.4-6.7-5.2-15.1-2.2-22.5s9.6-12.8 17.4-14.3L143 110.6 163.9 7.3c1.6-7.8 7-14.4 14.3-17.4zM207.6 256a80.4 80.4 0 1 1 160.8 0 80.4 80.4 0 1 1 -160.8 0zm208.8 0a128.4 128.4 0 1 0 -256.8 0 128.4 128.4 0 1 0 256.8 0z"]},Fa={prefix:"fas",iconName:"network-wired",icon:[576,512,[],"f6ff","M248 88l80 0 0 48-80 0 0-48zm-8-56c-26.5 0-48 21.5-48 48l0 64c0 26.5 21.5 48 48 48l16 0 0 32-224 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l96 0 0 32-16 0c-26.5 0-48 21.5-48 48l0 64c0 26.5 21.5 48 48 48l96 0c26.5 0 48-21.5 48-48l0-64c0-26.5-21.5-48-48-48l-16 0 0-32 192 0 0 32-16 0c-26.5 0-48 21.5-48 48l0 64c0 26.5 21.5 48 48 48l96 0c26.5 0 48-21.5 48-48l0-64c0-26.5-21.5-48-48-48l-16 0 0-32 96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-224 0 0-32 16 0c26.5 0 48-21.5 48-48l0-64c0-26.5-21.5-48-48-48l-96 0zM448 376l8 0 0 48-80 0 0-48 72 0zm-256 0l8 0 0 48-80 0 0-48 72 0z"]},Na={prefix:"fas",iconName:"terminal",icon:[512,512,[],"f120","M9.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L146.7 256 9.4 118.6zM224 384l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},za={prefix:"fas",iconName:"folder",icon:[512,512,[128193,128447,61716,"folder-blank"],"f07b","M64 448l384 0c35.3 0 64-28.7 64-64l0-240c0-35.3-28.7-64-64-64L298.7 80c-6.9 0-13.7-2.2-19.2-6.4L241.1 44.8C230 36.5 216.5 32 202.7 32L64 32C28.7 32 0 60.7 0 96L0 384c0 35.3 28.7 64 64 64z"]},Wa={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M195.1 9.5C198.1-5.3 211.2-16 226.4-16l59.8 0c15.2 0 28.3 10.7 31.3 25.5L332 79.5c14.1 6 27.3 13.7 39.3 22.8l67.8-22.5c14.4-4.8 30.2 1.2 37.8 14.4l29.9 51.8c7.6 13.2 4.9 29.8-6.5 39.9L447 233.3c.9 7.4 1.3 15 1.3 22.7s-.5 15.3-1.3 22.7l53.4 47.5c11.4 10.1 14 26.8 6.5 39.9l-29.9 51.8c-7.6 13.1-23.4 19.2-37.8 14.4l-67.8-22.5c-12.1 9.1-25.3 16.7-39.3 22.8l-14.4 69.9c-3.1 14.9-16.2 25.5-31.3 25.5l-59.8 0c-15.2 0-28.3-10.7-31.3-25.5l-14.4-69.9c-14.1-6-27.2-13.7-39.3-22.8L73.5 432.3c-14.4 4.8-30.2-1.2-37.8-14.4L5.8 366.1c-7.6-13.2-4.9-29.8 6.5-39.9l53.4-47.5c-.9-7.4-1.3-15-1.3-22.7s.5-15.3 1.3-22.7L12.3 185.8c-11.4-10.1-14-26.8-6.5-39.9L35.7 94.1c7.6-13.2 23.4-19.2 37.8-14.4l67.8 22.5c12.1-9.1 25.3-16.7 39.3-22.8L195.1 9.5zM256.3 336a80 80 0 1 0 -.6-160 80 80 0 1 0 .6 160z"]},$a=Wa,Ua={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M505 273c9.4-9.4 9.4-24.6 0-33.9L361 95c-6.9-6.9-17.2-8.9-26.2-5.2S320 102.3 320 112l0 80-112 0c-26.5 0-48 21.5-48 48l0 32c0 26.5 21.5 48 48 48l112 0 0 80c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2L505 273zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"]},ja=Ua,qa={prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-277.5c0-17-6.7-33.3-18.7-45.3L258.7 18.7C246.7 6.7 230.5 0 213.5 0L64 0zM325.5 176L232 176c-13.3 0-24-10.7-24-24L208 58.5 325.5 176z"]},Ka={prefix:"fas",iconName:"play",icon:[448,512,[9654],"f04b","M91.2 36.9c-12.4-6.8-27.4-6.5-39.6 .7S32 57.9 32 72l0 368c0 14.1 7.5 27.2 19.6 34.4s27.2 7.5 39.6 .7l336-184c12.8-7 20.8-20.5 20.8-35.1s-8-28.1-20.8-35.1l-336-184z"]},Va={prefix:"fas",iconName:"rectangle-xmark",icon:[512,512,[62164,"rectangle-times","times-rectangle","window-close"],"f410","M64 64C28.7 64 0 92.7 0 128L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-256c0-35.3-28.7-64-64-64L64 64zM167 167c9.4-9.4 24.6-9.4 33.9 0l55 55 55-55c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-55 55 55 55c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-55-55-55 55c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l55-55-55-55c-9.4-9.4-9.4-24.6 0-33.9z"]},Ga=Va,Xa={prefix:"fas",iconName:"house",icon:[512,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M277.8 8.6c-12.3-11.4-31.3-11.4-43.5 0l-224 208c-9.6 9-12.8 22.9-8 35.1S18.8 272 32 272l16 0 0 176c0 35.3 28.7 64 64 64l288 0c35.3 0 64-28.7 64-64l0-176 16 0c13.2 0 25-8.1 29.8-20.3s1.6-26.2-8-35.1l-224-208zM240 320l32 0c26.5 0 48 21.5 48 48l0 96-128 0 0-96c0-26.5 21.5-48 48-48z"]},Za=Xa,Ja={prefix:"fas",iconName:"turn-up",icon:[384,512,[10548,"level-up-alt"],"f3bf","M169.4 9.4c12.5-12.5 32.8-12.5 45.3 0l128 128c9.2 9.2 11.9 22.9 6.9 34.9S332.9 192 320 192l-64 0 0 160c0 88.4-71.6 160-160 160l-64 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l64 0c17.7 0 32-14.3 32-32l0-160-64 0c-12.9 0-24.6-7.8-29.6-19.8s-2.2-25.7 6.9-34.9l128-128z"]},Ya=Ja,Qa={prefix:"fas",iconName:"square-up-right",icon:[448,512,[8599,"external-link-square-alt"],"f360","M384 32c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l320 0zM168 160c-9.7 0-18.5 5.8-22.2 14.8s-1.7 19.3 5.2 26.2l35 35-67 67c-9.4 9.4-9.4 24.6 0 33.9l24 24c9.4 9.4 24.6 9.4 33.9 0l67-67 35 35c6.9 6.9 17.2 8.9 26.2 5.2S320 321.7 320 312l0-128c0-13.3-10.7-24-24-24l-128 0z"]},el=Qa,tl={prefix:"fas",iconName:"laptop-code",icon:[640,512,[],"f5fc","M64 96c0-35.3 28.7-64 64-64l384 0c35.3 0 64 28.7 64 64l0 240-64 0 0-240-384 0 0 240-64 0 0-240zM0 403.2C0 392.6 8.6 384 19.2 384l601.6 0c10.6 0 19.2 8.6 19.2 19.2 0 42.4-34.4 76.8-76.8 76.8L76.8 480C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"]},rl={prefix:"fas",iconName:"server",icon:[448,512,[],"f233","M64 32C28.7 32 0 60.7 0 96l0 64c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-64c0-35.3-28.7-64-64-64L64 32zm216 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm56 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zM64 288c-35.3 0-64 28.7-64 64l0 64c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-64c0-35.3-28.7-64-64-64L64 288zm216 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm56 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0z"]},il={prefix:"fas",iconName:"tags",icon:[576,512,[],"f02c","M401.2 39.1L549.4 189.4c27.7 28.1 27.7 73.1 0 101.2L393 448.9c-9.3 9.4-24.5 9.5-33.9 .2s-9.5-24.5-.2-33.9L515.3 256.8c9.2-9.3 9.2-24.4 0-33.7L367 72.9c-9.3-9.4-9.2-24.6 .2-33.9s24.6-9.2 33.9 .2zM32.1 229.5L32.1 96c0-35.3 28.7-64 64-64l133.5 0c17 0 33.3 6.7 45.3 18.7l144 144c25 25 25 65.5 0 90.5L285.4 418.7c-25 25-65.5 25-90.5 0l-144-144c-12-12-18.7-28.3-18.7-45.3zm144-85.5a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},sl={prefix:"fas",iconName:"moon",icon:[512,512,[127769,9214],"f186","M256 0C114.6 0 0 114.6 0 256S114.6 512 256 512c68.8 0 131.3-27.2 177.3-71.4 7.3-7 9.4-17.9 5.3-27.1s-13.7-14.9-23.8-14.1c-4.9 .4-9.8 .6-14.8 .6-101.6 0-184-82.4-184-184 0-72.1 41.5-134.6 102.1-164.8 9.1-4.5 14.3-14.3 13.1-24.4S322.6 8.5 312.7 6.3C294.4 2.2 275.4 0 256 0z"]},nl={prefix:"fas",iconName:"house-user",icon:[512,512,["home-user"],"e1b0","M277.8 8.6c-12.3-11.4-31.3-11.4-43.5 0l-224 208c-9.6 9-12.8 22.9-8 35.1S18.8 272 32 272l16 0 0 176c0 35.3 28.7 64 64 64l288 0c35.3 0 64-28.7 64-64l0-176 16 0c13.2 0 25-8.1 29.8-20.3s1.6-26.2-8-35.1l-224-208zM200 256a56 56 0 1 1 112 0 56 56 0 1 1 -112 0zM144 432c0-44.2 35.8-80 80-80l64 0c44.2 0 80 35.8 80 80 0 8.8-7.2 16-16 16l-192 0c-8.8 0-16-7.2-16-16z"]},ol={prefix:"fas",iconName:"download",icon:[448,512,[],"f019","M256 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 210.7-41.4-41.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 242.7 256 32zM64 320c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-46.9 0-56.6 56.6c-31.2 31.2-81.9 31.2-113.1 0L110.9 320 64 320zm304 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},al={prefix:"fas",iconName:"circle-chevron-down",icon:[512,512,["chevron-circle-down"],"f13a","M256 0a256 256 0 1 0 0 512 256 256 0 1 0 0-512zM135 241c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l87 87 87-87c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9L273 345c-9.4 9.4-24.6 9.4-33.9 0L135 241z"]},ll=al,cl={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 160-160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160 160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-160 0 0-160z"]},hl={prefix:"fas",iconName:"box",icon:[448,512,[128230],"f466","M369.4 128l-34.3-48-222.1 0-34.3 48 290.7 0zM0 148.5c0-13.3 4.2-26.3 11.9-37.2L60.9 42.8C72.9 26 92.3 16 112.9 16l222.1 0c20.7 0 40.1 10 52.1 26.8l48.9 68.5c7.8 10.9 11.9 23.9 11.9 37.2L448 416c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 148.5z"]},dl={prefix:"fas",iconName:"tag",icon:[512,512,[127991],"f02b","M32.5 96l0 149.5c0 17 6.7 33.3 18.7 45.3l192 192c25 25 65.5 25 90.5 0L483.2 333.3c25-25 25-65.5 0-90.5l-192-192C279.2 38.7 263 32 246 32L96.5 32c-35.3 0-64 28.7-64 64zm112 16a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},hn={prefix:"fas",iconName:"microchip",icon:[512,512,[],"f2db","M176 24c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c-35.3 0-64 28.7-64 64l-40 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l40 0 0 56-40 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l40 0 0 56-40 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l40 0c0 35.3 28.7 64 64 64l0 40c0 13.3 10.7 24 24 24s24-10.7 24-24l0-40 56 0 0 40c0 13.3 10.7 24 24 24s24-10.7 24-24l0-40 56 0 0 40c0 13.3 10.7 24 24 24s24-10.7 24-24l0-40c35.3 0 64-28.7 64-64l40 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-40 0 0-56 40 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-40 0 0-56 40 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-40 0c0-35.3-28.7-64-64-64l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40-56 0 0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40-56 0 0-40zM160 128l192 0c17.7 0 32 14.3 32 32l0 192c0 17.7-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32l0-192c0-17.7 14.3-32 32-32zm16 48l0 160 160 0 0-160-160 0z"]},ul={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},fl={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M65.9 228.5c13.3-93 93.4-164.5 190.1-164.5 53 0 101 21.5 135.8 56.2 .2 .2 .4 .4 .6 .6l7.6 7.2-47.9 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 53.4-11.3-10.7C390.5 28.6 326.5 0 256 0 127 0 20.3 95.4 2.6 219.5 .1 237 12.2 253.2 29.7 255.7s33.7-9.7 36.2-27.1zm443.5 64c2.5-17.5-9.7-33.7-27.1-36.2s-33.7 9.7-36.2 27.1c-13.3 93-93.4 164.5-190.1 164.5-53 0-101-21.5-135.8-56.2-.2-.2-.4-.4-.6-.6l-7.6-7.2 47.9 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 320c-8.5 0-16.7 3.4-22.7 9.5S-.1 343.7 0 352.3l1 127c.1 17.7 14.6 31.9 32.3 31.7S65.2 496.4 65 478.7l-.4-51.5 10.7 10.1c46.3 46.1 110.2 74.7 180.7 74.7 129 0 235.7-95.4 253.4-219.5z"]},dn=fl,_l=X('<button type="button" class="btn mx-2" title="Switch Theme"><!></button>');function vl(i,l){st(l,!1);let f=le();function y(){b(f)==="light"?(J(f,"dark"),document.querySelector("html").classList.add("dark")):(J(f,"light"),document.querySelector("html").classList.remove("dark"))}vt(()=>{J(f,"dark"),b(f)==="dark"&&document.querySelector("html").classList.add("dark")}),ut();var E=_l(),L=H(E);{var k=o=>{de(o,{get icon(){return sl},color:"#333",size:"2x"})},t=o=>{de(o,{get icon(){return Ha},color:"#333",size:"2x"})};te(L,o=>{b(f)==="dark"?o(k):o(t,!1)})}ge("click",E,y),W(i,E),nt()}var pl=fr('<svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Danger:"><use xlink:href="#exclamation-triangle-fill"></use></svg>'),gl=fr('<svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Success:"><use xlink:href="#check-circle-fill"></use></svg>'),ml=fr('<svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Info:"><use xlink:href="#info-fill"></use></svg>'),Sl=X("<strong>Error:</strong>"),bl=X('<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>'),wl=X('<div role="alert"><!> <div><!> <!> <!></div></div>'),Cl=X('<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"></path></symbol><symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16"><path d="M8 16A8 8 0 1 0 8 0akeyof Message8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"></path></symbol><symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16"><path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"></path></symbol></svg> <!>',1);function yl(i,l){let f=he(l,"type",8),y=he(l,"dismissible",8,!1),E=le(!1);var L=Cl(),k=U(ve(L),2);{var t=o=>{var a=wl();let u;var c=H(a);{var h=d=>{var g=pl();W(d,g)},p=d=>{var g=Ue(),m=ve(g);{var w=C=>{var R=gl();W(C,R)},v=C=>{var R=Ue(),B=ve(R);{var P=A=>{var N=ml();W(A,N)};te(B,A=>{f()==="info"&&A(P)},!0)}W(C,R)};te(m,C=>{f()==="success"?C(w):C(v,!1)},!0)}W(d,g)};te(c,d=>{f()==="error"||f()==="warning"?d(h):d(p,!1)})}var S=U(c,2),_=H(S);{var e=d=>{var g=Sl();W(d,g)};te(_,d=>{f()==="error"&&d(e)})}var n=U(_,2);ni(n,l,"default",{},null);var r=U(n,2);{var s=d=>{var g=bl();ge("click",g,()=>J(E,!0)),W(d,g)};te(r,d=>{y()&&d(s)})}ae(()=>u=Qe(a,1,"alert d-flex align-items-center",null,u,{"alert-danger":f()==="error","alert-warning":f()==="warning","alert-success":f()==="success","alert-info":f()==="info","alert-dismissible":y()})),bt(3,a,()=>Ut),W(o,a)};te(k,o=>{b(E)||o(t)})}W(i,L)}function El(i){switch(i.request){case"login":return`{"response": "login", "payload": {"username": "${i.payload.username}"}}`;case"get_system_info":return'{"response": "get_system_info", "payload": {"engine_version": "Docker 20.10.7", "containers": {"total": 178, "running": 170, "stopped": 0}, "os": "Ubuntu 20.04.3 LTS", "cpus": 24, "mem": 31277850624}}';case"get_container_list":return`{"response": "get_container_list", "payload": [
                {"id": "2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8586", "name": "CaaSa Demo", "namespace": null, "status": "running", "permissions": ["info", "info-annotations", "procs", "files-read", "files-write", "files", "logs", "state", "term"]},
                {"id": "2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8587", "name": "Backend", "namespace": "Cool Web App", "status": "running", "permissions": ["info", "info-annotations", "procs", "files-read", "files-write", "files", "logs", "state", "term"]},
                {"id": "2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8588", "name": "Gateway", "namespace": "Cool Web App", "status": "running", "permissions": ["info", "info-annotations", "procs", "files-read", "files-write", "files", "logs", "state", "term"]}
               ]}`;case"get_processes":return'{"response": "get_processes", "payload": [{"pid": "45756", "ppid": "45733", "%cpu": "0.0", "%mem": "0.0", "user": "root", "stime": "16:24", "command": "nginx: master process nginx -g daemon off;", "level": 0}, {"pid": "45822", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45823", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45824", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45825", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45826", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45827", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45828", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45829", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45830", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45831", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45832", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "45833", "ppid": "45756", "%cpu": "0.0", "%mem": "0.0", "user": "systemd+", "stime": "16:24", "command": "nginx: worker process", "level": 1}, {"pid": "46825", "ppid": "45733", "%cpu": "0.0", "%mem": "0.0", "user": "root", "stime": "16:34", "command": "sh", "level": 0}]}';case"get_container_info":const l={"2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8586":"/caasa_demo","2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8587":"/cool_web_app_backend_1","2b7eb6b9d2f7fd2dd26738500a81a16310f78e46eea2f9c2a27ed876d85d8588":"/cool_web_app_gateway_1"};return`{"response": "get_container_info", "payload": {"id": "${i.payload.container_id}", "name": "${l[i.payload.container_id]}", "status": "running", "command": "/docker-entrypoint.sh nginx -g daemon off;", "created_at": "2021-12-02T10:33:16.628618832Z", "started_at": "2021-12-02T10:33:17.015866729Z", "finished_at": "0001-01-01T00:00:00Z", "crashes": 0, "env": {"PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin", "NGINX_VERSION": "1.21.1", "NJS_VERSION": "0.6.1", "PKG_RELEASE": "1"}, "labels": {"caasa.admin.full": "user1,user2", "maintainer": "NGINX Docker Maintainers <docker-maint@nginx.com>"}, "image": {"name": "nginx:alpine", "hash": "sha256:b9e2356ea1be9452f3777a587b0b6a30bc16c295fe6190eda6a0776522f27439"}, "mem": {"used": 10452992, "max_used": 19345408, "total": 52428800}, "cpu": {"perc": ${Math.random()*10}}, "net": {"rx_bytes": 18201, "tx_bytes": 0}, "ports": ["80/tcp"]}}`;case"get_container_logs":return i.payload.onlynew?'{"response": "get_container_logs", "payload":[]}':'{"response": "get_container_logs", "payload": ["2021-12-02T10:33:17.021946340Z /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration","2021-12-02T10:33:17.021988550Z /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/","2021-12-02T10:33:17.023417432Z /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh","2021-12-02T10:33:17.031231257Z 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf","2021-12-02T10:33:17.055742664Z 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf","2021-12-02T10:33:17.056041305Z /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh","2021-12-02T10:33:17.059979717Z /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh","2021-12-02T10:33:17.062059371Z /docker-entrypoint.sh: Configuration complete; ready for start up","2021-12-02T10:33:17.074027144Z 2021/12/02 10:33:17 [notice] 1#1: using the \\"epoll\\" event method","2021-12-02T10:33:17.074056600Z 2021/12/02 10:33:17 [notice] 1#1: nginx/1.21.1","2021-12-02T10:33:17.074063653Z 2021/12/02 10:33:17 [notice] 1#1: built by gcc 10.3.1 20210424 (Alpine 10.3.1_git20210424) ","2021-12-02T10:33:17.074069845Z 2021/12/02 10:33:17 [notice] 1#1: OS: Linux 5.11.0-40-generic","2021-12-02T10:33:17.074075475Z 2021/12/02 10:33:17 [notice] 1#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576","2021-12-02T10:33:17.074245905Z 2021/12/02 10:33:17 [notice] 1#1: start worker processes","2021-12-02T10:33:17.074276953Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 32","2021-12-02T10:33:17.074379486Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 33","2021-12-02T10:33:17.074401427Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 34","2021-12-02T10:33:17.074513127Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 35","2021-12-02T10:33:17.074601242Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 36","2021-12-02T10:33:17.074666745Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 37","2021-12-02T10:33:17.074817979Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 38","2021-12-02T10:33:17.074873423Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 39","2021-12-02T10:33:17.075007344Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 40","2021-12-02T10:33:17.075141746Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 41","2021-12-02T10:33:17.075279715Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 42","2021-12-02T10:33:17.075393118Z 2021/12/02 10:33:17 [notice] 1#1: start worker process 43"]}';case"get_filesystem_info":return'{"response": "get_filesystem_info", "payload": {"workdir": "", "mounts": [{"type": "bind", "destination": "/etc/ssl/certs", "readonly": true, "source": "/etc/ssl/certs"}]}}';case"get_directory_list":return i.payload.path===""||i.payload.path==="/"?'{"response": "get_directory_list", "payload": {"entries": [{"type": "f", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "0B", "modtime": "2021-12-02 16:19:13", "name": ".dockerenv"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "bin"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "360B", "modtime": "2021-12-02 16:19:13", "name": "dev"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-07-06 19:40:27", "name": "docker-entrypoint.d"}, {"type": "f", "permissions": "rwxrwxr-x", "owner": "root", "group": "root", "filesize": "1.2KB", "modtime": "2021-07-06 19:40:16", "name": "docker-entrypoint.sh"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-12-02 16:19:13", "name": "etc"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "home"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "lib"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "media"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "mnt"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "opt"}, {"type": "d", "permissions": "r-xr-xr-x", "owner": "root", "group": "root", "filesize": "0B", "modtime": "2021-12-02 16:19:13", "name": "proc"}, {"type": "d", "permissions": "rwx------", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "root"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-12-02 16:19:13", "name": "run"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "sbin"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "srv"}, {"type": "d", "permissions": "r-xr-xr-x", "owner": "root", "group": "root", "filesize": "0B", "modtime": "2021-12-02 16:19:13", "name": "sys"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "usr"}, {"type": "d", "permissions": "rwxr-xr-x", "owner": "root", "group": "root", "filesize": "4.0KB", "modtime": "2021-06-15 14:34:40", "name": "var"}], "path": "/"}}':!1;case"spawn_terminal":return'{"response": "spawn_terminal", "payload": {"execId": "2680be7b4aa3c0b6599edf3521f5813a770ccec7966a59c57cfdac5b4e3b7e9a"}}';case"resize_terminal":return!0;case"transmit_terminal_input":return i.payload.data==="\r"?`56!{"response": "receive_terminal_output", "payload": null}\r
This is just a demo`:'56!{"response": "receive_terminal_output", "payload": null}'+i.payload.data;default:return!1}}class xl{constructor(l){}binaryType;bufferedAmount;extensions;onclose;onerror;onmessage;onopen;protocol;readyState;url;close(l,f){}CLOSED;CLOSING;CONNECTING;OPEN;addEventListener(l,f,y){throw new Error("Method not implemented.")}removeEventListener(l,f,y){throw new Error("Method not implemented.")}dispatchEvent(l){throw new Error("Method not implemented.")}send(l){const f=JSON.parse(l),y=El(f),E={data:void 0,...new Event("api-mock")};if(y===!1?E.data=`{"response": "${f.request}", "error": "Sorry, command not mocked in demo"}`:y===!0||(y[0]!=="{"?E.data=new Blob([y]):E.data=y),E.data&&(setTimeout(()=>this.onmessage(E),200),typeof E.data=="string"&&E.data.includes("spawn_terminal"))){console.log("extra response for terminal");const L={data:void 0,...new Event("api-mock")};L.data=new Blob(['56!{"response": "receive_terminal_output", "payload": null}/ # ']),setTimeout(()=>this.onmessage(L),300)}}}let Ft,zr={},Wr={};function cs(i,l){i in zr?zr[i](l):console.error("WS-API Unknown websocket event:",i)}function Qr(i,l){i in Wr?Wr[i](l):console.error("WS-API Unknown websocket event:",i)}function hs(){zr={},Wr={}}const ne={init(){try{Ft&&Ft.close(1e3),Ft=new xl(`${window.location.protocol.replace("http","ws")}//${window.location.host}/ws`),Ft.binaryType="blob",Ft.onclose=i=>{Qr("ws-close",i.reason||"Connection closed"),hs()},Ft.onmessage=async i=>{if(i.data instanceof Blob){const l=parseInt(await i.data.slice(0,10).text()),f=l.toString().length+1,y=await i.data.slice(f,f+l).text(),E=JSON.parse(y);E.error?Qr(E.response,E.error):cs(E.response,{payload:E.payload,blob:i.data.slice(f+l)})}else{const l=JSON.parse(i.data);l.error?Qr(l.response,l.error):cs(l.response,l.payload)}},Ft.onerror=i=>{Qr("ws-error","Connection error")}}catch(i){alert(i)}},register(i,l=null,f=null){l&&(zr[i]=l),f&&(Wr[i]=f)},unregister(...i){i.forEach(l=>{delete Wr[l],delete zr[l]})},send(i,l){Ft.send(JSON.stringify({request:i,payload:l}))},close(){hs(),Ft.close()}};var kl=X('<div class="spinner-grow mx-2 text-light" role="status"><span class="visually-hidden">Loading...</span></div>'),Ll=X('<div class="mt-4 text-light"> </div>'),Dl=X('<div class="bg-outer position-fixed d-flex justify-content-center align-items-center top-0 start-0 end-0 bottom-0 svelte-g0kq5f"><div class="bg-inner d-flex flex-column rounded p-3 svelte-g0kq5f"><div class="d-flex justify-content-center align-items-center"></div> <!></div></div>');function un(i,l){st(l,!1);let f=he(l,"text",8,""),y=le(!1);vt(()=>{setTimeout(()=>J(y,!0),250)}),ut();var E=Ue(),L=ve(E);{var k=t=>{var o=Dl(),a=H(o),u=H(a);Et(u,4,()=>[1,2,3],yt,(p,S)=>{var _=kl();W(p,_)});var c=U(u,2);{var h=p=>{var S=Ll(),_=H(S);ae(()=>se(_,f())),W(p,S)};te(c,p=>{f()&&p(h)})}bt(1,o,()=>wa),W(t,o)};te(L,t=>{b(y)&&t(k)})}W(i,E),nt()}var Rl=X('<!> <div class="container pt-5"><!> <form class="container login-form svelte-ylib6f"><div class="form-floating mb-2"><input type="text" class="form-control" id="loginName" placeholder=" " required autocomplete="username"/> <label for="loginName">Username</label></div> <div class="form-floating mb-2"><input type="password" class="form-control" id="loginPw" placeholder=" " required autocomplete="current-password"/> <label for="loginPw">Password</label></div> <div class="col-12"><button type="submit" class="btn btn-primary w-100">Login</button></div></form></div>',1);function Al(i,l){st(l,!1);let f=he(l,"username",12,"admin"),y=le("123456"),E=le(!1),L=le("");const k=en();vt(()=>{ne.register("login",({username:s})=>{k("login",{username:s})},s=>{J(E,!1),Le.add({text:s,type:"error"})})}),er(()=>{ne.unregister("login")});async function t(){J(E,!0),ne.send("login",{username:f(),password:b(y)}),J(L,""),J(y,"")}ut();var o=Rl(),a=ve(o);{var u=s=>{un(s,{})};te(a,s=>{b(E)&&s(u)})}var c=U(a,2),h=H(c);{var p=s=>{yl(s,{type:"error",dismissible:!0,children:(d,g)=>{var m=Ct();ae(()=>se(m,b(L))),W(d,m)},$$slots:{default:!0}})};te(h,s=>{b(L)&&s(p)})}var S=U(h,2),_=H(S),e=H(_),n=U(_,2),r=H(n);oi(e,f),ge("input",e,()=>{f(f().toLowerCase().trim())}),oi(r,()=>b(y),s=>J(y,s)),ge("submit",S,ai(()=>t())),bt(3,S,()=>Ut),W(i,o),nt()}function Mr(i,l=0){return Math.round(i*10**l)/10**l}function kt(i){const l=["","Ki","Mi","Gi","Ti"];let f=0;for(;i>=1024;)i/=1024,f++;const y=Math.max(Math.floor(Math.log10(Math.floor(i))),0);return Mr(i,2-y)+" "+l[f]+"B"}function At(i){return new Date(i).toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function fn(i,l){if(window?.navigator?.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(i,l);else{const f=document.createElement("a");document.body.appendChild(f);const y=window.URL.createObjectURL(i);f.href=y,f.download=l,f.click(),setTimeout(()=>{window.URL.revokeObjectURL(y),document.body.removeChild(f)},0)}}var Tl=X('<div class="d-flex align-items-center"><strong>Loading...</strong> <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div></div>'),Bl=X('<span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>'),Ml=X('<button type="button" class="btn btn-outline-warning"><!> Restart</button>'),Ol=X('<span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>'),Pl=X('<button type="button" class="btn btn-outline-danger"><!> Stop</button>'),Il=X("<!> <!>",1),Hl=X('<span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>'),Fl=X('<button type="button" class="btn btn-outline-success"><!> Start</button>'),Nl=X('<div class="ms-4"><!></div>'),zl=X('<span class="text-muted font-monospace"> </span>'),Wl=X('<a target="_blank" rel="noopener noreferrer" class="text-decoration-none"> </a>'),$l=X('<a target="_blank" rel="noopener noreferrer" class="text-decoration-none"> </a>'),Ul=X('<div class="d-flex mb-3"><div class="icon-left ms-1 me-3 svelte-nba7m8"><!></div> <div class="flex-grow-1"><div class="mb-1">Processor</div> <div class="progress"><div class="progress-bar text-white overflow-visible ps-1"> </div></div></div></div>'),jl=X('<span class="badge rounded-pill bg-primary ms-2"> </span>'),ql=X('<span class="badge rounded-pill bg-warning ms-2"> </span>'),Kl=X('<span class="badge rounded-pill bg-info ms-2"> </span>'),Vl=X('<div class="progress-bar progress-bar-striped bg-warning"></div>'),Gl=X('<div class="progress"><div class="progress-bar text-white overflow-visible ps-1"> </div> <!></div>'),Xl=X('<div class="d-flex mb-3"><div class="icon-left ms-1 me-3 svelte-nba7m8"><!></div> <div class="flex-grow-1"><div class="mb-1"><span class="me-2">Memory</span> <!> <!> <!></div> <!></div></div>'),Zl=X('<div class="me-5"><div class="mb-1">Network</div> <span title="Received Traffic" class="me-3"> </span> <span title="Sent Traffic"> </span></div>'),Jl=X('<span class="badge bg-dark me-2"> </span>'),Yl=X('<div class="flex-grow-1"><div class="mb-1">Ports</div> <!></div>'),Ql=X('<div class="d-flex mb-3"><div class="icon-left ms-1 me-3 svelte-nba7m8"><!></div> <!> <!></div>'),ec=X('<div class="fw-bold">Stopped</div> <!>',1),tc=X('<div class="fw-bold">Started</div> ',1),rc=X('<div class="fw-bold">Stopped</div> ',1),ic=X('<div class="fw-bold">Started</div> ',1),sc=X('<tr><td class="text-end border-end text-break"> </td><td class="text-break"> </td></tr>'),nc=X('<tr><td class="text-end border-end text-break"> </td><td class="text-break"> </td></tr>'),oc=X('<div class="d-flex mb-3"><div class="icon-left ms-1 me-3 svelte-nba7m8"><!></div> <div class="flex-grow-1 d-lg-flex" style="font-size: small"><div><table class="table table-striped border"><thead><tr><th scope="col" colspan="2" style="font-weight: normal">Environment Variables</th></tr></thead><tbody></tbody></table></div> <div><table class="table table-striped border"><thead><tr><th scope="col" colspan="2" style="font-weight: normal">Labels</th></tr></thead><tbody></tbody></table></div></div></div>'),ac=X('<div class="d-flex mb-3"><div class="icon-left ms-1 me-3 svelte-nba7m8"><!></div> <div class="d-flex flex-column flex-grow-1"><div class="flex-grow-1 d-flex align-items-center justify-content-between"><div class="flex-grow-1"><div class="mb-1"><span class="me-2">Container</span> <span class="text-muted font-monospace"> </span></div> <div><h6> </h6></div></div> <!></div> <div><!> <code> </code></div></div></div> <div class="d-flex mb-3"><div class="icon-left ms-1 me-3 svelte-nba7m8"><!></div> <div class="flex-grow-1"><div class="mb-1"><span class="me-2">Image</span> <!></div> <div><h6><!> <span class="ms-1"><!> </span></h6></div></div></div> <!> <!> <!> <div class="d-flex mb-3"><div class="icon-left ms-1 me-3 svelte-nba7m8"><!></div> <div class="flex-grow-1 pb-5 mb-5"><div class="mb-1">Timeline</div> <div class="timeline mt-2 svelte-nba7m8"><div class="tl-container svelte-nba7m8" style="margin-left: 5%"><div class="popup svelte-nba7m8"><div class="fw-bold">Created</div> </div></div> <div class="tl-container svelte-nba7m8" style="margin-left: 27%"><div class="popup svelte-nba7m8"><div class="fw-bold"> </div> Crashes</div></div> <div class="tl-container svelte-nba7m8" style="margin-left: 49%"><div class="popup svelte-nba7m8"><!></div></div> <div class="tl-container svelte-nba7m8" style="margin-left: 71%"><div class="popup svelte-nba7m8"><!></div></div> <div class="tl-container svelte-nba7m8" style="margin-left: 93%"><div class="popup svelte-nba7m8">Currently <div class="fw-bold"> </div></div></div></div></div></div> <!>',1),lc=X("<div><!></div>");function cc(i,l){st(l,!1);const f=le(),y=le(),E=le(),L=le();let k=he(l,"enable_actions",8),t=he(l,"container_id",8),o,a,u=le(!0),c=le(null),h=le();Gr(()=>{t()!==o&&(o=t(),J(u,!0),J(c,null),t()&&ne.send("get_container_info",{container_id:t()}))}),vt(()=>{window.scrollTo({top:0,behavior:"smooth"}),ne.register("get_container_info",r=>{r.id===t()&&(J(h,r),J(u,!1))},r=>Le.add({text:r,type:"error"})),ne.register("set_container_state",()=>{J(c,null)},r=>Le.add({text:r,type:"error"})),a=setInterval(()=>{ne.send("get_container_info",{container_id:t()})},3e3)}),er(()=>{clearInterval(a),ne.unregister("get_container_info"),ne.unregister("set_container_state")});function p(r){switch(ne.send("set_container_state",{container_id:t(),action:r}),J(c,r),r){case"start":Le.add({text:"Starting container ...",type:"success"});break;case"restart":Le.add({text:"Restarting container ...",type:"info"});break;case"stop":Le.add({text:"Stopping container ...",type:"info"});break}}Bt(()=>b(h),()=>{J(f,(b(h)?.mem?.used||0)*100/(b(h)?.mem?.total||0))}),Bt(()=>b(h),()=>{J(y,(b(h)?.mem?.max_used||0)*100/(b(h)?.mem?.total||0))}),Bt(()=>b(h),()=>{J(E,b(h)?.image.name.includes(":")?b(h)?.image.name.slice(0,b(h)?.image.name.lastIndexOf(":")):b(h)?.image.name)}),Bt(()=>b(h),()=>{J(L,b(h)?.image.name.includes(":")?b(h)?.image.name.split(":").pop():"latest")}),Kr(),ut();var S=lc(),_=H(S);{var e=r=>{var s=Tl();W(r,s)},n=r=>{var s=ac(),d=ve(s),g=H(d),m=H(g);de(m,{get icon(){return cn},size:"2x"});var w=U(g,2),v=H(w),C=H(v),R=H(C),B=U(H(R),2),P=H(B),A=U(R,2),N=H(A),K=H(N),V=U(C,2);{var ee=ce=>{var ue=Nl(),ye=H(ue);{var Oe=Ce=>{var ke=Il(),Je=ve(ke);{var We=Pe=>{var De=Ml(),$e=H(De);{var pe=Ee=>{de(Ee,{get icon(){return dn}})},Ie=Ee=>{var je=Bl();W(Ee,je)};te($e,Ee=>{b(c)?Ee(Ie,!1):Ee(pe)})}ae(()=>De.disabled=!!b(c)),ge("click",De,()=>p("restart")),W(Pe,De)};te(Je,Pe=>{(!b(c)||b(c)==="restart")&&Pe(We)})}var tt=U(Je,2);{var rt=Pe=>{var De=Pl(),$e=H(De);{var pe=Ee=>{de(Ee,{get icon(){return Ba}})},Ie=Ee=>{var je=Ol();W(Ee,je)};te($e,Ee=>{b(c)?Ee(Ie,!1):Ee(pe)})}ae(()=>De.disabled=!!b(c)),ge("click",De,()=>p("stop")),W(Pe,De)};te(tt,Pe=>{(!b(c)||b(c)==="stop")&&Pe(rt)})}W(Ce,ke)},lt=Ce=>{var ke=Ue(),Je=ve(ke);{var We=tt=>{var rt=Fl(),Pe=H(rt);{var De=pe=>{de(pe,{get icon(){return Ka}})},$e=pe=>{var Ie=Hl();W(pe,Ie)};te(Pe,pe=>{b(c)?pe($e,!1):pe(De)})}ae(()=>rt.disabled=!!b(c)),ge("click",rt,()=>p("start")),W(tt,rt)};te(Je,tt=>{(!b(c)||b(c)==="start")&&tt(We)},!0)}W(Ce,ke)};te(ye,Ce=>{b(h),j(()=>b(h).status==="running")?Ce(Oe):Ce(lt,!1)})}W(ce,ue)};te(V,ce=>{k()&&ce(ee)})}var G=U(v,2),x=H(G);de(x,{get icon(){return Na}});var T=U(x,2),M=H(T),O=U(d,2),F=H(O),q=H(F);de(q,{get icon(){return hl},size:"2x"});var Y=U(F,2),re=H(Y),I=U(H(re),2);{var D=ce=>{var ue=zl(),ye=H(ue);ae(Oe=>se(ye,Oe),[()=>(b(h),j(()=>b(h).image.hash.substring(0,19)))]),W(ce,ue)};te(I,ce=>{b(h),j(()=>b(h).image?.hash!==b(h)?.image?.name)&&ce(D)})}var z=U(re,2),$=H(z),Q=H($);{var Z=ce=>{var ue=Wl(),ye=H(ue);ae(()=>{Fe(ue,"href",`https://hub.docker.com/_/${b(E)??""}`),se(ye,b(E))}),W(ce,ue)},oe=ce=>{var ue=Ue(),ye=ve(ue);{var Oe=Ce=>{var ke=$l(),Je=H(ke);ae(()=>{Fe(ke,"href",`https://hub.docker.com/r/${b(E)??""}`),se(Je,b(E))}),W(Ce,ke)},lt=Ce=>{var ke=Ct();ae(()=>se(ke,b(E))),W(Ce,ke)};te(ye,Ce=>{b(E),j(()=>b(E).match(/^\w+\/\w+$/))?Ce(Oe):Ce(lt,!1)},!0)}W(ce,ue)};te(Q,ce=>{b(E),j(()=>!b(E).includes("/"))?ce(Z):ce(oe,!1)})}var fe=U(Q,2),_e=H(fe);de(_e,{get icon(){return dl}});var Re=U(_e),ie=U(O,2);{var Ae=ce=>{var ue=Ul(),ye=H(ue),Oe=H(ye);de(Oe,{get icon(){return hn},size:"2x"});var lt=U(ye,2),Ce=U(H(lt),2),ke=H(Ce),Je=H(ke);ae(We=>{ei(ke,`width: ${b(h),j(()=>b(h).cpu.perc)??""}%`),se(Je,`${We??""}%`)},[()=>(Be(Mr),b(h),j(()=>Mr(b(h).cpu.perc)))]),W(ce,ue)};te(ie,ce=>{b(h),j(()=>b(h).cpu)&&ce(Ae)})}var Ge=U(ie,2);{var xt=ce=>{var ue=Xl(),ye=H(ue),Oe=H(ye);de(Oe,{get icon(){return an},size:"2x"});var lt=U(ye,2),Ce=H(lt),ke=U(H(Ce),2);{var Je=pe=>{var Ie=jl(),Ee=H(Ie);ae(je=>se(Ee,`Now ${je??""}`),[()=>(Be(kt),b(h),j(()=>kt(b(h).mem.used)))]),W(pe,Ie)};te(ke,pe=>{b(h),j(()=>b(h).mem.used!==null)&&pe(Je)})}var We=U(ke,2);{var tt=pe=>{var Ie=ql(),Ee=H(Ie);ae(je=>se(Ee,`Max ${je??""}`),[()=>(Be(kt),b(h),j(()=>kt(b(h).mem.max_used)))]),W(pe,Ie)};te(We,pe=>{b(h),j(()=>b(h).mem.max_used!==null)&&pe(tt)})}var rt=U(We,2);{var Pe=pe=>{var Ie=Kl(),Ee=H(Ie);ae(je=>se(Ee,`Limit ${je??""}`),[()=>(Be(kt),b(h),j(()=>kt(b(h).mem.total)))]),W(pe,Ie)};te(rt,pe=>{b(h),j(()=>b(h).mem.total!==null)&&pe(Pe)})}var De=U(Ce,2);{var $e=pe=>{var Ie=Gl(),Ee=H(Ie),je=H(Ee),Rr=U(Ee,2);{var Ar=Ht=>{var Ui=Vl();ae(()=>ei(Ui,`width: ${b(y)-b(f)}%`)),W(Ht,Ui)};te(Rr,Ht=>{b(h),j(()=>b(h).mem.max_used!==null)&&Ht(Ar)})}ae(Ht=>{ei(Ee,`width: ${b(f)??""}%; z-index: 2`),se(je,`${Ht??""}%`)},[()=>(Be(Mr),b(f),j(()=>Mr(b(f))))]),W(pe,Ie)};te(De,pe=>{b(h),j(()=>b(h).mem.used!==null&&b(h).mem.total!==null)&&pe($e)})}W(ce,ue)};te(Ge,ce=>{b(h),j(()=>b(h).mem)&&ce(xt)})}var Me=U(Ge,2);{var He=ce=>{var ue=Ql(),ye=H(ue),Oe=H(ye);de(Oe,{get icon(){return Fa},size:"2x"});var lt=U(ye,2);{var Ce=We=>{var tt=Zl(),rt=U(H(tt),2),Pe=H(rt),De=U(rt,2),$e=H(De);ae((pe,Ie)=>{se(Pe,`â¼ ${pe??""}`),se($e,`â² ${Ie??""}`)},[()=>(Be(kt),b(h),j(()=>kt(b(h).net.rx_bytes))),()=>(Be(kt),b(h),j(()=>kt(b(h).net.tx_bytes)))]),W(We,tt)};te(lt,We=>{b(h),j(()=>b(h).net)&&We(Ce)})}var ke=U(lt,2);{var Je=We=>{var tt=Yl(),rt=U(H(tt),2);Et(rt,1,()=>(b(h),j(()=>b(h).ports)),yt,(Pe,De)=>{var $e=Jl(),pe=H($e);ae(()=>se(pe,b(De))),W(Pe,$e)}),W(We,tt)};te(ke,We=>{b(h),j(()=>b(h).ports?.length>0)&&We(Je)})}W(ce,ue)};te(Me,ce=>{b(h),j(()=>b(h).net||b(h).ports?.length>0)&&ce(He)})}var Te=U(Me,2),ot=H(Te),Xe=H(ot);de(Xe,{get icon(){return Ma},size:"2x"});var Ze=U(ot,2),et=U(H(Ze),2),Ne=H(et),pt=H(Ne),at=U(H(pt)),ze=U(Ne,2),Se=H(ze),Dr=H(Se),vi=H(Dr),Xr=U(ze,2),vn=H(Xr),pn=H(vn);{var gn=ce=>{var ue=ec(),ye=U(ve(ue),2);{var Oe=Ce=>{var ke=Ct("Never");W(Ce,ke)},lt=Ce=>{var ke=Ct();ae(Je=>se(ke,Je),[()=>(Be(At),b(h),j(()=>At(b(h).finished_at)))]),W(Ce,ke)};te(ye,Ce=>{b(h),j(()=>b(h).finished_at<b(h).created_at)?Ce(Oe):Ce(lt,!1)})}W(ce,ue)},mn=ce=>{var ue=tc(),ye=U(ve(ue));ae(Oe=>se(ye,` ${Oe??""}`),[()=>(Be(At),b(h),j(()=>At(b(h).started_at)))]),W(ce,ue)};te(pn,ce=>{b(h),j(()=>b(h).finished_at<b(h).started_at)?ce(gn):ce(mn,!1)})}var $i=U(Xr,2),Sn=H($i),bn=H(Sn);{var wn=ce=>{var ue=rc(),ye=U(ve(ue));ae(Oe=>se(ye,` ${Oe??""}`),[()=>(Be(At),b(h),j(()=>At(b(h).finished_at)))]),W(ce,ue)},Cn=ce=>{var ue=ic(),ye=U(ve(ue));ae(Oe=>se(ye,` ${Oe??""}`),[()=>(Be(At),b(h),j(()=>At(b(h).started_at)))]),W(ce,ue)};te(bn,ce=>{b(h),j(()=>b(h).finished_at>b(h).started_at)?ce(wn):ce(Cn,!1)})}var yn=U($i,2),En=H(yn),xn=U(H(En)),kn=H(xn),Ln=U(Te,2);{var Dn=ce=>{var ue=oc(),ye=H(ue),Oe=H(ye);de(Oe,{get icon(){return il},size:"2x"});var lt=U(ye,2),Ce=H(lt),ke=H(Ce),Je=U(H(ke));Et(Je,5,()=>(b(h),j(()=>Object.entries(b(h).env).sort(([Pe],[De])=>Pe.localeCompare(De)))),yt,(Pe,De)=>{var $e=Gi(()=>qi(b(De),2));let pe=()=>b($e)[0],Ie=()=>b($e)[1];var Ee=sc(),je=H(Ee),Rr=H(je),Ar=U(je),Ht=H(Ar);ae(()=>{se(Rr,pe()),se(Ht,Ie())}),W(Pe,Ee)});var We=U(Ce,2),tt=H(We),rt=U(H(tt));Et(rt,5,()=>(b(h),j(()=>Object.entries(b(h).labels).sort(([Pe],[De])=>Pe.localeCompare(De)))),yt,(Pe,De)=>{var $e=Gi(()=>qi(b(De),2));let pe=()=>b($e)[0],Ie=()=>b($e)[1];var Ee=nc(),je=H(Ee),Rr=H(je),Ar=U(je),Ht=H(Ar);ae(()=>{se(Rr,pe()),se(Ht,Ie())}),W(Pe,Ee)}),W(ce,ue)};te(Ln,ce=>{b(h),j(()=>b(h).env||b(h).labels)&&ce(Dn)})}ae((ce,ue,ye,Oe)=>{se(P,`#${ce??""}`),se(K,ue),se(M,(b(h),j(()=>b(h).command))),se(Re,` ${b(L)??""}`),se(at,` ${ye??""}`),se(vi,(b(h),j(()=>b(h).crashes))),se(kn,Oe)},[()=>(b(h),j(()=>b(h).id.substring(0,12))),()=>(b(h),j(()=>b(h).name.replace(/^\//,""))),()=>(Be(At),b(h),j(()=>At(b(h).created_at))),()=>(b(h),j(()=>b(h).status.charAt(0).toUpperCase()+b(h).status.slice(1).toLowerCase()))]),W(r,s)};te(_,r=>{b(u)?r(e):r(n,!1)})}W(i,S),nt()}function hc({onlyFirst:i=!1}={}){const E="(?:\\u001B\\][\\s\\S]*?(?:\\u0007|\\u001B\\u005C|\\u009C))|[\\u001B\\u009B][[\\]()#;?]*(?:\\d{1,4}(?:[;:]\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]";return new RegExp(E,i?void 0:"g")}const dc=hc();function uc(i){if(typeof i!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof i}\``);return i.replace(dc,"")}var fc=X('<div class="d-flex align-items-center"><strong>Loading...</strong> <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div></div>'),_c=X("<p>No Log Output yet ...</p>"),vc=X('<time class="me-1 px-1 svelte-owxx4o"><!></time>'),pc=X('<span class="pe-3 svelte-owxx4o"><!><span class="pe-3"> </span></span>'),gc=X('<div class="d-flex justify-content-between align-items-center mb-2"><div><select class="form-select"><option>hide timestamps</option><option>local timestamps</option><option>raw timestamps</option></select></div> <div><button type="button" class="btn mx-1" title="Scroll to Top"><!></button> <button type="button" class="btn mx-1" title="Scroll to Bottom"><!></button> <button type="button" class="btn mx-1" title="Download shown log lines"><!></button> <button type="button" class="btn mx-1" title="Fullscreen"><!></button></div></div> <pre class="mb-0 svelte-owxx4o"></pre>',1),mc=X("<div><!></div>");function Sc(i,l){st(l,!1);let f=he(l,"container_id",8),y,E=le(),L,k=le(!0),t=le([]),o=le("local");Gr(()=>{f()!==y&&(y=f(),J(k,!0),J(t,[]),f()&&ne.send("get_container_logs",{container_id:f()}))}),vt(()=>{ne.register("get_container_logs",e=>{if(J(k,!1),e?.length>0){let n=!b(t)||b(E)&&b(E).scrollTop>=b(E).scrollHeight-b(E).clientHeight;const r=b(t).length+e.length;r>5e3&&b(t).slice(r-5e3),b(t).push(...e.map(s=>uc(s))),n&&Wi().then(()=>pi(E,b(E).scrollTop=b(E).scrollHeight))}},e=>Le.add({text:e,type:"error"})),L=setInterval(()=>{ne.send("get_container_logs",{container_id:f(),onlynew:!0})},3e3)}),er(()=>{clearInterval(L),ne.unregister("get_container_logs")});function a(){b(E)?.requestFullscreen&&b(E).requestFullscreen({navigationUI:"show"})}function u(){fn(new Blob(b(t),{type:"text/plain"}),f()+".log")}function c(e){return new Date(e).toLocaleDateString(void 0,{weekday:"short",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}ut();var h=mc(),p=H(h);{var S=e=>{var n=fc();W(e,n)},_=e=>{var n=Ue(),r=ve(n);{var s=g=>{var m=_c();W(g,m)},d=g=>{var m=gc(),w=ve(m),v=H(w),C=H(v);ae(()=>{b(o),Fo(()=>{})});var R=H(C);R.value=R.__value="off";var B=U(R);B.value=B.__value="local";var P=U(B);P.value=P.__value="raw";var A=U(v,2),N=H(A),K=H(N);de(K,{get icon(){return Pa},size:"lg",color:"#666"});var V=U(N,2),ee=H(V);de(ee,{get icon(){return ll},size:"lg",color:"#666"});var G=U(V,2),x=H(G);de(x,{get icon(){return ol},size:"lg",color:"#666"});var T=U(G,2),M=H(T);de(M,{get icon(){return ln},size:"lg",color:"#666"});var O=U(w,2);Et(O,5,()=>b(t),yt,(F,q)=>{const Y=Lt(()=>(b(q),j(()=>b(q).substring(0,b(q).indexOf(" "))))),re=Lt(()=>(b(q),j(()=>b(q).substring(b(q).indexOf(" ")+1))));var I=pc(),D=H(I);{var z=Z=>{var oe=vc(),fe=H(oe);{var _e=ie=>{var Ae=Ct();ae(Ge=>se(Ae,Ge),[()=>(Be(b(Y)),j(()=>c(b(Y))))]),W(ie,Ae)},Re=ie=>{var Ae=Ct();ae(()=>se(Ae,b(Y))),W(ie,Ae)};te(fe,ie=>{b(o)==="local"?ie(_e):ie(Re,!1)})}ae(()=>Fe(oe,"datetime",b(Y))),W(Z,oe)};te(D,Z=>{b(o)!=="off"&&Z(z)})}var $=U(D),Q=H($);ae(()=>se(Q,b(re))),W(F,I)}),_i(O,F=>J(E,F),()=>b(E)),la(C,()=>b(o),F=>J(o,F)),ge("click",N,()=>pi(E,b(E).scrollTop=0)),ge("click",V,()=>pi(E,b(E).scrollTop=b(E).scrollHeight)),ge("click",G,u),ge("click",T,a),W(g,m)};te(r,g=>{b(t),j(()=>b(t).length===0)?g(s):g(d,!1)},!0)}W(e,n)};te(p,e=>{b(k)?e(S):e(_,!1)})}W(i,h),nt()}var bc=X('<div class="dropdown"><button type="button"><!></button> <ul class="dropdown-menu svelte-wpr3yy"><!></ul></div>');function ds(i,l){let f=he(l,"btnClass",8,"secondary");var y=bc(),E=H(y),L=H(E);ni(L,l,"button",{},o=>{de(o,{get icon(){return $a}})});var k=U(E,2),t=H(k);ni(t,l,"default",{},null),ae(()=>Qe(E,1,`btn btn-${f()??""} dropdown-toggle`,"svelte-wpr3yy")),W(i,y)}var wc=X('<li><button type="button"><!></button></li>');function Si(i,l){let f=he(l,"active",8,!1);var y=wc(),E=H(y);let L;var k=H(E);ni(k,l,"default",{},null),ae(()=>L=Qe(E,1,"dropdown-item",null,L,{active:f()})),ge("click",E,function(t){fa.call(this,l,t)}),W(i,y)}var Cc=X('<div class="d-flex align-items-center"><strong>Loading...</strong> <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div></div>'),yc=X('<button type="button" class="btn btn-outline-primary"><!></button>'),Ec=X('<button type="button" class="btn btn-secondary border-dark"> </button>'),xc=X("<!> <!>",1),kc=X('<span slot="button" class="me-1"><!> Add</span>'),Lc=X('<!> <input type="file" style="display: none"/>',1),Dc=X('<span class="badge bg-warning ms-2">readonly</span>'),Rc=X('<div class="d-flex justify-content-between align-items-center"><span> </span> <span><!> <span class="badge bg-secondary ms-2"> </span></span></div>'),Ac=X('<span slot="button" class="me-1"><!> Volumes</span>'),Tc=X('<div class="ms-4"><!></div>'),Bc=X('<tr><td><!> <wbr/> </td><td class="text-end" style="word-break: break-all"><!></td><td class="text-center"> <wbr/> </td><td class="text-center"> </td><td class="text-center font-monospace" style="word-break: break-all"> </td></tr>'),Mc=X('<div class="d-flex justify-content-between align-items-center"><div class="d-flex"><div class="btn-group me-1"><!> <button type="button" class="btn btn-outline-primary"><!></button></div> <div class="btn-group mx-2" role="group"></div></div> <div class="d-flex"><!> <!></div></div> <table class="table table-hover"><thead><tr><th scope="col">Name</th><th scope="col" class="text-end">Size</th><th scope="col" class="text-center">Owner</th><th scope="col" class="text-center">Modified</th><th scope="col" class="text-center">Permissions</th></tr></thead><tbody></tbody></table>',1),Oc=X('<div style="overflow-x:auto"><!></div>');function Pc(i,l){st(l,!1);const f=le();let y=he(l,"container_id",8),E=he(l,"allow_download",8),L=he(l,"allow_upload",8),k=le(),t=le(!0),o,a=le("/"),u=le(null),c=le(null);Gr(()=>{y()!==o&&(o=y(),J(t,!0),J(a,"/"),J(u,null),J(c,null),y()&&ne.send("get_filesystem_info",{container_id:y()}))}),vt(()=>{ne.register("get_filesystem_info",g=>{p(g.workdir),J(c,g)},g=>Le.add({text:g,type:"error"})),ne.register("get_directory_list",g=>{window.scrollTo({top:0,behavior:"smooth"}),J(u,g.entries),J(a,g.path),J(t,!1)},g=>{Le.add({text:g,type:"error"}),J(u,null),J(t,!1)}),ne.register("download_file",g=>{fn(g.blob,g.payload.path.split("/").pop())},g=>Le.add({text:g,type:"error"})),ne.register("create_folder",()=>{p(b(a))},g=>Le.add({text:g,type:"error"})),ne.register("upload_file",()=>{p(b(a))},g=>Le.add({text:g,type:"error"}))}),er(()=>{ne.unregister("get_filesystem_info"),ne.unregister("get_directory_list"),ne.unregister("create_folder"),ne.unregister("upload_file"),ne.unregister("download_file")});function h(g){let m=b(a);m.endsWith("/")||(m+="/"),m+=g,p(m)}function p(g){J(a,g),ne.send("get_directory_list",{container_id:y(),path:g}),J(t,!0),J(u,null)}function S(g){E()&&ne.send("download_file",{container_id:y(),path:`${b(a)}/${g}`})}function _(){const g=prompt("Folder name:");g&&ne.send("create_folder",{container_id:y(),path:`${b(a)}/${g}`})}async function e(){const g=w=>new Promise((v,C)=>{const R=new FileReader;R.readAsDataURL(w),R.onload=()=>v(R.result.split(",")[1]),R.onerror=B=>C(B)}),m=b(k).files?.[0];m&&confirm(`Upload file "${m.name}"?`)&&ne.send("upload_file",{container_id:y(),path:`${b(a)}/${m.name}`,content:await g(m)})}Bt(()=>b(a),()=>{J(f,()=>{const g=[],m=b(a).split("/");let w="";for(const v of m)v&&(w+="/"+v,g.push({segment:v,totalPath:w}));return g.unshift({segment:"/",totalPath:"/"}),g})}),Kr(),ut();var n=Oc(),r=H(n);{var s=g=>{var m=Cc();W(g,m)},d=g=>{var m=Mc(),w=ve(m),v=H(w),C=H(v),R=H(C);{var B=O=>{var F=yc(),q=H(F);de(q,{get icon(){return Za}}),ge("click",F,()=>p(b(c).workdir)),W(O,F)};te(R,O=>{b(c)&&O(B)})}var P=U(R,2),A=H(P);de(A,{get icon(){return dn}});var N=U(C,2);Et(N,5,()=>(b(f),j(()=>b(f)())),yt,(O,F)=>{var q=Ec(),Y=H(q);ae(()=>se(Y,(b(F),j(()=>b(F).segment||"/")))),ge("click",q,()=>p(b(F).totalPath)),W(O,q)});var K=U(v,2),V=H(K);{var ee=O=>{var F=Lc(),q=ve(F);ds(q,{btnClass:"outline-primary",children:(re,I)=>{var D=xc(),z=ve(D);Si(z,{$$events:{click:_},children:(Q,Z)=>{var oe=Ct("Add Folder");W(Q,oe)},$$slots:{default:!0}});var $=U(z,2);Si($,{$$events:{click:()=>b(k).click()},children:(Q,Z)=>{var oe=Ct("Upload File");W(Q,oe)},$$slots:{default:!0}}),W(re,D)},$$slots:{default:!0,button:(re,I)=>{var D=kc(),z=H(D);de(z,{get icon(){return cl}}),W(re,D)}}});var Y=U(q,2);_i(Y,re=>J(k,re),()=>b(k)),ge("change",Y,e),W(O,F)};te(V,O=>{L()&&O(ee)})}var G=U(V,2);{var x=O=>{var F=Tc(),q=H(F);ds(q,{children:(Y,re)=>{var I=Ue(),D=ve(I);Et(D,1,()=>(b(c),j(()=>b(c).mounts)),yt,(z,$)=>{Si(z,{$$events:{click:()=>p(b($).destination)},children:(Q,Z)=>{var oe=Rc(),fe=H(oe),_e=H(fe),Re=U(fe,2),ie=H(Re);{var Ae=Me=>{var He=Dc();W(Me,He)};te(ie,Me=>{b($),j(()=>b($).readonly)&&Me(Ae)})}var Ge=U(ie,2),xt=H(Ge);ae(()=>{se(_e,(b($),j(()=>b($).destination))),se(xt,(b($),j(()=>b($).type)))}),W(Q,oe)},$$slots:{default:!0}})}),W(Y,I)},$$slots:{default:!0,button:(Y,re)=>{var I=Ac(),D=H(I);de(D,{get icon(){return Ta}}),W(Y,I)}}}),W(O,F)};te(G,O=>{b(c),j(()=>b(c)&&b(c).mounts?.length>0)&&O(x)})}var T=U(w,2),M=U(H(T));Et(M,5,()=>b(u)||[],yt,(O,F)=>{var q=Bc();let Y;var re=H(q),I=H(re);{var D=Me=>{de(Me,{get icon(){return za},size:"lg",color:"#3B6"})},z=Me=>{var He=Ue(),Te=ve(He);{var ot=Ze=>{de(Ze,{get icon(){return qa},size:"lg",color:"#36B"})},Xe=Ze=>{var et=Ue(),Ne=ve(et);{var pt=ze=>{de(ze,{get icon(){return el},size:"lg",color:"#B36"})},at=ze=>{var Se=Ct();ae(()=>se(Se,(b(F),j(()=>b(F).type)))),W(ze,Se)};te(Ne,ze=>{b(F),j(()=>b(F).type==="l")?ze(pt):ze(at,!1)},!0)}W(Ze,et)};te(Te,Ze=>{b(F),j(()=>b(F).type==="f")?Ze(ot):Ze(Xe,!1)},!0)}W(Me,He)};te(I,Me=>{b(F),j(()=>b(F).type==="d")?Me(D):Me(z,!1)})}var $=U(I,3),Q=U(re),Z=H(Q);{var oe=Me=>{var He=Ct();ae(()=>se(He,(b(F),j(()=>b(F).filesize)))),W(Me,He)};te(Z,Me=>{b(F),j(()=>b(F).type==="f")&&Me(oe)})}var fe=U(Q),_e=H(fe),Re=U(_e,2,!0),ie=U(fe),Ae=H(ie),Ge=U(ie),xt=H(Ge);ae(()=>{Y=Qe(q,1,"svelte-lni8ht",null,Y,{clickable:b(F).type==="d"||E()}),se($,` ${b(F),j(()=>b(F).name)??""}`),se(_e,`${b(F),j(()=>b(F).owner)??""} `),se(Re,(b(F),j(()=>b(F).group))),se(Ae,(b(F),j(()=>b(F).modtime))),se(xt,(b(F),j(()=>b(F).permissions)))}),ge("click",q,()=>b(F).type==="d"?h(b(F).name):S(b(F).name)),W(O,q)}),ge("click",P,()=>p(b(a))),W(g,m)};te(r,g=>{b(t)?g(s):g(d,!1)})}W(i,n),nt()}var Ic=X('<div class="d-flex align-items-center"><strong>Loading...</strong> <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div></div>'),Hc=X('<div style="width: 2rem" class="me-2 d-flex justify-content-end align-items-center"><!></div>'),Fc=X('<tr><td class="text-end"> </td><td class="text-end"><!></td><td class="text-end"><!></td><td class="text-center"> </td><td class="text-center"> </td><td class="text-start"><div class="d-flex"><!> <div class="font-monospace"> </div></div></td></tr>'),Nc=X('<table class="table table-striped"><thead><tr><th scope="col" class="text-end" title="Process ID">PID</th><th scope="col" class="text-end" title="Processor Usage">CPU</th><th scope="col" class="text-end">Memory</th><th scope="col" class="text-center">Started At</th><th scope="col" class="text-center">User</th><th scope="col" class="text-start">Command</th></tr></thead><tbody></tbody></table>'),zc=X('<div style="overflow-x:auto"><!></div>');function Wc(i,l){st(l,!1);let f=he(l,"container_id",8),y,E,L=le(!0),k=le(null);Gr(()=>{f()!==y&&(y=f(),J(L,!0),J(k,null),f()&&ne.send("get_processes",{container_id:f()}))}),vt(()=>{ne.register("get_processes",h=>{J(k,h),J(L,!1)},h=>Le.add({text:h,type:"error"})),E=setInterval(()=>{ne.send("get_processes",{container_id:f()})},3e3)}),er(()=>{clearInterval(E),ne.unregister("get_processes")});function t(h,p){return h??p}ut();var o=zc(),a=H(o);{var u=h=>{var p=Ic();W(h,p)},c=h=>{var p=Nc(),S=U(H(p));Et(S,5,()=>b(k)||[],yt,(_,e)=>{var n=Fc(),r=H(n),s=H(r),d=U(r),g=H(d);{var m=x=>{var T=Ct();ae(()=>se(T,`${b(e),j(()=>b(e)["%cpu"])??""}%`)),W(x,T)};te(g,x=>{b(e),j(()=>t(b(e)["%cpu"],null))&&x(m)})}var w=U(d),v=H(w);{var C=x=>{var T=Ct();ae(()=>se(T,`${b(e),j(()=>b(e)["%mem"])??""}%`)),W(x,T)};te(v,x=>{b(e),j(()=>t(b(e)["%mem"],null))&&x(C)})}var R=U(w),B=H(R),P=U(R),A=H(P),N=U(P),K=H(N),V=H(K);Et(V,1,()=>(b(e),j(()=>Array(b(e).level))),yt,(x,T,M)=>{var O=Hc(),F=H(O);{var q=Y=>{de(Y,{get icon(){return Ya},rotate:90})};te(F,Y=>{b(e),j(()=>parseInt(b(e).level)===M+1)&&Y(q)})}W(x,O)});var ee=U(V,2),G=H(ee);ae((x,T)=>{se(s,(b(e),j(()=>b(e).pid))),se(B,x),se(A,T),se(G,(b(e),j(()=>b(e).command)))},[()=>(b(e),j(()=>t(b(e).stime,""))),()=>(b(e),j(()=>t(b(e).user,"")))]),W(_,n)}),W(h,p)};te(a,h=>{b(L)?h(u):h(c,!1)})}W(i,o),nt()}var bi={exports:{}},us;function $c(){return us||(us=1,(function(i,l){(function(f,y){i.exports=y()})(globalThis,(()=>(()=>{var f={4567:function(k,t,o){var a=this&&this.__decorate||function(r,s,d,g){var m,w=arguments.length,v=w<3?s:g===null?g=Object.getOwnPropertyDescriptor(s,d):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(r,s,d,g);else for(var C=r.length-1;C>=0;C--)(m=r[C])&&(v=(w<3?m(v):w>3?m(s,d,v):m(s,d))||v);return w>3&&v&&Object.defineProperty(s,d,v),v},u=this&&this.__param||function(r,s){return function(d,g){s(d,g,r)}};Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibilityManager=void 0;const c=o(9042),h=o(9924),p=o(844),S=o(4725),_=o(2585),e=o(3656);let n=t.AccessibilityManager=class extends p.Disposable{constructor(r,s,d,g){super(),this._terminal=r,this._coreBrowserService=d,this._renderService=g,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let m=0;m<this._terminal.rows;m++)this._rowElements[m]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[m]);if(this._topBoundaryFocusListener=m=>this._handleBoundaryFocus(m,0),this._bottomBoundaryFocusListener=m=>this._handleBoundaryFocus(m,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new h.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((m=>this._handleResize(m.rows)))),this.register(this._terminal.onRender((m=>this._refreshRows(m.start,m.end)))),this.register(this._terminal.onScroll((()=>this._refreshRows()))),this.register(this._terminal.onA11yChar((m=>this._handleChar(m)))),this.register(this._terminal.onLineFeed((()=>this._handleChar(`
`)))),this.register(this._terminal.onA11yTab((m=>this._handleTab(m)))),this.register(this._terminal.onKey((m=>this._handleKey(m.key)))),this.register(this._terminal.onBlur((()=>this._clearLiveRegion()))),this.register(this._renderService.onDimensionsChange((()=>this._refreshRowsDimensions()))),this.register((0,e.addDisposableDomListener)(document,"selectionchange",(()=>this._handleSelectionChange()))),this.register(this._coreBrowserService.onDprChange((()=>this._refreshRowsDimensions()))),this._refreshRows(),this.register((0,p.toDisposable)((()=>{this._accessibilityContainer.remove(),this._rowElements.length=0})))}_handleTab(r){for(let s=0;s<r;s++)this._handleChar(" ")}_handleChar(r){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==r&&(this._charsToAnnounce+=r):this._charsToAnnounce+=r,r===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=c.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(r){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(r)||this._charsToConsume.push(r)}_refreshRows(r,s){this._liveRegionDebouncer.refresh(r,s,this._terminal.rows)}_renderRows(r,s){const d=this._terminal.buffer,g=d.lines.length.toString();for(let m=r;m<=s;m++){const w=d.lines.get(d.ydisp+m),v=[],C=w?.translateToString(!0,void 0,void 0,v)||"",R=(d.ydisp+m+1).toString(),B=this._rowElements[m];B&&(C.length===0?(B.innerText="Â ",this._rowColumns.set(B,[0,1])):(B.textContent=C,this._rowColumns.set(B,v)),B.setAttribute("aria-posinset",R),B.setAttribute("aria-setsize",g))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(r,s){const d=r.target,g=this._rowElements[s===0?1:this._rowElements.length-2];if(d.getAttribute("aria-posinset")===(s===0?"1":`${this._terminal.buffer.lines.length}`)||r.relatedTarget!==g)return;let m,w;if(s===0?(m=d,w=this._rowElements.pop(),this._rowContainer.removeChild(w)):(m=this._rowElements.shift(),w=d,this._rowContainer.removeChild(m)),m.removeEventListener("focus",this._topBoundaryFocusListener),w.removeEventListener("focus",this._bottomBoundaryFocusListener),s===0){const v=this._createAccessibilityTreeNode();this._rowElements.unshift(v),this._rowContainer.insertAdjacentElement("afterbegin",v)}else{const v=this._createAccessibilityTreeNode();this._rowElements.push(v),this._rowContainer.appendChild(v)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(s===0?-1:1),this._rowElements[s===0?1:this._rowElements.length-2].focus(),r.preventDefault(),r.stopImmediatePropagation()}_handleSelectionChange(){if(this._rowElements.length===0)return;const r=document.getSelection();if(!r)return;if(r.isCollapsed)return void(this._rowContainer.contains(r.anchorNode)&&this._terminal.clearSelection());if(!r.anchorNode||!r.focusNode)return void console.error("anchorNode and/or focusNode are null");let s={node:r.anchorNode,offset:r.anchorOffset},d={node:r.focusNode,offset:r.focusOffset};if((s.node.compareDocumentPosition(d.node)&Node.DOCUMENT_POSITION_PRECEDING||s.node===d.node&&s.offset>d.offset)&&([s,d]=[d,s]),s.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(s={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(s.node))return;const g=this._rowElements.slice(-1)[0];if(d.node.compareDocumentPosition(g)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(d={node:g,offset:g.textContent?.length??0}),!this._rowContainer.contains(d.node))return;const m=({node:C,offset:R})=>{const B=C instanceof Text?C.parentNode:C;let P=parseInt(B?.getAttribute("aria-posinset"),10)-1;if(isNaN(P))return console.warn("row is invalid. Race condition?"),null;const A=this._rowColumns.get(B);if(!A)return console.warn("columns is null. Race condition?"),null;let N=R<A.length?A[R]:A.slice(-1)[0]+1;return N>=this._terminal.cols&&(++P,N=0),{row:P,column:N}},w=m(s),v=m(d);if(w&&v){if(w.row>v.row||w.row===v.row&&w.column>=v.column)throw new Error("invalid range");this._terminal.select(w.column,w.row,(v.row-w.row)*this._terminal.cols-w.column+v.column)}}_handleResize(r){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let s=this._rowContainer.children.length;s<this._terminal.rows;s++)this._rowElements[s]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[s]);for(;this._rowElements.length>r;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const r=this._coreBrowserService.mainDocument.createElement("div");return r.setAttribute("role","listitem"),r.tabIndex=-1,this._refreshRowDimensions(r),r}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let r=0;r<this._terminal.rows;r++)this._refreshRowDimensions(this._rowElements[r])}}_refreshRowDimensions(r){r.style.height=`${this._renderService.dimensions.css.cell.height}px`}};t.AccessibilityManager=n=a([u(1,_.IInstantiationService),u(2,S.ICoreBrowserService),u(3,S.IRenderService)],n)},3614:(k,t)=>{function o(h){return h.replace(/\r?\n/g,"\r")}function a(h,p){return p?"\x1B[200~"+h+"\x1B[201~":h}function u(h,p,S,_){h=a(h=o(h),S.decPrivateModes.bracketedPasteMode&&_.rawOptions.ignoreBracketedPasteMode!==!0),S.triggerDataEvent(h,!0),p.value=""}function c(h,p,S){const _=S.getBoundingClientRect(),e=h.clientX-_.left-10,n=h.clientY-_.top-10;p.style.width="20px",p.style.height="20px",p.style.left=`${e}px`,p.style.top=`${n}px`,p.style.zIndex="1000",p.focus()}Object.defineProperty(t,"__esModule",{value:!0}),t.rightClickHandler=t.moveTextAreaUnderMouseCursor=t.paste=t.handlePasteEvent=t.copyHandler=t.bracketTextForPaste=t.prepareTextForTerminal=void 0,t.prepareTextForTerminal=o,t.bracketTextForPaste=a,t.copyHandler=function(h,p){h.clipboardData&&h.clipboardData.setData("text/plain",p.selectionText),h.preventDefault()},t.handlePasteEvent=function(h,p,S,_){h.stopPropagation(),h.clipboardData&&u(h.clipboardData.getData("text/plain"),p,S,_)},t.paste=u,t.moveTextAreaUnderMouseCursor=c,t.rightClickHandler=function(h,p,S,_,e){c(h,p,S),e&&_.rightClickSelect(h),p.value=_.selectionText,p.select()}},7239:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorContrastCache=void 0;const a=o(1505);t.ColorContrastCache=class{constructor(){this._color=new a.TwoKeyMap,this._css=new a.TwoKeyMap}setCss(u,c,h){this._css.set(u,c,h)}getCss(u,c){return this._css.get(u,c)}setColor(u,c,h){this._color.set(u,c,h)}getColor(u,c){return this._color.get(u,c)}clear(){this._color.clear(),this._css.clear()}}},3656:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addDisposableDomListener=void 0,t.addDisposableDomListener=function(o,a,u,c){o.addEventListener(a,u,c);let h=!1;return{dispose:()=>{h||(h=!0,o.removeEventListener(a,u,c))}}}},3551:function(k,t,o){var a=this&&this.__decorate||function(n,r,s,d){var g,m=arguments.length,w=m<3?r:d===null?d=Object.getOwnPropertyDescriptor(r,s):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(n,r,s,d);else for(var v=n.length-1;v>=0;v--)(g=n[v])&&(w=(m<3?g(w):m>3?g(r,s,w):g(r,s))||w);return m>3&&w&&Object.defineProperty(r,s,w),w},u=this&&this.__param||function(n,r){return function(s,d){r(s,d,n)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Linkifier=void 0;const c=o(3656),h=o(8460),p=o(844),S=o(2585),_=o(4725);let e=t.Linkifier=class extends p.Disposable{get currentLink(){return this._currentLink}constructor(n,r,s,d,g){super(),this._element=n,this._mouseService=r,this._renderService=s,this._bufferService=d,this._linkProviderService=g,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new h.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new h.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,p.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,p.toDisposable)((()=>{this._lastMouseEvent=void 0,this._activeProviderReplies?.clear()}))),this.register(this._bufferService.onResize((()=>{this._clearCurrentLink(),this._wasResized=!0}))),this.register((0,c.addDisposableDomListener)(this._element,"mouseleave",(()=>{this._isMouseOut=!0,this._clearCurrentLink()}))),this.register((0,c.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,c.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,c.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(n){this._lastMouseEvent=n;const r=this._positionFromMouseEvent(n,this._element,this._mouseService);if(!r)return;this._isMouseOut=!1;const s=n.composedPath();for(let d=0;d<s.length;d++){const g=s[d];if(g.classList.contains("xterm"))break;if(g.classList.contains("xterm-hover"))return}this._lastBufferCell&&r.x===this._lastBufferCell.x&&r.y===this._lastBufferCell.y||(this._handleHover(r),this._lastBufferCell=r)}_handleHover(n){if(this._activeLine!==n.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(n,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,n)||(this._clearCurrentLink(),this._askForLink(n,!0))}_askForLink(n,r){this._activeProviderReplies&&r||(this._activeProviderReplies?.forEach((d=>{d?.forEach((g=>{g.link.dispose&&g.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=n.y);let s=!1;for(const[d,g]of this._linkProviderService.linkProviders.entries())r?this._activeProviderReplies?.get(d)&&(s=this._checkLinkProviderResult(d,n,s)):g.provideLinks(n.y,(m=>{if(this._isMouseOut)return;const w=m?.map((v=>({link:v})));this._activeProviderReplies?.set(d,w),s=this._checkLinkProviderResult(d,n,s),this._activeProviderReplies?.size===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(n.y,this._activeProviderReplies)}))}_removeIntersectingLinks(n,r){const s=new Set;for(let d=0;d<r.size;d++){const g=r.get(d);if(g)for(let m=0;m<g.length;m++){const w=g[m],v=w.link.range.start.y<n?0:w.link.range.start.x,C=w.link.range.end.y>n?this._bufferService.cols:w.link.range.end.x;for(let R=v;R<=C;R++){if(s.has(R)){g.splice(m--,1);break}s.add(R)}}}}_checkLinkProviderResult(n,r,s){if(!this._activeProviderReplies)return s;const d=this._activeProviderReplies.get(n);let g=!1;for(let m=0;m<n;m++)this._activeProviderReplies.has(m)&&!this._activeProviderReplies.get(m)||(g=!0);if(!g&&d){const m=d.find((w=>this._linkAtPosition(w.link,r)));m&&(s=!0,this._handleNewLink(m))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!s)for(let m=0;m<this._activeProviderReplies.size;m++){const w=this._activeProviderReplies.get(m)?.find((v=>this._linkAtPosition(v.link,r)));if(w){s=!0,this._handleNewLink(w);break}}return s}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(n){if(!this._currentLink)return;const r=this._positionFromMouseEvent(n,this._element,this._mouseService);r&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,r)&&this._currentLink.link.activate(n,this._currentLink.link.text)}_clearCurrentLink(n,r){this._currentLink&&this._lastMouseEvent&&(!n||!r||this._currentLink.link.range.start.y>=n&&this._currentLink.link.range.end.y<=r)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,p.disposeArray)(this._linkCacheDisposables))}_handleNewLink(n){if(!this._lastMouseEvent)return;const r=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);r&&this._linkAtPosition(n.link,r)&&(this._currentLink=n,this._currentLink.state={decorations:{underline:n.link.decorations===void 0||n.link.decorations.underline,pointerCursor:n.link.decorations===void 0||n.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,n.link,this._lastMouseEvent),n.link.decorations={},Object.defineProperties(n.link.decorations,{pointerCursor:{get:()=>this._currentLink?.state?.decorations.pointerCursor,set:s=>{this._currentLink?.state&&this._currentLink.state.decorations.pointerCursor!==s&&(this._currentLink.state.decorations.pointerCursor=s,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",s))}},underline:{get:()=>this._currentLink?.state?.decorations.underline,set:s=>{this._currentLink?.state&&this._currentLink?.state?.decorations.underline!==s&&(this._currentLink.state.decorations.underline=s,this._currentLink.state.isHovered&&this._fireUnderlineEvent(n.link,s))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((s=>{if(!this._currentLink)return;const d=s.start===0?0:s.start+1+this._bufferService.buffer.ydisp,g=this._bufferService.buffer.ydisp+1+s.end;if(this._currentLink.link.range.start.y>=d&&this._currentLink.link.range.end.y<=g&&(this._clearCurrentLink(d,g),this._lastMouseEvent)){const m=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);m&&this._askForLink(m,!1)}}))))}_linkHover(n,r,s){this._currentLink?.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(r,!0),this._currentLink.state.decorations.pointerCursor&&n.classList.add("xterm-cursor-pointer")),r.hover&&r.hover(s,r.text)}_fireUnderlineEvent(n,r){const s=n.range,d=this._bufferService.buffer.ydisp,g=this._createLinkUnderlineEvent(s.start.x-1,s.start.y-d-1,s.end.x,s.end.y-d-1,void 0);(r?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(g)}_linkLeave(n,r,s){this._currentLink?.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(r,!1),this._currentLink.state.decorations.pointerCursor&&n.classList.remove("xterm-cursor-pointer")),r.leave&&r.leave(s,r.text)}_linkAtPosition(n,r){const s=n.range.start.y*this._bufferService.cols+n.range.start.x,d=n.range.end.y*this._bufferService.cols+n.range.end.x,g=r.y*this._bufferService.cols+r.x;return s<=g&&g<=d}_positionFromMouseEvent(n,r,s){const d=s.getCoords(n,r,this._bufferService.cols,this._bufferService.rows);if(d)return{x:d[0],y:d[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(n,r,s,d,g){return{x1:n,y1:r,x2:s,y2:d,cols:this._bufferService.cols,fg:g}}};t.Linkifier=e=a([u(1,_.IMouseService),u(2,_.IRenderService),u(3,S.IBufferService),u(4,_.ILinkProviderService)],e)},9042:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tooMuchOutput=t.promptLabel=void 0,t.promptLabel="Terminal input",t.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(k,t,o){var a=this&&this.__decorate||function(_,e,n,r){var s,d=arguments.length,g=d<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(_,e,n,r);else for(var m=_.length-1;m>=0;m--)(s=_[m])&&(g=(d<3?s(g):d>3?s(e,n,g):s(e,n))||g);return d>3&&g&&Object.defineProperty(e,n,g),g},u=this&&this.__param||function(_,e){return function(n,r){e(n,r,_)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OscLinkProvider=void 0;const c=o(511),h=o(2585);let p=t.OscLinkProvider=class{constructor(_,e,n){this._bufferService=_,this._optionsService=e,this._oscLinkService=n}provideLinks(_,e){const n=this._bufferService.buffer.lines.get(_-1);if(!n)return void e(void 0);const r=[],s=this._optionsService.rawOptions.linkHandler,d=new c.CellData,g=n.getTrimmedLength();let m=-1,w=-1,v=!1;for(let C=0;C<g;C++)if(w!==-1||n.hasContent(C)){if(n.loadCell(C,d),d.hasExtendedAttrs()&&d.extended.urlId){if(w===-1){w=C,m=d.extended.urlId;continue}v=d.extended.urlId!==m}else w!==-1&&(v=!0);if(v||w!==-1&&C===g-1){const R=this._oscLinkService.getLinkData(m)?.uri;if(R){const B={start:{x:w+1,y:_},end:{x:C+(v||C!==g-1?0:1),y:_}};let P=!1;if(!s?.allowNonHttpProtocols)try{const A=new URL(R);["http:","https:"].includes(A.protocol)||(P=!0)}catch{P=!0}P||r.push({text:R,range:B,activate:(A,N)=>s?s.activate(A,N,B):S(0,N),hover:(A,N)=>s?.hover?.(A,N,B),leave:(A,N)=>s?.leave?.(A,N,B)})}v=!1,d.hasExtendedAttrs()&&d.extended.urlId?(w=C,m=d.extended.urlId):(w=-1,m=-1)}}e(r)}};function S(_,e){if(confirm(`Do you want to navigate to ${e}?

WARNING: This link could potentially be dangerous`)){const n=window.open();if(n){try{n.opener=null}catch{}n.location.href=e}else console.warn("Opening link blocked as opener could not be cleared")}}t.OscLinkProvider=p=a([u(0,h.IBufferService),u(1,h.IOptionsService),u(2,h.IOscLinkService)],p)},6193:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RenderDebouncer=void 0,t.RenderDebouncer=class{constructor(o,a){this._renderCallback=o,this._coreBrowserService=a,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(o){return this._refreshCallbacks.push(o),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh()))),this._animationFrame}refresh(o,a,u){this._rowCount=u,o=o!==void 0?o:0,a=a!==void 0?a:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,o):o,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,a):a,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const o=Math.max(this._rowStart,0),a=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(o,a),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const o of this._refreshCallbacks)o(0);this._refreshCallbacks=[]}}},3236:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Terminal=void 0;const a=o(3614),u=o(3656),c=o(3551),h=o(9042),p=o(3730),S=o(1680),_=o(3107),e=o(5744),n=o(2950),r=o(1296),s=o(428),d=o(4269),g=o(5114),m=o(8934),w=o(3230),v=o(9312),C=o(4725),R=o(6731),B=o(8055),P=o(8969),A=o(8460),N=o(844),K=o(6114),V=o(8437),ee=o(2584),G=o(7399),x=o(5941),T=o(9074),M=o(2585),O=o(5435),F=o(4567),q=o(779);class Y extends P.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(I={}){super(I),this.browser=K,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new N.MutableDisposable),this._onCursorMove=this.register(new A.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new A.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new A.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new A.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new A.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new A.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new A.EventEmitter),this._onBlur=this.register(new A.EventEmitter),this._onA11yCharEmitter=this.register(new A.EventEmitter),this._onA11yTabEmitter=this.register(new A.EventEmitter),this._onWillOpen=this.register(new A.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(T.DecorationService),this._instantiationService.setService(M.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(q.LinkProviderService),this._instantiationService.setService(C.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(p.OscLinkProvider)),this.register(this._inputHandler.onRequestBell((()=>this._onBell.fire()))),this.register(this._inputHandler.onRequestRefreshRows(((D,z)=>this.refresh(D,z)))),this.register(this._inputHandler.onRequestSendFocus((()=>this._reportFocus()))),this.register(this._inputHandler.onRequestReset((()=>this.reset()))),this.register(this._inputHandler.onRequestWindowsOptionsReport((D=>this._reportWindowsOptions(D)))),this.register(this._inputHandler.onColor((D=>this._handleColorEvent(D)))),this.register((0,A.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,A.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,A.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,A.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize((D=>this._afterResize(D.cols,D.rows)))),this.register((0,N.toDisposable)((()=>{this._customKeyEventHandler=void 0,this.element?.parentNode?.removeChild(this.element)})))}_handleColorEvent(I){if(this._themeService)for(const D of I){let z,$="";switch(D.index){case 256:z="foreground",$="10";break;case 257:z="background",$="11";break;case 258:z="cursor",$="12";break;default:z="ansi",$="4;"+D.index}switch(D.type){case 0:const Q=B.color.toColorRGB(z==="ansi"?this._themeService.colors.ansi[D.index]:this._themeService.colors[z]);this.coreService.triggerDataEvent(`${ee.C0.ESC}]${$};${(0,x.toRgbString)(Q)}${ee.C1_ESCAPED.ST}`);break;case 1:if(z==="ansi")this._themeService.modifyColors((Z=>Z.ansi[D.index]=B.channels.toColor(...D.color)));else{const Z=z;this._themeService.modifyColors((oe=>oe[Z]=B.channels.toColor(...D.color)))}break;case 2:this._themeService.restoreColor(D.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(I){I?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(F.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(I){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(ee.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){return this.textarea?.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(ee.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const I=this.buffer.ybase+this.buffer.y,D=this.buffer.lines.get(I);if(!D)return;const z=Math.min(this.buffer.x,this.cols-1),$=this._renderService.dimensions.css.cell.height,Q=D.getWidth(z),Z=this._renderService.dimensions.css.cell.width*Q,oe=this.buffer.y*this._renderService.dimensions.css.cell.height,fe=z*this._renderService.dimensions.css.cell.width;this.textarea.style.left=fe+"px",this.textarea.style.top=oe+"px",this.textarea.style.width=Z+"px",this.textarea.style.height=$+"px",this.textarea.style.lineHeight=$+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,u.addDisposableDomListener)(this.element,"copy",(D=>{this.hasSelection()&&(0,a.copyHandler)(D,this._selectionService)})));const I=D=>(0,a.handlePasteEvent)(D,this.textarea,this.coreService,this.optionsService);this.register((0,u.addDisposableDomListener)(this.textarea,"paste",I)),this.register((0,u.addDisposableDomListener)(this.element,"paste",I)),K.isFirefox?this.register((0,u.addDisposableDomListener)(this.element,"mousedown",(D=>{D.button===2&&(0,a.rightClickHandler)(D,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))):this.register((0,u.addDisposableDomListener)(this.element,"contextmenu",(D=>{(0,a.rightClickHandler)(D,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))),K.isLinux&&this.register((0,u.addDisposableDomListener)(this.element,"auxclick",(D=>{D.button===1&&(0,a.moveTextAreaUnderMouseCursor)(D,this.textarea,this.screenElement)})))}_bindKeys(){this.register((0,u.addDisposableDomListener)(this.textarea,"keyup",(I=>this._keyUp(I)),!0)),this.register((0,u.addDisposableDomListener)(this.textarea,"keydown",(I=>this._keyDown(I)),!0)),this.register((0,u.addDisposableDomListener)(this.textarea,"keypress",(I=>this._keyPress(I)),!0)),this.register((0,u.addDisposableDomListener)(this.textarea,"compositionstart",(()=>this._compositionHelper.compositionstart()))),this.register((0,u.addDisposableDomListener)(this.textarea,"compositionupdate",(I=>this._compositionHelper.compositionupdate(I)))),this.register((0,u.addDisposableDomListener)(this.textarea,"compositionend",(()=>this._compositionHelper.compositionend()))),this.register((0,u.addDisposableDomListener)(this.textarea,"input",(I=>this._inputEvent(I)),!0)),this.register(this.onRender((()=>this._compositionHelper.updateCompositionElements())))}open(I){if(!I)throw new Error("Terminal requires a parent element.");if(I.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this.element?.ownerDocument.defaultView&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=I.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),I.appendChild(this.element);const D=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),D.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,u.addDisposableDomListener)(this.screenElement,"mousemove",(z=>this.updateCursorStyle(z)))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),D.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",h.promptLabel),K.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(g.CoreBrowserService,this.textarea,I.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(C.ICoreBrowserService,this._coreBrowserService),this.register((0,u.addDisposableDomListener)(this.textarea,"focus",(z=>this._handleTextAreaFocus(z)))),this.register((0,u.addDisposableDomListener)(this.textarea,"blur",(()=>this._handleTextAreaBlur()))),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(s.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(C.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(R.ThemeService),this._instantiationService.setService(C.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(d.CharacterJoinerService),this._instantiationService.setService(C.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(w.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(C.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((z=>this._onRender.fire(z)))),this.onResize((z=>this._renderService.resize(z.cols,z.rows))),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(n.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(m.MouseService),this._instantiationService.setService(C.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(c.Linkifier,this.screenElement)),this.element.appendChild(D);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(S.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((z=>this.scrollLines(z.amount,z.suppressScrollEvent,1))),this.register(this._inputHandler.onRequestSyncScrollBar((()=>this.viewport.syncScrollArea()))),this.register(this.viewport),this.register(this.onCursorMove((()=>{this._renderService.handleCursorMove(),this._syncTextArea()}))),this.register(this.onResize((()=>this._renderService.handleResize(this.cols,this.rows)))),this.register(this.onBlur((()=>this._renderService.handleBlur()))),this.register(this.onFocus((()=>this._renderService.handleFocus()))),this.register(this._renderService.onDimensionsChange((()=>this.viewport.syncScrollArea()))),this._selectionService=this.register(this._instantiationService.createInstance(v.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(C.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((z=>this.scrollLines(z.amount,z.suppressScrollEvent)))),this.register(this._selectionService.onSelectionChange((()=>this._onSelectionChange.fire()))),this.register(this._selectionService.onRequestRedraw((z=>this._renderService.handleSelectionChanged(z.start,z.end,z.columnSelectMode)))),this.register(this._selectionService.onLinuxMouseSelection((z=>{this.textarea.value=z,this.textarea.focus(),this.textarea.select()}))),this.register(this._onScroll.event((z=>{this.viewport.syncScrollArea(),this._selectionService.refresh()}))),this.register((0,u.addDisposableDomListener)(this._viewportElement,"scroll",(()=>this._selectionService.refresh()))),this.register(this._instantiationService.createInstance(_.BufferDecorationRenderer,this.screenElement)),this.register((0,u.addDisposableDomListener)(this.element,"mousedown",(z=>this._selectionService.handleMouseDown(z)))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(F.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(z=>this._handleScreenReaderModeOptionChange(z)))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(e.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(z=>{!this._overviewRulerRenderer&&z&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(e.OverviewRulerRenderer,this._viewportElement,this.screenElement)))})),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(r.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const I=this,D=this.element;function z(Z){const oe=I._mouseService.getMouseReportCoords(Z,I.screenElement);if(!oe)return!1;let fe,_e;switch(Z.overrideType||Z.type){case"mousemove":_e=32,Z.buttons===void 0?(fe=3,Z.button!==void 0&&(fe=Z.button<3?Z.button:3)):fe=1&Z.buttons?0:4&Z.buttons?1:2&Z.buttons?2:3;break;case"mouseup":_e=0,fe=Z.button<3?Z.button:3;break;case"mousedown":_e=1,fe=Z.button<3?Z.button:3;break;case"wheel":if(I._customWheelEventHandler&&I._customWheelEventHandler(Z)===!1||I.viewport.getLinesScrolled(Z)===0)return!1;_e=Z.deltaY<0?0:1,fe=4;break;default:return!1}return!(_e===void 0||fe===void 0||fe>4)&&I.coreMouseService.triggerMouseEvent({col:oe.col,row:oe.row,x:oe.x,y:oe.y,button:fe,action:_e,ctrl:Z.ctrlKey,alt:Z.altKey,shift:Z.shiftKey})}const $={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Q={mouseup:Z=>(z(Z),Z.buttons||(this._document.removeEventListener("mouseup",$.mouseup),$.mousedrag&&this._document.removeEventListener("mousemove",$.mousedrag)),this.cancel(Z)),wheel:Z=>(z(Z),this.cancel(Z,!0)),mousedrag:Z=>{Z.buttons&&z(Z)},mousemove:Z=>{Z.buttons||z(Z)}};this.register(this.coreMouseService.onProtocolChange((Z=>{Z?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(Z)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&Z?$.mousemove||(D.addEventListener("mousemove",Q.mousemove),$.mousemove=Q.mousemove):(D.removeEventListener("mousemove",$.mousemove),$.mousemove=null),16&Z?$.wheel||(D.addEventListener("wheel",Q.wheel,{passive:!1}),$.wheel=Q.wheel):(D.removeEventListener("wheel",$.wheel),$.wheel=null),2&Z?$.mouseup||($.mouseup=Q.mouseup):(this._document.removeEventListener("mouseup",$.mouseup),$.mouseup=null),4&Z?$.mousedrag||($.mousedrag=Q.mousedrag):(this._document.removeEventListener("mousemove",$.mousedrag),$.mousedrag=null)}))),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,u.addDisposableDomListener)(D,"mousedown",(Z=>{if(Z.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(Z))return z(Z),$.mouseup&&this._document.addEventListener("mouseup",$.mouseup),$.mousedrag&&this._document.addEventListener("mousemove",$.mousedrag),this.cancel(Z)}))),this.register((0,u.addDisposableDomListener)(D,"wheel",(Z=>{if(!$.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(Z)===!1)return!1;if(!this.buffer.hasScrollback){const oe=this.viewport.getLinesScrolled(Z);if(oe===0)return;const fe=ee.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(Z.deltaY<0?"A":"B");let _e="";for(let Re=0;Re<Math.abs(oe);Re++)_e+=fe;return this.coreService.triggerDataEvent(_e,!0),this.cancel(Z,!0)}return this.viewport.handleWheel(Z)?this.cancel(Z):void 0}}),{passive:!1})),this.register((0,u.addDisposableDomListener)(D,"touchstart",(Z=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(Z),this.cancel(Z)}),{passive:!0})),this.register((0,u.addDisposableDomListener)(D,"touchmove",(Z=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(Z)?void 0:this.cancel(Z)}),{passive:!1}))}refresh(I,D){this._renderService?.refreshRows(I,D)}updateCursorStyle(I){this._selectionService?.shouldColumnSelect(I)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(I,D,z=0){z===1?(super.scrollLines(I,D,z),this.refresh(0,this.rows-1)):this.viewport?.scrollLines(I)}paste(I){(0,a.paste)(I,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(I){this._customKeyEventHandler=I}attachCustomWheelEventHandler(I){this._customWheelEventHandler=I}registerLinkProvider(I){return this._linkProviderService.registerLinkProvider(I)}registerCharacterJoiner(I){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const D=this._characterJoinerService.register(I);return this.refresh(0,this.rows-1),D}deregisterCharacterJoiner(I){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(I)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(I){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+I)}registerDecoration(I){return this._decorationService.registerDecoration(I)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(I,D,z){this._selectionService.setSelection(I,D,z)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){this._selectionService?.clearSelection()}selectAll(){this._selectionService?.selectAll()}selectLines(I,D){this._selectionService?.selectLines(I,D)}_keyDown(I){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(I)===!1)return!1;const D=this.browser.isMac&&this.options.macOptionIsMeta&&I.altKey;if(!D&&!this._compositionHelper.keydown(I))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;D||I.key!=="Dead"&&I.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const z=(0,G.evaluateKeyboardEvent)(I,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(I),z.type===3||z.type===2){const $=this.rows-1;return this.scrollLines(z.type===2?-$:$),this.cancel(I,!0)}return z.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,I)||(z.cancel&&this.cancel(I,!0),!z.key||!!(I.key&&!I.ctrlKey&&!I.altKey&&!I.metaKey&&I.key.length===1&&I.key.charCodeAt(0)>=65&&I.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(z.key!==ee.C0.ETX&&z.key!==ee.C0.CR||(this.textarea.value=""),this._onKey.fire({key:z.key,domEvent:I}),this._showCursor(),this.coreService.triggerDataEvent(z.key,!0),!this.optionsService.rawOptions.screenReaderMode||I.altKey||I.ctrlKey?this.cancel(I,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(I,D){const z=I.isMac&&!this.options.macOptionIsMeta&&D.altKey&&!D.ctrlKey&&!D.metaKey||I.isWindows&&D.altKey&&D.ctrlKey&&!D.metaKey||I.isWindows&&D.getModifierState("AltGraph");return D.type==="keypress"?z:z&&(!D.keyCode||D.keyCode>47)}_keyUp(I){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(I)===!1||((function(D){return D.keyCode===16||D.keyCode===17||D.keyCode===18})(I)||this.focus(),this.updateCursorStyle(I),this._keyPressHandled=!1)}_keyPress(I){let D;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(I)===!1)return!1;if(this.cancel(I),I.charCode)D=I.charCode;else if(I.which===null||I.which===void 0)D=I.keyCode;else{if(I.which===0||I.charCode===0)return!1;D=I.which}return!(!D||(I.altKey||I.ctrlKey||I.metaKey)&&!this._isThirdLevelShift(this.browser,I)||(D=String.fromCharCode(D),this._onKey.fire({key:D,domEvent:I}),this._showCursor(),this.coreService.triggerDataEvent(D,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(I){if(I.data&&I.inputType==="insertText"&&(!I.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const D=I.data;return this.coreService.triggerDataEvent(D,!0),this.cancel(I),!0}return!1}resize(I,D){I!==this.cols||D!==this.rows?super.resize(I,D):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(I,D){this._charSizeService?.measure(),this.viewport?.syncScrollArea(!0)}clear(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let I=1;I<this.rows;I++)this.buffer.lines.push(this.buffer.getBlankLine(V.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),this.viewport?.reset(),this.refresh(0,this.rows-1)}}reset(){this.options.rows=this.rows,this.options.cols=this.cols;const I=this._customKeyEventHandler;this._setup(),super.reset(),this._selectionService?.reset(),this._decorationService.reset(),this.viewport?.reset(),this._customKeyEventHandler=I,this.refresh(0,this.rows-1)}clearTextureAtlas(){this._renderService?.clearTextureAtlas()}_reportFocus(){this.element?.classList.contains("focus")?this.coreService.triggerDataEvent(ee.C0.ESC+"[I"):this.coreService.triggerDataEvent(ee.C0.ESC+"[O")}_reportWindowsOptions(I){if(this._renderService)switch(I){case O.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const D=this._renderService.dimensions.css.canvas.width.toFixed(0),z=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${ee.C0.ESC}[4;${z};${D}t`);break;case O.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const $=this._renderService.dimensions.css.cell.width.toFixed(0),Q=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${ee.C0.ESC}[6;${Q};${$}t`)}}cancel(I,D){if(this.options.cancelEvents||D)return I.preventDefault(),I.stopPropagation(),!1}}t.Terminal=Y},9924:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TimeBasedDebouncer=void 0,t.TimeBasedDebouncer=class{constructor(o,a=1e3){this._renderCallback=o,this._debounceThresholdMS=a,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(o,a,u){this._rowCount=u,o=o!==void 0?o:0,a=a!==void 0?a:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,o):o,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,a):a;const c=Date.now();if(c-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=c,this._innerRefresh();else if(!this._additionalRefreshRequested){const h=c-this._lastRefreshMs,p=this._debounceThresholdMS-h;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout((()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0}),p)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const o=Math.max(this._rowStart,0),a=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(o,a)}}},1680:function(k,t,o){var a=this&&this.__decorate||function(n,r,s,d){var g,m=arguments.length,w=m<3?r:d===null?d=Object.getOwnPropertyDescriptor(r,s):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(n,r,s,d);else for(var v=n.length-1;v>=0;v--)(g=n[v])&&(w=(m<3?g(w):m>3?g(r,s,w):g(r,s))||w);return m>3&&w&&Object.defineProperty(r,s,w),w},u=this&&this.__param||function(n,r){return function(s,d){r(s,d,n)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Viewport=void 0;const c=o(3656),h=o(4725),p=o(8460),S=o(844),_=o(2585);let e=t.Viewport=class extends S.Disposable{constructor(n,r,s,d,g,m,w,v){super(),this._viewportElement=n,this._scrollArea=r,this._bufferService=s,this._optionsService=d,this._charSizeService=g,this._renderService=m,this._coreBrowserService=w,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new p.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,c.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((C=>this._activeBuffer=C.activeBuffer))),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((C=>this._renderDimensions=C))),this._handleThemeChange(v.colors),this.register(v.onChangeColors((C=>this._handleThemeChange(C)))),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.syncScrollArea()))),setTimeout((()=>this.syncScrollArea()))}_handleThemeChange(n){this._viewportElement.style.backgroundColor=n.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame((()=>this.syncScrollArea()))}_refresh(n){if(n)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const r=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==r&&(this._lastRecordedBufferHeight=r,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const n=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==n&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=n),this._refreshAnimationFrame=null}syncScrollArea(n=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(n);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(n)}_handleScroll(n){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const r=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:r,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const n=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(n*(this._smoothScrollState.target-this._smoothScrollState.origin)),n<1?this._coreBrowserService.window.requestAnimationFrame((()=>this._smoothScroll())):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(n,r){const s=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(r<0&&this._viewportElement.scrollTop!==0||r>0&&s<this._lastRecordedBufferHeight)||(n.cancelable&&n.preventDefault(),!1)}handleWheel(n){const r=this._getPixelsScrolled(n);return r!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+r:this._smoothScrollState.target+=r,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=r,this._bubbleScroll(n,r))}scrollLines(n){if(n!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const r=n*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+r,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:n,suppressScrollEvent:!1})}_getPixelsScrolled(n){if(n.deltaY===0||n.shiftKey)return 0;let r=this._applyScrollModifier(n.deltaY,n);return n.deltaMode===WheelEvent.DOM_DELTA_LINE?r*=this._currentRowHeight:n.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(r*=this._currentRowHeight*this._bufferService.rows),r}getBufferElements(n,r){let s,d="";const g=[],m=r??this._bufferService.buffer.lines.length,w=this._bufferService.buffer.lines;for(let v=n;v<m;v++){const C=w.get(v);if(!C)continue;const R=w.get(v+1)?.isWrapped;if(d+=C.translateToString(!R),!R||v===w.length-1){const B=document.createElement("div");B.textContent=d,g.push(B),d.length>0&&(s=B),d=""}}return{bufferElements:g,cursorElement:s}}getLinesScrolled(n){if(n.deltaY===0||n.shiftKey)return 0;let r=this._applyScrollModifier(n.deltaY,n);return n.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(r/=this._currentRowHeight+0,this._wheelPartialScroll+=r,r=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):n.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(r*=this._bufferService.rows),r}_applyScrollModifier(n,r){const s=this._optionsService.rawOptions.fastScrollModifier;return s==="alt"&&r.altKey||s==="ctrl"&&r.ctrlKey||s==="shift"&&r.shiftKey?n*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:n*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(n){this._lastTouchY=n.touches[0].pageY}handleTouchMove(n){const r=this._lastTouchY-n.touches[0].pageY;return this._lastTouchY=n.touches[0].pageY,r!==0&&(this._viewportElement.scrollTop+=r,this._bubbleScroll(n,r))}};t.Viewport=e=a([u(2,_.IBufferService),u(3,_.IOptionsService),u(4,h.ICharSizeService),u(5,h.IRenderService),u(6,h.ICoreBrowserService),u(7,h.IThemeService)],e)},3107:function(k,t,o){var a=this&&this.__decorate||function(_,e,n,r){var s,d=arguments.length,g=d<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(_,e,n,r);else for(var m=_.length-1;m>=0;m--)(s=_[m])&&(g=(d<3?s(g):d>3?s(e,n,g):s(e,n))||g);return d>3&&g&&Object.defineProperty(e,n,g),g},u=this&&this.__param||function(_,e){return function(n,r){e(n,r,_)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferDecorationRenderer=void 0;const c=o(4725),h=o(844),p=o(2585);let S=t.BufferDecorationRenderer=class extends h.Disposable{constructor(_,e,n,r,s){super(),this._screenElement=_,this._bufferService=e,this._coreBrowserService=n,this._decorationService=r,this._renderService=s,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange((()=>this._doRefreshDecorations()))),this.register(this._renderService.onDimensionsChange((()=>{this._dimensionsChanged=!0,this._queueRefresh()}))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt}))),this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh()))),this.register(this._decorationService.onDecorationRemoved((d=>this._removeDecoration(d)))),this.register((0,h.toDisposable)((()=>{this._container.remove(),this._decorationElements.clear()})))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback((()=>{this._doRefreshDecorations(),this._animationFrame=void 0})))}_doRefreshDecorations(){for(const _ of this._decorationService.decorations)this._renderDecoration(_);this._dimensionsChanged=!1}_renderDecoration(_){this._refreshStyle(_),this._dimensionsChanged&&this._refreshXPosition(_)}_createElement(_){const e=this._coreBrowserService.mainDocument.createElement("div");e.classList.add("xterm-decoration"),e.classList.toggle("xterm-decoration-top-layer",_?.options?.layer==="top"),e.style.width=`${Math.round((_.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,e.style.height=(_.options.height||1)*this._renderService.dimensions.css.cell.height+"px",e.style.top=(_.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",e.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const n=_.options.x??0;return n&&n>this._bufferService.cols&&(e.style.display="none"),this._refreshXPosition(_,e),e}_refreshStyle(_){const e=_.marker.line-this._bufferService.buffers.active.ydisp;if(e<0||e>=this._bufferService.rows)_.element&&(_.element.style.display="none",_.onRenderEmitter.fire(_.element));else{let n=this._decorationElements.get(_);n||(n=this._createElement(_),_.element=n,this._decorationElements.set(_,n),this._container.appendChild(n),_.onDispose((()=>{this._decorationElements.delete(_),n.remove()}))),n.style.top=e*this._renderService.dimensions.css.cell.height+"px",n.style.display=this._altBufferIsActive?"none":"block",_.onRenderEmitter.fire(n)}}_refreshXPosition(_,e=_.element){if(!e)return;const n=_.options.x??0;(_.options.anchor||"left")==="right"?e.style.right=n?n*this._renderService.dimensions.css.cell.width+"px":"":e.style.left=n?n*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(_){this._decorationElements.get(_)?.remove(),this._decorationElements.delete(_),_.dispose()}};t.BufferDecorationRenderer=S=a([u(1,p.IBufferService),u(2,c.ICoreBrowserService),u(3,p.IDecorationService),u(4,c.IRenderService)],S)},5871:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorZoneStore=void 0,t.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(o){if(o.options.overviewRulerOptions){for(const a of this._zones)if(a.color===o.options.overviewRulerOptions.color&&a.position===o.options.overviewRulerOptions.position){if(this._lineIntersectsZone(a,o.marker.line))return;if(this._lineAdjacentToZone(a,o.marker.line,o.options.overviewRulerOptions.position))return void this._addLineToZone(a,o.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=o.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=o.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=o.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=o.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:o.options.overviewRulerOptions.color,position:o.options.overviewRulerOptions.position,startBufferLine:o.marker.line,endBufferLine:o.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(o){this._linePadding=o}_lineIntersectsZone(o,a){return a>=o.startBufferLine&&a<=o.endBufferLine}_lineAdjacentToZone(o,a,u){return a>=o.startBufferLine-this._linePadding[u||"full"]&&a<=o.endBufferLine+this._linePadding[u||"full"]}_addLineToZone(o,a){o.startBufferLine=Math.min(o.startBufferLine,a),o.endBufferLine=Math.max(o.endBufferLine,a)}}},5744:function(k,t,o){var a=this&&this.__decorate||function(s,d,g,m){var w,v=arguments.length,C=v<3?d:m===null?m=Object.getOwnPropertyDescriptor(d,g):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(s,d,g,m);else for(var R=s.length-1;R>=0;R--)(w=s[R])&&(C=(v<3?w(C):v>3?w(d,g,C):w(d,g))||C);return v>3&&C&&Object.defineProperty(d,g,C),C},u=this&&this.__param||function(s,d){return function(g,m){d(g,m,s)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OverviewRulerRenderer=void 0;const c=o(5871),h=o(4725),p=o(844),S=o(2585),_={full:0,left:0,center:0,right:0},e={full:0,left:0,center:0,right:0},n={full:0,left:0,center:0,right:0};let r=t.OverviewRulerRenderer=class extends p.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(s,d,g,m,w,v,C){super(),this._viewportElement=s,this._screenElement=d,this._bufferService=g,this._decorationService=m,this._renderService=w,this._optionsService=v,this._coreBrowserService=C,this._colorZoneStore=new c.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),this._viewportElement.parentElement?.insertBefore(this._canvas,this._viewportElement);const R=this._canvas.getContext("2d");if(!R)throw new Error("Ctx cannot be null");this._ctx=R,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,p.toDisposable)((()=>{this._canvas?.remove()})))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh(void 0,!0)))),this.register(this._decorationService.onDecorationRemoved((()=>this._queueRefresh(void 0,!0))))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"}))),this.register(this._bufferService.onScroll((()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender((()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)}))),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",(()=>this._queueRefresh(!0)))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh(!0)))),this._queueRefresh(!0)}_refreshDrawConstants(){const s=Math.floor(this._canvas.width/3),d=Math.ceil(this._canvas.width/3);e.full=this._canvas.width,e.left=s,e.center=d,e.right=s,this._refreshDrawHeightConstants(),n.full=0,n.left=0,n.center=e.left,n.right=e.left+e.center}_refreshDrawHeightConstants(){_.full=Math.round(2*this._coreBrowserService.dpr);const s=this._canvas.height/this._bufferService.buffer.lines.length,d=Math.round(Math.max(Math.min(s,12),6)*this._coreBrowserService.dpr);_.left=d,_.center=d,_.right=d}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const d of this._decorationService.decorations)this._colorZoneStore.addDecoration(d);this._ctx.lineWidth=1;const s=this._colorZoneStore.zones;for(const d of s)d.position!=="full"&&this._renderColorZone(d);for(const d of s)d.position==="full"&&this._renderColorZone(d);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(s){this._ctx.fillStyle=s.color,this._ctx.fillRect(n[s.position||"full"],Math.round((this._canvas.height-1)*(s.startBufferLine/this._bufferService.buffers.active.lines.length)-_[s.position||"full"]/2),e[s.position||"full"],Math.round((this._canvas.height-1)*((s.endBufferLine-s.startBufferLine)/this._bufferService.buffers.active.lines.length)+_[s.position||"full"]))}_queueRefresh(s,d){this._shouldUpdateDimensions=s||this._shouldUpdateDimensions,this._shouldUpdateAnchor=d||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>{this._refreshDecorations(),this._animationFrame=void 0})))}};t.OverviewRulerRenderer=r=a([u(2,S.IBufferService),u(3,S.IDecorationService),u(4,h.IRenderService),u(5,S.IOptionsService),u(6,h.ICoreBrowserService)],r)},2950:function(k,t,o){var a=this&&this.__decorate||function(_,e,n,r){var s,d=arguments.length,g=d<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(_,e,n,r);else for(var m=_.length-1;m>=0;m--)(s=_[m])&&(g=(d<3?s(g):d>3?s(e,n,g):s(e,n))||g);return d>3&&g&&Object.defineProperty(e,n,g),g},u=this&&this.__param||function(_,e){return function(n,r){e(n,r,_)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionHelper=void 0;const c=o(4725),h=o(2585),p=o(2584);let S=t.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(_,e,n,r,s,d){this._textarea=_,this._compositionView=e,this._bufferService=n,this._optionsService=r,this._coreService=s,this._renderService=d,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(_){this._compositionView.textContent=_.data,this.updateCompositionElements(),setTimeout((()=>{this._compositionPosition.end=this._textarea.value.length}),0)}compositionend(){this._finalizeComposition(!0)}keydown(_){if(this._isComposing||this._isSendingComposition){if(_.keyCode===229||_.keyCode===16||_.keyCode===17||_.keyCode===18)return!1;this._finalizeComposition(!1)}return _.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(_){if(this._compositionView.classList.remove("active"),this._isComposing=!1,_){const e={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((()=>{if(this._isSendingComposition){let n;this._isSendingComposition=!1,e.start+=this._dataAlreadySent.length,n=this._isComposing?this._textarea.value.substring(e.start,e.end):this._textarea.value.substring(e.start),n.length>0&&this._coreService.triggerDataEvent(n,!0)}}),0)}else{this._isSendingComposition=!1;const e=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(e,!0)}}_handleAnyTextareaChanges(){const _=this._textarea.value;setTimeout((()=>{if(!this._isComposing){const e=this._textarea.value,n=e.replace(_,"");this._dataAlreadySent=n,e.length>_.length?this._coreService.triggerDataEvent(n,!0):e.length<_.length?this._coreService.triggerDataEvent(`${p.C0.DEL}`,!0):e.length===_.length&&e!==_&&this._coreService.triggerDataEvent(e,!0)}}),0)}updateCompositionElements(_){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const e=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),n=this._renderService.dimensions.css.cell.height,r=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,s=e*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=s+"px",this._compositionView.style.top=r+"px",this._compositionView.style.height=n+"px",this._compositionView.style.lineHeight=n+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const d=this._compositionView.getBoundingClientRect();this._textarea.style.left=s+"px",this._textarea.style.top=r+"px",this._textarea.style.width=Math.max(d.width,1)+"px",this._textarea.style.height=Math.max(d.height,1)+"px",this._textarea.style.lineHeight=d.height+"px"}_||setTimeout((()=>this.updateCompositionElements(!0)),0)}}};t.CompositionHelper=S=a([u(2,h.IBufferService),u(3,h.IOptionsService),u(4,h.ICoreService),u(5,c.IRenderService)],S)},9806:(k,t)=>{function o(a,u,c){const h=c.getBoundingClientRect(),p=a.getComputedStyle(c),S=parseInt(p.getPropertyValue("padding-left")),_=parseInt(p.getPropertyValue("padding-top"));return[u.clientX-h.left-S,u.clientY-h.top-_]}Object.defineProperty(t,"__esModule",{value:!0}),t.getCoords=t.getCoordsRelativeToElement=void 0,t.getCoordsRelativeToElement=o,t.getCoords=function(a,u,c,h,p,S,_,e,n){if(!S)return;const r=o(a,u,c);return r?(r[0]=Math.ceil((r[0]+(n?_/2:0))/_),r[1]=Math.ceil(r[1]/e),r[0]=Math.min(Math.max(r[0],1),h+(n?1:0)),r[1]=Math.min(Math.max(r[1],1),p),r):void 0}},9504:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.moveToCellSequence=void 0;const a=o(2584);function u(e,n,r,s){const d=e-c(e,r),g=n-c(n,r),m=Math.abs(d-g)-(function(w,v,C){let R=0;const B=w-c(w,C),P=v-c(v,C);for(let A=0;A<Math.abs(B-P);A++){const N=h(w,v)==="A"?-1:1;C.buffer.lines.get(B+N*A)?.isWrapped&&R++}return R})(e,n,r);return _(m,S(h(e,n),s))}function c(e,n){let r=0,s=n.buffer.lines.get(e),d=s?.isWrapped;for(;d&&e>=0&&e<n.rows;)r++,s=n.buffer.lines.get(--e),d=s?.isWrapped;return r}function h(e,n){return e>n?"A":"B"}function p(e,n,r,s,d,g){let m=e,w=n,v="";for(;m!==r||w!==s;)m+=d?1:-1,d&&m>g.cols-1?(v+=g.buffer.translateBufferLineToString(w,!1,e,m),m=0,e=0,w++):!d&&m<0&&(v+=g.buffer.translateBufferLineToString(w,!1,0,e+1),m=g.cols-1,e=m,w--);return v+g.buffer.translateBufferLineToString(w,!1,e,m)}function S(e,n){const r=n?"O":"[";return a.C0.ESC+r+e}function _(e,n){e=Math.floor(e);let r="";for(let s=0;s<e;s++)r+=n;return r}t.moveToCellSequence=function(e,n,r,s){const d=r.buffer.x,g=r.buffer.y;if(!r.buffer.hasScrollback)return(function(v,C,R,B,P,A){return u(C,B,P,A).length===0?"":_(p(v,C,v,C-c(C,P),!1,P).length,S("D",A))})(d,g,0,n,r,s)+u(g,n,r,s)+(function(v,C,R,B,P,A){let N;N=u(C,B,P,A).length>0?B-c(B,P):C;const K=B,V=(function(ee,G,x,T,M,O){let F;return F=u(x,T,M,O).length>0?T-c(T,M):G,ee<x&&F<=T||ee>=x&&F<T?"C":"D"})(v,C,R,B,P,A);return _(p(v,N,R,K,V==="C",P).length,S(V,A))})(d,g,e,n,r,s);let m;if(g===n)return m=d>e?"D":"C",_(Math.abs(d-e),S(m,s));m=g>n?"D":"C";const w=Math.abs(g-n);return _((function(v,C){return C.cols-v})(g>n?e:d,r)+(w-1)*r.cols+1+((g>n?d:e)-1),S(m,s))}},1296:function(k,t,o){var a=this&&this.__decorate||function(A,N,K,V){var ee,G=arguments.length,x=G<3?N:V===null?V=Object.getOwnPropertyDescriptor(N,K):V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(A,N,K,V);else for(var T=A.length-1;T>=0;T--)(ee=A[T])&&(x=(G<3?ee(x):G>3?ee(N,K,x):ee(N,K))||x);return G>3&&x&&Object.defineProperty(N,K,x),x},u=this&&this.__param||function(A,N){return function(K,V){N(K,V,A)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRenderer=void 0;const c=o(3787),h=o(2550),p=o(2223),S=o(6171),_=o(6052),e=o(4725),n=o(8055),r=o(8460),s=o(844),d=o(2585),g="xterm-dom-renderer-owner-",m="xterm-rows",w="xterm-fg-",v="xterm-bg-",C="xterm-focus",R="xterm-selection";let B=1,P=t.DomRenderer=class extends s.Disposable{constructor(A,N,K,V,ee,G,x,T,M,O,F,q,Y){super(),this._terminal=A,this._document=N,this._element=K,this._screenElement=V,this._viewportElement=ee,this._helperContainer=G,this._linkifier2=x,this._charSizeService=M,this._optionsService=O,this._bufferService=F,this._coreBrowserService=q,this._themeService=Y,this._terminalClass=B++,this._rowElements=[],this._selectionRenderModel=(0,_.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new r.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(m),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(R),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,S.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._themeService.onChangeColors((re=>this._injectCss(re)))),this._injectCss(this._themeService.colors),this._rowFactory=T.createInstance(c.DomRendererRowFactory,document),this._element.classList.add(g+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((re=>this._handleLinkHover(re)))),this.register(this._linkifier2.onHideLinkUnderline((re=>this._handleLinkLeave(re)))),this.register((0,s.toDisposable)((()=>{this._element.classList.remove(g+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))),this._widthCache=new h.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const A=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*A,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*A),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/A),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/A),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const K of this._rowElements)K.style.width=`${this.dimensions.css.canvas.width}px`,K.style.height=`${this.dimensions.css.cell.height}px`,K.style.lineHeight=`${this.dimensions.css.cell.height}px`,K.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const N=`${this._terminalSelector} .${m} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=N,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(A){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let N=`${this._terminalSelector} .${m} { color: ${A.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;N+=`${this._terminalSelector} .${m} .xterm-dim { color: ${n.color.multiplyOpacity(A.foreground,.5).css};}`,N+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const K=`blink_underline_${this._terminalClass}`,V=`blink_bar_${this._terminalClass}`,ee=`blink_block_${this._terminalClass}`;N+=`@keyframes ${K} { 50% {  border-bottom-style: hidden; }}`,N+=`@keyframes ${V} { 50% {  box-shadow: none; }}`,N+=`@keyframes ${ee} { 0% {  background-color: ${A.cursor.css};  color: ${A.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${A.cursor.css}; }}`,N+=`${this._terminalSelector} .${m}.${C} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${K} 1s step-end infinite;}${this._terminalSelector} .${m}.${C} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${V} 1s step-end infinite;}${this._terminalSelector} .${m}.${C} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${ee} 1s step-end infinite;}${this._terminalSelector} .${m} .xterm-cursor.xterm-cursor-block { background-color: ${A.cursor.css}; color: ${A.cursorAccent.css};}${this._terminalSelector} .${m} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${A.cursor.css} !important; color: ${A.cursorAccent.css} !important;}${this._terminalSelector} .${m} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${A.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${m} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${A.cursor.css} inset;}${this._terminalSelector} .${m} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${A.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,N+=`${this._terminalSelector} .${R} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${R} div { position: absolute; background-color: ${A.selectionBackgroundOpaque.css};}${this._terminalSelector} .${R} div { position: absolute; background-color: ${A.selectionInactiveBackgroundOpaque.css};}`;for(const[G,x]of A.ansi.entries())N+=`${this._terminalSelector} .${w}${G} { color: ${x.css}; }${this._terminalSelector} .${w}${G}.xterm-dim { color: ${n.color.multiplyOpacity(x,.5).css}; }${this._terminalSelector} .${v}${G} { background-color: ${x.css}; }`;N+=`${this._terminalSelector} .${w}${p.INVERTED_DEFAULT_COLOR} { color: ${n.color.opaque(A.background).css}; }${this._terminalSelector} .${w}${p.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${n.color.multiplyOpacity(n.color.opaque(A.background),.5).css}; }${this._terminalSelector} .${v}${p.INVERTED_DEFAULT_COLOR} { background-color: ${A.foreground.css}; }`,this._themeStyleElement.textContent=N}_setDefaultSpacing(){const A=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${A}px`,this._rowFactory.defaultSpacing=A}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(A,N){for(let K=this._rowElements.length;K<=N;K++){const V=this._document.createElement("div");this._rowContainer.appendChild(V),this._rowElements.push(V)}for(;this._rowElements.length>N;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(A,N){this._refreshRowElements(A,N),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(C),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(C),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(A,N,K){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(A,N,K),this.renderRows(0,this._bufferService.rows-1),!A||!N)return;this._selectionRenderModel.update(this._terminal,A,N,K);const V=this._selectionRenderModel.viewportStartRow,ee=this._selectionRenderModel.viewportEndRow,G=this._selectionRenderModel.viewportCappedStartRow,x=this._selectionRenderModel.viewportCappedEndRow;if(G>=this._bufferService.rows||x<0)return;const T=this._document.createDocumentFragment();if(K){const M=A[0]>N[0];T.appendChild(this._createSelectionElement(G,M?N[0]:A[0],M?A[0]:N[0],x-G+1))}else{const M=V===G?A[0]:0,O=G===ee?N[0]:this._bufferService.cols;T.appendChild(this._createSelectionElement(G,M,O));const F=x-G-1;if(T.appendChild(this._createSelectionElement(G+1,0,this._bufferService.cols,F)),G!==x){const q=ee===x?N[0]:this._bufferService.cols;T.appendChild(this._createSelectionElement(x,0,q))}}this._selectionContainer.appendChild(T)}_createSelectionElement(A,N,K,V=1){const ee=this._document.createElement("div"),G=N*this.dimensions.css.cell.width;let x=this.dimensions.css.cell.width*(K-N);return G+x>this.dimensions.css.canvas.width&&(x=this.dimensions.css.canvas.width-G),ee.style.height=V*this.dimensions.css.cell.height+"px",ee.style.top=A*this.dimensions.css.cell.height+"px",ee.style.left=`${G}px`,ee.style.width=`${x}px`,ee}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const A of this._rowElements)A.replaceChildren()}renderRows(A,N){const K=this._bufferService.buffer,V=K.ybase+K.y,ee=Math.min(K.x,this._bufferService.cols-1),G=this._optionsService.rawOptions.cursorBlink,x=this._optionsService.rawOptions.cursorStyle,T=this._optionsService.rawOptions.cursorInactiveStyle;for(let M=A;M<=N;M++){const O=M+K.ydisp,F=this._rowElements[M],q=K.lines.get(O);if(!F||!q)break;F.replaceChildren(...this._rowFactory.createRow(q,O,O===V,x,T,ee,G,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${g}${this._terminalClass}`}_handleLinkHover(A){this._setCellUnderline(A.x1,A.x2,A.y1,A.y2,A.cols,!0)}_handleLinkLeave(A){this._setCellUnderline(A.x1,A.x2,A.y1,A.y2,A.cols,!1)}_setCellUnderline(A,N,K,V,ee,G){K<0&&(A=0),V<0&&(N=0);const x=this._bufferService.rows-1;K=Math.max(Math.min(K,x),0),V=Math.max(Math.min(V,x),0),ee=Math.min(ee,this._bufferService.cols);const T=this._bufferService.buffer,M=T.ybase+T.y,O=Math.min(T.x,ee-1),F=this._optionsService.rawOptions.cursorBlink,q=this._optionsService.rawOptions.cursorStyle,Y=this._optionsService.rawOptions.cursorInactiveStyle;for(let re=K;re<=V;++re){const I=re+T.ydisp,D=this._rowElements[re],z=T.lines.get(I);if(!D||!z)break;D.replaceChildren(...this._rowFactory.createRow(z,I,I===M,q,Y,O,F,this.dimensions.css.cell.width,this._widthCache,G?re===K?A:0:-1,G?(re===V?N:ee)-1:-1))}}};t.DomRenderer=P=a([u(7,d.IInstantiationService),u(8,e.ICharSizeService),u(9,d.IOptionsService),u(10,d.IBufferService),u(11,e.ICoreBrowserService),u(12,e.IThemeService)],P)},3787:function(k,t,o){var a=this&&this.__decorate||function(m,w,v,C){var R,B=arguments.length,P=B<3?w:C===null?C=Object.getOwnPropertyDescriptor(w,v):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(m,w,v,C);else for(var A=m.length-1;A>=0;A--)(R=m[A])&&(P=(B<3?R(P):B>3?R(w,v,P):R(w,v))||P);return B>3&&P&&Object.defineProperty(w,v,P),P},u=this&&this.__param||function(m,w){return function(v,C){w(v,C,m)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRendererRowFactory=void 0;const c=o(2223),h=o(643),p=o(511),S=o(2585),_=o(8055),e=o(4725),n=o(4269),r=o(6171),s=o(3734);let d=t.DomRendererRowFactory=class{constructor(m,w,v,C,R,B,P){this._document=m,this._characterJoinerService=w,this._optionsService=v,this._coreBrowserService=C,this._coreService=R,this._decorationService=B,this._themeService=P,this._workCell=new p.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(m,w,v){this._selectionStart=m,this._selectionEnd=w,this._columnSelectMode=v}createRow(m,w,v,C,R,B,P,A,N,K,V){const ee=[],G=this._characterJoinerService.getJoinedCharacters(w),x=this._themeService.colors;let T,M=m.getNoBgTrimmedLength();v&&M<B+1&&(M=B+1);let O=0,F="",q=0,Y=0,re=0,I=!1,D=0,z=!1,$=0;const Q=[],Z=K!==-1&&V!==-1;for(let oe=0;oe<M;oe++){m.loadCell(oe,this._workCell);let fe=this._workCell.getWidth();if(fe===0)continue;let _e=!1,Re=oe,ie=this._workCell;if(G.length>0&&oe===G[0][0]){_e=!0;const Se=G.shift();ie=new n.JoinedCellData(this._workCell,m.translateToString(!0,Se[0],Se[1]),Se[1]-Se[0]),Re=Se[1]-1,fe=ie.getWidth()}const Ae=this._isCellInSelection(oe,w),Ge=v&&oe===B,xt=Z&&oe>=K&&oe<=V;let Me=!1;this._decorationService.forEachDecorationAtCell(oe,w,void 0,(Se=>{Me=!0}));let He=ie.getChars()||h.WHITESPACE_CELL_CHAR;if(He===" "&&(ie.isUnderline()||ie.isOverline())&&(He="Â "),$=fe*A-N.get(He,ie.isBold(),ie.isItalic()),T){if(O&&(Ae&&z||!Ae&&!z&&ie.bg===q)&&(Ae&&z&&x.selectionForeground||ie.fg===Y)&&ie.extended.ext===re&&xt===I&&$===D&&!Ge&&!_e&&!Me){ie.isInvisible()?F+=h.WHITESPACE_CELL_CHAR:F+=He,O++;continue}O&&(T.textContent=F),T=this._document.createElement("span"),O=0,F=""}else T=this._document.createElement("span");if(q=ie.bg,Y=ie.fg,re=ie.extended.ext,I=xt,D=$,z=Ae,_e&&B>=oe&&B<=Re&&(B=oe),!this._coreService.isCursorHidden&&Ge&&this._coreService.isCursorInitialized){if(Q.push("xterm-cursor"),this._coreBrowserService.isFocused)P&&Q.push("xterm-cursor-blink"),Q.push(C==="bar"?"xterm-cursor-bar":C==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(R)switch(R){case"outline":Q.push("xterm-cursor-outline");break;case"block":Q.push("xterm-cursor-block");break;case"bar":Q.push("xterm-cursor-bar");break;case"underline":Q.push("xterm-cursor-underline")}}if(ie.isBold()&&Q.push("xterm-bold"),ie.isItalic()&&Q.push("xterm-italic"),ie.isDim()&&Q.push("xterm-dim"),F=ie.isInvisible()?h.WHITESPACE_CELL_CHAR:ie.getChars()||h.WHITESPACE_CELL_CHAR,ie.isUnderline()&&(Q.push(`xterm-underline-${ie.extended.underlineStyle}`),F===" "&&(F="Â "),!ie.isUnderlineColorDefault()))if(ie.isUnderlineColorRGB())T.style.textDecorationColor=`rgb(${s.AttributeData.toColorRGB(ie.getUnderlineColor()).join(",")})`;else{let Se=ie.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&ie.isBold()&&Se<8&&(Se+=8),T.style.textDecorationColor=x.ansi[Se].css}ie.isOverline()&&(Q.push("xterm-overline"),F===" "&&(F="Â ")),ie.isStrikethrough()&&Q.push("xterm-strikethrough"),xt&&(T.style.textDecoration="underline");let Te=ie.getFgColor(),ot=ie.getFgColorMode(),Xe=ie.getBgColor(),Ze=ie.getBgColorMode();const et=!!ie.isInverse();if(et){const Se=Te;Te=Xe,Xe=Se;const Dr=ot;ot=Ze,Ze=Dr}let Ne,pt,at,ze=!1;switch(this._decorationService.forEachDecorationAtCell(oe,w,void 0,(Se=>{Se.options.layer!=="top"&&ze||(Se.backgroundColorRGB&&(Ze=50331648,Xe=Se.backgroundColorRGB.rgba>>8&16777215,Ne=Se.backgroundColorRGB),Se.foregroundColorRGB&&(ot=50331648,Te=Se.foregroundColorRGB.rgba>>8&16777215,pt=Se.foregroundColorRGB),ze=Se.options.layer==="top")})),!ze&&Ae&&(Ne=this._coreBrowserService.isFocused?x.selectionBackgroundOpaque:x.selectionInactiveBackgroundOpaque,Xe=Ne.rgba>>8&16777215,Ze=50331648,ze=!0,x.selectionForeground&&(ot=50331648,Te=x.selectionForeground.rgba>>8&16777215,pt=x.selectionForeground)),ze&&Q.push("xterm-decoration-top"),Ze){case 16777216:case 33554432:at=x.ansi[Xe],Q.push(`xterm-bg-${Xe}`);break;case 50331648:at=_.channels.toColor(Xe>>16,Xe>>8&255,255&Xe),this._addStyle(T,`background-color:#${g((Xe>>>0).toString(16),"0",6)}`);break;default:et?(at=x.foreground,Q.push(`xterm-bg-${c.INVERTED_DEFAULT_COLOR}`)):at=x.background}switch(Ne||ie.isDim()&&(Ne=_.color.multiplyOpacity(at,.5)),ot){case 16777216:case 33554432:ie.isBold()&&Te<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Te+=8),this._applyMinimumContrast(T,at,x.ansi[Te],ie,Ne,void 0)||Q.push(`xterm-fg-${Te}`);break;case 50331648:const Se=_.channels.toColor(Te>>16&255,Te>>8&255,255&Te);this._applyMinimumContrast(T,at,Se,ie,Ne,pt)||this._addStyle(T,`color:#${g(Te.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(T,at,x.foreground,ie,Ne,pt)||et&&Q.push(`xterm-fg-${c.INVERTED_DEFAULT_COLOR}`)}Q.length&&(T.className=Q.join(" "),Q.length=0),Ge||_e||Me?T.textContent=F:O++,$!==this.defaultSpacing&&(T.style.letterSpacing=`${$}px`),ee.push(T),oe=Re}return T&&O&&(T.textContent=F),ee}_applyMinimumContrast(m,w,v,C,R,B){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,r.treatGlyphAsBackgroundColor)(C.getCode()))return!1;const P=this._getContrastCache(C);let A;if(R||B||(A=P.getColor(w.rgba,v.rgba)),A===void 0){const N=this._optionsService.rawOptions.minimumContrastRatio/(C.isDim()?2:1);A=_.color.ensureContrastRatio(R||w,B||v,N),P.setColor((R||w).rgba,(B||v).rgba,A??null)}return!!A&&(this._addStyle(m,`color:${A.css}`),!0)}_getContrastCache(m){return m.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(m,w){m.setAttribute("style",`${m.getAttribute("style")||""}${w};`)}_isCellInSelection(m,w){const v=this._selectionStart,C=this._selectionEnd;return!(!v||!C)&&(this._columnSelectMode?v[0]<=C[0]?m>=v[0]&&w>=v[1]&&m<C[0]&&w<=C[1]:m<v[0]&&w>=v[1]&&m>=C[0]&&w<=C[1]:w>v[1]&&w<C[1]||v[1]===C[1]&&w===v[1]&&m>=v[0]&&m<C[0]||v[1]<C[1]&&w===C[1]&&m<C[0]||v[1]<C[1]&&w===v[1]&&m>=v[0])}};function g(m,w,v){for(;m.length<v;)m=w+m;return m}t.DomRendererRowFactory=d=a([u(1,e.ICharacterJoinerService),u(2,S.IOptionsService),u(3,e.ICoreBrowserService),u(4,S.ICoreService),u(5,S.IDecorationService),u(6,e.IThemeService)],d)},2550:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WidthCache=void 0,t.WidthCache=class{constructor(o,a){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=o.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const u=o.createElement("span");u.classList.add("xterm-char-measure-element");const c=o.createElement("span");c.classList.add("xterm-char-measure-element"),c.style.fontWeight="bold";const h=o.createElement("span");h.classList.add("xterm-char-measure-element"),h.style.fontStyle="italic";const p=o.createElement("span");p.classList.add("xterm-char-measure-element"),p.style.fontWeight="bold",p.style.fontStyle="italic",this._measureElements=[u,c,h,p],this._container.appendChild(u),this._container.appendChild(c),this._container.appendChild(h),this._container.appendChild(p),a.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(o,a,u,c){o===this._font&&a===this._fontSize&&u===this._weight&&c===this._weightBold||(this._font=o,this._fontSize=a,this._weight=u,this._weightBold=c,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${u}`,this._measureElements[1].style.fontWeight=`${c}`,this._measureElements[2].style.fontWeight=`${u}`,this._measureElements[3].style.fontWeight=`${c}`,this.clear())}get(o,a,u){let c=0;if(!a&&!u&&o.length===1&&(c=o.charCodeAt(0))<256){if(this._flat[c]!==-9999)return this._flat[c];const S=this._measure(o,0);return S>0&&(this._flat[c]=S),S}let h=o;a&&(h+="B"),u&&(h+="I");let p=this._holey.get(h);if(p===void 0){let S=0;a&&(S|=1),u&&(S|=2),p=this._measure(o,S),p>0&&this._holey.set(h,p)}return p}_measure(o,a){const u=this._measureElements[a];return u.textContent=o.repeat(32),u.offsetWidth/32}}},2223:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_BASELINE=t.DIM_OPACITY=t.INVERTED_DEFAULT_COLOR=void 0;const a=o(6114);t.INVERTED_DEFAULT_COLOR=257,t.DIM_OPACITY=.5,t.TEXT_BASELINE=a.isFirefox||a.isLegacyEdge?"bottom":"ideographic"},6171:(k,t)=>{function o(u){return 57508<=u&&u<=57558}function a(u){return u>=128512&&u<=128591||u>=127744&&u<=128511||u>=128640&&u<=128767||u>=9728&&u<=9983||u>=9984&&u<=10175||u>=65024&&u<=65039||u>=129280&&u<=129535||u>=127462&&u<=127487}Object.defineProperty(t,"__esModule",{value:!0}),t.computeNextVariantOffset=t.createRenderDimensions=t.treatGlyphAsBackgroundColor=t.allowRescaling=t.isEmoji=t.isRestrictedPowerlineGlyph=t.isPowerlineGlyph=t.throwIfFalsy=void 0,t.throwIfFalsy=function(u){if(!u)throw new Error("value must not be falsy");return u},t.isPowerlineGlyph=o,t.isRestrictedPowerlineGlyph=function(u){return 57520<=u&&u<=57527},t.isEmoji=a,t.allowRescaling=function(u,c,h,p){return c===1&&h>Math.ceil(1.5*p)&&u!==void 0&&u>255&&!a(u)&&!o(u)&&!(function(S){return 57344<=S&&S<=63743})(u)},t.treatGlyphAsBackgroundColor=function(u){return o(u)||(function(c){return 9472<=c&&c<=9631})(u)},t.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},t.computeNextVariantOffset=function(u,c,h=0){return(u-(2*Math.round(c)-h))%(2*Math.round(c))}},6052:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createSelectionRenderModel=void 0;class o{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(u,c,h,p=!1){if(this.selectionStart=c,this.selectionEnd=h,!c||!h||c[0]===h[0]&&c[1]===h[1])return void this.clear();const S=u.buffers.active.ydisp,_=c[1]-S,e=h[1]-S,n=Math.max(_,0),r=Math.min(e,u.rows-1);n>=u.rows||r<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=p,this.viewportStartRow=_,this.viewportEndRow=e,this.viewportCappedStartRow=n,this.viewportCappedEndRow=r,this.startCol=c[0],this.endCol=h[0])}isCellSelected(u,c,h){return!!this.hasSelection&&(h-=u.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?c>=this.startCol&&h>=this.viewportCappedStartRow&&c<this.endCol&&h<=this.viewportCappedEndRow:c<this.startCol&&h>=this.viewportCappedStartRow&&c>=this.endCol&&h<=this.viewportCappedEndRow:h>this.viewportStartRow&&h<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&h===this.viewportStartRow&&c>=this.startCol&&c<this.endCol||this.viewportStartRow<this.viewportEndRow&&h===this.viewportEndRow&&c<this.endCol||this.viewportStartRow<this.viewportEndRow&&h===this.viewportStartRow&&c>=this.startCol)}}t.createSelectionRenderModel=function(){return new o}},456:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionModel=void 0,t.SelectionModel=class{constructor(o){this._bufferService=o,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const o=this.selectionStart[0]+this.selectionStartLength;return o>this._bufferService.cols?o%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(o/this._bufferService.cols)-1]:[o%this._bufferService.cols,this.selectionStart[1]+Math.floor(o/this._bufferService.cols)]:[o,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const o=this.selectionStart[0]+this.selectionStartLength;return o>this._bufferService.cols?[o%this._bufferService.cols,this.selectionStart[1]+Math.floor(o/this._bufferService.cols)]:[Math.max(o,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const o=this.selectionStart,a=this.selectionEnd;return!(!o||!a)&&(o[1]>a[1]||o[1]===a[1]&&o[0]>a[0])}handleTrim(o){return this.selectionStart&&(this.selectionStart[1]-=o),this.selectionEnd&&(this.selectionEnd[1]-=o),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(k,t,o){var a=this&&this.__decorate||function(r,s,d,g){var m,w=arguments.length,v=w<3?s:g===null?g=Object.getOwnPropertyDescriptor(s,d):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(r,s,d,g);else for(var C=r.length-1;C>=0;C--)(m=r[C])&&(v=(w<3?m(v):w>3?m(s,d,v):m(s,d))||v);return w>3&&v&&Object.defineProperty(s,d,v),v},u=this&&this.__param||function(r,s){return function(d,g){s(d,g,r)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharSizeService=void 0;const c=o(2585),h=o(8460),p=o(844);let S=t.CharSizeService=class extends p.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(r,s,d){super(),this._optionsService=d,this.width=0,this.height=0,this._onCharSizeChange=this.register(new h.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new n(this._optionsService))}catch{this._measureStrategy=this.register(new e(r,s,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],(()=>this.measure())))}measure(){const r=this._measureStrategy.measure();r.width===this.width&&r.height===this.height||(this.width=r.width,this.height=r.height,this._onCharSizeChange.fire())}};t.CharSizeService=S=a([u(2,c.IOptionsService)],S);class _ extends p.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(s,d){s!==void 0&&s>0&&d!==void 0&&d>0&&(this._result.width=s,this._result.height=d)}}class e extends _{constructor(s,d,g){super(),this._document=s,this._parentElement=d,this._optionsService=g,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class n extends _{constructor(s){super(),this._optionsService=s,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const d=this._ctx.measureText("W");if(!("width"in d&&"fontBoundingBoxAscent"in d&&"fontBoundingBoxDescent"in d))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const s=this._ctx.measureText("W");return this._validateAndSet(s.width,s.fontBoundingBoxAscent+s.fontBoundingBoxDescent),this._result}}},4269:function(k,t,o){var a=this&&this.__decorate||function(n,r,s,d){var g,m=arguments.length,w=m<3?r:d===null?d=Object.getOwnPropertyDescriptor(r,s):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(n,r,s,d);else for(var v=n.length-1;v>=0;v--)(g=n[v])&&(w=(m<3?g(w):m>3?g(r,s,w):g(r,s))||w);return m>3&&w&&Object.defineProperty(r,s,w),w},u=this&&this.__param||function(n,r){return function(s,d){r(s,d,n)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharacterJoinerService=t.JoinedCellData=void 0;const c=o(3734),h=o(643),p=o(511),S=o(2585);class _ extends c.AttributeData{constructor(r,s,d){super(),this.content=0,this.combinedData="",this.fg=r.fg,this.bg=r.bg,this.combinedData=s,this._width=d}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(r){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}t.JoinedCellData=_;let e=t.CharacterJoinerService=class _n{constructor(r){this._bufferService=r,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new p.CellData}register(r){const s={id:this._nextCharacterJoinerId++,handler:r};return this._characterJoiners.push(s),s.id}deregister(r){for(let s=0;s<this._characterJoiners.length;s++)if(this._characterJoiners[s].id===r)return this._characterJoiners.splice(s,1),!0;return!1}getJoinedCharacters(r){if(this._characterJoiners.length===0)return[];const s=this._bufferService.buffer.lines.get(r);if(!s||s.length===0)return[];const d=[],g=s.translateToString(!0);let m=0,w=0,v=0,C=s.getFg(0),R=s.getBg(0);for(let B=0;B<s.getTrimmedLength();B++)if(s.loadCell(B,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==C||this._workCell.bg!==R){if(B-m>1){const P=this._getJoinedRanges(g,v,w,s,m);for(let A=0;A<P.length;A++)d.push(P[A])}m=B,v=w,C=this._workCell.fg,R=this._workCell.bg}w+=this._workCell.getChars().length||h.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-m>1){const B=this._getJoinedRanges(g,v,w,s,m);for(let P=0;P<B.length;P++)d.push(B[P])}return d}_getJoinedRanges(r,s,d,g,m){const w=r.substring(s,d);let v=[];try{v=this._characterJoiners[0].handler(w)}catch(C){console.error(C)}for(let C=1;C<this._characterJoiners.length;C++)try{const R=this._characterJoiners[C].handler(w);for(let B=0;B<R.length;B++)_n._mergeRanges(v,R[B])}catch(R){console.error(R)}return this._stringRangesToCellRanges(v,g,m),v}_stringRangesToCellRanges(r,s,d){let g=0,m=!1,w=0,v=r[g];if(v){for(let C=d;C<this._bufferService.cols;C++){const R=s.getWidth(C),B=s.getString(C).length||h.WHITESPACE_CELL_CHAR.length;if(R!==0){if(!m&&v[0]<=w&&(v[0]=C,m=!0),v[1]<=w){if(v[1]=C,v=r[++g],!v)break;v[0]<=w?(v[0]=C,m=!0):m=!1}w+=B}}v&&(v[1]=this._bufferService.cols)}}static _mergeRanges(r,s){let d=!1;for(let g=0;g<r.length;g++){const m=r[g];if(d){if(s[1]<=m[0])return r[g-1][1]=s[1],r;if(s[1]<=m[1])return r[g-1][1]=Math.max(s[1],m[1]),r.splice(g,1),r;r.splice(g,1),g--}else{if(s[1]<=m[0])return r.splice(g,0,s),r;if(s[1]<=m[1])return m[0]=Math.min(s[0],m[0]),r;s[0]<m[1]&&(m[0]=Math.min(s[0],m[0]),d=!0)}}return d?r[r.length-1][1]=s[1]:r.push(s),r}};t.CharacterJoinerService=e=a([u(0,S.IBufferService)],e)},5114:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoreBrowserService=void 0;const a=o(844),u=o(8460),c=o(3656);class h extends a.Disposable{constructor(_,e,n){super(),this._textarea=_,this._window=e,this.mainDocument=n,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new p(this._window),this._onDprChange=this.register(new u.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new u.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange((r=>this._screenDprMonitor.setWindow(r)))),this.register((0,u.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",(()=>this._isFocused=!0)),this._textarea.addEventListener("blur",(()=>this._isFocused=!1))}get window(){return this._window}set window(_){this._window!==_&&(this._window=_,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask((()=>this._cachedIsFocused=void 0))),this._cachedIsFocused}}t.CoreBrowserService=h;class p extends a.Disposable{constructor(_){super(),this._parentWindow=_,this._windowResizeListener=this.register(new a.MutableDisposable),this._onDprChange=this.register(new u.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,a.toDisposable)((()=>this.clearListener())))}setWindow(_){this._parentWindow=_,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,c.addDisposableDomListener)(this._parentWindow,"resize",(()=>this._setDprAndFireIfDiffers()))}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){this._outerListener&&(this._resolutionMediaMatchList?.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LinkProviderService=void 0;const a=o(844);class u extends a.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,a.toDisposable)((()=>this.linkProviders.length=0)))}registerLinkProvider(h){return this.linkProviders.push(h),{dispose:()=>{const p=this.linkProviders.indexOf(h);p!==-1&&this.linkProviders.splice(p,1)}}}}t.LinkProviderService=u},8934:function(k,t,o){var a=this&&this.__decorate||function(S,_,e,n){var r,s=arguments.length,d=s<3?_:n===null?n=Object.getOwnPropertyDescriptor(_,e):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(S,_,e,n);else for(var g=S.length-1;g>=0;g--)(r=S[g])&&(d=(s<3?r(d):s>3?r(_,e,d):r(_,e))||d);return s>3&&d&&Object.defineProperty(_,e,d),d},u=this&&this.__param||function(S,_){return function(e,n){_(e,n,S)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseService=void 0;const c=o(4725),h=o(9806);let p=t.MouseService=class{constructor(S,_){this._renderService=S,this._charSizeService=_}getCoords(S,_,e,n,r){return(0,h.getCoords)(window,S,_,e,n,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,r)}getMouseReportCoords(S,_){const e=(0,h.getCoordsRelativeToElement)(window,S,_);if(this._charSizeService.hasValidSize)return e[0]=Math.min(Math.max(e[0],0),this._renderService.dimensions.css.canvas.width-1),e[1]=Math.min(Math.max(e[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(e[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(e[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(e[0]),y:Math.floor(e[1])}}};t.MouseService=p=a([u(0,c.IRenderService),u(1,c.ICharSizeService)],p)},3230:function(k,t,o){var a=this&&this.__decorate||function(r,s,d,g){var m,w=arguments.length,v=w<3?s:g===null?g=Object.getOwnPropertyDescriptor(s,d):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(r,s,d,g);else for(var C=r.length-1;C>=0;C--)(m=r[C])&&(v=(w<3?m(v):w>3?m(s,d,v):m(s,d))||v);return w>3&&v&&Object.defineProperty(s,d,v),v},u=this&&this.__param||function(r,s){return function(d,g){s(d,g,r)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RenderService=void 0;const c=o(6193),h=o(4725),p=o(8460),S=o(844),_=o(7226),e=o(2585);let n=t.RenderService=class extends S.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(r,s,d,g,m,w,v,C){super(),this._rowCount=r,this._charSizeService=g,this._renderer=this.register(new S.MutableDisposable),this._pausedResizeTask=new _.DebouncedIdleTask,this._observerDisposable=this.register(new S.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new p.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new p.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new p.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new p.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new c.RenderDebouncer(((R,B)=>this._renderRows(R,B)),v),this.register(this._renderDebouncer),this.register(v.onDprChange((()=>this.handleDevicePixelRatioChange()))),this.register(w.onResize((()=>this._fullRefresh()))),this.register(w.buffers.onBufferActivate((()=>this._renderer.value?.clear()))),this.register(d.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._charSizeService.onCharSizeChange((()=>this.handleCharSizeChanged()))),this.register(m.onDecorationRegistered((()=>this._fullRefresh()))),this.register(m.onDecorationRemoved((()=>this._fullRefresh()))),this.register(d.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],(()=>{this.clear(),this.handleResize(w.cols,w.rows),this._fullRefresh()}))),this.register(d.onMultipleOptionChange(["cursorBlink","cursorStyle"],(()=>this.refreshRows(w.buffer.y,w.buffer.y,!0)))),this.register(C.onChangeColors((()=>this._fullRefresh()))),this._registerIntersectionObserver(v.window,s),this.register(v.onWindowChange((R=>this._registerIntersectionObserver(R,s))))}_registerIntersectionObserver(r,s){if("IntersectionObserver"in r){const d=new r.IntersectionObserver((g=>this._handleIntersectionChange(g[g.length-1])),{threshold:0});d.observe(s),this._observerDisposable.value=(0,S.toDisposable)((()=>d.disconnect()))}}_handleIntersectionChange(r){this._isPaused=r.isIntersecting===void 0?r.intersectionRatio===0:!r.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(r,s,d=!1){this._isPaused?this._needsFullRefresh=!0:(d||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(r,s,this._rowCount))}_renderRows(r,s){this._renderer.value&&(r=Math.min(r,this._rowCount-1),s=Math.min(s,this._rowCount-1),this._renderer.value.renderRows(r,s),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:r,end:s}),this._onRender.fire({start:r,end:s}),this._isNextRenderRedrawOnly=!0)}resize(r,s){this._rowCount=s,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(r){this._renderer.value=r,this._renderer.value&&(this._renderer.value.onRequestRedraw((s=>this.refreshRows(s.start,s.end,!0))),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(r){return this._renderDebouncer.addRefreshCallback(r)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){this._renderer.value&&(this._renderer.value.clearTextureAtlas?.(),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(r,s){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set((()=>this._renderer.value?.handleResize(r,s))):this._renderer.value.handleResize(r,s),this._fullRefresh())}handleCharSizeChanged(){this._renderer.value?.handleCharSizeChanged()}handleBlur(){this._renderer.value?.handleBlur()}handleFocus(){this._renderer.value?.handleFocus()}handleSelectionChanged(r,s,d){this._selectionState.start=r,this._selectionState.end=s,this._selectionState.columnSelectMode=d,this._renderer.value?.handleSelectionChanged(r,s,d)}handleCursorMove(){this._renderer.value?.handleCursorMove()}clear(){this._renderer.value?.clear()}};t.RenderService=n=a([u(2,e.IOptionsService),u(3,h.ICharSizeService),u(4,e.IDecorationService),u(5,e.IBufferService),u(6,h.ICoreBrowserService),u(7,h.IThemeService)],n)},9312:function(k,t,o){var a=this&&this.__decorate||function(v,C,R,B){var P,A=arguments.length,N=A<3?C:B===null?B=Object.getOwnPropertyDescriptor(C,R):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(v,C,R,B);else for(var K=v.length-1;K>=0;K--)(P=v[K])&&(N=(A<3?P(N):A>3?P(C,R,N):P(C,R))||N);return A>3&&N&&Object.defineProperty(C,R,N),N},u=this&&this.__param||function(v,C){return function(R,B){C(R,B,v)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionService=void 0;const c=o(9806),h=o(9504),p=o(456),S=o(4725),_=o(8460),e=o(844),n=o(6114),r=o(4841),s=o(511),d=o(2585),g="Â ",m=new RegExp(g,"g");let w=t.SelectionService=class extends e.Disposable{constructor(v,C,R,B,P,A,N,K,V){super(),this._element=v,this._screenElement=C,this._linkifier=R,this._bufferService=B,this._coreService=P,this._mouseService=A,this._optionsService=N,this._renderService=K,this._coreBrowserService=V,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new s.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new _.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new _.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new _.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new _.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=ee=>this._handleMouseMove(ee),this._mouseUpListener=ee=>this._handleMouseUp(ee),this._coreService.onUserInput((()=>{this.hasSelection&&this.clearSelection()})),this._trimListener=this._bufferService.buffer.lines.onTrim((ee=>this._handleTrim(ee))),this.register(this._bufferService.buffers.onBufferActivate((ee=>this._handleBufferActivate(ee)))),this.enable(),this._model=new p.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,e.toDisposable)((()=>{this._removeMouseDownListeners()})))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const v=this._model.finalSelectionStart,C=this._model.finalSelectionEnd;return!(!v||!C||v[0]===C[0]&&v[1]===C[1])}get selectionText(){const v=this._model.finalSelectionStart,C=this._model.finalSelectionEnd;if(!v||!C)return"";const R=this._bufferService.buffer,B=[];if(this._activeSelectionMode===3){if(v[0]===C[0])return"";const P=v[0]<C[0]?v[0]:C[0],A=v[0]<C[0]?C[0]:v[0];for(let N=v[1];N<=C[1];N++){const K=R.translateBufferLineToString(N,!0,P,A);B.push(K)}}else{const P=v[1]===C[1]?C[0]:void 0;B.push(R.translateBufferLineToString(v[1],!0,v[0],P));for(let A=v[1]+1;A<=C[1]-1;A++){const N=R.lines.get(A),K=R.translateBufferLineToString(A,!0);N?.isWrapped?B[B.length-1]+=K:B.push(K)}if(v[1]!==C[1]){const A=R.lines.get(C[1]),N=R.translateBufferLineToString(C[1],!0,0,C[0]);A&&A.isWrapped?B[B.length-1]+=N:B.push(N)}}return B.map((P=>P.replace(m," "))).join(n.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(v){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._refresh()))),n.isLinux&&v&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(v){const C=this._getMouseBufferCoords(v),R=this._model.finalSelectionStart,B=this._model.finalSelectionEnd;return!!(R&&B&&C)&&this._areCoordsInSelection(C,R,B)}isCellInSelection(v,C){const R=this._model.finalSelectionStart,B=this._model.finalSelectionEnd;return!(!R||!B)&&this._areCoordsInSelection([v,C],R,B)}_areCoordsInSelection(v,C,R){return v[1]>C[1]&&v[1]<R[1]||C[1]===R[1]&&v[1]===C[1]&&v[0]>=C[0]&&v[0]<R[0]||C[1]<R[1]&&v[1]===R[1]&&v[0]<R[0]||C[1]<R[1]&&v[1]===C[1]&&v[0]>=C[0]}_selectWordAtCursor(v,C){const R=this._linkifier.currentLink?.link?.range;if(R)return this._model.selectionStart=[R.start.x-1,R.start.y-1],this._model.selectionStartLength=(0,r.getRangeLength)(R,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const B=this._getMouseBufferCoords(v);return!!B&&(this._selectWordAt(B,C),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(v,C){this._model.clearSelection(),v=Math.max(v,0),C=Math.min(C,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,v],this._model.selectionEnd=[this._bufferService.cols,C],this.refresh(),this._onSelectionChange.fire()}_handleTrim(v){this._model.handleTrim(v)&&this.refresh()}_getMouseBufferCoords(v){const C=this._mouseService.getCoords(v,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(C)return C[0]--,C[1]--,C[1]+=this._bufferService.buffer.ydisp,C}_getMouseEventScrollAmount(v){let C=(0,c.getCoordsRelativeToElement)(this._coreBrowserService.window,v,this._screenElement)[1];const R=this._renderService.dimensions.css.canvas.height;return C>=0&&C<=R?0:(C>R&&(C-=R),C=Math.min(Math.max(C,-50),50),C/=50,C/Math.abs(C)+Math.round(14*C))}shouldForceSelection(v){return n.isMac?v.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:v.shiftKey}handleMouseDown(v){if(this._mouseDownTimeStamp=v.timeStamp,(v.button!==2||!this.hasSelection)&&v.button===0){if(!this._enabled){if(!this.shouldForceSelection(v))return;v.stopPropagation()}v.preventDefault(),this._dragScrollAmount=0,this._enabled&&v.shiftKey?this._handleIncrementalClick(v):v.detail===1?this._handleSingleClick(v):v.detail===2?this._handleDoubleClick(v):v.detail===3&&this._handleTripleClick(v),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval((()=>this._dragScroll()),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(v){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(v))}_handleSingleClick(v){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(v)?3:0,this._model.selectionStart=this._getMouseBufferCoords(v),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const C=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);C&&C.length!==this._model.selectionStart[0]&&C.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(v){this._selectWordAtCursor(v,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(v){const C=this._getMouseBufferCoords(v);C&&(this._activeSelectionMode=2,this._selectLineAt(C[1]))}shouldColumnSelect(v){return v.altKey&&!(n.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(v){if(v.stopImmediatePropagation(),!this._model.selectionStart)return;const C=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(v),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(v),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const R=this._bufferService.buffer;if(this._model.selectionEnd[1]<R.lines.length){const B=R.lines.get(this._model.selectionEnd[1]);B&&B.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}C&&C[0]===this._model.selectionEnd[0]&&C[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const v=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(v.ydisp+this._bufferService.rows,v.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=v.ydisp),this.refresh()}}_handleMouseUp(v){const C=v.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&C<500&&v.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const R=this._mouseService.getCoords(v,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(R&&R[0]!==void 0&&R[1]!==void 0){const B=(0,h.moveToCellSequence)(R[0]-1,R[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(B,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const v=this._model.finalSelectionStart,C=this._model.finalSelectionEnd,R=!(!v||!C||v[0]===C[0]&&v[1]===C[1]);R?v&&C&&(this._oldSelectionStart&&this._oldSelectionEnd&&v[0]===this._oldSelectionStart[0]&&v[1]===this._oldSelectionStart[1]&&C[0]===this._oldSelectionEnd[0]&&C[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(v,C,R)):this._oldHasSelection&&this._fireOnSelectionChange(v,C,R)}_fireOnSelectionChange(v,C,R){this._oldSelectionStart=v,this._oldSelectionEnd=C,this._oldHasSelection=R,this._onSelectionChange.fire()}_handleBufferActivate(v){this.clearSelection(),this._trimListener.dispose(),this._trimListener=v.activeBuffer.lines.onTrim((C=>this._handleTrim(C)))}_convertViewportColToCharacterIndex(v,C){let R=C;for(let B=0;C>=B;B++){const P=v.loadCell(B,this._workCell).getChars().length;this._workCell.getWidth()===0?R--:P>1&&C!==B&&(R+=P-1)}return R}setSelection(v,C,R){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[v,C],this._model.selectionStartLength=R,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(v){this._isClickInSelection(v)||(this._selectWordAtCursor(v,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(v,C,R=!0,B=!0){if(v[0]>=this._bufferService.cols)return;const P=this._bufferService.buffer,A=P.lines.get(v[1]);if(!A)return;const N=P.translateBufferLineToString(v[1],!1);let K=this._convertViewportColToCharacterIndex(A,v[0]),V=K;const ee=v[0]-K;let G=0,x=0,T=0,M=0;if(N.charAt(K)===" "){for(;K>0&&N.charAt(K-1)===" ";)K--;for(;V<N.length&&N.charAt(V+1)===" ";)V++}else{let q=v[0],Y=v[0];A.getWidth(q)===0&&(G++,q--),A.getWidth(Y)===2&&(x++,Y++);const re=A.getString(Y).length;for(re>1&&(M+=re-1,V+=re-1);q>0&&K>0&&!this._isCharWordSeparator(A.loadCell(q-1,this._workCell));){A.loadCell(q-1,this._workCell);const I=this._workCell.getChars().length;this._workCell.getWidth()===0?(G++,q--):I>1&&(T+=I-1,K-=I-1),K--,q--}for(;Y<A.length&&V+1<N.length&&!this._isCharWordSeparator(A.loadCell(Y+1,this._workCell));){A.loadCell(Y+1,this._workCell);const I=this._workCell.getChars().length;this._workCell.getWidth()===2?(x++,Y++):I>1&&(M+=I-1,V+=I-1),V++,Y++}}V++;let O=K+ee-G+T,F=Math.min(this._bufferService.cols,V-K+G+x-T-M);if(C||N.slice(K,V).trim()!==""){if(R&&O===0&&A.getCodePoint(0)!==32){const q=P.lines.get(v[1]-1);if(q&&A.isWrapped&&q.getCodePoint(this._bufferService.cols-1)!==32){const Y=this._getWordAt([this._bufferService.cols-1,v[1]-1],!1,!0,!1);if(Y){const re=this._bufferService.cols-Y.start;O-=re,F+=re}}}if(B&&O+F===this._bufferService.cols&&A.getCodePoint(this._bufferService.cols-1)!==32){const q=P.lines.get(v[1]+1);if(q?.isWrapped&&q.getCodePoint(0)!==32){const Y=this._getWordAt([0,v[1]+1],!1,!1,!0);Y&&(F+=Y.length)}}return{start:O,length:F}}}_selectWordAt(v,C){const R=this._getWordAt(v,C);if(R){for(;R.start<0;)R.start+=this._bufferService.cols,v[1]--;this._model.selectionStart=[R.start,v[1]],this._model.selectionStartLength=R.length}}_selectToWordAt(v){const C=this._getWordAt(v,!0);if(C){let R=v[1];for(;C.start<0;)C.start+=this._bufferService.cols,R--;if(!this._model.areSelectionValuesReversed())for(;C.start+C.length>this._bufferService.cols;)C.length-=this._bufferService.cols,R++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?C.start:C.start+C.length,R]}}_isCharWordSeparator(v){return v.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(v.getChars())>=0}_selectLineAt(v){const C=this._bufferService.buffer.getWrappedRangeForLine(v),R={start:{x:0,y:C.first},end:{x:this._bufferService.cols-1,y:C.last}};this._model.selectionStart=[0,C.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,r.getRangeLength)(R,this._bufferService.cols)}};t.SelectionService=w=a([u(3,d.IBufferService),u(4,d.ICoreService),u(5,S.IMouseService),u(6,d.IOptionsService),u(7,S.IRenderService),u(8,S.ICoreBrowserService)],w)},4725:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ILinkProviderService=t.IThemeService=t.ICharacterJoinerService=t.ISelectionService=t.IRenderService=t.IMouseService=t.ICoreBrowserService=t.ICharSizeService=void 0;const a=o(8343);t.ICharSizeService=(0,a.createDecorator)("CharSizeService"),t.ICoreBrowserService=(0,a.createDecorator)("CoreBrowserService"),t.IMouseService=(0,a.createDecorator)("MouseService"),t.IRenderService=(0,a.createDecorator)("RenderService"),t.ISelectionService=(0,a.createDecorator)("SelectionService"),t.ICharacterJoinerService=(0,a.createDecorator)("CharacterJoinerService"),t.IThemeService=(0,a.createDecorator)("ThemeService"),t.ILinkProviderService=(0,a.createDecorator)("LinkProviderService")},6731:function(k,t,o){var a=this&&this.__decorate||function(w,v,C,R){var B,P=arguments.length,A=P<3?v:R===null?R=Object.getOwnPropertyDescriptor(v,C):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(w,v,C,R);else for(var N=w.length-1;N>=0;N--)(B=w[N])&&(A=(P<3?B(A):P>3?B(v,C,A):B(v,C))||A);return P>3&&A&&Object.defineProperty(v,C,A),A},u=this&&this.__param||function(w,v){return function(C,R){v(C,R,w)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeService=t.DEFAULT_ANSI_COLORS=void 0;const c=o(7239),h=o(8055),p=o(8460),S=o(844),_=o(2585),e=h.css.toColor("#ffffff"),n=h.css.toColor("#000000"),r=h.css.toColor("#ffffff"),s=h.css.toColor("#000000"),d={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};t.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const w=[h.css.toColor("#2e3436"),h.css.toColor("#cc0000"),h.css.toColor("#4e9a06"),h.css.toColor("#c4a000"),h.css.toColor("#3465a4"),h.css.toColor("#75507b"),h.css.toColor("#06989a"),h.css.toColor("#d3d7cf"),h.css.toColor("#555753"),h.css.toColor("#ef2929"),h.css.toColor("#8ae234"),h.css.toColor("#fce94f"),h.css.toColor("#729fcf"),h.css.toColor("#ad7fa8"),h.css.toColor("#34e2e2"),h.css.toColor("#eeeeec")],v=[0,95,135,175,215,255];for(let C=0;C<216;C++){const R=v[C/36%6|0],B=v[C/6%6|0],P=v[C%6];w.push({css:h.channels.toCss(R,B,P),rgba:h.channels.toRgba(R,B,P)})}for(let C=0;C<24;C++){const R=8+10*C;w.push({css:h.channels.toCss(R,R,R),rgba:h.channels.toRgba(R,R,R)})}return w})());let g=t.ThemeService=class extends S.Disposable{get colors(){return this._colors}constructor(w){super(),this._optionsService=w,this._contrastCache=new c.ColorContrastCache,this._halfContrastCache=new c.ColorContrastCache,this._onChangeColors=this.register(new p.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:e,background:n,cursor:r,cursorAccent:s,selectionForeground:void 0,selectionBackgroundTransparent:d,selectionBackgroundOpaque:h.color.blend(n,d),selectionInactiveBackgroundTransparent:d,selectionInactiveBackgroundOpaque:h.color.blend(n,d),ansi:t.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",(()=>this._contrastCache.clear()))),this.register(this._optionsService.onSpecificOptionChange("theme",(()=>this._setTheme(this._optionsService.rawOptions.theme))))}_setTheme(w={}){const v=this._colors;if(v.foreground=m(w.foreground,e),v.background=m(w.background,n),v.cursor=m(w.cursor,r),v.cursorAccent=m(w.cursorAccent,s),v.selectionBackgroundTransparent=m(w.selectionBackground,d),v.selectionBackgroundOpaque=h.color.blend(v.background,v.selectionBackgroundTransparent),v.selectionInactiveBackgroundTransparent=m(w.selectionInactiveBackground,v.selectionBackgroundTransparent),v.selectionInactiveBackgroundOpaque=h.color.blend(v.background,v.selectionInactiveBackgroundTransparent),v.selectionForeground=w.selectionForeground?m(w.selectionForeground,h.NULL_COLOR):void 0,v.selectionForeground===h.NULL_COLOR&&(v.selectionForeground=void 0),h.color.isOpaque(v.selectionBackgroundTransparent)&&(v.selectionBackgroundTransparent=h.color.opacity(v.selectionBackgroundTransparent,.3)),h.color.isOpaque(v.selectionInactiveBackgroundTransparent)&&(v.selectionInactiveBackgroundTransparent=h.color.opacity(v.selectionInactiveBackgroundTransparent,.3)),v.ansi=t.DEFAULT_ANSI_COLORS.slice(),v.ansi[0]=m(w.black,t.DEFAULT_ANSI_COLORS[0]),v.ansi[1]=m(w.red,t.DEFAULT_ANSI_COLORS[1]),v.ansi[2]=m(w.green,t.DEFAULT_ANSI_COLORS[2]),v.ansi[3]=m(w.yellow,t.DEFAULT_ANSI_COLORS[3]),v.ansi[4]=m(w.blue,t.DEFAULT_ANSI_COLORS[4]),v.ansi[5]=m(w.magenta,t.DEFAULT_ANSI_COLORS[5]),v.ansi[6]=m(w.cyan,t.DEFAULT_ANSI_COLORS[6]),v.ansi[7]=m(w.white,t.DEFAULT_ANSI_COLORS[7]),v.ansi[8]=m(w.brightBlack,t.DEFAULT_ANSI_COLORS[8]),v.ansi[9]=m(w.brightRed,t.DEFAULT_ANSI_COLORS[9]),v.ansi[10]=m(w.brightGreen,t.DEFAULT_ANSI_COLORS[10]),v.ansi[11]=m(w.brightYellow,t.DEFAULT_ANSI_COLORS[11]),v.ansi[12]=m(w.brightBlue,t.DEFAULT_ANSI_COLORS[12]),v.ansi[13]=m(w.brightMagenta,t.DEFAULT_ANSI_COLORS[13]),v.ansi[14]=m(w.brightCyan,t.DEFAULT_ANSI_COLORS[14]),v.ansi[15]=m(w.brightWhite,t.DEFAULT_ANSI_COLORS[15]),w.extendedAnsi){const C=Math.min(v.ansi.length-16,w.extendedAnsi.length);for(let R=0;R<C;R++)v.ansi[R+16]=m(w.extendedAnsi[R],t.DEFAULT_ANSI_COLORS[R+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(w){this._restoreColor(w),this._onChangeColors.fire(this.colors)}_restoreColor(w){if(w!==void 0)switch(w){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[w]=this._restoreColors.ansi[w]}else for(let v=0;v<this._restoreColors.ansi.length;++v)this._colors.ansi[v]=this._restoreColors.ansi[v]}modifyColors(w){w(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function m(w,v){if(w!==void 0)try{return h.css.toColor(w)}catch{}return v}t.ThemeService=g=a([u(0,_.IOptionsService)],g)},6349:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CircularList=void 0;const a=o(8460),u=o(844);class c extends u.Disposable{constructor(p){super(),this._maxLength=p,this.onDeleteEmitter=this.register(new a.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new a.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new a.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(p){if(this._maxLength===p)return;const S=new Array(p);for(let _=0;_<Math.min(p,this.length);_++)S[_]=this._array[this._getCyclicIndex(_)];this._array=S,this._maxLength=p,this._startIndex=0}get length(){return this._length}set length(p){if(p>this._length)for(let S=this._length;S<p;S++)this._array[S]=void 0;this._length=p}get(p){return this._array[this._getCyclicIndex(p)]}set(p,S){this._array[this._getCyclicIndex(p)]=S}push(p){this._array[this._getCyclicIndex(this._length)]=p,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(p,S,..._){if(S){for(let e=p;e<this._length-S;e++)this._array[this._getCyclicIndex(e)]=this._array[this._getCyclicIndex(e+S)];this._length-=S,this.onDeleteEmitter.fire({index:p,amount:S})}for(let e=this._length-1;e>=p;e--)this._array[this._getCyclicIndex(e+_.length)]=this._array[this._getCyclicIndex(e)];for(let e=0;e<_.length;e++)this._array[this._getCyclicIndex(p+e)]=_[e];if(_.length&&this.onInsertEmitter.fire({index:p,amount:_.length}),this._length+_.length>this._maxLength){const e=this._length+_.length-this._maxLength;this._startIndex+=e,this._length=this._maxLength,this.onTrimEmitter.fire(e)}else this._length+=_.length}trimStart(p){p>this._length&&(p=this._length),this._startIndex+=p,this._length-=p,this.onTrimEmitter.fire(p)}shiftElements(p,S,_){if(!(S<=0)){if(p<0||p>=this._length)throw new Error("start argument out of range");if(p+_<0)throw new Error("Cannot shift elements in list beyond index 0");if(_>0){for(let n=S-1;n>=0;n--)this.set(p+n+_,this.get(p+n));const e=p+S+_-this._length;if(e>0)for(this._length+=e;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let e=0;e<S;e++)this.set(p+e+_,this.get(p+e))}}_getCyclicIndex(p){return(this._startIndex+p)%this._maxLength}}t.CircularList=c},1439:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clone=void 0,t.clone=function o(a,u=5){if(typeof a!="object")return a;const c=Array.isArray(a)?[]:{};for(const h in a)c[h]=u<=1?a[h]:a[h]&&o(a[h],u-1);return c}},8055:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.contrastRatio=t.toPaddedHex=t.rgba=t.rgb=t.css=t.color=t.channels=t.NULL_COLOR=void 0;let o=0,a=0,u=0,c=0;var h,p,S,_,e;function n(s){const d=s.toString(16);return d.length<2?"0"+d:d}function r(s,d){return s<d?(d+.05)/(s+.05):(s+.05)/(d+.05)}t.NULL_COLOR={css:"#00000000",rgba:0},(function(s){s.toCss=function(d,g,m,w){return w!==void 0?`#${n(d)}${n(g)}${n(m)}${n(w)}`:`#${n(d)}${n(g)}${n(m)}`},s.toRgba=function(d,g,m,w=255){return(d<<24|g<<16|m<<8|w)>>>0},s.toColor=function(d,g,m,w){return{css:s.toCss(d,g,m,w),rgba:s.toRgba(d,g,m,w)}}})(h||(t.channels=h={})),(function(s){function d(g,m){return c=Math.round(255*m),[o,a,u]=e.toChannels(g.rgba),{css:h.toCss(o,a,u,c),rgba:h.toRgba(o,a,u,c)}}s.blend=function(g,m){if(c=(255&m.rgba)/255,c===1)return{css:m.css,rgba:m.rgba};const w=m.rgba>>24&255,v=m.rgba>>16&255,C=m.rgba>>8&255,R=g.rgba>>24&255,B=g.rgba>>16&255,P=g.rgba>>8&255;return o=R+Math.round((w-R)*c),a=B+Math.round((v-B)*c),u=P+Math.round((C-P)*c),{css:h.toCss(o,a,u),rgba:h.toRgba(o,a,u)}},s.isOpaque=function(g){return(255&g.rgba)==255},s.ensureContrastRatio=function(g,m,w){const v=e.ensureContrastRatio(g.rgba,m.rgba,w);if(v)return h.toColor(v>>24&255,v>>16&255,v>>8&255)},s.opaque=function(g){const m=(255|g.rgba)>>>0;return[o,a,u]=e.toChannels(m),{css:h.toCss(o,a,u),rgba:m}},s.opacity=d,s.multiplyOpacity=function(g,m){return c=255&g.rgba,d(g,c*m/255)},s.toColorRGB=function(g){return[g.rgba>>24&255,g.rgba>>16&255,g.rgba>>8&255]}})(p||(t.color=p={})),(function(s){let d,g;try{const m=document.createElement("canvas");m.width=1,m.height=1;const w=m.getContext("2d",{willReadFrequently:!0});w&&(d=w,d.globalCompositeOperation="copy",g=d.createLinearGradient(0,0,1,1))}catch{}s.toColor=function(m){if(m.match(/#[\da-f]{3,8}/i))switch(m.length){case 4:return o=parseInt(m.slice(1,2).repeat(2),16),a=parseInt(m.slice(2,3).repeat(2),16),u=parseInt(m.slice(3,4).repeat(2),16),h.toColor(o,a,u);case 5:return o=parseInt(m.slice(1,2).repeat(2),16),a=parseInt(m.slice(2,3).repeat(2),16),u=parseInt(m.slice(3,4).repeat(2),16),c=parseInt(m.slice(4,5).repeat(2),16),h.toColor(o,a,u,c);case 7:return{css:m,rgba:(parseInt(m.slice(1),16)<<8|255)>>>0};case 9:return{css:m,rgba:parseInt(m.slice(1),16)>>>0}}const w=m.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(w)return o=parseInt(w[1]),a=parseInt(w[2]),u=parseInt(w[3]),c=Math.round(255*(w[5]===void 0?1:parseFloat(w[5]))),h.toColor(o,a,u,c);if(!d||!g)throw new Error("css.toColor: Unsupported css format");if(d.fillStyle=g,d.fillStyle=m,typeof d.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(d.fillRect(0,0,1,1),[o,a,u,c]=d.getImageData(0,0,1,1).data,c!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:h.toRgba(o,a,u,c),css:m}}})(S||(t.css=S={})),(function(s){function d(g,m,w){const v=g/255,C=m/255,R=w/255;return .2126*(v<=.03928?v/12.92:Math.pow((v+.055)/1.055,2.4))+.7152*(C<=.03928?C/12.92:Math.pow((C+.055)/1.055,2.4))+.0722*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))}s.relativeLuminance=function(g){return d(g>>16&255,g>>8&255,255&g)},s.relativeLuminance2=d})(_||(t.rgb=_={})),(function(s){function d(m,w,v){const C=m>>24&255,R=m>>16&255,B=m>>8&255;let P=w>>24&255,A=w>>16&255,N=w>>8&255,K=r(_.relativeLuminance2(P,A,N),_.relativeLuminance2(C,R,B));for(;K<v&&(P>0||A>0||N>0);)P-=Math.max(0,Math.ceil(.1*P)),A-=Math.max(0,Math.ceil(.1*A)),N-=Math.max(0,Math.ceil(.1*N)),K=r(_.relativeLuminance2(P,A,N),_.relativeLuminance2(C,R,B));return(P<<24|A<<16|N<<8|255)>>>0}function g(m,w,v){const C=m>>24&255,R=m>>16&255,B=m>>8&255;let P=w>>24&255,A=w>>16&255,N=w>>8&255,K=r(_.relativeLuminance2(P,A,N),_.relativeLuminance2(C,R,B));for(;K<v&&(P<255||A<255||N<255);)P=Math.min(255,P+Math.ceil(.1*(255-P))),A=Math.min(255,A+Math.ceil(.1*(255-A))),N=Math.min(255,N+Math.ceil(.1*(255-N))),K=r(_.relativeLuminance2(P,A,N),_.relativeLuminance2(C,R,B));return(P<<24|A<<16|N<<8|255)>>>0}s.blend=function(m,w){if(c=(255&w)/255,c===1)return w;const v=w>>24&255,C=w>>16&255,R=w>>8&255,B=m>>24&255,P=m>>16&255,A=m>>8&255;return o=B+Math.round((v-B)*c),a=P+Math.round((C-P)*c),u=A+Math.round((R-A)*c),h.toRgba(o,a,u)},s.ensureContrastRatio=function(m,w,v){const C=_.relativeLuminance(m>>8),R=_.relativeLuminance(w>>8);if(r(C,R)<v){if(R<C){const A=d(m,w,v),N=r(C,_.relativeLuminance(A>>8));if(N<v){const K=g(m,w,v);return N>r(C,_.relativeLuminance(K>>8))?A:K}return A}const B=g(m,w,v),P=r(C,_.relativeLuminance(B>>8));if(P<v){const A=d(m,w,v);return P>r(C,_.relativeLuminance(A>>8))?B:A}return B}},s.reduceLuminance=d,s.increaseLuminance=g,s.toChannels=function(m){return[m>>24&255,m>>16&255,m>>8&255,255&m]}})(e||(t.rgba=e={})),t.toPaddedHex=n,t.contrastRatio=r},8969:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoreTerminal=void 0;const a=o(844),u=o(2585),c=o(4348),h=o(7866),p=o(744),S=o(7302),_=o(6975),e=o(8460),n=o(1753),r=o(1480),s=o(7994),d=o(9282),g=o(5435),m=o(5981),w=o(2660);let v=!1;class C extends a.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new e.EventEmitter),this._onScroll.event((B=>{this._onScrollApi?.fire(B.position)}))),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(B){for(const P in B)this.optionsService.options[P]=B[P]}constructor(B){super(),this._windowsWrappingHeuristics=this.register(new a.MutableDisposable),this._onBinary=this.register(new e.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new e.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new e.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new e.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new e.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new e.EventEmitter),this._instantiationService=new c.InstantiationService,this.optionsService=this.register(new S.OptionsService(B)),this._instantiationService.setService(u.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(p.BufferService)),this._instantiationService.setService(u.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(h.LogService)),this._instantiationService.setService(u.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(_.CoreService)),this._instantiationService.setService(u.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(n.CoreMouseService)),this._instantiationService.setService(u.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(r.UnicodeService)),this._instantiationService.setService(u.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(s.CharsetService),this._instantiationService.setService(u.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(w.OscLinkService),this._instantiationService.setService(u.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new g.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,e.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,e.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,e.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,e.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom((()=>this.scrollToBottom()))),this.register(this.coreService.onUserInput((()=>this._writeBuffer.handleUserInput()))),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],(()=>this._handleWindowsPtyOptionChange()))),this.register(this._bufferService.onScroll((P=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this.register(this._inputHandler.onScroll((P=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this._writeBuffer=this.register(new m.WriteBuffer(((P,A)=>this._inputHandler.parse(P,A)))),this.register((0,e.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(B,P){this._writeBuffer.write(B,P)}writeSync(B,P){this._logService.logLevel<=u.LogLevelEnum.WARN&&!v&&(this._logService.warn("writeSync is unreliable and will be removed soon."),v=!0),this._writeBuffer.writeSync(B,P)}input(B,P=!0){this.coreService.triggerDataEvent(B,P)}resize(B,P){isNaN(B)||isNaN(P)||(B=Math.max(B,p.MINIMUM_COLS),P=Math.max(P,p.MINIMUM_ROWS),this._bufferService.resize(B,P))}scroll(B,P=!1){this._bufferService.scroll(B,P)}scrollLines(B,P,A){this._bufferService.scrollLines(B,P,A)}scrollPages(B){this.scrollLines(B*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(B){const P=B-this._bufferService.buffer.ydisp;P!==0&&this.scrollLines(P)}registerEscHandler(B,P){return this._inputHandler.registerEscHandler(B,P)}registerDcsHandler(B,P){return this._inputHandler.registerDcsHandler(B,P)}registerCsiHandler(B,P){return this._inputHandler.registerCsiHandler(B,P)}registerOscHandler(B,P){return this._inputHandler.registerOscHandler(B,P)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let B=!1;const P=this.optionsService.rawOptions.windowsPty;P&&P.buildNumber!==void 0&&P.buildNumber!==void 0?B=P.backend==="conpty"&&P.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(B=!0),B?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const B=[];B.push(this.onLineFeed(d.updateWindowsModeWrappedState.bind(null,this._bufferService))),B.push(this.registerCsiHandler({final:"H"},(()=>((0,d.updateWindowsModeWrappedState)(this._bufferService),!1)))),this._windowsWrappingHeuristics.value=(0,a.toDisposable)((()=>{for(const P of B)P.dispose()}))}}}t.CoreTerminal=C},8460:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.runAndSubscribe=t.forwardEvent=t.EventEmitter=void 0,t.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=o=>(this._listeners.push(o),{dispose:()=>{if(!this._disposed){for(let a=0;a<this._listeners.length;a++)if(this._listeners[a]===o)return void this._listeners.splice(a,1)}}})),this._event}fire(o,a){const u=[];for(let c=0;c<this._listeners.length;c++)u.push(this._listeners[c]);for(let c=0;c<u.length;c++)u[c].call(void 0,o,a)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},t.forwardEvent=function(o,a){return o((u=>a.fire(u)))},t.runAndSubscribe=function(o,a){return a(void 0),o((u=>a(u)))}},5435:function(k,t,o){var a=this&&this.__decorate||function(G,x,T,M){var O,F=arguments.length,q=F<3?x:M===null?M=Object.getOwnPropertyDescriptor(x,T):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(G,x,T,M);else for(var Y=G.length-1;Y>=0;Y--)(O=G[Y])&&(q=(F<3?O(q):F>3?O(x,T,q):O(x,T))||q);return F>3&&q&&Object.defineProperty(x,T,q),q},u=this&&this.__param||function(G,x){return function(T,M){x(T,M,G)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InputHandler=t.WindowsOptionsReportType=void 0;const c=o(2584),h=o(7116),p=o(2015),S=o(844),_=o(482),e=o(8437),n=o(8460),r=o(643),s=o(511),d=o(3734),g=o(2585),m=o(1480),w=o(6242),v=o(6351),C=o(5941),R={"(":0,")":1,"*":2,"+":3,"-":1,".":2},B=131072;function P(G,x){if(G>24)return x.setWinLines||!1;switch(G){case 1:return!!x.restoreWin;case 2:return!!x.minimizeWin;case 3:return!!x.setWinPosition;case 4:return!!x.setWinSizePixels;case 5:return!!x.raiseWin;case 6:return!!x.lowerWin;case 7:return!!x.refreshWin;case 8:return!!x.setWinSizeChars;case 9:return!!x.maximizeWin;case 10:return!!x.fullscreenWin;case 11:return!!x.getWinState;case 13:return!!x.getWinPosition;case 14:return!!x.getWinSizePixels;case 15:return!!x.getScreenSizePixels;case 16:return!!x.getCellSizePixels;case 18:return!!x.getWinSizeChars;case 19:return!!x.getScreenSizeChars;case 20:return!!x.getIconTitle;case 21:return!!x.getWinTitle;case 22:return!!x.pushTitle;case 23:return!!x.popTitle;case 24:return!!x.setWinLines}return!1}var A;(function(G){G[G.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",G[G.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(A||(t.WindowsOptionsReportType=A={}));let N=0;class K extends S.Disposable{getAttrData(){return this._curAttrData}constructor(x,T,M,O,F,q,Y,re,I=new p.EscapeSequenceParser){super(),this._bufferService=x,this._charsetService=T,this._coreService=M,this._logService=O,this._optionsService=F,this._oscLinkService=q,this._coreMouseService=Y,this._unicodeService=re,this._parser=I,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new _.StringToUtf32,this._utf8Decoder=new _.Utf8ToUtf32,this._workCell=new s.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=e.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=e.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new n.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new n.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new n.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new n.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new n.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new n.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new n.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new n.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new n.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new n.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new n.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new n.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new n.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new V(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((D=>this._activeBuffer=D.activeBuffer))),this._parser.setCsiHandlerFallback(((D,z)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(D),params:z.toArray()})})),this._parser.setEscHandlerFallback((D=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(D)})})),this._parser.setExecuteHandlerFallback((D=>{this._logService.debug("Unknown EXECUTE code: ",{code:D})})),this._parser.setOscHandlerFallback(((D,z,$)=>{this._logService.debug("Unknown OSC code: ",{identifier:D,action:z,data:$})})),this._parser.setDcsHandlerFallback(((D,z,$)=>{z==="HOOK"&&($=$.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(D),action:z,payload:$})})),this._parser.setPrintHandler(((D,z,$)=>this.print(D,z,$))),this._parser.registerCsiHandler({final:"@"},(D=>this.insertChars(D))),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(D=>this.scrollLeft(D))),this._parser.registerCsiHandler({final:"A"},(D=>this.cursorUp(D))),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(D=>this.scrollRight(D))),this._parser.registerCsiHandler({final:"B"},(D=>this.cursorDown(D))),this._parser.registerCsiHandler({final:"C"},(D=>this.cursorForward(D))),this._parser.registerCsiHandler({final:"D"},(D=>this.cursorBackward(D))),this._parser.registerCsiHandler({final:"E"},(D=>this.cursorNextLine(D))),this._parser.registerCsiHandler({final:"F"},(D=>this.cursorPrecedingLine(D))),this._parser.registerCsiHandler({final:"G"},(D=>this.cursorCharAbsolute(D))),this._parser.registerCsiHandler({final:"H"},(D=>this.cursorPosition(D))),this._parser.registerCsiHandler({final:"I"},(D=>this.cursorForwardTab(D))),this._parser.registerCsiHandler({final:"J"},(D=>this.eraseInDisplay(D,!1))),this._parser.registerCsiHandler({prefix:"?",final:"J"},(D=>this.eraseInDisplay(D,!0))),this._parser.registerCsiHandler({final:"K"},(D=>this.eraseInLine(D,!1))),this._parser.registerCsiHandler({prefix:"?",final:"K"},(D=>this.eraseInLine(D,!0))),this._parser.registerCsiHandler({final:"L"},(D=>this.insertLines(D))),this._parser.registerCsiHandler({final:"M"},(D=>this.deleteLines(D))),this._parser.registerCsiHandler({final:"P"},(D=>this.deleteChars(D))),this._parser.registerCsiHandler({final:"S"},(D=>this.scrollUp(D))),this._parser.registerCsiHandler({final:"T"},(D=>this.scrollDown(D))),this._parser.registerCsiHandler({final:"X"},(D=>this.eraseChars(D))),this._parser.registerCsiHandler({final:"Z"},(D=>this.cursorBackwardTab(D))),this._parser.registerCsiHandler({final:"`"},(D=>this.charPosAbsolute(D))),this._parser.registerCsiHandler({final:"a"},(D=>this.hPositionRelative(D))),this._parser.registerCsiHandler({final:"b"},(D=>this.repeatPrecedingCharacter(D))),this._parser.registerCsiHandler({final:"c"},(D=>this.sendDeviceAttributesPrimary(D))),this._parser.registerCsiHandler({prefix:">",final:"c"},(D=>this.sendDeviceAttributesSecondary(D))),this._parser.registerCsiHandler({final:"d"},(D=>this.linePosAbsolute(D))),this._parser.registerCsiHandler({final:"e"},(D=>this.vPositionRelative(D))),this._parser.registerCsiHandler({final:"f"},(D=>this.hVPosition(D))),this._parser.registerCsiHandler({final:"g"},(D=>this.tabClear(D))),this._parser.registerCsiHandler({final:"h"},(D=>this.setMode(D))),this._parser.registerCsiHandler({prefix:"?",final:"h"},(D=>this.setModePrivate(D))),this._parser.registerCsiHandler({final:"l"},(D=>this.resetMode(D))),this._parser.registerCsiHandler({prefix:"?",final:"l"},(D=>this.resetModePrivate(D))),this._parser.registerCsiHandler({final:"m"},(D=>this.charAttributes(D))),this._parser.registerCsiHandler({final:"n"},(D=>this.deviceStatus(D))),this._parser.registerCsiHandler({prefix:"?",final:"n"},(D=>this.deviceStatusPrivate(D))),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(D=>this.softReset(D))),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(D=>this.setCursorStyle(D))),this._parser.registerCsiHandler({final:"r"},(D=>this.setScrollRegion(D))),this._parser.registerCsiHandler({final:"s"},(D=>this.saveCursor(D))),this._parser.registerCsiHandler({final:"t"},(D=>this.windowOptions(D))),this._parser.registerCsiHandler({final:"u"},(D=>this.restoreCursor(D))),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(D=>this.insertColumns(D))),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(D=>this.deleteColumns(D))),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(D=>this.selectProtected(D))),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(D=>this.requestMode(D,!0))),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(D=>this.requestMode(D,!1))),this._parser.setExecuteHandler(c.C0.BEL,(()=>this.bell())),this._parser.setExecuteHandler(c.C0.LF,(()=>this.lineFeed())),this._parser.setExecuteHandler(c.C0.VT,(()=>this.lineFeed())),this._parser.setExecuteHandler(c.C0.FF,(()=>this.lineFeed())),this._parser.setExecuteHandler(c.C0.CR,(()=>this.carriageReturn())),this._parser.setExecuteHandler(c.C0.BS,(()=>this.backspace())),this._parser.setExecuteHandler(c.C0.HT,(()=>this.tab())),this._parser.setExecuteHandler(c.C0.SO,(()=>this.shiftOut())),this._parser.setExecuteHandler(c.C0.SI,(()=>this.shiftIn())),this._parser.setExecuteHandler(c.C1.IND,(()=>this.index())),this._parser.setExecuteHandler(c.C1.NEL,(()=>this.nextLine())),this._parser.setExecuteHandler(c.C1.HTS,(()=>this.tabSet())),this._parser.registerOscHandler(0,new w.OscHandler((D=>(this.setTitle(D),this.setIconName(D),!0)))),this._parser.registerOscHandler(1,new w.OscHandler((D=>this.setIconName(D)))),this._parser.registerOscHandler(2,new w.OscHandler((D=>this.setTitle(D)))),this._parser.registerOscHandler(4,new w.OscHandler((D=>this.setOrReportIndexedColor(D)))),this._parser.registerOscHandler(8,new w.OscHandler((D=>this.setHyperlink(D)))),this._parser.registerOscHandler(10,new w.OscHandler((D=>this.setOrReportFgColor(D)))),this._parser.registerOscHandler(11,new w.OscHandler((D=>this.setOrReportBgColor(D)))),this._parser.registerOscHandler(12,new w.OscHandler((D=>this.setOrReportCursorColor(D)))),this._parser.registerOscHandler(104,new w.OscHandler((D=>this.restoreIndexedColor(D)))),this._parser.registerOscHandler(110,new w.OscHandler((D=>this.restoreFgColor(D)))),this._parser.registerOscHandler(111,new w.OscHandler((D=>this.restoreBgColor(D)))),this._parser.registerOscHandler(112,new w.OscHandler((D=>this.restoreCursorColor(D)))),this._parser.registerEscHandler({final:"7"},(()=>this.saveCursor())),this._parser.registerEscHandler({final:"8"},(()=>this.restoreCursor())),this._parser.registerEscHandler({final:"D"},(()=>this.index())),this._parser.registerEscHandler({final:"E"},(()=>this.nextLine())),this._parser.registerEscHandler({final:"H"},(()=>this.tabSet())),this._parser.registerEscHandler({final:"M"},(()=>this.reverseIndex())),this._parser.registerEscHandler({final:"="},(()=>this.keypadApplicationMode())),this._parser.registerEscHandler({final:">"},(()=>this.keypadNumericMode())),this._parser.registerEscHandler({final:"c"},(()=>this.fullReset())),this._parser.registerEscHandler({final:"n"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"o"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"|"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"}"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"~"},(()=>this.setgLevel(1))),this._parser.registerEscHandler({intermediates:"%",final:"@"},(()=>this.selectDefaultCharset())),this._parser.registerEscHandler({intermediates:"%",final:"G"},(()=>this.selectDefaultCharset()));for(const D in h.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:D},(()=>this.selectCharset("("+D))),this._parser.registerEscHandler({intermediates:")",final:D},(()=>this.selectCharset(")"+D))),this._parser.registerEscHandler({intermediates:"*",final:D},(()=>this.selectCharset("*"+D))),this._parser.registerEscHandler({intermediates:"+",final:D},(()=>this.selectCharset("+"+D))),this._parser.registerEscHandler({intermediates:"-",final:D},(()=>this.selectCharset("-"+D))),this._parser.registerEscHandler({intermediates:".",final:D},(()=>this.selectCharset("."+D))),this._parser.registerEscHandler({intermediates:"/",final:D},(()=>this.selectCharset("/"+D)));this._parser.registerEscHandler({intermediates:"#",final:"8"},(()=>this.screenAlignmentPattern())),this._parser.setErrorHandler((D=>(this._logService.error("Parsing error: ",D),D))),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new v.DcsHandler(((D,z)=>this.requestStatusString(D,z))))}_preserveStack(x,T,M,O){this._parseStack.paused=!0,this._parseStack.cursorStartX=x,this._parseStack.cursorStartY=T,this._parseStack.decodedLength=M,this._parseStack.position=O}_logSlowResolvingAsync(x){this._logService.logLevel<=g.LogLevelEnum.WARN&&Promise.race([x,new Promise(((T,M)=>setTimeout((()=>M("#SLOW_TIMEOUT")),5e3)))]).catch((T=>{if(T!=="#SLOW_TIMEOUT")throw T;console.warn("async parser handler taking longer than 5000 ms")}))}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(x,T){let M,O=this._activeBuffer.x,F=this._activeBuffer.y,q=0;const Y=this._parseStack.paused;if(Y){if(M=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,T))return this._logSlowResolvingAsync(M),M;O=this._parseStack.cursorStartX,F=this._parseStack.cursorStartY,this._parseStack.paused=!1,x.length>B&&(q=this._parseStack.position+B)}if(this._logService.logLevel<=g.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof x=="string"?` "${x}"`:` "${Array.prototype.map.call(x,(D=>String.fromCharCode(D))).join("")}"`),typeof x=="string"?x.split("").map((D=>D.charCodeAt(0))):x),this._parseBuffer.length<x.length&&this._parseBuffer.length<B&&(this._parseBuffer=new Uint32Array(Math.min(x.length,B))),Y||this._dirtyRowTracker.clearRange(),x.length>B)for(let D=q;D<x.length;D+=B){const z=D+B<x.length?D+B:x.length,$=typeof x=="string"?this._stringDecoder.decode(x.substring(D,z),this._parseBuffer):this._utf8Decoder.decode(x.subarray(D,z),this._parseBuffer);if(M=this._parser.parse(this._parseBuffer,$))return this._preserveStack(O,F,$,D),this._logSlowResolvingAsync(M),M}else if(!Y){const D=typeof x=="string"?this._stringDecoder.decode(x,this._parseBuffer):this._utf8Decoder.decode(x,this._parseBuffer);if(M=this._parser.parse(this._parseBuffer,D))return this._preserveStack(O,F,D,0),this._logSlowResolvingAsync(M),M}this._activeBuffer.x===O&&this._activeBuffer.y===F||this._onCursorMove.fire();const re=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),I=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);I<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(I,this._bufferService.rows-1),Math.min(re,this._bufferService.rows-1))}print(x,T,M){let O,F;const q=this._charsetService.charset,Y=this._optionsService.rawOptions.screenReaderMode,re=this._bufferService.cols,I=this._coreService.decPrivateModes.wraparound,D=this._coreService.modes.insertMode,z=this._curAttrData;let $=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&M-T>0&&$.getWidth(this._activeBuffer.x-1)===2&&$.setCellFromCodepoint(this._activeBuffer.x-1,0,1,z);let Q=this._parser.precedingJoinState;for(let Z=T;Z<M;++Z){if(O=x[Z],O<127&&q){const Re=q[String.fromCharCode(O)];Re&&(O=Re.charCodeAt(0))}const oe=this._unicodeService.charProperties(O,Q);F=m.UnicodeService.extractWidth(oe);const fe=m.UnicodeService.extractShouldJoin(oe),_e=fe?m.UnicodeService.extractWidth(Q):0;if(Q=oe,Y&&this._onA11yChar.fire((0,_.stringFromCodePoint)(O)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+F-_e>re){if(I){const Re=$;let ie=this._activeBuffer.x-_e;for(this._activeBuffer.x=_e,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),$=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),_e>0&&$ instanceof e.BufferLine&&$.copyCellsFrom(Re,ie,0,_e,!1);ie<re;)Re.setCellFromCodepoint(ie++,0,1,z)}else if(this._activeBuffer.x=re-1,F===2)continue}if(fe&&this._activeBuffer.x){const Re=$.getWidth(this._activeBuffer.x-1)?1:2;$.addCodepointToCell(this._activeBuffer.x-Re,O,F);for(let ie=F-_e;--ie>=0;)$.setCellFromCodepoint(this._activeBuffer.x++,0,0,z)}else if(D&&($.insertCells(this._activeBuffer.x,F-_e,this._activeBuffer.getNullCell(z)),$.getWidth(re-1)===2&&$.setCellFromCodepoint(re-1,r.NULL_CELL_CODE,r.NULL_CELL_WIDTH,z)),$.setCellFromCodepoint(this._activeBuffer.x++,O,F,z),F>0)for(;--F;)$.setCellFromCodepoint(this._activeBuffer.x++,0,0,z)}this._parser.precedingJoinState=Q,this._activeBuffer.x<re&&M-T>0&&$.getWidth(this._activeBuffer.x)===0&&!$.hasContent(this._activeBuffer.x)&&$.setCellFromCodepoint(this._activeBuffer.x,0,1,z),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(x,T){return x.final!=="t"||x.prefix||x.intermediates?this._parser.registerCsiHandler(x,T):this._parser.registerCsiHandler(x,(M=>!P(M.params[0],this._optionsService.rawOptions.windowOptions)||T(M)))}registerDcsHandler(x,T){return this._parser.registerDcsHandler(x,new v.DcsHandler(T))}registerEscHandler(x,T){return this._parser.registerEscHandler(x,T)}registerOscHandler(x,T){return this._parser.registerOscHandler(x,new w.OscHandler(T))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)?.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const x=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);x.hasWidth(this._activeBuffer.x)&&!x.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const x=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-x),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(x=this._bufferService.cols-1){this._activeBuffer.x=Math.min(x,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(x,T){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=x,this._activeBuffer.y=this._activeBuffer.scrollTop+T):(this._activeBuffer.x=x,this._activeBuffer.y=T),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(x,T){this._restrictCursor(),this._setCursor(this._activeBuffer.x+x,this._activeBuffer.y+T)}cursorUp(x){const T=this._activeBuffer.y-this._activeBuffer.scrollTop;return T>=0?this._moveCursor(0,-Math.min(T,x.params[0]||1)):this._moveCursor(0,-(x.params[0]||1)),!0}cursorDown(x){const T=this._activeBuffer.scrollBottom-this._activeBuffer.y;return T>=0?this._moveCursor(0,Math.min(T,x.params[0]||1)):this._moveCursor(0,x.params[0]||1),!0}cursorForward(x){return this._moveCursor(x.params[0]||1,0),!0}cursorBackward(x){return this._moveCursor(-(x.params[0]||1),0),!0}cursorNextLine(x){return this.cursorDown(x),this._activeBuffer.x=0,!0}cursorPrecedingLine(x){return this.cursorUp(x),this._activeBuffer.x=0,!0}cursorCharAbsolute(x){return this._setCursor((x.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(x){return this._setCursor(x.length>=2?(x.params[1]||1)-1:0,(x.params[0]||1)-1),!0}charPosAbsolute(x){return this._setCursor((x.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(x){return this._moveCursor(x.params[0]||1,0),!0}linePosAbsolute(x){return this._setCursor(this._activeBuffer.x,(x.params[0]||1)-1),!0}vPositionRelative(x){return this._moveCursor(0,x.params[0]||1),!0}hVPosition(x){return this.cursorPosition(x),!0}tabClear(x){const T=x.params[0];return T===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:T===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(x){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let T=x.params[0]||1;for(;T--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(x){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let T=x.params[0]||1;for(;T--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(x){const T=x.params[0];return T===1&&(this._curAttrData.bg|=536870912),T!==2&&T!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(x,T,M,O=!1,F=!1){const q=this._activeBuffer.lines.get(this._activeBuffer.ybase+x);q.replaceCells(T,M,this._activeBuffer.getNullCell(this._eraseAttrData()),F),O&&(q.isWrapped=!1)}_resetBufferLine(x,T=!1){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+x);M&&(M.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),T),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+x),M.isWrapped=!1)}eraseInDisplay(x,T=!1){let M;switch(this._restrictCursor(this._bufferService.cols),x.params[0]){case 0:for(M=this._activeBuffer.y,this._dirtyRowTracker.markDirty(M),this._eraseInBufferLine(M++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,T);M<this._bufferService.rows;M++)this._resetBufferLine(M,T);this._dirtyRowTracker.markDirty(M);break;case 1:for(M=this._activeBuffer.y,this._dirtyRowTracker.markDirty(M),this._eraseInBufferLine(M,0,this._activeBuffer.x+1,!0,T),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(M+1).isWrapped=!1);M--;)this._resetBufferLine(M,T);this._dirtyRowTracker.markDirty(0);break;case 2:for(M=this._bufferService.rows,this._dirtyRowTracker.markDirty(M-1);M--;)this._resetBufferLine(M,T);this._dirtyRowTracker.markDirty(0);break;case 3:const O=this._activeBuffer.lines.length-this._bufferService.rows;O>0&&(this._activeBuffer.lines.trimStart(O),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-O,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-O,0),this._onScroll.fire(0))}return!0}eraseInLine(x,T=!1){switch(this._restrictCursor(this._bufferService.cols),x.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,T);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,T);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,T)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(x){this._restrictCursor();let T=x.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=this._activeBuffer.ybase+this._activeBuffer.y,O=this._bufferService.rows-1-this._activeBuffer.scrollBottom,F=this._bufferService.rows-1+this._activeBuffer.ybase-O+1;for(;T--;)this._activeBuffer.lines.splice(F-1,1),this._activeBuffer.lines.splice(M,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(x){this._restrictCursor();let T=x.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=this._activeBuffer.ybase+this._activeBuffer.y;let O;for(O=this._bufferService.rows-1-this._activeBuffer.scrollBottom,O=this._bufferService.rows-1+this._activeBuffer.ybase-O;T--;)this._activeBuffer.lines.splice(M,1),this._activeBuffer.lines.splice(O,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(x){this._restrictCursor();const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return T&&(T.insertCells(this._activeBuffer.x,x.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(x){this._restrictCursor();const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return T&&(T.deleteCells(this._activeBuffer.x,x.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(x){let T=x.params[0]||1;for(;T--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(x){let T=x.params[0]||1;for(;T--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(e.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=x.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);O.deleteCells(0,T,this._activeBuffer.getNullCell(this._eraseAttrData())),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=x.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);O.insertCells(0,T,this._activeBuffer.getNullCell(this._eraseAttrData())),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=x.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);O.insertCells(this._activeBuffer.x,T,this._activeBuffer.getNullCell(this._eraseAttrData())),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=x.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);O.deleteCells(this._activeBuffer.x,T,this._activeBuffer.getNullCell(this._eraseAttrData())),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(x){this._restrictCursor();const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return T&&(T.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(x.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(x){const T=this._parser.precedingJoinState;if(!T)return!0;const M=x.params[0]||1,O=m.UnicodeService.extractWidth(T),F=this._activeBuffer.x-O,q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(F),Y=new Uint32Array(q.length*M);let re=0;for(let D=0;D<q.length;){const z=q.codePointAt(D)||0;Y[re++]=z,D+=z>65535?2:1}let I=re;for(let D=1;D<M;++D)Y.copyWithin(I,0,re),I+=re;return this.print(Y,0,I),!0}sendDeviceAttributesPrimary(x){return x.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(c.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(c.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(x){return x.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(c.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(c.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(x.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(c.C0.ESC+"[>83;40003;0c")),!0}_is(x){return(this._optionsService.rawOptions.termName+"").indexOf(x)===0}setMode(x){for(let T=0;T<x.length;T++)switch(x.params[T]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(x){for(let T=0;T<x.length;T++)switch(x.params[T]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,h.DEFAULT_CHARSET),this._charsetService.setgCharset(1,h.DEFAULT_CHARSET),this._charsetService.setgCharset(2,h.DEFAULT_CHARSET),this._charsetService.setgCharset(3,h.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(x){for(let T=0;T<x.length;T++)switch(x.params[T]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(x){for(let T=0;T<x.length;T++)switch(x.params[T]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),x.params[T]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(x,T){const M=this._coreService.decPrivateModes,{activeProtocol:O,activeEncoding:F}=this._coreMouseService,q=this._coreService,{buffers:Y,cols:re}=this._bufferService,{active:I,alt:D}=Y,z=this._optionsService.rawOptions,$=fe=>fe?1:2,Q=x.params[0];return Z=Q,oe=T?Q===2?4:Q===4?$(q.modes.insertMode):Q===12?3:Q===20?$(z.convertEol):0:Q===1?$(M.applicationCursorKeys):Q===3?z.windowOptions.setWinLines?re===80?2:re===132?1:0:0:Q===6?$(M.origin):Q===7?$(M.wraparound):Q===8?3:Q===9?$(O==="X10"):Q===12?$(z.cursorBlink):Q===25?$(!q.isCursorHidden):Q===45?$(M.reverseWraparound):Q===66?$(M.applicationKeypad):Q===67?4:Q===1e3?$(O==="VT200"):Q===1002?$(O==="DRAG"):Q===1003?$(O==="ANY"):Q===1004?$(M.sendFocus):Q===1005?4:Q===1006?$(F==="SGR"):Q===1015?4:Q===1016?$(F==="SGR_PIXELS"):Q===1048?1:Q===47||Q===1047||Q===1049?$(I===D):Q===2004?$(M.bracketedPasteMode):0,q.triggerDataEvent(`${c.C0.ESC}[${T?"":"?"}${Z};${oe}$y`),!0;var Z,oe}_updateAttrColor(x,T,M,O,F){return T===2?(x|=50331648,x&=-16777216,x|=d.AttributeData.fromColorRGB([M,O,F])):T===5&&(x&=-50331904,x|=33554432|255&M),x}_extractColor(x,T,M){const O=[0,0,-1,0,0,0];let F=0,q=0;do{if(O[q+F]=x.params[T+q],x.hasSubParams(T+q)){const Y=x.getSubParams(T+q);let re=0;do O[1]===5&&(F=1),O[q+re+1+F]=Y[re];while(++re<Y.length&&re+q+1+F<O.length);break}if(O[1]===5&&q+F>=2||O[1]===2&&q+F>=5)break;O[1]&&(F=1)}while(++q+T<x.length&&q+F<O.length);for(let Y=2;Y<O.length;++Y)O[Y]===-1&&(O[Y]=0);switch(O[0]){case 38:M.fg=this._updateAttrColor(M.fg,O[1],O[3],O[4],O[5]);break;case 48:M.bg=this._updateAttrColor(M.bg,O[1],O[3],O[4],O[5]);break;case 58:M.extended=M.extended.clone(),M.extended.underlineColor=this._updateAttrColor(M.extended.underlineColor,O[1],O[3],O[4],O[5])}return q}_processUnderline(x,T){T.extended=T.extended.clone(),(!~x||x>5)&&(x=1),T.extended.underlineStyle=x,T.fg|=268435456,x===0&&(T.fg&=-268435457),T.updateExtended()}_processSGR0(x){x.fg=e.DEFAULT_ATTR_DATA.fg,x.bg=e.DEFAULT_ATTR_DATA.bg,x.extended=x.extended.clone(),x.extended.underlineStyle=0,x.extended.underlineColor&=-67108864,x.updateExtended()}charAttributes(x){if(x.length===1&&x.params[0]===0)return this._processSGR0(this._curAttrData),!0;const T=x.length;let M;const O=this._curAttrData;for(let F=0;F<T;F++)M=x.params[F],M>=30&&M<=37?(O.fg&=-50331904,O.fg|=16777216|M-30):M>=40&&M<=47?(O.bg&=-50331904,O.bg|=16777216|M-40):M>=90&&M<=97?(O.fg&=-50331904,O.fg|=16777224|M-90):M>=100&&M<=107?(O.bg&=-50331904,O.bg|=16777224|M-100):M===0?this._processSGR0(O):M===1?O.fg|=134217728:M===3?O.bg|=67108864:M===4?(O.fg|=268435456,this._processUnderline(x.hasSubParams(F)?x.getSubParams(F)[0]:1,O)):M===5?O.fg|=536870912:M===7?O.fg|=67108864:M===8?O.fg|=1073741824:M===9?O.fg|=2147483648:M===2?O.bg|=134217728:M===21?this._processUnderline(2,O):M===22?(O.fg&=-134217729,O.bg&=-134217729):M===23?O.bg&=-67108865:M===24?(O.fg&=-268435457,this._processUnderline(0,O)):M===25?O.fg&=-536870913:M===27?O.fg&=-67108865:M===28?O.fg&=-1073741825:M===29?O.fg&=2147483647:M===39?(O.fg&=-67108864,O.fg|=16777215&e.DEFAULT_ATTR_DATA.fg):M===49?(O.bg&=-67108864,O.bg|=16777215&e.DEFAULT_ATTR_DATA.bg):M===38||M===48||M===58?F+=this._extractColor(x,F,O):M===53?O.bg|=1073741824:M===55?O.bg&=-1073741825:M===59?(O.extended=O.extended.clone(),O.extended.underlineColor=-1,O.updateExtended()):M===100?(O.fg&=-67108864,O.fg|=16777215&e.DEFAULT_ATTR_DATA.fg,O.bg&=-67108864,O.bg|=16777215&e.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",M);return!0}deviceStatus(x){switch(x.params[0]){case 5:this._coreService.triggerDataEvent(`${c.C0.ESC}[0n`);break;case 6:const T=this._activeBuffer.y+1,M=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${c.C0.ESC}[${T};${M}R`)}return!0}deviceStatusPrivate(x){if(x.params[0]===6){const T=this._activeBuffer.y+1,M=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${c.C0.ESC}[?${T};${M}R`)}return!0}softReset(x){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=e.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(x){const T=x.params[0]||1;switch(T){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const M=T%2==1;return this._optionsService.options.cursorBlink=M,!0}setScrollRegion(x){const T=x.params[0]||1;let M;return(x.length<2||(M=x.params[1])>this._bufferService.rows||M===0)&&(M=this._bufferService.rows),M>T&&(this._activeBuffer.scrollTop=T-1,this._activeBuffer.scrollBottom=M-1,this._setCursor(0,0)),!0}windowOptions(x){if(!P(x.params[0],this._optionsService.rawOptions.windowOptions))return!0;const T=x.length>1?x.params[1]:0;switch(x.params[0]){case 14:T!==2&&this._onRequestWindowsOptionsReport.fire(A.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(A.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${c.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:T!==0&&T!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),T!==0&&T!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:T!==0&&T!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),T!==0&&T!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(x){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(x){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(x){return this._windowTitle=x,this._onTitleChange.fire(x),!0}setIconName(x){return this._iconName=x,!0}setOrReportIndexedColor(x){const T=[],M=x.split(";");for(;M.length>1;){const O=M.shift(),F=M.shift();if(/^\d+$/.exec(O)){const q=parseInt(O);if(ee(q))if(F==="?")T.push({type:0,index:q});else{const Y=(0,C.parseColor)(F);Y&&T.push({type:1,index:q,color:Y})}}}return T.length&&this._onColor.fire(T),!0}setHyperlink(x){const T=x.split(";");return!(T.length<2)&&(T[1]?this._createHyperlink(T[0],T[1]):!T[0]&&this._finishHyperlink())}_createHyperlink(x,T){this._getCurrentLinkId()&&this._finishHyperlink();const M=x.split(":");let O;const F=M.findIndex((q=>q.startsWith("id=")));return F!==-1&&(O=M[F].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:O,uri:T}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(x,T){const M=x.split(";");for(let O=0;O<M.length&&!(T>=this._specialColors.length);++O,++T)if(M[O]==="?")this._onColor.fire([{type:0,index:this._specialColors[T]}]);else{const F=(0,C.parseColor)(M[O]);F&&this._onColor.fire([{type:1,index:this._specialColors[T],color:F}])}return!0}setOrReportFgColor(x){return this._setOrReportSpecialColor(x,0)}setOrReportBgColor(x){return this._setOrReportSpecialColor(x,1)}setOrReportCursorColor(x){return this._setOrReportSpecialColor(x,2)}restoreIndexedColor(x){if(!x)return this._onColor.fire([{type:2}]),!0;const T=[],M=x.split(";");for(let O=0;O<M.length;++O)if(/^\d+$/.exec(M[O])){const F=parseInt(M[O]);ee(F)&&T.push({type:2,index:F})}return T.length&&this._onColor.fire(T),!0}restoreFgColor(x){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(x){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(x){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,h.DEFAULT_CHARSET),!0}selectCharset(x){return x.length!==2?(this.selectDefaultCharset(),!0):(x[0]==="/"||this._charsetService.setgCharset(R[x[0]],h.CHARSETS[x[1]]||h.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const x=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,x,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=e.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=e.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(x){return this._charsetService.setgLevel(x),!0}screenAlignmentPattern(){const x=new s.CellData;x.content=4194373,x.fg=this._curAttrData.fg,x.bg=this._curAttrData.bg,this._setCursor(0,0);for(let T=0;T<this._bufferService.rows;++T){const M=this._activeBuffer.ybase+this._activeBuffer.y+T,O=this._activeBuffer.lines.get(M);O&&(O.fill(x),O.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(x,T){const M=this._bufferService.buffer,O=this._optionsService.rawOptions;return(F=>(this._coreService.triggerDataEvent(`${c.C0.ESC}${F}${c.C0.ESC}\\`),!0))(x==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:x==='"p'?'P1$r61;1"p':x==="r"?`P1$r${M.scrollTop+1};${M.scrollBottom+1}r`:x==="m"?"P1$r0m":x===" q"?`P1$r${{block:2,underline:4,bar:6}[O.cursorStyle]-(O.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(x,T){this._dirtyRowTracker.markRangeDirty(x,T)}}t.InputHandler=K;let V=class{constructor(G){this._bufferService=G,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(G){G<this.start?this.start=G:G>this.end&&(this.end=G)}markRangeDirty(G,x){G>x&&(N=G,G=x,x=N),G<this.start&&(this.start=G),x>this.end&&(this.end=x)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function ee(G){return 0<=G&&G<256}V=a([u(0,g.IBufferService)],V)},844:(k,t)=>{function o(a){for(const u of a)u.dispose();a.length=0}Object.defineProperty(t,"__esModule",{value:!0}),t.getDisposeArrayDisposable=t.disposeArray=t.toDisposable=t.MutableDisposable=t.Disposable=void 0,t.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const a of this._disposables)a.dispose();this._disposables.length=0}register(a){return this._disposables.push(a),a}unregister(a){const u=this._disposables.indexOf(a);u!==-1&&this._disposables.splice(u,1)}},t.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(a){this._isDisposed||a===this._value||(this._value?.dispose(),this._value=a)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}},t.toDisposable=function(a){return{dispose:a}},t.disposeArray=o,t.getDisposeArrayDisposable=function(a){return{dispose:()=>o(a)}}},1505:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FourKeyMap=t.TwoKeyMap=void 0;class o{constructor(){this._data={}}set(u,c,h){this._data[u]||(this._data[u]={}),this._data[u][c]=h}get(u,c){return this._data[u]?this._data[u][c]:void 0}clear(){this._data={}}}t.TwoKeyMap=o,t.FourKeyMap=class{constructor(){this._data=new o}set(a,u,c,h,p){this._data.get(a,u)||this._data.set(a,u,new o),this._data.get(a,u).set(c,h,p)}get(a,u,c,h){return this._data.get(a,u)?.get(c,h)}clear(){this._data.clear()}}},6114:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isChromeOS=t.isLinux=t.isWindows=t.isIphone=t.isIpad=t.isMac=t.getSafariVersion=t.isSafari=t.isLegacyEdge=t.isFirefox=t.isNode=void 0,t.isNode=typeof process<"u"&&"title"in process;const o=t.isNode?"node":navigator.userAgent,a=t.isNode?"node":navigator.platform;t.isFirefox=o.includes("Firefox"),t.isLegacyEdge=o.includes("Edge"),t.isSafari=/^((?!chrome|android).)*safari/i.test(o),t.getSafariVersion=function(){if(!t.isSafari)return 0;const u=o.match(/Version\/(\d+)/);return u===null||u.length<2?0:parseInt(u[1])},t.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(a),t.isIpad=a==="iPad",t.isIphone=a==="iPhone",t.isWindows=["Windows","Win16","Win32","WinCE"].includes(a),t.isLinux=a.indexOf("Linux")>=0,t.isChromeOS=/\bCrOS\b/.test(o)},6106:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SortedList=void 0;let o=0;t.SortedList=class{constructor(a){this._getKey=a,this._array=[]}clear(){this._array.length=0}insert(a){this._array.length!==0?(o=this._search(this._getKey(a)),this._array.splice(o,0,a)):this._array.push(a)}delete(a){if(this._array.length===0)return!1;const u=this._getKey(a);if(u===void 0||(o=this._search(u),o===-1)||this._getKey(this._array[o])!==u)return!1;do if(this._array[o]===a)return this._array.splice(o,1),!0;while(++o<this._array.length&&this._getKey(this._array[o])===u);return!1}*getKeyIterator(a){if(this._array.length!==0&&(o=this._search(a),!(o<0||o>=this._array.length)&&this._getKey(this._array[o])===a))do yield this._array[o];while(++o<this._array.length&&this._getKey(this._array[o])===a)}forEachByKey(a,u){if(this._array.length!==0&&(o=this._search(a),!(o<0||o>=this._array.length)&&this._getKey(this._array[o])===a))do u(this._array[o]);while(++o<this._array.length&&this._getKey(this._array[o])===a)}values(){return[...this._array].values()}_search(a){let u=0,c=this._array.length-1;for(;c>=u;){let h=u+c>>1;const p=this._getKey(this._array[h]);if(p>a)c=h-1;else{if(!(p<a)){for(;h>0&&this._getKey(this._array[h-1])===a;)h--;return h}u=h+1}}return u}}},7226:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DebouncedIdleTask=t.IdleTaskQueue=t.PriorityTaskQueue=void 0;const a=o(6114);class u{constructor(){this._tasks=[],this._i=0}enqueue(p){this._tasks.push(p),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(p){this._idleCallback=void 0;let S=0,_=0,e=p.timeRemaining(),n=0;for(;this._i<this._tasks.length;){if(S=Date.now(),this._tasks[this._i]()||this._i++,S=Math.max(1,Date.now()-S),_=Math.max(S,_),n=p.timeRemaining(),1.5*_>n)return e-S<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(e-S))}ms`),void this._start();e=n}this.clear()}}class c extends u{_requestCallback(p){return setTimeout((()=>p(this._createDeadline(16))))}_cancelCallback(p){clearTimeout(p)}_createDeadline(p){const S=Date.now()+p;return{timeRemaining:()=>Math.max(0,S-Date.now())}}}t.PriorityTaskQueue=c,t.IdleTaskQueue=!a.isNode&&"requestIdleCallback"in window?class extends u{_requestCallback(h){return requestIdleCallback(h)}_cancelCallback(h){cancelIdleCallback(h)}}:c,t.DebouncedIdleTask=class{constructor(){this._queue=new t.IdleTaskQueue}set(h){this._queue.clear(),this._queue.enqueue(h)}flush(){this._queue.flush()}}},9282:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateWindowsModeWrappedState=void 0;const a=o(643);t.updateWindowsModeWrappedState=function(u){const c=u.buffer.lines.get(u.buffer.ybase+u.buffer.y-1),h=c?.get(u.cols-1),p=u.buffer.lines.get(u.buffer.ybase+u.buffer.y);p&&h&&(p.isWrapped=h[a.CHAR_DATA_CODE_INDEX]!==a.NULL_CELL_CODE&&h[a.CHAR_DATA_CODE_INDEX]!==a.WHITESPACE_CELL_CODE)}},3734:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedAttrs=t.AttributeData=void 0;class o{constructor(){this.fg=0,this.bg=0,this.extended=new a}static toColorRGB(c){return[c>>>16&255,c>>>8&255,255&c]}static fromColorRGB(c){return(255&c[0])<<16|(255&c[1])<<8|255&c[2]}clone(){const c=new o;return c.fg=this.fg,c.bg=this.bg,c.extended=this.extended.clone(),c}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}t.AttributeData=o;class a{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(c){this._ext=c}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(c){this._ext&=-469762049,this._ext|=c<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(c){this._ext&=-67108864,this._ext|=67108863&c}get urlId(){return this._urlId}set urlId(c){this._urlId=c}get underlineVariantOffset(){const c=(3758096384&this._ext)>>29;return c<0?4294967288^c:c}set underlineVariantOffset(c){this._ext&=536870911,this._ext|=c<<29&3758096384}constructor(c=0,h=0){this._ext=0,this._urlId=0,this._ext=c,this._urlId=h}clone(){return new a(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}t.ExtendedAttrs=a},9092:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Buffer=t.MAX_BUFFER_SIZE=void 0;const a=o(6349),u=o(7226),c=o(3734),h=o(8437),p=o(4634),S=o(511),_=o(643),e=o(4863),n=o(7116);t.MAX_BUFFER_SIZE=4294967295,t.Buffer=class{constructor(r,s,d){this._hasScrollback=r,this._optionsService=s,this._bufferService=d,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=h.DEFAULT_ATTR_DATA.clone(),this.savedCharset=n.DEFAULT_CHARSET,this.markers=[],this._nullCell=S.CellData.fromCharData([0,_.NULL_CELL_CHAR,_.NULL_CELL_WIDTH,_.NULL_CELL_CODE]),this._whitespaceCell=S.CellData.fromCharData([0,_.WHITESPACE_CELL_CHAR,_.WHITESPACE_CELL_WIDTH,_.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new u.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new a.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(r){return r?(this._nullCell.fg=r.fg,this._nullCell.bg=r.bg,this._nullCell.extended=r.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new c.ExtendedAttrs),this._nullCell}getWhitespaceCell(r){return r?(this._whitespaceCell.fg=r.fg,this._whitespaceCell.bg=r.bg,this._whitespaceCell.extended=r.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new c.ExtendedAttrs),this._whitespaceCell}getBlankLine(r,s){return new h.BufferLine(this._bufferService.cols,this.getNullCell(r),s)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const r=this.ybase+this.y-this.ydisp;return r>=0&&r<this._rows}_getCorrectBufferLength(r){if(!this._hasScrollback)return r;const s=r+this._optionsService.rawOptions.scrollback;return s>t.MAX_BUFFER_SIZE?t.MAX_BUFFER_SIZE:s}fillViewportRows(r){if(this.lines.length===0){r===void 0&&(r=h.DEFAULT_ATTR_DATA);let s=this._rows;for(;s--;)this.lines.push(this.getBlankLine(r))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new a.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(r,s){const d=this.getNullCell(h.DEFAULT_ATTR_DATA);let g=0;const m=this._getCorrectBufferLength(s);if(m>this.lines.maxLength&&(this.lines.maxLength=m),this.lines.length>0){if(this._cols<r)for(let v=0;v<this.lines.length;v++)g+=+this.lines.get(v).resize(r,d);let w=0;if(this._rows<s)for(let v=this._rows;v<s;v++)this.lines.length<s+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new h.BufferLine(r,d)):this.ybase>0&&this.lines.length<=this.ybase+this.y+w+1?(this.ybase--,w++,this.ydisp>0&&this.ydisp--):this.lines.push(new h.BufferLine(r,d)));else for(let v=this._rows;v>s;v--)this.lines.length>s+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(m<this.lines.maxLength){const v=this.lines.length-m;v>0&&(this.lines.trimStart(v),this.ybase=Math.max(this.ybase-v,0),this.ydisp=Math.max(this.ydisp-v,0),this.savedY=Math.max(this.savedY-v,0)),this.lines.maxLength=m}this.x=Math.min(this.x,r-1),this.y=Math.min(this.y,s-1),w&&(this.y+=w),this.savedX=Math.min(this.savedX,r-1),this.scrollTop=0}if(this.scrollBottom=s-1,this._isReflowEnabled&&(this._reflow(r,s),this._cols>r))for(let w=0;w<this.lines.length;w++)g+=+this.lines.get(w).resize(r,d);this._cols=r,this._rows=s,this._memoryCleanupQueue.clear(),g>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue((()=>this._batchedMemoryCleanup())))}_batchedMemoryCleanup(){let r=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,r=!1);let s=0;for(;this._memoryCleanupPosition<this.lines.length;)if(s+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),s>100)return!0;return r}get _isReflowEnabled(){const r=this._optionsService.rawOptions.windowsPty;return r&&r.buildNumber?this._hasScrollback&&r.backend==="conpty"&&r.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(r,s){this._cols!==r&&(r>this._cols?this._reflowLarger(r,s):this._reflowSmaller(r,s))}_reflowLarger(r,s){const d=(0,p.reflowLargerGetLinesToRemove)(this.lines,this._cols,r,this.ybase+this.y,this.getNullCell(h.DEFAULT_ATTR_DATA));if(d.length>0){const g=(0,p.reflowLargerCreateNewLayout)(this.lines,d);(0,p.reflowLargerApplyNewLayout)(this.lines,g.layout),this._reflowLargerAdjustViewport(r,s,g.countRemoved)}}_reflowLargerAdjustViewport(r,s,d){const g=this.getNullCell(h.DEFAULT_ATTR_DATA);let m=d;for(;m-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<s&&this.lines.push(new h.BufferLine(r,g))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-d,0)}_reflowSmaller(r,s){const d=this.getNullCell(h.DEFAULT_ATTR_DATA),g=[];let m=0;for(let w=this.lines.length-1;w>=0;w--){let v=this.lines.get(w);if(!v||!v.isWrapped&&v.getTrimmedLength()<=r)continue;const C=[v];for(;v.isWrapped&&w>0;)v=this.lines.get(--w),C.unshift(v);const R=this.ybase+this.y;if(R>=w&&R<w+C.length)continue;const B=C[C.length-1].getTrimmedLength(),P=(0,p.reflowSmallerGetNewLineLengths)(C,this._cols,r),A=P.length-C.length;let N;N=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+A):Math.max(0,this.lines.length-this.lines.maxLength+A);const K=[];for(let M=0;M<A;M++){const O=this.getBlankLine(h.DEFAULT_ATTR_DATA,!0);K.push(O)}K.length>0&&(g.push({start:w+C.length+m,newLines:K}),m+=K.length),C.push(...K);let V=P.length-1,ee=P[V];ee===0&&(V--,ee=P[V]);let G=C.length-A-1,x=B;for(;G>=0;){const M=Math.min(x,ee);if(C[V]===void 0)break;if(C[V].copyCellsFrom(C[G],x-M,ee-M,M,!0),ee-=M,ee===0&&(V--,ee=P[V]),x-=M,x===0){G--;const O=Math.max(G,0);x=(0,p.getWrappedLineTrimmedLength)(C,O,this._cols)}}for(let M=0;M<C.length;M++)P[M]<r&&C[M].setCell(P[M],d);let T=A-N;for(;T-- >0;)this.ybase===0?this.y<s-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+m)-s&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+A,this.ybase+s-1)}if(g.length>0){const w=[],v=[];for(let V=0;V<this.lines.length;V++)v.push(this.lines.get(V));const C=this.lines.length;let R=C-1,B=0,P=g[B];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+m);let A=0;for(let V=Math.min(this.lines.maxLength-1,C+m-1);V>=0;V--)if(P&&P.start>R+A){for(let ee=P.newLines.length-1;ee>=0;ee--)this.lines.set(V--,P.newLines[ee]);V++,w.push({index:R+1,amount:P.newLines.length}),A+=P.newLines.length,P=g[++B]}else this.lines.set(V,v[R--]);let N=0;for(let V=w.length-1;V>=0;V--)w[V].index+=N,this.lines.onInsertEmitter.fire(w[V]),N+=w[V].amount;const K=Math.max(0,C+m-this.lines.maxLength);K>0&&this.lines.onTrimEmitter.fire(K)}}translateBufferLineToString(r,s,d=0,g){const m=this.lines.get(r);return m?m.translateToString(s,d,g):""}getWrappedRangeForLine(r){let s=r,d=r;for(;s>0&&this.lines.get(s).isWrapped;)s--;for(;d+1<this.lines.length&&this.lines.get(d+1).isWrapped;)d++;return{first:s,last:d}}setupTabStops(r){for(r!=null?this.tabs[r]||(r=this.prevStop(r)):(this.tabs={},r=0);r<this._cols;r+=this._optionsService.rawOptions.tabStopWidth)this.tabs[r]=!0}prevStop(r){for(r==null&&(r=this.x);!this.tabs[--r]&&r>0;);return r>=this._cols?this._cols-1:r<0?0:r}nextStop(r){for(r==null&&(r=this.x);!this.tabs[++r]&&r<this._cols;);return r>=this._cols?this._cols-1:r<0?0:r}clearMarkers(r){this._isClearing=!0;for(let s=0;s<this.markers.length;s++)this.markers[s].line===r&&(this.markers[s].dispose(),this.markers.splice(s--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let r=0;r<this.markers.length;r++)this.markers[r].dispose(),this.markers.splice(r--,1);this._isClearing=!1}addMarker(r){const s=new e.Marker(r);return this.markers.push(s),s.register(this.lines.onTrim((d=>{s.line-=d,s.line<0&&s.dispose()}))),s.register(this.lines.onInsert((d=>{s.line>=d.index&&(s.line+=d.amount)}))),s.register(this.lines.onDelete((d=>{s.line>=d.index&&s.line<d.index+d.amount&&s.dispose(),s.line>d.index&&(s.line-=d.amount)}))),s.register(s.onDispose((()=>this._removeMarker(s)))),s}_removeMarker(r){this._isClearing||this.markers.splice(this.markers.indexOf(r),1)}}},8437:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLine=t.DEFAULT_ATTR_DATA=void 0;const a=o(3734),u=o(511),c=o(643),h=o(482);t.DEFAULT_ATTR_DATA=Object.freeze(new a.AttributeData);let p=0;class S{constructor(e,n,r=!1){this.isWrapped=r,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*e);const s=n||u.CellData.fromCharData([0,c.NULL_CELL_CHAR,c.NULL_CELL_WIDTH,c.NULL_CELL_CODE]);for(let d=0;d<e;++d)this.setCell(d,s);this.length=e}get(e){const n=this._data[3*e+0],r=2097151&n;return[this._data[3*e+1],2097152&n?this._combined[e]:r?(0,h.stringFromCodePoint)(r):"",n>>22,2097152&n?this._combined[e].charCodeAt(this._combined[e].length-1):r]}set(e,n){this._data[3*e+1]=n[c.CHAR_DATA_ATTR_INDEX],n[c.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[e]=n[1],this._data[3*e+0]=2097152|e|n[c.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*e+0]=n[c.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|n[c.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(e){return this._data[3*e+0]>>22}hasWidth(e){return 12582912&this._data[3*e+0]}getFg(e){return this._data[3*e+1]}getBg(e){return this._data[3*e+2]}hasContent(e){return 4194303&this._data[3*e+0]}getCodePoint(e){const n=this._data[3*e+0];return 2097152&n?this._combined[e].charCodeAt(this._combined[e].length-1):2097151&n}isCombined(e){return 2097152&this._data[3*e+0]}getString(e){const n=this._data[3*e+0];return 2097152&n?this._combined[e]:2097151&n?(0,h.stringFromCodePoint)(2097151&n):""}isProtected(e){return 536870912&this._data[3*e+2]}loadCell(e,n){return p=3*e,n.content=this._data[p+0],n.fg=this._data[p+1],n.bg=this._data[p+2],2097152&n.content&&(n.combinedData=this._combined[e]),268435456&n.bg&&(n.extended=this._extendedAttrs[e]),n}setCell(e,n){2097152&n.content&&(this._combined[e]=n.combinedData),268435456&n.bg&&(this._extendedAttrs[e]=n.extended),this._data[3*e+0]=n.content,this._data[3*e+1]=n.fg,this._data[3*e+2]=n.bg}setCellFromCodepoint(e,n,r,s){268435456&s.bg&&(this._extendedAttrs[e]=s.extended),this._data[3*e+0]=n|r<<22,this._data[3*e+1]=s.fg,this._data[3*e+2]=s.bg}addCodepointToCell(e,n,r){let s=this._data[3*e+0];2097152&s?this._combined[e]+=(0,h.stringFromCodePoint)(n):2097151&s?(this._combined[e]=(0,h.stringFromCodePoint)(2097151&s)+(0,h.stringFromCodePoint)(n),s&=-2097152,s|=2097152):s=n|4194304,r&&(s&=-12582913,s|=r<<22),this._data[3*e+0]=s}insertCells(e,n,r){if((e%=this.length)&&this.getWidth(e-1)===2&&this.setCellFromCodepoint(e-1,0,1,r),n<this.length-e){const s=new u.CellData;for(let d=this.length-e-n-1;d>=0;--d)this.setCell(e+n+d,this.loadCell(e+d,s));for(let d=0;d<n;++d)this.setCell(e+d,r)}else for(let s=e;s<this.length;++s)this.setCell(s,r);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,r)}deleteCells(e,n,r){if(e%=this.length,n<this.length-e){const s=new u.CellData;for(let d=0;d<this.length-e-n;++d)this.setCell(e+d,this.loadCell(e+n+d,s));for(let d=this.length-n;d<this.length;++d)this.setCell(d,r)}else for(let s=e;s<this.length;++s)this.setCell(s,r);e&&this.getWidth(e-1)===2&&this.setCellFromCodepoint(e-1,0,1,r),this.getWidth(e)!==0||this.hasContent(e)||this.setCellFromCodepoint(e,0,1,r)}replaceCells(e,n,r,s=!1){if(s)for(e&&this.getWidth(e-1)===2&&!this.isProtected(e-1)&&this.setCellFromCodepoint(e-1,0,1,r),n<this.length&&this.getWidth(n-1)===2&&!this.isProtected(n)&&this.setCellFromCodepoint(n,0,1,r);e<n&&e<this.length;)this.isProtected(e)||this.setCell(e,r),e++;else for(e&&this.getWidth(e-1)===2&&this.setCellFromCodepoint(e-1,0,1,r),n<this.length&&this.getWidth(n-1)===2&&this.setCellFromCodepoint(n,0,1,r);e<n&&e<this.length;)this.setCell(e++,r)}resize(e,n){if(e===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const r=3*e;if(e>this.length){if(this._data.buffer.byteLength>=4*r)this._data=new Uint32Array(this._data.buffer,0,r);else{const s=new Uint32Array(r);s.set(this._data),this._data=s}for(let s=this.length;s<e;++s)this.setCell(s,n)}else{this._data=this._data.subarray(0,r);const s=Object.keys(this._combined);for(let g=0;g<s.length;g++){const m=parseInt(s[g],10);m>=e&&delete this._combined[m]}const d=Object.keys(this._extendedAttrs);for(let g=0;g<d.length;g++){const m=parseInt(d[g],10);m>=e&&delete this._extendedAttrs[m]}}return this.length=e,4*r*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const e=new Uint32Array(this._data.length);return e.set(this._data),this._data=e,1}return 0}fill(e,n=!1){if(n)for(let r=0;r<this.length;++r)this.isProtected(r)||this.setCell(r,e);else{this._combined={},this._extendedAttrs={};for(let r=0;r<this.length;++r)this.setCell(r,e)}}copyFrom(e){this.length!==e.length?this._data=new Uint32Array(e._data):this._data.set(e._data),this.length=e.length,this._combined={};for(const n in e._combined)this._combined[n]=e._combined[n];this._extendedAttrs={};for(const n in e._extendedAttrs)this._extendedAttrs[n]=e._extendedAttrs[n];this.isWrapped=e.isWrapped}clone(){const e=new S(0);e._data=new Uint32Array(this._data),e.length=this.length;for(const n in this._combined)e._combined[n]=this._combined[n];for(const n in this._extendedAttrs)e._extendedAttrs[n]=this._extendedAttrs[n];return e.isWrapped=this.isWrapped,e}getTrimmedLength(){for(let e=this.length-1;e>=0;--e)if(4194303&this._data[3*e+0])return e+(this._data[3*e+0]>>22);return 0}getNoBgTrimmedLength(){for(let e=this.length-1;e>=0;--e)if(4194303&this._data[3*e+0]||50331648&this._data[3*e+2])return e+(this._data[3*e+0]>>22);return 0}copyCellsFrom(e,n,r,s,d){const g=e._data;if(d)for(let w=s-1;w>=0;w--){for(let v=0;v<3;v++)this._data[3*(r+w)+v]=g[3*(n+w)+v];268435456&g[3*(n+w)+2]&&(this._extendedAttrs[r+w]=e._extendedAttrs[n+w])}else for(let w=0;w<s;w++){for(let v=0;v<3;v++)this._data[3*(r+w)+v]=g[3*(n+w)+v];268435456&g[3*(n+w)+2]&&(this._extendedAttrs[r+w]=e._extendedAttrs[n+w])}const m=Object.keys(e._combined);for(let w=0;w<m.length;w++){const v=parseInt(m[w],10);v>=n&&(this._combined[v-n+r]=e._combined[v])}}translateToString(e,n,r,s){n=n??0,r=r??this.length,e&&(r=Math.min(r,this.getTrimmedLength())),s&&(s.length=0);let d="";for(;n<r;){const g=this._data[3*n+0],m=2097151&g,w=2097152&g?this._combined[n]:m?(0,h.stringFromCodePoint)(m):c.WHITESPACE_CELL_CHAR;if(d+=w,s)for(let v=0;v<w.length;++v)s.push(n);n+=g>>22||1}return s&&s.push(n),d}}t.BufferLine=S},4841:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRangeLength=void 0,t.getRangeLength=function(o,a){if(o.start.y>o.end.y)throw new Error(`Buffer range end (${o.end.x}, ${o.end.y}) cannot be before start (${o.start.x}, ${o.start.y})`);return a*(o.end.y-o.start.y)+(o.end.x-o.start.x+1)}},4634:(k,t)=>{function o(a,u,c){if(u===a.length-1)return a[u].getTrimmedLength();const h=!a[u].hasContent(c-1)&&a[u].getWidth(c-1)===1,p=a[u+1].getWidth(0)===2;return h&&p?c-1:c}Object.defineProperty(t,"__esModule",{value:!0}),t.getWrappedLineTrimmedLength=t.reflowSmallerGetNewLineLengths=t.reflowLargerApplyNewLayout=t.reflowLargerCreateNewLayout=t.reflowLargerGetLinesToRemove=void 0,t.reflowLargerGetLinesToRemove=function(a,u,c,h,p){const S=[];for(let _=0;_<a.length-1;_++){let e=_,n=a.get(++e);if(!n.isWrapped)continue;const r=[a.get(_)];for(;e<a.length&&n.isWrapped;)r.push(n),n=a.get(++e);if(h>=_&&h<e){_+=r.length-1;continue}let s=0,d=o(r,s,u),g=1,m=0;for(;g<r.length;){const v=o(r,g,u),C=v-m,R=c-d,B=Math.min(C,R);r[s].copyCellsFrom(r[g],m,d,B,!1),d+=B,d===c&&(s++,d=0),m+=B,m===v&&(g++,m=0),d===0&&s!==0&&r[s-1].getWidth(c-1)===2&&(r[s].copyCellsFrom(r[s-1],c-1,d++,1,!1),r[s-1].setCell(c-1,p))}r[s].replaceCells(d,c,p);let w=0;for(let v=r.length-1;v>0&&(v>s||r[v].getTrimmedLength()===0);v--)w++;w>0&&(S.push(_+r.length-w),S.push(w)),_+=r.length-1}return S},t.reflowLargerCreateNewLayout=function(a,u){const c=[];let h=0,p=u[h],S=0;for(let _=0;_<a.length;_++)if(p===_){const e=u[++h];a.onDeleteEmitter.fire({index:_-S,amount:e}),_+=e-1,S+=e,p=u[++h]}else c.push(_);return{layout:c,countRemoved:S}},t.reflowLargerApplyNewLayout=function(a,u){const c=[];for(let h=0;h<u.length;h++)c.push(a.get(u[h]));for(let h=0;h<c.length;h++)a.set(h,c[h]);a.length=u.length},t.reflowSmallerGetNewLineLengths=function(a,u,c){const h=[],p=a.map(((n,r)=>o(a,r,u))).reduce(((n,r)=>n+r));let S=0,_=0,e=0;for(;e<p;){if(p-e<c){h.push(p-e);break}S+=c;const n=o(a,_,u);S>n&&(S-=n,_++);const r=a[_].getWidth(S-1)===2;r&&S--;const s=r?c-1:c;h.push(s),e+=s}return h},t.getWrappedLineTrimmedLength=o},5295:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferSet=void 0;const a=o(8460),u=o(844),c=o(9092);class h extends u.Disposable{constructor(S,_){super(),this._optionsService=S,this._bufferService=_,this._onBufferActivate=this.register(new a.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.resize(this._bufferService.cols,this._bufferService.rows)))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",(()=>this.setupTabStops())))}reset(){this._normal=new c.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new c.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(S){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(S),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(S,_){this._normal.resize(S,_),this._alt.resize(S,_),this.setupTabStops(S)}setupTabStops(S){this._normal.setupTabStops(S),this._alt.setupTabStops(S)}}t.BufferSet=h},511:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CellData=void 0;const a=o(482),u=o(643),c=o(3734);class h extends c.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new c.ExtendedAttrs,this.combinedData=""}static fromCharData(S){const _=new h;return _.setFromCharData(S),_}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,a.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(S){this.fg=S[u.CHAR_DATA_ATTR_INDEX],this.bg=0;let _=!1;if(S[u.CHAR_DATA_CHAR_INDEX].length>2)_=!0;else if(S[u.CHAR_DATA_CHAR_INDEX].length===2){const e=S[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=e&&e<=56319){const n=S[u.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=n&&n<=57343?this.content=1024*(e-55296)+n-56320+65536|S[u.CHAR_DATA_WIDTH_INDEX]<<22:_=!0}else _=!0}else this.content=S[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|S[u.CHAR_DATA_WIDTH_INDEX]<<22;_&&(this.combinedData=S[u.CHAR_DATA_CHAR_INDEX],this.content=2097152|S[u.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}t.CellData=h},643:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WHITESPACE_CELL_CODE=t.WHITESPACE_CELL_WIDTH=t.WHITESPACE_CELL_CHAR=t.NULL_CELL_CODE=t.NULL_CELL_WIDTH=t.NULL_CELL_CHAR=t.CHAR_DATA_CODE_INDEX=t.CHAR_DATA_WIDTH_INDEX=t.CHAR_DATA_CHAR_INDEX=t.CHAR_DATA_ATTR_INDEX=t.DEFAULT_EXT=t.DEFAULT_ATTR=t.DEFAULT_COLOR=void 0,t.DEFAULT_COLOR=0,t.DEFAULT_ATTR=256|t.DEFAULT_COLOR<<9,t.DEFAULT_EXT=0,t.CHAR_DATA_ATTR_INDEX=0,t.CHAR_DATA_CHAR_INDEX=1,t.CHAR_DATA_WIDTH_INDEX=2,t.CHAR_DATA_CODE_INDEX=3,t.NULL_CELL_CHAR="",t.NULL_CELL_WIDTH=1,t.NULL_CELL_CODE=0,t.WHITESPACE_CELL_CHAR=" ",t.WHITESPACE_CELL_WIDTH=1,t.WHITESPACE_CELL_CODE=32},4863:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Marker=void 0;const a=o(8460),u=o(844);class c{get id(){return this._id}constructor(p){this.line=p,this.isDisposed=!1,this._disposables=[],this._id=c._nextId++,this._onDispose=this.register(new a.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,u.disposeArray)(this._disposables),this._disposables.length=0)}register(p){return this._disposables.push(p),p}}t.Marker=c,c._nextId=1},7116:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CHARSET=t.CHARSETS=void 0,t.CHARSETS={},t.DEFAULT_CHARSET=t.CHARSETS.B,t.CHARSETS[0]={"`":"â",a:"â",b:"â",c:"â",d:"â",e:"â",f:"Â°",g:"Â±",h:"â¤",i:"â",j:"â",k:"â",l:"â",m:"â",n:"â¼",o:"âº",p:"â»",q:"â",r:"â¼",s:"â½",t:"â",u:"â¤",v:"â´",w:"â¬",x:"â",y:"â¤",z:"â¥","{":"Ï","|":"â ","}":"Â£","~":"Â·"},t.CHARSETS.A={"#":"Â£"},t.CHARSETS.B=void 0,t.CHARSETS[4]={"#":"Â£","@":"Â¾","[":"ij","\\":"Â½","]":"|","{":"Â¨","|":"f","}":"Â¼","~":"Â´"},t.CHARSETS.C=t.CHARSETS[5]={"[":"Ã","\\":"Ã","]":"Ã","^":"Ã","`":"Ã©","{":"Ã¤","|":"Ã¶","}":"Ã¥","~":"Ã¼"},t.CHARSETS.R={"#":"Â£","@":"Ã ","[":"Â°","\\":"Ã§","]":"Â§","{":"Ã©","|":"Ã¹","}":"Ã¨","~":"Â¨"},t.CHARSETS.Q={"@":"Ã ","[":"Ã¢","\\":"Ã§","]":"Ãª","^":"Ã®","`":"Ã´","{":"Ã©","|":"Ã¹","}":"Ã¨","~":"Ã»"},t.CHARSETS.K={"@":"Â§","[":"Ã","\\":"Ã","]":"Ã","{":"Ã¤","|":"Ã¶","}":"Ã¼","~":"Ã"},t.CHARSETS.Y={"#":"Â£","@":"Â§","[":"Â°","\\":"Ã§","]":"Ã©","`":"Ã¹","{":"Ã ","|":"Ã²","}":"Ã¨","~":"Ã¬"},t.CHARSETS.E=t.CHARSETS[6]={"@":"Ã","[":"Ã","\\":"Ã","]":"Ã","^":"Ã","`":"Ã¤","{":"Ã¦","|":"Ã¸","}":"Ã¥","~":"Ã¼"},t.CHARSETS.Z={"#":"Â£","@":"Â§","[":"Â¡","\\":"Ã","]":"Â¿","{":"Â°","|":"Ã±","}":"Ã§"},t.CHARSETS.H=t.CHARSETS[7]={"@":"Ã","[":"Ã","\\":"Ã","]":"Ã","^":"Ã","`":"Ã©","{":"Ã¤","|":"Ã¶","}":"Ã¥","~":"Ã¼"},t.CHARSETS["="]={"#":"Ã¹","@":"Ã ","[":"Ã©","\\":"Ã§","]":"Ãª","^":"Ã®",_:"Ã¨","`":"Ã´","{":"Ã¤","|":"Ã¶","}":"Ã¼","~":"Ã»"}},2584:(k,t)=>{var o,a,u;Object.defineProperty(t,"__esModule",{value:!0}),t.C1_ESCAPED=t.C1=t.C0=void 0,(function(c){c.NUL="\0",c.SOH="",c.STX="",c.ETX="",c.EOT="",c.ENQ="",c.ACK="",c.BEL="\x07",c.BS="\b",c.HT="	",c.LF=`
`,c.VT="\v",c.FF="\f",c.CR="\r",c.SO="",c.SI="",c.DLE="",c.DC1="",c.DC2="",c.DC3="",c.DC4="",c.NAK="",c.SYN="",c.ETB="",c.CAN="",c.EM="",c.SUB="",c.ESC="\x1B",c.FS="",c.GS="",c.RS="",c.US="",c.SP=" ",c.DEL=""})(o||(t.C0=o={})),(function(c){c.PAD="Â",c.HOP="Â",c.BPH="Â",c.NBH="Â",c.IND="Â",c.NEL="Â",c.SSA="Â",c.ESA="Â",c.HTS="Â",c.HTJ="Â",c.VTS="Â",c.PLD="Â",c.PLU="Â",c.RI="Â",c.SS2="Â",c.SS3="Â",c.DCS="Â",c.PU1="Â",c.PU2="Â",c.STS="Â",c.CCH="Â",c.MW="Â",c.SPA="Â",c.EPA="Â",c.SOS="Â",c.SGCI="Â",c.SCI="Â",c.CSI="Â",c.ST="Â",c.OSC="Â",c.PM="Â",c.APC="Â"})(a||(t.C1=a={})),(function(c){c.ST=`${o.ESC}\\`})(u||(t.C1_ESCAPED=u={}))},7399:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateKeyboardEvent=void 0;const a=o(2584),u={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};t.evaluateKeyboardEvent=function(c,h,p,S){const _={type:0,cancel:!1,key:void 0},e=(c.shiftKey?1:0)|(c.altKey?2:0)|(c.ctrlKey?4:0)|(c.metaKey?8:0);switch(c.keyCode){case 0:c.key==="UIKeyInputUpArrow"?_.key=h?a.C0.ESC+"OA":a.C0.ESC+"[A":c.key==="UIKeyInputLeftArrow"?_.key=h?a.C0.ESC+"OD":a.C0.ESC+"[D":c.key==="UIKeyInputRightArrow"?_.key=h?a.C0.ESC+"OC":a.C0.ESC+"[C":c.key==="UIKeyInputDownArrow"&&(_.key=h?a.C0.ESC+"OB":a.C0.ESC+"[B");break;case 8:_.key=c.ctrlKey?"\b":a.C0.DEL,c.altKey&&(_.key=a.C0.ESC+_.key);break;case 9:if(c.shiftKey){_.key=a.C0.ESC+"[Z";break}_.key=a.C0.HT,_.cancel=!0;break;case 13:_.key=c.altKey?a.C0.ESC+a.C0.CR:a.C0.CR,_.cancel=!0;break;case 27:_.key=a.C0.ESC,c.altKey&&(_.key=a.C0.ESC+a.C0.ESC),_.cancel=!0;break;case 37:if(c.metaKey)break;e?(_.key=a.C0.ESC+"[1;"+(e+1)+"D",_.key===a.C0.ESC+"[1;3D"&&(_.key=a.C0.ESC+(p?"b":"[1;5D"))):_.key=h?a.C0.ESC+"OD":a.C0.ESC+"[D";break;case 39:if(c.metaKey)break;e?(_.key=a.C0.ESC+"[1;"+(e+1)+"C",_.key===a.C0.ESC+"[1;3C"&&(_.key=a.C0.ESC+(p?"f":"[1;5C"))):_.key=h?a.C0.ESC+"OC":a.C0.ESC+"[C";break;case 38:if(c.metaKey)break;e?(_.key=a.C0.ESC+"[1;"+(e+1)+"A",p||_.key!==a.C0.ESC+"[1;3A"||(_.key=a.C0.ESC+"[1;5A")):_.key=h?a.C0.ESC+"OA":a.C0.ESC+"[A";break;case 40:if(c.metaKey)break;e?(_.key=a.C0.ESC+"[1;"+(e+1)+"B",p||_.key!==a.C0.ESC+"[1;3B"||(_.key=a.C0.ESC+"[1;5B")):_.key=h?a.C0.ESC+"OB":a.C0.ESC+"[B";break;case 45:c.shiftKey||c.ctrlKey||(_.key=a.C0.ESC+"[2~");break;case 46:_.key=e?a.C0.ESC+"[3;"+(e+1)+"~":a.C0.ESC+"[3~";break;case 36:_.key=e?a.C0.ESC+"[1;"+(e+1)+"H":h?a.C0.ESC+"OH":a.C0.ESC+"[H";break;case 35:_.key=e?a.C0.ESC+"[1;"+(e+1)+"F":h?a.C0.ESC+"OF":a.C0.ESC+"[F";break;case 33:c.shiftKey?_.type=2:c.ctrlKey?_.key=a.C0.ESC+"[5;"+(e+1)+"~":_.key=a.C0.ESC+"[5~";break;case 34:c.shiftKey?_.type=3:c.ctrlKey?_.key=a.C0.ESC+"[6;"+(e+1)+"~":_.key=a.C0.ESC+"[6~";break;case 112:_.key=e?a.C0.ESC+"[1;"+(e+1)+"P":a.C0.ESC+"OP";break;case 113:_.key=e?a.C0.ESC+"[1;"+(e+1)+"Q":a.C0.ESC+"OQ";break;case 114:_.key=e?a.C0.ESC+"[1;"+(e+1)+"R":a.C0.ESC+"OR";break;case 115:_.key=e?a.C0.ESC+"[1;"+(e+1)+"S":a.C0.ESC+"OS";break;case 116:_.key=e?a.C0.ESC+"[15;"+(e+1)+"~":a.C0.ESC+"[15~";break;case 117:_.key=e?a.C0.ESC+"[17;"+(e+1)+"~":a.C0.ESC+"[17~";break;case 118:_.key=e?a.C0.ESC+"[18;"+(e+1)+"~":a.C0.ESC+"[18~";break;case 119:_.key=e?a.C0.ESC+"[19;"+(e+1)+"~":a.C0.ESC+"[19~";break;case 120:_.key=e?a.C0.ESC+"[20;"+(e+1)+"~":a.C0.ESC+"[20~";break;case 121:_.key=e?a.C0.ESC+"[21;"+(e+1)+"~":a.C0.ESC+"[21~";break;case 122:_.key=e?a.C0.ESC+"[23;"+(e+1)+"~":a.C0.ESC+"[23~";break;case 123:_.key=e?a.C0.ESC+"[24;"+(e+1)+"~":a.C0.ESC+"[24~";break;default:if(!c.ctrlKey||c.shiftKey||c.altKey||c.metaKey)if(p&&!S||!c.altKey||c.metaKey)!p||c.altKey||c.ctrlKey||c.shiftKey||!c.metaKey?c.key&&!c.ctrlKey&&!c.altKey&&!c.metaKey&&c.keyCode>=48&&c.key.length===1?_.key=c.key:c.key&&c.ctrlKey&&(c.key==="_"&&(_.key=a.C0.US),c.key==="@"&&(_.key=a.C0.NUL)):c.keyCode===65&&(_.type=1);else{const n=u[c.keyCode],r=n?.[c.shiftKey?1:0];if(r)_.key=a.C0.ESC+r;else if(c.keyCode>=65&&c.keyCode<=90){const s=c.ctrlKey?c.keyCode-64:c.keyCode+32;let d=String.fromCharCode(s);c.shiftKey&&(d=d.toUpperCase()),_.key=a.C0.ESC+d}else if(c.keyCode===32)_.key=a.C0.ESC+(c.ctrlKey?a.C0.NUL:" ");else if(c.key==="Dead"&&c.code.startsWith("Key")){let s=c.code.slice(3,4);c.shiftKey||(s=s.toLowerCase()),_.key=a.C0.ESC+s,_.cancel=!0}}else c.keyCode>=65&&c.keyCode<=90?_.key=String.fromCharCode(c.keyCode-64):c.keyCode===32?_.key=a.C0.NUL:c.keyCode>=51&&c.keyCode<=55?_.key=String.fromCharCode(c.keyCode-51+27):c.keyCode===56?_.key=a.C0.DEL:c.keyCode===219?_.key=a.C0.ESC:c.keyCode===220?_.key=a.C0.FS:c.keyCode===221&&(_.key=a.C0.GS)}return _}},482:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Utf8ToUtf32=t.StringToUtf32=t.utf32ToString=t.stringFromCodePoint=void 0,t.stringFromCodePoint=function(o){return o>65535?(o-=65536,String.fromCharCode(55296+(o>>10))+String.fromCharCode(o%1024+56320)):String.fromCharCode(o)},t.utf32ToString=function(o,a=0,u=o.length){let c="";for(let h=a;h<u;++h){let p=o[h];p>65535?(p-=65536,c+=String.fromCharCode(55296+(p>>10))+String.fromCharCode(p%1024+56320)):c+=String.fromCharCode(p)}return c},t.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(o,a){const u=o.length;if(!u)return 0;let c=0,h=0;if(this._interim){const p=o.charCodeAt(h++);56320<=p&&p<=57343?a[c++]=1024*(this._interim-55296)+p-56320+65536:(a[c++]=this._interim,a[c++]=p),this._interim=0}for(let p=h;p<u;++p){const S=o.charCodeAt(p);if(55296<=S&&S<=56319){if(++p>=u)return this._interim=S,c;const _=o.charCodeAt(p);56320<=_&&_<=57343?a[c++]=1024*(S-55296)+_-56320+65536:(a[c++]=S,a[c++]=_)}else S!==65279&&(a[c++]=S)}return c}},t.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(o,a){const u=o.length;if(!u)return 0;let c,h,p,S,_=0,e=0,n=0;if(this.interim[0]){let d=!1,g=this.interim[0];g&=(224&g)==192?31:(240&g)==224?15:7;let m,w=0;for(;(m=63&this.interim[++w])&&w<4;)g<<=6,g|=m;const v=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,C=v-w;for(;n<C;){if(n>=u)return 0;if(m=o[n++],(192&m)!=128){n--,d=!0;break}this.interim[w++]=m,g<<=6,g|=63&m}d||(v===2?g<128?n--:a[_++]=g:v===3?g<2048||g>=55296&&g<=57343||g===65279||(a[_++]=g):g<65536||g>1114111||(a[_++]=g)),this.interim.fill(0)}const r=u-4;let s=n;for(;s<u;){for(;!(!(s<r)||128&(c=o[s])||128&(h=o[s+1])||128&(p=o[s+2])||128&(S=o[s+3]));)a[_++]=c,a[_++]=h,a[_++]=p,a[_++]=S,s+=4;if(c=o[s++],c<128)a[_++]=c;else if((224&c)==192){if(s>=u)return this.interim[0]=c,_;if(h=o[s++],(192&h)!=128){s--;continue}if(e=(31&c)<<6|63&h,e<128){s--;continue}a[_++]=e}else if((240&c)==224){if(s>=u)return this.interim[0]=c,_;if(h=o[s++],(192&h)!=128){s--;continue}if(s>=u)return this.interim[0]=c,this.interim[1]=h,_;if(p=o[s++],(192&p)!=128){s--;continue}if(e=(15&c)<<12|(63&h)<<6|63&p,e<2048||e>=55296&&e<=57343||e===65279)continue;a[_++]=e}else if((248&c)==240){if(s>=u)return this.interim[0]=c,_;if(h=o[s++],(192&h)!=128){s--;continue}if(s>=u)return this.interim[0]=c,this.interim[1]=h,_;if(p=o[s++],(192&p)!=128){s--;continue}if(s>=u)return this.interim[0]=c,this.interim[1]=h,this.interim[2]=p,_;if(S=o[s++],(192&S)!=128){s--;continue}if(e=(7&c)<<18|(63&h)<<12|(63&p)<<6|63&S,e<65536||e>1114111)continue;a[_++]=e}}return _}}},225:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeV6=void 0;const a=o(1480),u=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],c=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let h;t.UnicodeV6=class{constructor(){if(this.version="6",!h){h=new Uint8Array(65536),h.fill(1),h[0]=0,h.fill(0,1,32),h.fill(0,127,160),h.fill(2,4352,4448),h[9001]=2,h[9002]=2,h.fill(2,11904,42192),h[12351]=1,h.fill(2,44032,55204),h.fill(2,63744,64256),h.fill(2,65040,65050),h.fill(2,65072,65136),h.fill(2,65280,65377),h.fill(2,65504,65511);for(let p=0;p<u.length;++p)h.fill(0,u[p][0],u[p][1]+1)}}wcwidth(p){return p<32?0:p<127?1:p<65536?h[p]:(function(S,_){let e,n=0,r=_.length-1;if(S<_[0][0]||S>_[r][1])return!1;for(;r>=n;)if(e=n+r>>1,S>_[e][1])n=e+1;else{if(!(S<_[e][0]))return!0;r=e-1}return!1})(p,c)?0:p>=131072&&p<=196605||p>=196608&&p<=262141?2:1}charProperties(p,S){let _=this.wcwidth(p),e=_===0&&S!==0;if(e){const n=a.UnicodeService.extractWidth(S);n===0?e=!1:n>_&&(_=n)}return a.UnicodeService.createPropertyValue(0,_,e)}}},5981:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WriteBuffer=void 0;const a=o(8460),u=o(844);class c extends u.Disposable{constructor(p){super(),this._action=p,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new a.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(p,S){if(S!==void 0&&this._syncCalls>S)return void(this._syncCalls=0);if(this._pendingData+=p.length,this._writeBuffer.push(p),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let _;for(this._isSyncWriting=!0;_=this._writeBuffer.shift();){this._action(_);const e=this._callbacks.shift();e&&e()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(p,S){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=p.length,this._writeBuffer.push(p),this._callbacks.push(S),void this._innerWrite();setTimeout((()=>this._innerWrite()))}this._pendingData+=p.length,this._writeBuffer.push(p),this._callbacks.push(S)}_innerWrite(p=0,S=!0){const _=p||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const e=this._writeBuffer[this._bufferOffset],n=this._action(e,S);if(n){const s=d=>Date.now()-_>=12?setTimeout((()=>this._innerWrite(0,d))):this._innerWrite(_,d);return void n.catch((d=>(queueMicrotask((()=>{throw d})),Promise.resolve(!1)))).then(s)}const r=this._callbacks[this._bufferOffset];if(r&&r(),this._bufferOffset++,this._pendingData-=e.length,Date.now()-_>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((()=>this._innerWrite()))):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}t.WriteBuffer=c},5941:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toRgbString=t.parseColor=void 0;const o=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,a=/^[\da-f]+$/;function u(c,h){const p=c.toString(16),S=p.length<2?"0"+p:p;switch(h){case 4:return p[0];case 8:return S;case 12:return(S+S).slice(0,3);default:return S+S}}t.parseColor=function(c){if(!c)return;let h=c.toLowerCase();if(h.indexOf("rgb:")===0){h=h.slice(4);const p=o.exec(h);if(p){const S=p[1]?15:p[4]?255:p[7]?4095:65535;return[Math.round(parseInt(p[1]||p[4]||p[7]||p[10],16)/S*255),Math.round(parseInt(p[2]||p[5]||p[8]||p[11],16)/S*255),Math.round(parseInt(p[3]||p[6]||p[9]||p[12],16)/S*255)]}}else if(h.indexOf("#")===0&&(h=h.slice(1),a.exec(h)&&[3,6,9,12].includes(h.length))){const p=h.length/3,S=[0,0,0];for(let _=0;_<3;++_){const e=parseInt(h.slice(p*_,p*_+p),16);S[_]=p===1?e<<4:p===2?e:p===3?e>>4:e>>8}return S}},t.toRgbString=function(c,h=16){const[p,S,_]=c;return`rgb:${u(p,h)}/${u(S,h)}/${u(_,h)}`}},5770:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PAYLOAD_LIMIT=void 0,t.PAYLOAD_LIMIT=1e7},6351:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DcsHandler=t.DcsParser=void 0;const a=o(482),u=o(8742),c=o(5770),h=[];t.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=h,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=h}registerHandler(S,_){this._handlers[S]===void 0&&(this._handlers[S]=[]);const e=this._handlers[S];return e.push(_),{dispose:()=>{const n=e.indexOf(_);n!==-1&&e.splice(n,1)}}}clearHandler(S){this._handlers[S]&&delete this._handlers[S]}setHandlerFallback(S){this._handlerFb=S}reset(){if(this._active.length)for(let S=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;S>=0;--S)this._active[S].unhook(!1);this._stack.paused=!1,this._active=h,this._ident=0}hook(S,_){if(this.reset(),this._ident=S,this._active=this._handlers[S]||h,this._active.length)for(let e=this._active.length-1;e>=0;e--)this._active[e].hook(_);else this._handlerFb(this._ident,"HOOK",_)}put(S,_,e){if(this._active.length)for(let n=this._active.length-1;n>=0;n--)this._active[n].put(S,_,e);else this._handlerFb(this._ident,"PUT",(0,a.utf32ToString)(S,_,e))}unhook(S,_=!0){if(this._active.length){let e=!1,n=this._active.length-1,r=!1;if(this._stack.paused&&(n=this._stack.loopPosition-1,e=_,r=this._stack.fallThrough,this._stack.paused=!1),!r&&e===!1){for(;n>=0&&(e=this._active[n].unhook(S),e!==!0);n--)if(e instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=n,this._stack.fallThrough=!1,e;n--}for(;n>=0;n--)if(e=this._active[n].unhook(!1),e instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=n,this._stack.fallThrough=!0,e}else this._handlerFb(this._ident,"UNHOOK",S);this._active=h,this._ident=0}};const p=new u.Params;p.addParam(0),t.DcsHandler=class{constructor(S){this._handler=S,this._data="",this._params=p,this._hitLimit=!1}hook(S){this._params=S.length>1||S.params[0]?S.clone():p,this._data="",this._hitLimit=!1}put(S,_,e){this._hitLimit||(this._data+=(0,a.utf32ToString)(S,_,e),this._data.length>c.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(S){let _=!1;if(this._hitLimit)_=!1;else if(S&&(_=this._handler(this._data,this._params),_ instanceof Promise))return _.then((e=>(this._params=p,this._data="",this._hitLimit=!1,e)));return this._params=p,this._data="",this._hitLimit=!1,_}}},2015:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EscapeSequenceParser=t.VT500_TRANSITION_TABLE=t.TransitionTable=void 0;const a=o(844),u=o(8742),c=o(6242),h=o(6351);class p{constructor(n){this.table=new Uint8Array(n)}setDefault(n,r){this.table.fill(n<<4|r)}add(n,r,s,d){this.table[r<<8|n]=s<<4|d}addMany(n,r,s,d){for(let g=0;g<n.length;g++)this.table[r<<8|n[g]]=s<<4|d}}t.TransitionTable=p;const S=160;t.VT500_TRANSITION_TABLE=(function(){const e=new p(4095),n=Array.apply(null,Array(256)).map(((w,v)=>v)),r=(w,v)=>n.slice(w,v),s=r(32,127),d=r(0,24);d.push(25),d.push.apply(d,r(28,32));const g=r(0,14);let m;for(m in e.setDefault(1,0),e.addMany(s,0,2,0),g)e.addMany([24,26,153,154],m,3,0),e.addMany(r(128,144),m,3,0),e.addMany(r(144,152),m,3,0),e.add(156,m,0,0),e.add(27,m,11,1),e.add(157,m,4,8),e.addMany([152,158,159],m,0,7),e.add(155,m,11,3),e.add(144,m,11,9);return e.addMany(d,0,3,0),e.addMany(d,1,3,1),e.add(127,1,0,1),e.addMany(d,8,0,8),e.addMany(d,3,3,3),e.add(127,3,0,3),e.addMany(d,4,3,4),e.add(127,4,0,4),e.addMany(d,6,3,6),e.addMany(d,5,3,5),e.add(127,5,0,5),e.addMany(d,2,3,2),e.add(127,2,0,2),e.add(93,1,4,8),e.addMany(s,8,5,8),e.add(127,8,5,8),e.addMany([156,27,24,26,7],8,6,0),e.addMany(r(28,32),8,0,8),e.addMany([88,94,95],1,0,7),e.addMany(s,7,0,7),e.addMany(d,7,0,7),e.add(156,7,0,0),e.add(127,7,0,7),e.add(91,1,11,3),e.addMany(r(64,127),3,7,0),e.addMany(r(48,60),3,8,4),e.addMany([60,61,62,63],3,9,4),e.addMany(r(48,60),4,8,4),e.addMany(r(64,127),4,7,0),e.addMany([60,61,62,63],4,0,6),e.addMany(r(32,64),6,0,6),e.add(127,6,0,6),e.addMany(r(64,127),6,0,0),e.addMany(r(32,48),3,9,5),e.addMany(r(32,48),5,9,5),e.addMany(r(48,64),5,0,6),e.addMany(r(64,127),5,7,0),e.addMany(r(32,48),4,9,5),e.addMany(r(32,48),1,9,2),e.addMany(r(32,48),2,9,2),e.addMany(r(48,127),2,10,0),e.addMany(r(48,80),1,10,0),e.addMany(r(81,88),1,10,0),e.addMany([89,90,92],1,10,0),e.addMany(r(96,127),1,10,0),e.add(80,1,11,9),e.addMany(d,9,0,9),e.add(127,9,0,9),e.addMany(r(28,32),9,0,9),e.addMany(r(32,48),9,9,12),e.addMany(r(48,60),9,8,10),e.addMany([60,61,62,63],9,9,10),e.addMany(d,11,0,11),e.addMany(r(32,128),11,0,11),e.addMany(r(28,32),11,0,11),e.addMany(d,10,0,10),e.add(127,10,0,10),e.addMany(r(28,32),10,0,10),e.addMany(r(48,60),10,8,10),e.addMany([60,61,62,63],10,0,11),e.addMany(r(32,48),10,9,12),e.addMany(d,12,0,12),e.add(127,12,0,12),e.addMany(r(28,32),12,0,12),e.addMany(r(32,48),12,9,12),e.addMany(r(48,64),12,0,11),e.addMany(r(64,127),12,12,13),e.addMany(r(64,127),10,12,13),e.addMany(r(64,127),9,12,13),e.addMany(d,13,13,13),e.addMany(s,13,13,13),e.add(127,13,0,13),e.addMany([27,156,24,26],13,14,0),e.add(S,0,2,0),e.add(S,8,5,8),e.add(S,6,0,6),e.add(S,11,0,11),e.add(S,13,13,13),e})();class _ extends a.Disposable{constructor(n=t.VT500_TRANSITION_TABLE){super(),this._transitions=n,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new u.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(r,s,d)=>{},this._executeHandlerFb=r=>{},this._csiHandlerFb=(r,s)=>{},this._escHandlerFb=r=>{},this._errorHandlerFb=r=>r,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,a.toDisposable)((()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)}))),this._oscParser=this.register(new c.OscParser),this._dcsParser=this.register(new h.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},(()=>!0))}_identifier(n,r=[64,126]){let s=0;if(n.prefix){if(n.prefix.length>1)throw new Error("only one byte as prefix supported");if(s=n.prefix.charCodeAt(0),s&&60>s||s>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(n.intermediates){if(n.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let g=0;g<n.intermediates.length;++g){const m=n.intermediates.charCodeAt(g);if(32>m||m>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");s<<=8,s|=m}}if(n.final.length!==1)throw new Error("final must be a single byte");const d=n.final.charCodeAt(0);if(r[0]>d||d>r[1])throw new Error(`final must be in range ${r[0]} .. ${r[1]}`);return s<<=8,s|=d,s}identToString(n){const r=[];for(;n;)r.push(String.fromCharCode(255&n)),n>>=8;return r.reverse().join("")}setPrintHandler(n){this._printHandler=n}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(n,r){const s=this._identifier(n,[48,126]);this._escHandlers[s]===void 0&&(this._escHandlers[s]=[]);const d=this._escHandlers[s];return d.push(r),{dispose:()=>{const g=d.indexOf(r);g!==-1&&d.splice(g,1)}}}clearEscHandler(n){this._escHandlers[this._identifier(n,[48,126])]&&delete this._escHandlers[this._identifier(n,[48,126])]}setEscHandlerFallback(n){this._escHandlerFb=n}setExecuteHandler(n,r){this._executeHandlers[n.charCodeAt(0)]=r}clearExecuteHandler(n){this._executeHandlers[n.charCodeAt(0)]&&delete this._executeHandlers[n.charCodeAt(0)]}setExecuteHandlerFallback(n){this._executeHandlerFb=n}registerCsiHandler(n,r){const s=this._identifier(n);this._csiHandlers[s]===void 0&&(this._csiHandlers[s]=[]);const d=this._csiHandlers[s];return d.push(r),{dispose:()=>{const g=d.indexOf(r);g!==-1&&d.splice(g,1)}}}clearCsiHandler(n){this._csiHandlers[this._identifier(n)]&&delete this._csiHandlers[this._identifier(n)]}setCsiHandlerFallback(n){this._csiHandlerFb=n}registerDcsHandler(n,r){return this._dcsParser.registerHandler(this._identifier(n),r)}clearDcsHandler(n){this._dcsParser.clearHandler(this._identifier(n))}setDcsHandlerFallback(n){this._dcsParser.setHandlerFallback(n)}registerOscHandler(n,r){return this._oscParser.registerHandler(n,r)}clearOscHandler(n){this._oscParser.clearHandler(n)}setOscHandlerFallback(n){this._oscParser.setHandlerFallback(n)}setErrorHandler(n){this._errorHandler=n}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(n,r,s,d,g){this._parseStack.state=n,this._parseStack.handlers=r,this._parseStack.handlerPos=s,this._parseStack.transition=d,this._parseStack.chunkPos=g}parse(n,r,s){let d,g=0,m=0,w=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,w=this._parseStack.chunkPos+1;else{if(s===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const v=this._parseStack.handlers;let C=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(s===!1&&C>-1){for(;C>=0&&(d=v[C](this._params),d!==!0);C--)if(d instanceof Promise)return this._parseStack.handlerPos=C,d}this._parseStack.handlers=[];break;case 4:if(s===!1&&C>-1){for(;C>=0&&(d=v[C](),d!==!0);C--)if(d instanceof Promise)return this._parseStack.handlerPos=C,d}this._parseStack.handlers=[];break;case 6:if(g=n[this._parseStack.chunkPos],d=this._dcsParser.unhook(g!==24&&g!==26,s),d)return d;g===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(g=n[this._parseStack.chunkPos],d=this._oscParser.end(g!==24&&g!==26,s),d)return d;g===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,w=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let v=w;v<r;++v){switch(g=n[v],m=this._transitions.table[this.currentState<<8|(g<160?g:S)],m>>4){case 2:for(let A=v+1;;++A){if(A>=r||(g=n[A])<32||g>126&&g<S){this._printHandler(n,v,A),v=A-1;break}if(++A>=r||(g=n[A])<32||g>126&&g<S){this._printHandler(n,v,A),v=A-1;break}if(++A>=r||(g=n[A])<32||g>126&&g<S){this._printHandler(n,v,A),v=A-1;break}if(++A>=r||(g=n[A])<32||g>126&&g<S){this._printHandler(n,v,A),v=A-1;break}}break;case 3:this._executeHandlers[g]?this._executeHandlers[g]():this._executeHandlerFb(g),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:v,code:g,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const C=this._csiHandlers[this._collect<<8|g];let R=C?C.length-1:-1;for(;R>=0&&(d=C[R](this._params),d!==!0);R--)if(d instanceof Promise)return this._preserveStack(3,C,R,m,v),d;R<0&&this._csiHandlerFb(this._collect<<8|g,this._params),this.precedingJoinState=0;break;case 8:do switch(g){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(g-48)}while(++v<r&&(g=n[v])>47&&g<60);v--;break;case 9:this._collect<<=8,this._collect|=g;break;case 10:const B=this._escHandlers[this._collect<<8|g];let P=B?B.length-1:-1;for(;P>=0&&(d=B[P](),d!==!0);P--)if(d instanceof Promise)return this._preserveStack(4,B,P,m,v),d;P<0&&this._escHandlerFb(this._collect<<8|g),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|g,this._params);break;case 13:for(let A=v+1;;++A)if(A>=r||(g=n[A])===24||g===26||g===27||g>127&&g<S){this._dcsParser.put(n,v,A),v=A-1;break}break;case 14:if(d=this._dcsParser.unhook(g!==24&&g!==26),d)return this._preserveStack(6,[],0,m,v),d;g===27&&(m|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let A=v+1;;A++)if(A>=r||(g=n[A])<32||g>127&&g<S){this._oscParser.put(n,v,A),v=A-1;break}break;case 6:if(d=this._oscParser.end(g!==24&&g!==26),d)return this._preserveStack(5,[],0,m,v),d;g===27&&(m|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&m}}}t.EscapeSequenceParser=_},6242:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OscHandler=t.OscParser=void 0;const a=o(5770),u=o(482),c=[];t.OscParser=class{constructor(){this._state=0,this._active=c,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(h,p){this._handlers[h]===void 0&&(this._handlers[h]=[]);const S=this._handlers[h];return S.push(p),{dispose:()=>{const _=S.indexOf(p);_!==-1&&S.splice(_,1)}}}clearHandler(h){this._handlers[h]&&delete this._handlers[h]}setHandlerFallback(h){this._handlerFb=h}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=c}reset(){if(this._state===2)for(let h=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;h>=0;--h)this._active[h].end(!1);this._stack.paused=!1,this._active=c,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||c,this._active.length)for(let h=this._active.length-1;h>=0;h--)this._active[h].start();else this._handlerFb(this._id,"START")}_put(h,p,S){if(this._active.length)for(let _=this._active.length-1;_>=0;_--)this._active[_].put(h,p,S);else this._handlerFb(this._id,"PUT",(0,u.utf32ToString)(h,p,S))}start(){this.reset(),this._state=1}put(h,p,S){if(this._state!==3){if(this._state===1)for(;p<S;){const _=h[p++];if(_===59){this._state=2,this._start();break}if(_<48||57<_)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+_-48}this._state===2&&S-p>0&&this._put(h,p,S)}}end(h,p=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let S=!1,_=this._active.length-1,e=!1;if(this._stack.paused&&(_=this._stack.loopPosition-1,S=p,e=this._stack.fallThrough,this._stack.paused=!1),!e&&S===!1){for(;_>=0&&(S=this._active[_].end(h),S!==!0);_--)if(S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=_,this._stack.fallThrough=!1,S;_--}for(;_>=0;_--)if(S=this._active[_].end(!1),S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=_,this._stack.fallThrough=!0,S}else this._handlerFb(this._id,"END",h);this._active=c,this._id=-1,this._state=0}}},t.OscHandler=class{constructor(h){this._handler=h,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(h,p,S){this._hitLimit||(this._data+=(0,u.utf32ToString)(h,p,S),this._data.length>a.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(h){let p=!1;if(this._hitLimit)p=!1;else if(h&&(p=this._handler(this._data),p instanceof Promise))return p.then((S=>(this._data="",this._hitLimit=!1,S)));return this._data="",this._hitLimit=!1,p}}},8742:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Params=void 0;const o=2147483647;class a{static fromArray(c){const h=new a;if(!c.length)return h;for(let p=Array.isArray(c[0])?1:0;p<c.length;++p){const S=c[p];if(Array.isArray(S))for(let _=0;_<S.length;++_)h.addSubParam(S[_]);else h.addParam(S)}return h}constructor(c=32,h=32){if(this.maxLength=c,this.maxSubParamsLength=h,h>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(c),this.length=0,this._subParams=new Int32Array(h),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(c),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const c=new a(this.maxLength,this.maxSubParamsLength);return c.params.set(this.params),c.length=this.length,c._subParams.set(this._subParams),c._subParamsLength=this._subParamsLength,c._subParamsIdx.set(this._subParamsIdx),c._rejectDigits=this._rejectDigits,c._rejectSubDigits=this._rejectSubDigits,c._digitIsSub=this._digitIsSub,c}toArray(){const c=[];for(let h=0;h<this.length;++h){c.push(this.params[h]);const p=this._subParamsIdx[h]>>8,S=255&this._subParamsIdx[h];S-p>0&&c.push(Array.prototype.slice.call(this._subParams,p,S))}return c}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(c){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(c<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=c>o?o:c}}addSubParam(c){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(c<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=c>o?o:c,this._subParamsIdx[this.length-1]++}}hasSubParams(c){return(255&this._subParamsIdx[c])-(this._subParamsIdx[c]>>8)>0}getSubParams(c){const h=this._subParamsIdx[c]>>8,p=255&this._subParamsIdx[c];return p-h>0?this._subParams.subarray(h,p):null}getSubParamsAll(){const c={};for(let h=0;h<this.length;++h){const p=this._subParamsIdx[h]>>8,S=255&this._subParamsIdx[h];S-p>0&&(c[h]=this._subParams.slice(p,S))}return c}addDigit(c){let h;if(this._rejectDigits||!(h=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const p=this._digitIsSub?this._subParams:this.params,S=p[h-1];p[h-1]=~S?Math.min(10*S+c,o):c}}t.Params=a},5741:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AddonManager=void 0,t.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let o=this._addons.length-1;o>=0;o--)this._addons[o].instance.dispose()}loadAddon(o,a){const u={instance:a,dispose:a.dispose,isDisposed:!1};this._addons.push(u),a.dispose=()=>this._wrappedAddonDispose(u),a.activate(o)}_wrappedAddonDispose(o){if(o.isDisposed)return;let a=-1;for(let u=0;u<this._addons.length;u++)if(this._addons[u]===o){a=u;break}if(a===-1)throw new Error("Could not dispose an addon that has not been loaded");o.isDisposed=!0,o.dispose.apply(o.instance),this._addons.splice(a,1)}}},8771:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferApiView=void 0;const a=o(3785),u=o(511);t.BufferApiView=class{constructor(c,h){this._buffer=c,this.type=h}init(c){return this._buffer=c,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(c){const h=this._buffer.lines.get(c);if(h)return new a.BufferLineApiView(h)}getNullCell(){return new u.CellData}}},3785:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLineApiView=void 0;const a=o(511);t.BufferLineApiView=class{constructor(u){this._line=u}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(u,c){if(!(u<0||u>=this._line.length))return c?(this._line.loadCell(u,c),c):this._line.loadCell(u,new a.CellData)}translateToString(u,c,h){return this._line.translateToString(u,c,h)}}},8285:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferNamespaceApi=void 0;const a=o(8771),u=o(8460),c=o(844);class h extends c.Disposable{constructor(S){super(),this._core=S,this._onBufferChange=this.register(new u.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new a.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new a.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate((()=>this._onBufferChange.fire(this.active)))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}t.BufferNamespaceApi=h},7975:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ParserApi=void 0,t.ParserApi=class{constructor(o){this._core=o}registerCsiHandler(o,a){return this._core.registerCsiHandler(o,(u=>a(u.toArray())))}addCsiHandler(o,a){return this.registerCsiHandler(o,a)}registerDcsHandler(o,a){return this._core.registerDcsHandler(o,((u,c)=>a(u,c.toArray())))}addDcsHandler(o,a){return this.registerDcsHandler(o,a)}registerEscHandler(o,a){return this._core.registerEscHandler(o,a)}addEscHandler(o,a){return this.registerEscHandler(o,a)}registerOscHandler(o,a){return this._core.registerOscHandler(o,a)}addOscHandler(o,a){return this.registerOscHandler(o,a)}}},7090:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeApi=void 0,t.UnicodeApi=class{constructor(o){this._core=o}register(o){this._core.unicodeService.register(o)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(o){this._core.unicodeService.activeVersion=o}}},744:function(k,t,o){var a=this&&this.__decorate||function(e,n,r,s){var d,g=arguments.length,m=g<3?n:s===null?s=Object.getOwnPropertyDescriptor(n,r):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(e,n,r,s);else for(var w=e.length-1;w>=0;w--)(d=e[w])&&(m=(g<3?d(m):g>3?d(n,r,m):d(n,r))||m);return g>3&&m&&Object.defineProperty(n,r,m),m},u=this&&this.__param||function(e,n){return function(r,s){n(r,s,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferService=t.MINIMUM_ROWS=t.MINIMUM_COLS=void 0;const c=o(8460),h=o(844),p=o(5295),S=o(2585);t.MINIMUM_COLS=2,t.MINIMUM_ROWS=1;let _=t.BufferService=class extends h.Disposable{get buffer(){return this.buffers.active}constructor(e){super(),this.isUserScrolling=!1,this._onResize=this.register(new c.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new c.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(e.rawOptions.cols||0,t.MINIMUM_COLS),this.rows=Math.max(e.rawOptions.rows||0,t.MINIMUM_ROWS),this.buffers=this.register(new p.BufferSet(e,this))}resize(e,n){this.cols=e,this.rows=n,this.buffers.resize(e,n),this._onResize.fire({cols:e,rows:n})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(e,n=!1){const r=this.buffer;let s;s=this._cachedBlankLine,s&&s.length===this.cols&&s.getFg(0)===e.fg&&s.getBg(0)===e.bg||(s=r.getBlankLine(e,n),this._cachedBlankLine=s),s.isWrapped=n;const d=r.ybase+r.scrollTop,g=r.ybase+r.scrollBottom;if(r.scrollTop===0){const m=r.lines.isFull;g===r.lines.length-1?m?r.lines.recycle().copyFrom(s):r.lines.push(s.clone()):r.lines.splice(g+1,0,s.clone()),m?this.isUserScrolling&&(r.ydisp=Math.max(r.ydisp-1,0)):(r.ybase++,this.isUserScrolling||r.ydisp++)}else{const m=g-d+1;r.lines.shiftElements(d+1,m-1,-1),r.lines.set(g,s.clone())}this.isUserScrolling||(r.ydisp=r.ybase),this._onScroll.fire(r.ydisp)}scrollLines(e,n,r){const s=this.buffer;if(e<0){if(s.ydisp===0)return;this.isUserScrolling=!0}else e+s.ydisp>=s.ybase&&(this.isUserScrolling=!1);const d=s.ydisp;s.ydisp=Math.max(Math.min(s.ydisp+e,s.ybase),0),d!==s.ydisp&&(n||this._onScroll.fire(s.ydisp))}};t.BufferService=_=a([u(0,S.IOptionsService)],_)},7994:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CharsetService=void 0,t.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(o){this.glevel=o,this.charset=this._charsets[o]}setgCharset(o,a){this._charsets[o]=a,this.glevel===o&&(this.charset=a)}}},1753:function(k,t,o){var a=this&&this.__decorate||function(s,d,g,m){var w,v=arguments.length,C=v<3?d:m===null?m=Object.getOwnPropertyDescriptor(d,g):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(s,d,g,m);else for(var R=s.length-1;R>=0;R--)(w=s[R])&&(C=(v<3?w(C):v>3?w(d,g,C):w(d,g))||C);return v>3&&C&&Object.defineProperty(d,g,C),C},u=this&&this.__param||function(s,d){return function(g,m){d(g,m,s)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreMouseService=void 0;const c=o(2585),h=o(8460),p=o(844),S={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:s=>s.button!==4&&s.action===1&&(s.ctrl=!1,s.alt=!1,s.shift=!1,!0)},VT200:{events:19,restrict:s=>s.action!==32},DRAG:{events:23,restrict:s=>s.action!==32||s.button!==3},ANY:{events:31,restrict:s=>!0}};function _(s,d){let g=(s.ctrl?16:0)|(s.shift?4:0)|(s.alt?8:0);return s.button===4?(g|=64,g|=s.action):(g|=3&s.button,4&s.button&&(g|=64),8&s.button&&(g|=128),s.action===32?g|=32:s.action!==0||d||(g|=3)),g}const e=String.fromCharCode,n={DEFAULT:s=>{const d=[_(s,!1)+32,s.col+32,s.row+32];return d[0]>255||d[1]>255||d[2]>255?"":`\x1B[M${e(d[0])}${e(d[1])}${e(d[2])}`},SGR:s=>{const d=s.action===0&&s.button!==4?"m":"M";return`\x1B[<${_(s,!0)};${s.col};${s.row}${d}`},SGR_PIXELS:s=>{const d=s.action===0&&s.button!==4?"m":"M";return`\x1B[<${_(s,!0)};${s.x};${s.y}${d}`}};let r=t.CoreMouseService=class extends p.Disposable{constructor(s,d){super(),this._bufferService=s,this._coreService=d,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new h.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const g of Object.keys(S))this.addProtocol(g,S[g]);for(const g of Object.keys(n))this.addEncoding(g,n[g]);this.reset()}addProtocol(s,d){this._protocols[s]=d}addEncoding(s,d){this._encodings[s]=d}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(s){if(!this._protocols[s])throw new Error(`unknown protocol "${s}"`);this._activeProtocol=s,this._onProtocolChange.fire(this._protocols[s].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(s){if(!this._encodings[s])throw new Error(`unknown encoding "${s}"`);this._activeEncoding=s}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(s){if(s.col<0||s.col>=this._bufferService.cols||s.row<0||s.row>=this._bufferService.rows||s.button===4&&s.action===32||s.button===3&&s.action!==32||s.button!==4&&(s.action===2||s.action===3)||(s.col++,s.row++,s.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,s,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(s))return!1;const d=this._encodings[this._activeEncoding](s);return d&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(d):this._coreService.triggerDataEvent(d,!0)),this._lastEvent=s,!0}explainEvents(s){return{down:!!(1&s),up:!!(2&s),drag:!!(4&s),move:!!(8&s),wheel:!!(16&s)}}_equalEvents(s,d,g){if(g){if(s.x!==d.x||s.y!==d.y)return!1}else if(s.col!==d.col||s.row!==d.row)return!1;return s.button===d.button&&s.action===d.action&&s.ctrl===d.ctrl&&s.alt===d.alt&&s.shift===d.shift}};t.CoreMouseService=r=a([u(0,c.IBufferService),u(1,c.ICoreService)],r)},6975:function(k,t,o){var a=this&&this.__decorate||function(r,s,d,g){var m,w=arguments.length,v=w<3?s:g===null?g=Object.getOwnPropertyDescriptor(s,d):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(r,s,d,g);else for(var C=r.length-1;C>=0;C--)(m=r[C])&&(v=(w<3?m(v):w>3?m(s,d,v):m(s,d))||v);return w>3&&v&&Object.defineProperty(s,d,v),v},u=this&&this.__param||function(r,s){return function(d,g){s(d,g,r)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreService=void 0;const c=o(1439),h=o(8460),p=o(844),S=o(2585),_=Object.freeze({insertMode:!1}),e=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let n=t.CoreService=class extends p.Disposable{constructor(r,s,d){super(),this._bufferService=r,this._logService=s,this._optionsService=d,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new h.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new h.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new h.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new h.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,c.clone)(_),this.decPrivateModes=(0,c.clone)(e)}reset(){this.modes=(0,c.clone)(_),this.decPrivateModes=(0,c.clone)(e)}triggerDataEvent(r,s=!1){if(this._optionsService.rawOptions.disableStdin)return;const d=this._bufferService.buffer;s&&this._optionsService.rawOptions.scrollOnUserInput&&d.ybase!==d.ydisp&&this._onRequestScrollToBottom.fire(),s&&this._onUserInput.fire(),this._logService.debug(`sending data "${r}"`,(()=>r.split("").map((g=>g.charCodeAt(0))))),this._onData.fire(r)}triggerBinaryEvent(r){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${r}"`,(()=>r.split("").map((s=>s.charCodeAt(0))))),this._onBinary.fire(r))}};t.CoreService=n=a([u(0,S.IBufferService),u(1,S.ILogService),u(2,S.IOptionsService)],n)},9074:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DecorationService=void 0;const a=o(8055),u=o(8460),c=o(844),h=o(6106);let p=0,S=0;class _ extends c.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new h.SortedList((r=>r?.marker.line)),this._onDecorationRegistered=this.register(new u.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new u.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,c.toDisposable)((()=>this.reset())))}registerDecoration(r){if(r.marker.isDisposed)return;const s=new e(r);if(s){const d=s.marker.onDispose((()=>s.dispose()));s.onDispose((()=>{s&&(this._decorations.delete(s)&&this._onDecorationRemoved.fire(s),d.dispose())})),this._decorations.insert(s),this._onDecorationRegistered.fire(s)}return s}reset(){for(const r of this._decorations.values())r.dispose();this._decorations.clear()}*getDecorationsAtCell(r,s,d){let g=0,m=0;for(const w of this._decorations.getKeyIterator(s))g=w.options.x??0,m=g+(w.options.width??1),r>=g&&r<m&&(!d||(w.options.layer??"bottom")===d)&&(yield w)}forEachDecorationAtCell(r,s,d,g){this._decorations.forEachByKey(s,(m=>{p=m.options.x??0,S=p+(m.options.width??1),r>=p&&r<S&&(!d||(m.options.layer??"bottom")===d)&&g(m)}))}}t.DecorationService=_;class e extends c.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=a.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=a.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(r){super(),this.options=r,this.onRenderEmitter=this.register(new u.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new u.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=r.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InstantiationService=t.ServiceCollection=void 0;const a=o(2585),u=o(8343);class c{constructor(...p){this._entries=new Map;for(const[S,_]of p)this.set(S,_)}set(p,S){const _=this._entries.get(p);return this._entries.set(p,S),_}forEach(p){for(const[S,_]of this._entries.entries())p(S,_)}has(p){return this._entries.has(p)}get(p){return this._entries.get(p)}}t.ServiceCollection=c,t.InstantiationService=class{constructor(){this._services=new c,this._services.set(a.IInstantiationService,this)}setService(h,p){this._services.set(h,p)}getService(h){return this._services.get(h)}createInstance(h,...p){const S=(0,u.getServiceDependencies)(h).sort(((n,r)=>n.index-r.index)),_=[];for(const n of S){const r=this._services.get(n.id);if(!r)throw new Error(`[createInstance] ${h.name} depends on UNKNOWN service ${n.id}.`);_.push(r)}const e=S.length>0?S[0].index:p.length;if(p.length!==e)throw new Error(`[createInstance] First service dependency of ${h.name} at position ${e+1} conflicts with ${p.length} static arguments`);return new h(...p,..._)}}},7866:function(k,t,o){var a=this&&this.__decorate||function(e,n,r,s){var d,g=arguments.length,m=g<3?n:s===null?s=Object.getOwnPropertyDescriptor(n,r):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(e,n,r,s);else for(var w=e.length-1;w>=0;w--)(d=e[w])&&(m=(g<3?d(m):g>3?d(n,r,m):d(n,r))||m);return g>3&&m&&Object.defineProperty(n,r,m),m},u=this&&this.__param||function(e,n){return function(r,s){n(r,s,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.traceCall=t.setTraceLogger=t.LogService=void 0;const c=o(844),h=o(2585),p={trace:h.LogLevelEnum.TRACE,debug:h.LogLevelEnum.DEBUG,info:h.LogLevelEnum.INFO,warn:h.LogLevelEnum.WARN,error:h.LogLevelEnum.ERROR,off:h.LogLevelEnum.OFF};let S,_=t.LogService=class extends c.Disposable{get logLevel(){return this._logLevel}constructor(e){super(),this._optionsService=e,this._logLevel=h.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",(()=>this._updateLogLevel()))),S=this}_updateLogLevel(){this._logLevel=p[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(e){for(let n=0;n<e.length;n++)typeof e[n]=="function"&&(e[n]=e[n]())}_log(e,n,r){this._evalLazyOptionalParams(r),e.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+n,...r)}trace(e,...n){this._logLevel<=h.LogLevelEnum.TRACE&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,e,n)}debug(e,...n){this._logLevel<=h.LogLevelEnum.DEBUG&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,e,n)}info(e,...n){this._logLevel<=h.LogLevelEnum.INFO&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,e,n)}warn(e,...n){this._logLevel<=h.LogLevelEnum.WARN&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,e,n)}error(e,...n){this._logLevel<=h.LogLevelEnum.ERROR&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,e,n)}};t.LogService=_=a([u(0,h.IOptionsService)],_),t.setTraceLogger=function(e){S=e},t.traceCall=function(e,n,r){if(typeof r.value!="function")throw new Error("not supported");const s=r.value;r.value=function(...d){if(S.logLevel!==h.LogLevelEnum.TRACE)return s.apply(this,d);S.trace(`GlyphRenderer#${s.name}(${d.map((m=>JSON.stringify(m))).join(", ")})`);const g=s.apply(this,d);return S.trace(`GlyphRenderer#${s.name} return`,g),g}}},7302:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsService=t.DEFAULT_OPTIONS=void 0;const a=o(8460),u=o(844),c=o(6114);t.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:c.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const h=["normal","bold","100","200","300","400","500","600","700","800","900"];class p extends u.Disposable{constructor(_){super(),this._onOptionChange=this.register(new a.EventEmitter),this.onOptionChange=this._onOptionChange.event;const e={...t.DEFAULT_OPTIONS};for(const n in _)if(n in e)try{const r=_[n];e[n]=this._sanitizeAndValidateOption(n,r)}catch(r){console.error(r)}this.rawOptions=e,this.options={...e},this._setupOptions(),this.register((0,u.toDisposable)((()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null})))}onSpecificOptionChange(_,e){return this.onOptionChange((n=>{n===_&&e(this.rawOptions[_])}))}onMultipleOptionChange(_,e){return this.onOptionChange((n=>{_.indexOf(n)!==-1&&e()}))}_setupOptions(){const _=n=>{if(!(n in t.DEFAULT_OPTIONS))throw new Error(`No option with key "${n}"`);return this.rawOptions[n]},e=(n,r)=>{if(!(n in t.DEFAULT_OPTIONS))throw new Error(`No option with key "${n}"`);r=this._sanitizeAndValidateOption(n,r),this.rawOptions[n]!==r&&(this.rawOptions[n]=r,this._onOptionChange.fire(n))};for(const n in this.rawOptions){const r={get:_.bind(this,n),set:e.bind(this,n)};Object.defineProperty(this.options,n,r)}}_sanitizeAndValidateOption(_,e){switch(_){case"cursorStyle":if(e||(e=t.DEFAULT_OPTIONS[_]),!(function(n){return n==="block"||n==="underline"||n==="bar"})(e))throw new Error(`"${e}" is not a valid value for ${_}`);break;case"wordSeparator":e||(e=t.DEFAULT_OPTIONS[_]);break;case"fontWeight":case"fontWeightBold":if(typeof e=="number"&&1<=e&&e<=1e3)break;e=h.includes(e)?e:t.DEFAULT_OPTIONS[_];break;case"cursorWidth":e=Math.floor(e);case"lineHeight":case"tabStopWidth":if(e<1)throw new Error(`${_} cannot be less than 1, value: ${e}`);break;case"minimumContrastRatio":e=Math.max(1,Math.min(21,Math.round(10*e)/10));break;case"scrollback":if((e=Math.min(e,4294967295))<0)throw new Error(`${_} cannot be less than 0, value: ${e}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(e<=0)throw new Error(`${_} cannot be less than or equal to 0, value: ${e}`);break;case"rows":case"cols":if(!e&&e!==0)throw new Error(`${_} must be numeric, value: ${e}`);break;case"windowsPty":e=e??{}}return e}}t.OptionsService=p},2660:function(k,t,o){var a=this&&this.__decorate||function(p,S,_,e){var n,r=arguments.length,s=r<3?S:e===null?e=Object.getOwnPropertyDescriptor(S,_):e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(p,S,_,e);else for(var d=p.length-1;d>=0;d--)(n=p[d])&&(s=(r<3?n(s):r>3?n(S,_,s):n(S,_))||s);return r>3&&s&&Object.defineProperty(S,_,s),s},u=this&&this.__param||function(p,S){return function(_,e){S(_,e,p)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OscLinkService=void 0;const c=o(2585);let h=t.OscLinkService=class{constructor(p){this._bufferService=p,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(p){const S=this._bufferService.buffer;if(p.id===void 0){const d=S.addMarker(S.ybase+S.y),g={data:p,id:this._nextId++,lines:[d]};return d.onDispose((()=>this._removeMarkerFromLink(g,d))),this._dataByLinkId.set(g.id,g),g.id}const _=p,e=this._getEntryIdKey(_),n=this._entriesWithId.get(e);if(n)return this.addLineToLink(n.id,S.ybase+S.y),n.id;const r=S.addMarker(S.ybase+S.y),s={id:this._nextId++,key:this._getEntryIdKey(_),data:_,lines:[r]};return r.onDispose((()=>this._removeMarkerFromLink(s,r))),this._entriesWithId.set(s.key,s),this._dataByLinkId.set(s.id,s),s.id}addLineToLink(p,S){const _=this._dataByLinkId.get(p);if(_&&_.lines.every((e=>e.line!==S))){const e=this._bufferService.buffer.addMarker(S);_.lines.push(e),e.onDispose((()=>this._removeMarkerFromLink(_,e)))}}getLinkData(p){return this._dataByLinkId.get(p)?.data}_getEntryIdKey(p){return`${p.id};;${p.uri}`}_removeMarkerFromLink(p,S){const _=p.lines.indexOf(S);_!==-1&&(p.lines.splice(_,1),p.lines.length===0&&(p.data.id!==void 0&&this._entriesWithId.delete(p.key),this._dataByLinkId.delete(p.id)))}};t.OscLinkService=h=a([u(0,c.IBufferService)],h)},8343:(k,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createDecorator=t.getServiceDependencies=t.serviceRegistry=void 0;const o="di$target",a="di$dependencies";t.serviceRegistry=new Map,t.getServiceDependencies=function(u){return u[a]||[]},t.createDecorator=function(u){if(t.serviceRegistry.has(u))return t.serviceRegistry.get(u);const c=function(h,p,S){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(_,e,n){e[o]===e?e[a].push({id:_,index:n}):(e[a]=[{id:_,index:n}],e[o]=e)})(c,h,S)};return c.toString=()=>u,t.serviceRegistry.set(u,c),c}},2585:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IDecorationService=t.IUnicodeService=t.IOscLinkService=t.IOptionsService=t.ILogService=t.LogLevelEnum=t.IInstantiationService=t.ICharsetService=t.ICoreService=t.ICoreMouseService=t.IBufferService=void 0;const a=o(8343);var u;t.IBufferService=(0,a.createDecorator)("BufferService"),t.ICoreMouseService=(0,a.createDecorator)("CoreMouseService"),t.ICoreService=(0,a.createDecorator)("CoreService"),t.ICharsetService=(0,a.createDecorator)("CharsetService"),t.IInstantiationService=(0,a.createDecorator)("InstantiationService"),(function(c){c[c.TRACE=0]="TRACE",c[c.DEBUG=1]="DEBUG",c[c.INFO=2]="INFO",c[c.WARN=3]="WARN",c[c.ERROR=4]="ERROR",c[c.OFF=5]="OFF"})(u||(t.LogLevelEnum=u={})),t.ILogService=(0,a.createDecorator)("LogService"),t.IOptionsService=(0,a.createDecorator)("OptionsService"),t.IOscLinkService=(0,a.createDecorator)("OscLinkService"),t.IUnicodeService=(0,a.createDecorator)("UnicodeService"),t.IDecorationService=(0,a.createDecorator)("DecorationService")},1480:(k,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeService=void 0;const a=o(8460),u=o(225);class c{static extractShouldJoin(p){return(1&p)!=0}static extractWidth(p){return p>>1&3}static extractCharKind(p){return p>>3}static createPropertyValue(p,S,_=!1){return(16777215&p)<<3|(3&S)<<1|(_?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new a.EventEmitter,this.onChange=this._onChange.event;const p=new u.UnicodeV6;this.register(p),this._active=p.version,this._activeProvider=p}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(p){if(!this._providers[p])throw new Error(`unknown Unicode version "${p}"`);this._active=p,this._activeProvider=this._providers[p],this._onChange.fire(p)}register(p){this._providers[p.version]=p}wcwidth(p){return this._activeProvider.wcwidth(p)}getStringCellWidth(p){let S=0,_=0;const e=p.length;for(let n=0;n<e;++n){let r=p.charCodeAt(n);if(55296<=r&&r<=56319){if(++n>=e)return S+this.wcwidth(r);const g=p.charCodeAt(n);56320<=g&&g<=57343?r=1024*(r-55296)+g-56320+65536:S+=this.wcwidth(g)}const s=this.charProperties(r,_);let d=c.extractWidth(s);c.extractShouldJoin(s)&&(d-=c.extractWidth(_)),S+=d,_=s}return S}charProperties(p,S){return this._activeProvider.charProperties(p,S)}}t.UnicodeService=c}},y={};function E(k){var t=y[k];if(t!==void 0)return t.exports;var o=y[k]={exports:{}};return f[k].call(o.exports,o,o.exports,E),o.exports}var L={};return(()=>{var k=L;Object.defineProperty(k,"__esModule",{value:!0}),k.Terminal=void 0;const t=E(9042),o=E(3236),a=E(844),u=E(5741),c=E(8285),h=E(7975),p=E(7090),S=["cols","rows"];class _ extends a.Disposable{constructor(n){super(),this._core=this.register(new o.Terminal(n)),this._addonManager=this.register(new u.AddonManager),this._publicOptions={...this._core.options};const r=d=>this._core.options[d],s=(d,g)=>{this._checkReadonlyOptions(d),this._core.options[d]=g};for(const d in this._core.options){const g={get:r.bind(this,d),set:s.bind(this,d)};Object.defineProperty(this._publicOptions,d,g)}}_checkReadonlyOptions(n){if(S.includes(n))throw new Error(`Option "${n}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new h.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new p.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new c.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const n=this._core.coreService.decPrivateModes;let r="none";switch(this._core.coreMouseService.activeProtocol){case"X10":r="x10";break;case"VT200":r="vt200";break;case"DRAG":r="drag";break;case"ANY":r="any"}return{applicationCursorKeysMode:n.applicationCursorKeys,applicationKeypadMode:n.applicationKeypad,bracketedPasteMode:n.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:r,originMode:n.origin,reverseWraparoundMode:n.reverseWraparound,sendFocusMode:n.sendFocus,wraparoundMode:n.wraparound}}get options(){return this._publicOptions}set options(n){for(const r in n)this._publicOptions[r]=n[r]}blur(){this._core.blur()}focus(){this._core.focus()}input(n,r=!0){this._core.input(n,r)}resize(n,r){this._verifyIntegers(n,r),this._core.resize(n,r)}open(n){this._core.open(n)}attachCustomKeyEventHandler(n){this._core.attachCustomKeyEventHandler(n)}attachCustomWheelEventHandler(n){this._core.attachCustomWheelEventHandler(n)}registerLinkProvider(n){return this._core.registerLinkProvider(n)}registerCharacterJoiner(n){return this._checkProposedApi(),this._core.registerCharacterJoiner(n)}deregisterCharacterJoiner(n){this._checkProposedApi(),this._core.deregisterCharacterJoiner(n)}registerMarker(n=0){return this._verifyIntegers(n),this._core.registerMarker(n)}registerDecoration(n){return this._checkProposedApi(),this._verifyPositiveIntegers(n.x??0,n.width??0,n.height??0),this._core.registerDecoration(n)}hasSelection(){return this._core.hasSelection()}select(n,r,s){this._verifyIntegers(n,r,s),this._core.select(n,r,s)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(n,r){this._verifyIntegers(n,r),this._core.selectLines(n,r)}dispose(){super.dispose()}scrollLines(n){this._verifyIntegers(n),this._core.scrollLines(n)}scrollPages(n){this._verifyIntegers(n),this._core.scrollPages(n)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(n){this._verifyIntegers(n),this._core.scrollToLine(n)}clear(){this._core.clear()}write(n,r){this._core.write(n,r)}writeln(n,r){this._core.write(n),this._core.write(`\r
`,r)}paste(n){this._core.paste(n)}refresh(n,r){this._verifyIntegers(n,r),this._core.refresh(n,r)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(n){this._addonManager.loadAddon(this,n)}static get strings(){return t}_verifyIntegers(...n){for(const r of n)if(r===1/0||isNaN(r)||r%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...n){for(const r of n)if(r&&(r===1/0||isNaN(r)||r%1!=0||r<0))throw new Error("This API only accepts positive integers")}}k.Terminal=_})(),L})()))})(bi)),bi.exports}var Uc=$c(),wi={exports:{}},fs;function jc(){return fs||(fs=1,(function(i,l){(function(f,y){i.exports=y()})(self,(()=>(()=>{var f={};return(()=>{var y=f;Object.defineProperty(y,"__esModule",{value:!0}),y.FitAddon=void 0,y.FitAddon=class{activate(E){this._terminal=E}dispose(){}fit(){const E=this.proposeDimensions();if(!E||!this._terminal||isNaN(E.cols)||isNaN(E.rows))return;const L=this._terminal._core;this._terminal.rows===E.rows&&this._terminal.cols===E.cols||(L._renderService.clear(),this._terminal.resize(E.cols,E.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const E=this._terminal._core,L=E._renderService.dimensions;if(L.css.cell.width===0||L.css.cell.height===0)return;const k=this._terminal.options.scrollback===0?0:E.viewport.scrollBarWidth,t=window.getComputedStyle(this._terminal.element.parentElement),o=parseInt(t.getPropertyValue("height")),a=Math.max(0,parseInt(t.getPropertyValue("width"))),u=window.getComputedStyle(this._terminal.element),c=o-(parseInt(u.getPropertyValue("padding-top"))+parseInt(u.getPropertyValue("padding-bottom"))),h=a-(parseInt(u.getPropertyValue("padding-right"))+parseInt(u.getPropertyValue("padding-left")))-k;return{cols:Math.max(2,Math.floor(h/L.css.cell.width)),rows:Math.max(1,Math.floor(c/L.css.cell.height))}}}})(),f})()))})(wi)),wi.exports}var qc=jc(),Kc=X('<div class="d-flex justify-content-end mb-2"><button type="button" class="btn mx-3" title="Fullscreen"><!></button> <button type="button" class="btn mx-3" title="Close Terminal"><!></button></div> <div class="border" style="height: calc(100vh - 280px)"></div>',1),Vc=X('<form class="container login-form"><div class="container" style="max-width: 400px"><div class="form-floating mb-2"><input type="text" class="form-control" id="inpTerminalCmd"/> <label for="inpTerminalCmd">Command</label></div> <div class="form-floating mb-2"><input type="text" class="form-control" id="inpTerminalUser"/> <label for="inpTerminalUser">User</label></div> <div class="col-12"><button type="submit" class="btn btn-primary w-100"><!> Open Terminal</button></div></div></form>');function Gc(i,l){st(l,!1);let f=he(l,"container_id",8),y,E=le(),L=le(!1);const k="sh";let t=le(k);const o="root";let a=le(o);const u=new Uc.Terminal({theme:{background:"#222",cursor:"white",cursorAccent:"#222"},cursorBlink:!0}),c=new qc.FitAddon;Gr(()=>{f()!==y&&(b(L)&&(ne.send("close_terminal"),S()),y=f())}),vt(()=>{ne.register("spawn_terminal",()=>{h(),u.focus()},d=>Le.add({text:d,type:"error"})),ne.register("close_terminal",()=>{Le.add({text:"Terminal has been closed",type:"info"}),S()},d=>Le.add({text:d,type:"error"})),ne.register("receive_terminal_output",async d=>{u.write(new Uint8Array(await d.blob.arrayBuffer()))},d=>Le.add({text:d,type:"error"})),u.onResize(d=>{ne.send("resize_terminal",d)}),u.loadAddon(c),u.onData(d=>{ne.send("transmit_terminal_input",{data:d})})}),er(()=>{b(L)&&ne.send("close_terminal"),ne.unregister("spawn_terminal"),ne.unregister("close_terminal"),ne.unregister("receive_terminal_output")});function h(){b(L)&&c.fit()}async function p(){J(L,!0),ne.send("spawn_terminal",{container_id:f(),cmd:b(t),user:b(a)}),await Wi(),u.open(b(E))}function S(){J(L,!1),u.reset(),u.clear(),J(t,k),J(a,o)}function _(){b(E)?.requestFullscreen&&b(E).requestFullscreen({navigationUI:"show"})}ut();var e=Ue();ge("resize",ri,h);var n=ve(e);{var r=d=>{var g=Kc(),m=ve(g),w=H(m),v=H(w);de(v,{get icon(){return ln},size:"lg",color:"#666"});var C=U(w,2),R=H(C);de(R,{get icon(){return Ga},size:"lg",color:"#666"});var B=U(m,2);_i(B,P=>J(E,P),()=>b(E)),ge("click",w,_),ge("click",C,()=>ne.send("close_terminal")),W(d,g)},s=d=>{var g=Vc(),m=H(g),w=H(m),v=H(w),C=U(w,2),R=H(C),B=U(C,2),P=H(B),A=H(P);de(A,{get icon(){return tl}}),oi(v,()=>b(t),N=>J(t,N)),oi(R,()=>b(a),N=>J(a,N)),ge("submit",g,ai(p)),bt(3,g,()=>Ut),W(d,g)};te(n,d=>{b(L)?d(r):d(s,!1)})}W(i,e),nt()}var Xc={prefix:"fab",iconName:"github",icon:[512,512,[],"f09b","M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM252.8 8c-138.7 0-244.8 105.3-244.8 244 0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1 100-33.2 167.8-128.1 167.8-239 0-138.7-112.5-244-251.2-244zM105.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},Zc={prefix:"fab",iconName:"docker",icon:[640,512,[],"f395","M349.9 236.3l-66.1 0 0-59.4 66.1 0 0 59.4zm0-204.3l-66.1 0 0 60.7 66.1 0 0-60.7zm78.2 144.8l-66.1 0 0 59.4 66.1 0 0-59.4zM271.8 104.7l-66.1 0 0 60.1 66.1 0 0-60.1zm78.1 0l-66.1 0 0 60.1 66.1 0 0-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7l-434.7 0c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4 .4 67.6 .1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zM115.6 176.8l-66 0 0 59.4 66.1 0 0-59.4-.1 0zm78.1 0l-66.1 0 0 59.4 66.1 0 0-59.4zm78.1 0l-66.1 0 0 59.4 66.1 0 0-59.4zm-78.1-72.1l-66.1 0 0 60.1 66.1 0 0-60.1z"]},Jc=X('<div class="d-flex align-items-center"><strong class="mx-5">Loading...</strong> <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div></div>'),Yc=X('<div class="card"><div class="card-body"><div class="fs-4 text-uppercase mb-3">Host</div> <div class="d-flex align-items-center mb-2"><!> </div> <div class="d-flex align-items-center mb-2"><!> </div> <div class="d-flex align-items-center mb-2"><!> </div> <div class="d-flex align-items-center mb-2"><!> </div> <div class="d-flex align-items-center mb-2"><!> </div> <div class="mt-3"><a href="https://github.com/knrdl/caasa" target="_blank" rel="noopener noreferrer" class="text-decoration-none"><!> CaaSa on Github</a></div></div></div>'),Qc=X('<div class="flex-grow-1 d-flex justify-content-center align-items-start mt-5"><!></div>');function eh(i,l){st(l,!1);let f=le(!0),y=le();vt(()=>{ne.register("get_system_info",o=>{J(y,o),J(f,!1)},o=>{J(f,!1),Le.add({text:o,type:"error"})}),ne.send("get_system_info")}),er(()=>{ne.unregister("get_system_info")}),ut();var E=Qc(),L=H(E);{var k=o=>{var a=Jc();W(o,a)},t=o=>{var a=Ue(),u=ve(a);{var c=h=>{var p=Yc(),S=H(p),_=U(H(S),2),e=H(_);de(e,{get icon(){return rl},size:"lg",style:"width: 3rem"});var n=U(e),r=U(_,2),s=H(r);de(s,{get icon(){return hn},size:"lg",style:"width: 3rem"});var d=U(s),g=U(r,2),m=H(g);de(m,{get icon(){return an},size:"lg",style:"width: 3rem"});var w=U(m),v=U(g,2),C=H(v);de(C,{get icon(){return Zc},size:"lg",style:"width: 3rem"});var R=U(C),B=U(v,2),P=H(B);de(P,{get icon(){return cn},size:"lg",style:"width: 3rem"});var A=U(P),N=U(B,2),K=H(N),V=H(K);de(V,{get icon(){return Xc},size:"sm"}),ae(ee=>{se(n,` ${b(y).os??""}`),se(d,` ${b(y).cpus??""} CPUs`),se(w,` ${ee??""}
          Memory`),se(R,` ${b(y).engine_version??""}`),se(A,` ${b(y).containers.running??""}/${b(y).containers.total??""} Containers running`)},[()=>kt(b(y).mem)]),W(h,p)};te(u,h=>{b(y)&&h(c)},!0)}W(o,a)};te(L,o=>{b(f)?o(k):o(t,!1)})}W(i,E),nt()}var th=X('<p class="mx-5 my-2">No containers found</p>'),rh=X('<button type="button" style="cursor: pointer; text-align: left"><div style="width: 10px; flex: none"></div> <div class="p-2 pe-4"><div> </div> <div> </div></div></button>'),ih=X('<p class="mx-2 my-1">No containers match search term</p>'),sh=X('<input type="search" class="form-control svelte-19p7dlr" placeholder="Search"/> <!>',1),nh=X('<aside class="d-flex flex-column pb-1 svelte-19p7dlr"><!></aside>');function _s(i,l){st(l,!1);const f=le();let y=he(l,"containers",8),E=he(l,"selectedContainer",8);const L=en();let k=le("");Bt(()=>(Be(y()),b(k)),()=>{J(f,y()?.filter(u=>u.name.toLowerCase().replace(/\s+/g,"").includes(b(k).replace(/\s+/g,""))||u.namespace?.toLowerCase().replace(/\s+/g,"").includes(b(k).replace(/\s+/g,""))))}),Kr(),ut();var t=nh(),o=H(t);{var a=u=>{var c=Ue(),h=ve(c);{var p=_=>{var e=th();W(_,e)},S=_=>{var e=sh(),n=ve(e),r=U(n,2);Et(r,1,()=>b(f),yt,(s,d)=>{const g=Lt(()=>(Be(E()),b(d),j(()=>E()&&E().id===b(d).id)));var m=rh();let w;var v=H(m);let C;var R=U(v,2),B=H(R);let P;var A=H(B),N=U(B,2),K=H(N);ae(V=>{w=Qe(m,1,"btn d-flex border-top border-bottom",null,w,{"bg-dark":b(g),"text-light":b(g)}),C=Qe(v,1,"",null,C,V),P=Qe(B,1,"text-uppercase",null,P,{"text-muted":E()?.id!==b(d).id}),se(A,(b(d),j(()=>b(d).namespace||""))),se(K,(b(d),j(()=>b(d).name)))},[()=>({"bg-success":b(d).status==="running","bg-danger":["exited","dead","removing"].includes(b(d).status),"bg-warning":["created","paused","restarting"].includes(b(d).status)})]),ge("click",m,()=>L("select-container",b(d))),W(s,m)},s=>{var d=ih();W(s,d)}),ae(()=>da(n,b(k))),ge("input",n,s=>J(k,s.currentTarget.value.toLowerCase())),W(_,e)};te(h,_=>{Be(y()),j(()=>y().length===0)?_(p):_(S,!1)})}W(u,c)};te(o,u=>{y()&&u(a)})}W(i,t),nt()}var oh=X('<div class="position-absolute"><!></div>'),ah=X('<li><button type="button">Info</button></li>'),lh=X('<li><button type="button">Logs</button></li>'),ch=X('<li><button type="button">Terminal</button></li>'),hh=X('<li><button type="button">Processes</button></li>'),dh=X('<li><button type="button">Files</button></li>'),uh=X("<div><!></div>"),fh=X("<div><!></div>"),_h=X("<div><!></div>"),vh=X("<div><!></div>"),ph=X("<div><!></div>"),gh=X('<div class="container-md" style="overflow: hidden"><div class="card tabs"><ul class="card-header"><!> <!> <!> <!> <!></ul> <div class="card-body py-4"><!></div></div></div>'),mh=X('<!> <div style="z-index: 100;"><button type="button" class="position-fixed top-0 bottom-0 start-0 end-0" style="background: rgba(0, 0, 0, .55);" aria-label="Hide list"></button> <!></div> <div class="d-flex pb-3 align-items-start"><aside class="d-none d-md-block me-4"><!></aside> <!></div>',1);function Sh(i,l){st(l,!1);const f=le();let y,E=le(!0),L=le(),k=le(),t=he(l,"showHostInfo",12),o=he(l,"showContainerListOverlay",12),a=le(null);vt(()=>{ne.register("get_container_list",R=>{J(L,R),J(E,!1)},R=>Le.add({text:R,type:"error"})),ne.send("get_container_list"),y=setInterval(()=>{ne.send("get_container_list")},3e3)}),er(()=>{ne.unregister("get_container_list"),clearInterval(y)});function u(R){J(a,null),t(!1),o(!1),J(k,null),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{J(k,R);const B=["info","logs","procs","term","files"];for(let P of B)if(b(k)?.permissions?.includes(P)){J(a,P);break}b(a)||(J(k,null),Le.add({type:"warning",text:"No permissions to access container"}))},100)}function c(R){J(a,R)}Bt(()=>b(k),()=>{J(f,b(k)?.status==="running")}),Kr(),ut();var h=mh(),p=ve(h);{var S=R=>{un(R,{})};te(p,R=>{b(E)&&R(S)})}var _=U(p,2);let e;var n=H(_),r=U(n,2);{var s=R=>{var B=oh(),P=H(B);{let A=Lt(()=>t()?null:b(k));_s(P,{get containers(){return b(L)},get selectedContainer(){return b(A)},$$events:{"select-container":N=>u(N.detail)}})}bt(3,B,()=>as,()=>({y:-50,duration:200})),W(R,B)};te(r,R=>{o()&&R(s)})}var d=U(_,2),g=H(d),m=H(g);{let R=Lt(()=>t()?null:b(k));_s(m,{get containers(){return b(L)},get selectedContainer(){return b(R)},$$events:{"select-container":B=>u(B.detail)}})}var w=U(g,2);{var v=R=>{eh(R,{})},C=R=>{var B=gh(),P=H(B),A=H(P),N=H(A);{var K=I=>{var D=ah(),z=H(D);let $;ae(()=>$=Qe(z,1,"text-uppercase",null,$,{active:b(a)==="info"})),ge("click",z,()=>c("info")),W(I,D)};te(N,I=>{b(k),j(()=>b(k)?.permissions?.includes("info"))&&I(K)})}var V=U(N,2);{var ee=I=>{var D=lh(),z=H(D);let $;ae(()=>$=Qe(z,1,"text-uppercase",null,$,{active:b(a)==="logs"})),ge("click",z,()=>c("logs")),W(I,D)};te(V,I=>{b(k),j(()=>b(k)?.permissions?.includes("logs"))&&I(ee)})}var G=U(V,2);{var x=I=>{var D=ch(),z=H(D);let $;ae(()=>$=Qe(z,1,"text-uppercase",null,$,{active:b(a)==="term"})),ge("click",z,()=>c("term")),W(I,D)};te(G,I=>{b(f),b(k),j(()=>b(f)&&b(k)?.permissions?.includes("term"))&&I(x)})}var T=U(G,2);{var M=I=>{var D=hh(),z=H(D);let $;ae(()=>$=Qe(z,1,"text-uppercase",null,$,{active:b(a)==="procs"})),ge("click",z,()=>c("procs")),W(I,D)};te(T,I=>{b(f),b(k),j(()=>b(f)&&b(k)?.permissions?.includes("procs"))&&I(M)})}var O=U(T,2);{var F=I=>{var D=dh(),z=H(D);let $;ae(()=>$=Qe(z,1,"text-uppercase",null,$,{active:b(a)==="files"})),ge("click",z,()=>c("files")),W(I,D)};te(O,I=>{b(f),b(k),j(()=>b(f)&&b(k)?.permissions?.includes("files"))&&I(F)})}var q=U(A,2),Y=H(q);{var re=I=>{var D=Ue(),z=ve(D);{var $=Z=>{var oe=uh(),fe=H(oe);{let _e=Lt(()=>(b(k),j(()=>b(k).permissions.includes("state"))));cc(fe,{get container_id(){return b(k),j(()=>b(k).id)},get enable_actions(){return b(_e)}})}bt(1,oe,()=>Ut),W(Z,oe)},Q=Z=>{var oe=Ue(),fe=ve(oe);{var _e=ie=>{var Ae=fh(),Ge=H(Ae);Sc(Ge,{get container_id(){return b(k),j(()=>b(k).id)}}),bt(1,Ae,()=>Ut),W(ie,Ae)},Re=ie=>{var Ae=Ue(),Ge=ve(Ae);{var xt=He=>{var Te=_h(),ot=H(Te);Gc(ot,{get container_id(){return b(k),j(()=>b(k).id)}}),bt(1,Te,()=>Ut),W(He,Te)},Me=He=>{var Te=Ue(),ot=ve(Te);{var Xe=et=>{var Ne=vh(),pt=H(Ne);Wc(pt,{get container_id(){return b(k),j(()=>b(k).id)}}),bt(1,Ne,()=>Ut),W(et,Ne)},Ze=et=>{var Ne=Ue(),pt=ve(Ne);{var at=ze=>{var Se=ph(),Dr=H(Se);{let vi=Lt(()=>(b(k),j(()=>b(k).permissions.includes("files-read")))),Xr=Lt(()=>(b(k),j(()=>b(k).permissions.includes("files-write"))));Pc(Dr,{get container_id(){return b(k),j(()=>b(k).id)},get allow_download(){return b(vi)},get allow_upload(){return b(Xr)}})}bt(1,Se,()=>Ut),W(ze,Se)};te(pt,ze=>{b(a)==="files"&&ze(at)},!0)}W(et,Ne)};te(ot,et=>{b(a)==="procs"?et(Xe):et(Ze,!1)},!0)}W(He,Te)};te(Ge,He=>{b(a)==="term"?He(xt):He(Me,!1)},!0)}W(ie,Ae)};te(fe,ie=>{b(a)==="logs"?ie(_e):ie(Re,!1)},!0)}W(Z,oe)};te(z,Z=>{b(a)==="info"?Z($):Z(Q,!1)})}W(I,D)};te(Y,I=>{b(k)&&I(re)})}bt(3,B,()=>as,()=>({x:300,duration:200})),W(R,B)};te(w,R=>{t()?R(v):R(C,!1)})}ae(()=>e=Qe(_,1,"d-md-none position-relative",null,e,{"d-none":!o()})),ge("click",n,()=>o(!1)),W(i,h),nt()}var bh=X('<a href="/#/" class="d-md-none d-flex justify-content-center align-items-center svelte-1n46o8q"><!></a>'),wh=X('<button type="button" class="btn mx-2"><!></button>'),Ch=X('<!> <main class="svelte-1n46o8q"><header class="svelte-1n46o8q"><!> <a href="/#/" class="d-flex justify-content-center align-items-center svelte-1n46o8q"><span><!></span> <span class="text-black ps-2 fs-2 fw-light">Container as a Service admin</span></a> <div class="items-right svelte-1n46o8q"><!> <!></div></header> <!></main>',1);function yh(i,l){st(l,!1);let f=le(null),y=le(!0),E=le(!0),L=le(!1);vt(async()=>{ne.register("ws-error",null,C=>Le.add({text:C,type:"error"})),ne.register("ws-close",null,C=>{Le.add({text:C,type:"error"}),J(f,null),alert("Lost connection. Reconnect?"),window.location.reload()}),ne.register("webproxy_auth",({username:C})=>{J(f,C),J(y,!1)},C=>{Le.add({text:C,type:"error"})}),await ne.init()});function k(){ne.close(),J(f,null),Le.add({text:"Logged out",type:"info"}),window.location.reload()}function t(){alert("An error occurred!")}ut();var o=Ch();ge("error",ri,t);var a=ve(o);Ea(a,{});var u=U(a,2),c=H(u),h=H(c);{var p=C=>{var R=bh(),B=H(R);de(B,{get icon(){return ul},color:"#123",size:"2x",style:"width: 3rem;height: 3rem;"}),ge("click",R,ai(()=>J(L,!b(L)))),W(C,R)};te(h,C=>{b(f)&&C(p)})}var S=U(h,2),_=H(S);let e;var n=H(_);de(n,{get icon(){return nl},color:"#123",size:"2x",style:"width: 3rem;height: 3rem;"});var r=U(S,2),s=H(r);vl(s,{});var d=U(s,2);{var g=C=>{var R=wh(),B=H(R);de(B,{get icon(){return ja},color:"#333",size:"2x"}),ae(()=>Fe(R,"title",`Logout ${b(f)??""}`)),ge("click",R,k),W(C,R)};te(d,C=>{b(f)&&b(y)&&C(g)})}var m=U(c,2);{var w=C=>{Sh(C,{get showHostInfo(){return b(E)},set showHostInfo(R){J(E,R)},get showContainerListOverlay(){return b(L)},set showContainerListOverlay(R){J(L,R)},$$legacy:!0})},v=C=>{Al(C,{$$events:{login:R=>J(f,R.detail.username)}})};te(m,C=>{b(f)?C(w):C(v,!1)})}ae(()=>e=Qe(_,1,"",null,e,{"d-none":b(f),"d-md-block":b(f)})),ge("click",S,ai(()=>J(E,!0))),W(i,o),nt()}Vo(yh,{target:document.getElementById("app")});
